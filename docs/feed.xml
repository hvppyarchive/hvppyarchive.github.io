<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.4.1">Jekyll</generator><link href="https://hvppyarchive.github.io/feed.xml" rel="self" type="application/atom+xml" /><link href="https://hvppyarchive.github.io/" rel="alternate" type="text/html" /><updated>2025-10-02T12:45:03+09:00</updated><id>https://hvppyarchive.github.io/feed.xml</id><title type="html">ARCHIVE</title><subtitle>An amazing archive.</subtitle><author><name>hvppyarchive</name></author><entry><title type="html"></title><link href="https://hvppyarchive.github.io/2025-08-19-python-repr-vs-str/" rel="alternate" type="text/html" title="" /><published>2025-10-02T12:45:03+09:00</published><updated>2025-10-02T12:45:03+09:00</updated><id>https://hvppyarchive.github.io/2025-08-19-python-repr-vs-str</id><content type="html" xml:base="https://hvppyarchive.github.io/2025-08-19-python-repr-vs-str/"><![CDATA[<p class="chat--user">

Pythonì—ì„œ <code class="language-plaintext highlighter-rouge">__repr__</code> í•¨ìˆ˜ì™€ <code class="language-plaintext highlighter-rouge">__str__</code> í•¨ìˆ˜ì˜ ì°¨ì´ì 

</p>

<p>Pythonì—ì„œ <code class="language-plaintext highlighter-rouge">__repr__</code> ê³¼ <code class="language-plaintext highlighter-rouge">__str__</code> ì˜ ì°¨ì´ì ì€ <strong>ê°ì²´ë¥¼ ë¬¸ìì—´ë¡œ í‘œí˜„í•˜ëŠ” ëª©ì </strong> ì—ì„œ ë‹¬ë¼ì§‘ë‹ˆë‹¤. ì°¨ì´ë¥¼ ë‹¨ê³„ì ìœ¼ë¡œ ì •ë¦¬í•´ë“œë¦´ê²Œìš”.</p>

<hr />

<h2 id="1-__repr__-ì˜-ëª©ì ">1. <code class="language-plaintext highlighter-rouge">__repr__</code> ì˜ ëª©ì </h2>

<ul>
  <li>
    <p><strong>ê°œë°œì ì¤‘ì‹¬</strong> : ê°ì²´ë¥¼ "ê°œë°œì"ê°€ ë³´ê³  ì´í•´í•  ìˆ˜ ìˆë„ë¡ í‘œí˜„í•©ë‹ˆë‹¤.</p>
  </li>
  <li>
    <p><strong>ì¬í˜„ ê°€ëŠ¥(reproducible)</strong> : ê°€ëŠ¥í•œ í•œ ê°ì²´ë¥¼ ë‹¤ì‹œ ë§Œë“¤ ìˆ˜ ìˆëŠ” ì½”ë“œ í˜•íƒœë¡œ ë³´ì—¬ì£¼ëŠ” ê²ƒì´ ëª©í‘œì…ë‹ˆë‹¤.</p>
  </li>
  <li>
    <p>ë³´í†µ <code class="language-plaintext highlighter-rouge">eval(repr(obj)) == obj</code> ê°€ ì„±ë¦½í•˜ëŠ” í˜•íƒœë¥¼ ì§€í–¥í•©ë‹ˆë‹¤ (ê¼­ í•­ìƒ ê·¸ëŸ° ê±´ ì•„ë‹ˆì§€ë§Œ ê¶Œì¥).</p>
  </li>
  <li>
    <p>ë””ë²„ê¹…í•  ë•Œ ì£¼ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤.</p>
  </li>
</ul>

<p>ì˜ˆì‹œ:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Person</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="n">self</span><span class="p">.</span><span class="n">age</span> <span class="o">=</span> <span class="n">age</span>
    
    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="sh">"</span><span class="s">Person(name=</span><span class="sh">'</span><span class="si">{</span><span class="n">self</span><span class="p">.</span><span class="n">name</span><span class="si">}</span><span class="sh">'</span><span class="s">, age=</span><span class="si">{</span><span class="n">self</span><span class="p">.</span><span class="n">age</span><span class="si">}</span><span class="s">)</span><span class="sh">"</span>

<span class="n">p</span> <span class="o">=</span> <span class="nc">Person</span><span class="p">(</span><span class="sh">"</span><span class="s">Alice</span><span class="sh">"</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="nf">repr</span><span class="p">(</span><span class="n">p</span><span class="p">))</span>  <span class="c1"># Person(name='Alice', age=30)
</span></code></pre></div></div>

<hr />

<h2 id="2-__str__-ì˜-ëª©ì ">2. <code class="language-plaintext highlighter-rouge">__str__</code> ì˜ ëª©ì </h2>

<ul>
  <li>
    <p><strong>ì‚¬ìš©ì ì¤‘ì‹¬</strong> : ê°ì²´ë¥¼ "ì‚¬ìš©ì"ê°€ ë³´ê¸° ì¢‹ì€ ë¬¸ìì—´ë¡œ í‘œí˜„í•©ë‹ˆë‹¤.</p>
  </li>
  <li>
    <p>ì½ê¸° ì‰½ê³  ê¹”ë”í•˜ê²Œ ì¶œë ¥í•˜ëŠ” ë° ì´ˆì ì„ ë‘¡ë‹ˆë‹¤.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">print(obj)</code> ë¥¼ í˜¸ì¶œí–ˆì„ ë•Œ ë³´ì—¬ì§€ëŠ” ê°’ì´ <code class="language-plaintext highlighter-rouge">__str__</code> ì…ë‹ˆë‹¤.</p>
  </li>
</ul>

<p>ì˜ˆì‹œ:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Person</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="n">self</span><span class="p">.</span><span class="n">age</span> <span class="o">=</span> <span class="n">age</span>
    
    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">self</span><span class="p">.</span><span class="n">name</span><span class="si">}</span><span class="s"> (</span><span class="si">{</span><span class="n">self</span><span class="p">.</span><span class="n">age</span><span class="si">}</span><span class="s"> years old)</span><span class="sh">"</span>

<span class="n">p</span> <span class="o">=</span> <span class="nc">Person</span><span class="p">(</span><span class="sh">"</span><span class="s">Alice</span><span class="sh">"</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>  <span class="c1"># Alice (30 years old)
</span></code></pre></div></div>

<hr />

<h2 id="3-__repr__-vs-__str__-ë¹„êµ">3. <code class="language-plaintext highlighter-rouge">__repr__</code> vs <code class="language-plaintext highlighter-rouge">__str__</code> ë¹„êµ</h2>

<table>
  <thead>
    <tr>
      <th>íŠ¹ì§•</th>
      <th><code class="language-plaintext highlighter-rouge">__repr__</code></th>
      <th><code class="language-plaintext highlighter-rouge">__str__</code></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>ëª©ì </td>
      <td>ê°œë°œììš©, ë””ë²„ê¹…</td>
      <td>ì‚¬ìš©ììš©, ê°€ë…ì„±</td>
    </tr>
    <tr>
      <td>ì¶œë ¥ ëŒ€ìƒ</td>
      <td><code class="language-plaintext highlighter-rouge">repr(obj)</code>, ëŒ€í™”í˜• ì‰˜ì—ì„œ ê¸°ë³¸</td>
      <td><code class="language-plaintext highlighter-rouge">str(obj)</code>, <code class="language-plaintext highlighter-rouge">print(obj)</code></td>
    </tr>
    <tr>
      <td>í˜•ì‹</td>
      <td>ê°ì²´ ì¬í˜„ ê°€ëŠ¥í•˜ê±°ë‚˜ ìƒì„¸</td>
      <td>ì½ê¸° ì‰¬ìš´ ì„¤ëª… ìœ„ì£¼</td>
    </tr>
  </tbody>
</table>

<hr />

<h2 id="4-êµ¬í˜„-ì‹œ-ì£¼ì˜ì‚¬í•­">4. êµ¬í˜„ ì‹œ ì£¼ì˜ì‚¬í•­</h2>

<ul>
  <li>
    <p><strong><code class="language-plaintext highlighter-rouge">__str__</code> ê°€ ì—†ìœ¼ë©´ <code class="language-plaintext highlighter-rouge">__repr__</code> ê°€ ëŒ€ì‹  ì‚¬ìš©</strong>ë©ë‹ˆë‹¤.</p>
  </li>
  <li>
    <p>ë”°ë¼ì„œ ìµœì†Œí•œ <code class="language-plaintext highlighter-rouge">__repr__</code> ì€ ì •ì˜í•´ ë‘ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.</p>
  </li>
</ul>

<hr />

<p>ğŸ‘‰ ì •ë¦¬í•˜ë©´,</p>

<ul>
  <li>
    <p><strong><code class="language-plaintext highlighter-rouge">__repr__</code></strong> : â€œê°œë°œìê°€ ë””ë²„ê¹…í•  ë•Œâ€ ê°ì²´ì˜ ì •í™•í•œ í‘œí˜„.</p>
  </li>
  <li>
    <p><strong><code class="language-plaintext highlighter-rouge">__str__</code></strong> : â€œì‚¬ìš©ìê°€ ì¶œë ¥ë¬¼ì„ ë³¼ ë•Œâ€ ë³´ê¸° ì¢‹ê²Œ í‘œí˜„.</p>
  </li>
</ul>

<hr />

<p>ì›í•˜ì‹œë©´ <code class="language-plaintext highlighter-rouge">__repr__</code> ì™€ <code class="language-plaintext highlighter-rouge">__str__</code> ë¥¼ ë™ì‹œì— êµ¬í˜„í–ˆì„ ë•Œ <code class="language-plaintext highlighter-rouge">print(obj)</code> ì™€ <code class="language-plaintext highlighter-rouge">obj</code> (ì‰˜ ì¶œë ¥) ì˜ ì°¨ì´ë¥¼ ì§ì ‘ ì‹¤í–‰í•´ ë³´ì—¬ë“œë¦´ ìˆ˜ë„ ìˆëŠ”ë°, ì˜ˆì œ ì½”ë“œ ì‹œì—°ì„ ì›í•˜ì‹œë‚˜ìš”?</p>]]></content><author><name>hvppyarchive</name></author></entry><entry><title type="html">ComfyUI ì„¤ì • íŒŒì¼ ê°œë°œ</title><link href="https://hvppyarchive.github.io/comfyui/comfyui-custom-node-config/" rel="alternate" type="text/html" title="ComfyUI ì„¤ì • íŒŒì¼ ê°œë°œ" /><published>2025-10-02T12:44:58+09:00</published><updated>2025-10-02T12:44:58+09:00</updated><id>https://hvppyarchive.github.io/comfyui/comfyui-custom-node-config</id><content type="html" xml:base="https://hvppyarchive.github.io/comfyui/comfyui-custom-node-config/"><![CDATA[<p class="chat--user">

ComfyUI Custom Nodeì˜ Configë“¤ì„ ì €ì¥ íŒŒì¼ì„ ê°œë°œí•´ì¤˜. config íŒŒì¼ì„ ì‚¬ëŒì´ ìˆ˜ì •í•˜ê¸° ì‰¬ìš´ íŒŒì¼ í˜•ì‹ìœ¼ë¡œ ìˆ˜ì • í•´ì¤˜. íŒŒì¼ì„ ì €ì¥í•˜ì§€ ì•Šê³  ì„¤ì •ì„ ì½ê¸°ë§Œ í•˜ëŠ” readonly ëª¨ë“œë¡œ ë™ì‘í•˜ë©´ ë¼. ì—¬ëŸ¬ ì„¤ì •ì„ ì €ì¥í• ê±°ì§€ë§Œ ì£¼ ìš©ë„ëŠ” LLM ì—”ë“œí¬ì¸íŠ¸ ì •ë³´ë¥¼ ë‹´ì„ê±°ì•¼. ê° LLM Model ë³„ë¡œ (ë””ìŠ¤í”Œë ˆì´ìš© ëª¨ë¸ëª…, ì‹¤ì œ ëª¨ë¸ëª…(requestì‹œ), base url, api key)ë¥¼ ì €ì¥í•˜ë©´ ë¼. Config ì •ë³´ì— ê´€í•œ ìš”ì²­ì´ ë“¤ì–´ì˜¤ë©´(e.g. api ë‚ ë¦´ ë•Œ ë“±) í•´ë‹¹í•˜ëŠ” ê°’ì„ ë¦¬í„´í•˜ë©´ ë¼. ì´ ë•Œ config íŒŒì¼ì´ ì´ˆê¸° readí–ˆì„ ë•Œì™€ ë°”ë€Œì—ˆì„ ìˆ˜ë„ ìˆì–´. ì¡°ê¸ˆ ë°˜ì˜ì´ ëŠ¦ë”ë¼ë„ 1ë¶„ ì´ë‚´ì—ëŠ” ë³€ê²½ëœ ê°’ì„ ë¦¬í„´í•´ì•¼í•´. 

</p>

<p>ì¢‹ì•„ìš”! â€œì‚¬ëŒì´ ì§ì ‘ ìˆ˜ì •í•˜ê¸° ì‰¬ìš´ ì„¤ì • íŒŒì¼â€ + â€œì½ê¸° ì „ìš©(íŒŒì¼ ì €ì¥ X)â€ + â€œìµœëŒ€ 1ë¶„ ë‚´ ìµœì‹ ê°’ ë°˜ì˜â€ ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ComfyUI ì»¤ìŠ¤í…€ ë…¸ë“œ íŒ¨í‚¤ì§€ë¥¼ ì„¤ê³„/êµ¬í˜„í•´ ë“œë¦´ê²Œìš”.<br />
ì•„ë˜ ê·¸ëŒ€ë¡œ ë³µì‚¬í•´ ë„£ìœ¼ë©´ ë°”ë¡œ ë™ì‘í•©ë‹ˆë‹¤.</p>

<hr />

<h1 id="1-íŒŒì¼-êµ¬ì¡°">1) íŒŒì¼ êµ¬ì¡°</h1>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ComfyUI/
â””â”€ custom_nodes/
   â””â”€ comfyui_llm_config_reader/
      â”œâ”€ __init__.py
      â”œâ”€ llm_config_reader.py     <span class="c"># ì»¤ìŠ¤í…€ ë…¸ë“œ + ì„¤ì • ë¡œë”</span>
      â””â”€ llm_config.toml          <span class="c"># ì‚¬ëŒì´ ì½ê³  ìˆ˜ì •í•˜ê¸° ì‰¬ìš´ TOML ì„¤ì • íŒŒì¼</span>
</code></pre></div></div>

<blockquote>
  <p>ê¸°ë³¸ ê²½ë¡œëŠ” <code class="language-plaintext highlighter-rouge">llm_config.toml</code> ì´ê³ , <code class="language-plaintext highlighter-rouge">LLM_CONFIG_PATH</code> í™˜ê²½ë³€ìˆ˜ë¡œ ë°”ê¿€ ìˆ˜ ìˆì–´ìš”.</p>
</blockquote>

<hr />

<h1 id="2-ì„¤ì •-íŒŒì¼-ì˜ˆì‹œ-toml">2) ì„¤ì • íŒŒì¼ ì˜ˆì‹œ (TOML)</h1>

<p>ì‚¬ëŒì´ ì†ìœ¼ë¡œ í¸ì§‘í•˜ê¸° ì‰½ê³ , ì£¼ì„ë„ ë„£ê¸° ì¢‹ì€ TOMLì„ ì‚¬ìš©í•©ë‹ˆë‹¤.<br />
(API KeyëŠ” ê¹ƒì— ì˜¬ë¦¬ì§€ ì•Šë„ë¡ í™˜ê²½ë³€ìˆ˜ ì¹˜í™˜ë„ ì§€ì›í•´ìš”.)</p>

<p><code class="language-plaintext highlighter-rouge">llm_config.toml</code></p>
<div class="language-toml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># ë²„ì „ ì •ë³´(ì„ íƒ)</span>
<span class="py">version</span> <span class="p">=</span> <span class="mi">1</span>

<span class="nn">[settings]</span>
<span class="c"># íŒŒì¼ ë³€ê²½ ë°˜ì˜ ì£¼ê¸°(ì´ˆ). 60ì´ˆ ì´ë‚´ ìµœì‹ ê°’ ìš”êµ¬ì´ë¯€ë¡œ ê¸°ë³¸ 30ì´ˆë¡œ ì—¬ìœ  ìˆê²Œ.</span>
<span class="py">refresh_interval_seconds</span> <span class="p">=</span> <span class="mi">30</span>

<span class="nn">[llm_models."gpt-4o-mini"]</span>
<span class="py">display_name</span>  <span class="p">=</span> <span class="s">"GPT-4o mini"</span>
<span class="py">request_model</span> <span class="p">=</span> <span class="s">"gpt-4o-mini"</span>
<span class="py">base_url</span>      <span class="p">=</span> <span class="s">"https://api.openai.com/v1"</span>
<span class="py">api_key</span>       <span class="p">=</span> <span class="s">"${OPENAI_API_KEY}"</span>   <span class="c"># í™˜ê²½ë³€ìˆ˜ë¡œ ì•ˆì „í•˜ê²Œ ì£¼ì…</span>

<span class="nn">[llm_models."claude-3-5-sonnet"]</span>
<span class="py">display_name</span>  <span class="p">=</span> <span class="s">"Claude 3.5 Sonnet"</span>
<span class="py">request_model</span> <span class="p">=</span> <span class="s">"claude-3-5-sonnet"</span>
<span class="py">base_url</span>      <span class="p">=</span> <span class="s">"https://api.anthropic.com"</span>
<span class="py">api_key</span>       <span class="p">=</span> <span class="s">"${ANTHROPIC_API_KEY}"</span>

<span class="c"># ì›í•˜ëŠ” ë§Œí¼ ëª¨ë¸ì„ ê³„ì† ì¶”ê°€</span>
<span class="c"># [llm_models."ë¬¸ìì—´í‚¤"] ...</span>
</code></pre></div></div>

<ul>
  <li>
    <p>í‚¤ ì„ íƒ ê·œì¹™: <code class="language-plaintext highlighter-rouge">llm_models."&lt;í‚¤&gt;"</code> ì˜ <code class="language-plaintext highlighter-rouge">&lt;í‚¤&gt;</code> ëŠ” ììœ ë¡œìš´ ë¬¸ìì—´ì…ë‹ˆë‹¤.<br />
ì¡°íšŒ ì‹œ <code class="language-plaintext highlighter-rouge">&lt;í‚¤&gt;</code>, <code class="language-plaintext highlighter-rouge">display_name</code>, <code class="language-plaintext highlighter-rouge">request_model</code> ì…‹ ì¤‘ ì–´ëŠ ê±¸ë¡œ ì…ë ¥í•´ë„ ë§¤ì¹­ë˜ë„ë¡ í–ˆì–´ìš”.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">${ENV_NAME}</code> í˜•íƒœëŠ” í™˜ê²½ë³€ìˆ˜ë¡œ ì¹˜í™˜ë©ë‹ˆë‹¤.</p>
  </li>
</ul>

<hr />

<h1 id="3-ì»¤ìŠ¤í…€-ë…¸ë“œë¡œë”-ì½”ë“œ">3) ì»¤ìŠ¤í…€ ë…¸ë“œ/ë¡œë” ì½”ë“œ</h1>

<p><code class="language-plaintext highlighter-rouge">comfyui_llm_config_reader/llm_config_reader.py</code></p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">os</span>
<span class="kn">import</span> <span class="n">time</span>
<span class="kn">import</span> <span class="n">threading</span>
<span class="kn">from</span> <span class="n">typing</span> <span class="kn">import</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Optional</span><span class="p">,</span> <span class="n">Tuple</span>

<span class="c1"># Python 3.11+ tomllib, 3.10 ì´í•˜ë©´ tomli ì‚¬ìš©
</span><span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span> <span class="n">tomllib</span>  <span class="c1"># type: ignore
</span>    <span class="n">_TOML_LOADS</span> <span class="o">=</span> <span class="n">tomllib</span><span class="p">.</span><span class="n">loads</span>
<span class="k">except</span> <span class="nb">Exception</span><span class="p">:</span>
    <span class="kn">import</span> <span class="n">tomli</span>  <span class="c1"># type: ignore
</span>    <span class="n">_TOML_LOADS</span> <span class="o">=</span> <span class="n">tomli</span><span class="p">.</span><span class="n">loads</span>

<span class="k">def</span> <span class="nf">_expand_env_vars</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">ë¬¸ìì—´ ë‚´ ${ENV} íŒ¨í„´ì„ í™˜ê²½ë³€ìˆ˜ë¡œ ì¹˜í™˜. ê·¸ ì™¸ íƒ€ì…ì€ ê·¸ëŒ€ë¡œ ë°˜í™˜.</span><span class="sh">"""</span>
    <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">out</span> <span class="o">=</span> <span class="sh">""</span>
        <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="nf">len</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">:</span><span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="sh">"</span><span class="s">${</span><span class="sh">"</span><span class="p">:</span>
                <span class="n">j</span> <span class="o">=</span> <span class="n">value</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="sh">"</span><span class="s">}</span><span class="sh">"</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">j</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                    <span class="n">env_name</span> <span class="o">=</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="p">:</span><span class="n">j</span><span class="p">]</span>
                    <span class="n">out</span> <span class="o">+=</span> <span class="n">os</span><span class="p">.</span><span class="n">environ</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="n">env_name</span><span class="p">,</span> <span class="sh">""</span><span class="p">)</span>
                    <span class="n">i</span> <span class="o">=</span> <span class="n">j</span> <span class="o">+</span> <span class="mi">1</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">out</span> <span class="o">+=</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                    <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">out</span> <span class="o">+=</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="n">out</span>
    <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="nf">_expand_env_vars</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">value</span><span class="p">.</span><span class="nf">items</span><span class="p">()}</span>
    <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">[</span><span class="nf">_expand_env_vars</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">value</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">value</span>

<span class="k">def</span> <span class="nf">_normalize_key</span><span class="p">(</span><span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">ë§¤ì¹­ í¸ì˜ë¥¼ ìœ„í•œ ì •ê·œí™”(ì†Œë¬¸ì, ì•ë’¤ ê³µë°± ì œê±°).</span><span class="sh">"""</span>
    <span class="k">return</span> <span class="n">s</span><span class="p">.</span><span class="nf">strip</span><span class="p">().</span><span class="nf">lower</span><span class="p">()</span>

<span class="k">class</span> <span class="nc">ReadOnlyConfig</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">
    - TOML ì„¤ì •ì„ ì½ì–´ì„œ ë©”ëª¨ë¦¬ì— ìºì‹œ
    - íŒŒì¼ì´ ë°”ë€Œì—ˆê±°ë‚˜ refresh_intervalì´ ì§€ë‚¬ìœ¼ë©´ ì¬ë¡œë“œ
    - ì“°ê¸°ëŠ” ì ˆëŒ€ í•˜ì§€ ì•ŠìŒ (read-only)
    </span><span class="sh">"""</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">path</span> <span class="o">=</span> <span class="n">path</span> <span class="ow">or</span> <span class="n">os</span><span class="p">.</span><span class="n">environ</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span>
            <span class="sh">"</span><span class="s">LLM_CONFIG_PATH</span><span class="sh">"</span><span class="p">,</span>
            <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">dirname</span><span class="p">(</span><span class="n">__file__</span><span class="p">),</span> <span class="sh">"</span><span class="s">llm_config.toml</span><span class="sh">"</span><span class="p">),</span>
        <span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_lock</span> <span class="o">=</span> <span class="n">threading</span><span class="p">.</span><span class="nc">Lock</span><span class="p">()</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_loaded_at</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.0</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_last_mtime</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1.0</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_refresh_interval</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">30</span>  <span class="c1"># ê¸°ë³¸ 30ì´ˆ(&lt;= 60ì´ˆ ìš”êµ¬ ì¶©ì¡±)
</span>        <span class="n">self</span><span class="p">.</span><span class="n">_raw</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_index</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># ì •ê·œí™” í‚¤ -&gt; ëª¨ë¸ dict
</span>
    <span class="k">def</span> <span class="nf">_read_text</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">path</span><span class="p">,</span> <span class="sh">"</span><span class="s">rb</span><span class="sh">"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">f</span><span class="p">.</span><span class="nf">read</span><span class="p">().</span><span class="nf">decode</span><span class="p">(</span><span class="sh">"</span><span class="s">utf-8</span><span class="sh">"</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_build_index</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_index</span><span class="p">.</span><span class="nf">clear</span><span class="p">()</span>
        <span class="n">models</span> <span class="o">=</span> <span class="n">data</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">llm_models</span><span class="sh">"</span><span class="p">,</span> <span class="p">{})</span> <span class="ow">or</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">model_key</span><span class="p">,</span> <span class="n">cfg</span> <span class="ow">in</span> <span class="n">models</span><span class="p">.</span><span class="nf">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">cfg</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
                <span class="k">continue</span>
            <span class="c1"># í™˜ê²½ë³€ìˆ˜ ì¹˜í™˜
</span>            <span class="n">cfg</span> <span class="o">=</span> <span class="nf">_expand_env_vars</span><span class="p">(</span><span class="n">cfg</span><span class="p">)</span>

            <span class="c1"># í•„ìˆ˜ í•„ë“œ ì²´í¬
</span>            <span class="n">required</span> <span class="o">=</span> <span class="p">[</span><span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">request_model</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">api_key</span><span class="sh">"</span><span class="p">]</span>
            <span class="n">missing</span> <span class="o">=</span> <span class="p">[</span><span class="n">k</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">required</span> <span class="k">if</span> <span class="n">k</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">cfg</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">[</span><span class="n">k</span><span class="p">]).</span><span class="nf">strip</span><span class="p">()]</span>
            <span class="k">if</span> <span class="n">missing</span><span class="p">:</span>
                <span class="c1"># ë¶ˆì™„ì „í•œ ì—”íŠ¸ë¦¬ëŠ” ìŠ¤í‚µ (ëª…í™•í•œ ë¡œê·¸ê°€ í•„ìš”í•˜ë©´ print ê°€ëŠ¥)
</span>                <span class="k">continue</span>

            <span class="c1"># ëª¨ë¸ ì ‘ê·¼ì„ ìœ„í•œ ë‹¤ì–‘í•œ í‚¤ë“¤ ì¸ë±ì‹±
</span>            <span class="n">candidates</span> <span class="o">=</span> <span class="p">{</span>
                <span class="nf">str</span><span class="p">(</span><span class="n">model_key</span><span class="p">),</span>
                <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">,</span> <span class="sh">""</span><span class="p">)),</span>
                <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">request_model</span><span class="sh">"</span><span class="p">,</span> <span class="sh">""</span><span class="p">)),</span>
            <span class="p">}</span>
            <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="nf">filter</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="n">candidates</span><span class="p">):</span>
                <span class="n">self</span><span class="p">.</span><span class="n">_index</span><span class="p">[</span><span class="nf">_normalize_key</span><span class="p">(</span><span class="n">c</span><span class="p">)]</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">:</span> <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">[</span><span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">]),</span>
                    <span class="sh">"</span><span class="s">request_model</span><span class="sh">"</span><span class="p">:</span> <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">[</span><span class="sh">"</span><span class="s">request_model</span><span class="sh">"</span><span class="p">]),</span>
                    <span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">:</span> <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">[</span><span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">]),</span>
                    <span class="sh">"</span><span class="s">api_key</span><span class="sh">"</span><span class="p">:</span> <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">[</span><span class="sh">"</span><span class="s">api_key</span><span class="sh">"</span><span class="p">]),</span>
                <span class="p">}</span>

    <span class="k">def</span> <span class="nf">_reload_locked</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">txt</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="nf">_read_text</span><span class="p">()</span>
        <span class="n">data</span> <span class="o">=</span> <span class="nf">_TOML_LOADS</span><span class="p">(</span><span class="n">txt</span><span class="p">)</span>
        <span class="c1"># settings.refresh_interval_seconds ë°˜ì˜ (ìµœì†Œ 5ì´ˆ, ìµœëŒ€ 60ì´ˆë¡œ ê°€ë“œ)
</span>        <span class="n">refresh</span> <span class="o">=</span> <span class="nf">int</span><span class="p">(</span>
            <span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">settings</span><span class="sh">"</span><span class="p">)</span> <span class="ow">or</span> <span class="p">{}).</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">refresh_interval_seconds</span><span class="sh">"</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="n">refresh</span> <span class="o">=</span> <span class="nf">max</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="nf">min</span><span class="p">(</span><span class="mi">60</span><span class="p">,</span> <span class="n">refresh</span><span class="p">))</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_refresh_interval</span> <span class="o">=</span> <span class="nf">int</span><span class="p">(</span>
            <span class="n">os</span><span class="p">.</span><span class="n">environ</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">LLM_CONFIG_REFRESH_SECONDS</span><span class="sh">"</span><span class="p">,</span> <span class="n">refresh</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_raw</span> <span class="o">=</span> <span class="nf">_expand_env_vars</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">_build_index</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">_raw</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_loaded_at</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_last_mtime</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">getmtime</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">path</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_stale_or_changed</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">mtime</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">getmtime</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">path</span><span class="p">)</span>
        <span class="k">except</span> <span class="nb">FileNotFoundError</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">True</span>
        <span class="n">now</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span>
        <span class="nf">return </span><span class="p">(</span><span class="n">mtime</span> <span class="o">!=</span> <span class="n">self</span><span class="p">.</span><span class="n">_last_mtime</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">now</span> <span class="o">-</span> <span class="n">self</span><span class="p">.</span><span class="n">_loaded_at</span> <span class="o">&gt;=</span> <span class="n">self</span><span class="p">.</span><span class="n">_refresh_interval</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_ensure_loaded</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">with</span> <span class="n">self</span><span class="p">.</span><span class="n">_lock</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">self</span><span class="p">.</span><span class="n">_loaded_at</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">self</span><span class="p">.</span><span class="nf">_stale_or_changed</span><span class="p">():</span>
                <span class="n">self</span><span class="p">.</span><span class="nf">_reload_locked</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">get_model</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
        <span class="sh">"""</span><span class="s">keyëŠ” ëª¨ë¸ í‚¤/í‘œì‹œëª…/ìš”ì²­ìš© ëª¨ë¸ëª… ì¤‘ ì•„ë¬´ê±°ë‚˜ ê°€ëŠ¥.</span><span class="sh">"""</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">key</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nf">str</span><span class="p">(</span><span class="n">key</span><span class="p">).</span><span class="nf">strip</span><span class="p">():</span>
            <span class="k">raise</span> <span class="nc">KeyError</span><span class="p">(</span><span class="sh">"</span><span class="s">model key is empty</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">_ensure_loaded</span><span class="p">()</span>
        <span class="n">hit</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">_index</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="nf">_normalize_key</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">hit</span><span class="p">:</span>
            <span class="c1"># ìµœì‹  ë°˜ì˜ ì§€ì—° ê°€ëŠ¥ì„±ì„ ê³ ë ¤í•´ í•œ ë²ˆ ë” ê°•ì œ ë¦¬ë¡œë“œ í›„ ì¬ì‹œë„
</span>            <span class="k">with</span> <span class="n">self</span><span class="p">.</span><span class="n">_lock</span><span class="p">:</span>
                <span class="n">self</span><span class="p">.</span><span class="nf">_reload_locked</span><span class="p">()</span>
                <span class="n">hit</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">_index</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="nf">_normalize_key</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">hit</span><span class="p">:</span>
            <span class="k">raise</span> <span class="nc">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">model not found: </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">hit</span>

    <span class="k">def</span> <span class="nf">list_models</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]:</span>
        <span class="sh">"""</span><span class="s">ë””ë²„ê·¸/ì¸ìŠ¤í™ì…˜ìš©: (í‘œì‹œëª…, ìš”ì²­ëª¨ë¸, base_urlë§Œ ë…¸ì¶œí•˜ëŠ” ì•ˆì „ ë¦¬ìŠ¤íŠ¸).</span><span class="sh">"""</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">_ensure_loaded</span><span class="p">()</span>
        <span class="n">out</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="c1"># ì—­ìœ¼ë¡œ display_name ê¸°ì¤€ ì§‘ê³„
</span>        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">self</span><span class="p">.</span><span class="n">_index</span><span class="p">.</span><span class="nf">items</span><span class="p">():</span>
            <span class="n">dn</span> <span class="o">=</span> <span class="n">v</span><span class="p">[</span><span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">]</span>
            <span class="n">out</span><span class="p">[</span><span class="n">dn</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                <span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">:</span> <span class="n">v</span><span class="p">[</span><span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">],</span>
                <span class="sh">"</span><span class="s">request_model</span><span class="sh">"</span><span class="p">:</span> <span class="n">v</span><span class="p">[</span><span class="sh">"</span><span class="s">request_model</span><span class="sh">"</span><span class="p">],</span>
                <span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">:</span> <span class="n">v</span><span class="p">[</span><span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">],</span>
                <span class="c1"># api_keyëŠ” ë³´ì•ˆìƒ ë¯¸ë…¸ì¶œ
</span>            <span class="p">}</span>
        <span class="k">return</span> <span class="n">out</span>

<span class="c1"># ì „ì—­ ì‹±ê¸€í†¤ ë¡œë” (ComfyUI ë…¸ë“œë“¤ì´ ê³µìœ )
</span><span class="n">_CONFIG</span> <span class="o">=</span> <span class="nc">ReadOnlyConfig</span><span class="p">()</span>

<span class="c1"># ===== ComfyUI Custom Nodes =====
</span><span class="k">class</span> <span class="nc">LLMConfigLookup</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">
    ì…ë ¥: model_key (ë¬¸ìì—´)  â€” ì˜ˆ: </span><span class="sh">"</span><span class="s">gpt-4o-mini</span><span class="sh">"</span><span class="s"> ë˜ëŠ” </span><span class="sh">"</span><span class="s">GPT-4o mini</span><span class="sh">"</span><span class="s"> ë˜ëŠ” </span><span class="sh">"</span><span class="s">gpt-4o-mini</span><span class="sh">"</span><span class="s">(request_model)
    ì¶œë ¥: display_name, request_model, base_url, api_key (ëª¨ë‘ STRING)
    </span><span class="sh">"""</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">INPUT_TYPES</span><span class="p">(</span><span class="n">cls</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="sh">"</span><span class="s">required</span><span class="sh">"</span><span class="p">:</span> <span class="p">{</span>
                <span class="sh">"</span><span class="s">model_key</span><span class="sh">"</span><span class="p">:</span> <span class="p">(</span><span class="sh">"</span><span class="s">STRING</span><span class="sh">"</span><span class="p">,</span> <span class="p">{</span><span class="sh">"</span><span class="s">default</span><span class="sh">"</span><span class="p">:</span> <span class="sh">""</span><span class="p">,</span> <span class="sh">"</span><span class="s">multiline</span><span class="sh">"</span><span class="p">:</span> <span class="bp">False</span><span class="p">}),</span>
            <span class="p">},</span>
        <span class="p">}</span>

    <span class="n">RETURN_TYPES</span> <span class="o">=</span> <span class="p">(</span><span class="sh">"</span><span class="s">STRING</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">STRING</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">STRING</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">STRING</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">RETURN_NAMES</span> <span class="o">=</span> <span class="p">(</span><span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">request_model</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">api_key</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">FUNCTION</span> <span class="o">=</span> <span class="sh">"</span><span class="s">lookup</span><span class="sh">"</span>
    <span class="n">CATEGORY</span> <span class="o">=</span> <span class="sh">"</span><span class="s">LLM/Config</span><span class="sh">"</span>

    <span class="k">def</span> <span class="nf">lookup</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">model_key</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">m</span> <span class="o">=</span> <span class="n">_CONFIG</span><span class="p">.</span><span class="nf">get_model</span><span class="p">(</span><span class="n">model_key</span><span class="p">)</span>
        <span class="k">except</span> <span class="nb">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="c1"># ComfyUIì—ì„œ ì—ëŸ¬ê°€ ë³´ì´ë„ë¡ ì˜ˆì™¸ ì „ë‹¬
</span>            <span class="k">raise</span> <span class="nc">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">[LLMConfigLookup] </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="nf">return </span><span class="p">(</span><span class="n">m</span><span class="p">[</span><span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">],</span> <span class="n">m</span><span class="p">[</span><span class="sh">"</span><span class="s">request_model</span><span class="sh">"</span><span class="p">],</span> <span class="n">m</span><span class="p">[</span><span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">],</span> <span class="n">m</span><span class="p">[</span><span class="sh">"</span><span class="s">api_key</span><span class="sh">"</span><span class="p">])</span>

<span class="k">class</span> <span class="nc">LLMConfigListModels</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">
    ë””ë²„ê·¸ìš©: ì‚¬ìš© ê°€ëŠ¥í•œ ëª¨ë¸ë“¤ì˜ (í‘œì‹œëª…, ìš”ì²­ëª¨ë¸, base_url) JSONì„ ë°˜í™˜.
    </span><span class="sh">"""</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">INPUT_TYPES</span><span class="p">(</span><span class="n">cls</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="sh">"</span><span class="s">required</span><span class="sh">"</span><span class="p">:</span> <span class="p">{}}</span>

    <span class="n">RETURN_TYPES</span> <span class="o">=</span> <span class="p">(</span><span class="sh">"</span><span class="s">STRING</span><span class="sh">"</span><span class="p">,)</span>
    <span class="n">RETURN_NAMES</span> <span class="o">=</span> <span class="p">(</span><span class="sh">"</span><span class="s">models_json</span><span class="sh">"</span><span class="p">,)</span>
    <span class="n">FUNCTION</span> <span class="o">=</span> <span class="sh">"</span><span class="s">list_models</span><span class="sh">"</span>
    <span class="n">CATEGORY</span> <span class="o">=</span> <span class="sh">"</span><span class="s">LLM/Config</span><span class="sh">"</span>

    <span class="k">def</span> <span class="nf">list_models</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="kn">import</span> <span class="n">json</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">_CONFIG</span><span class="p">.</span><span class="nf">list_models</span><span class="p">()</span>
        <span class="nf">return </span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="nf">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">),)</span>

<span class="c1"># ComfyUI ë“±ë¡ìš© ë§¤í•‘
</span><span class="n">NODE_CLASS_MAPPINGS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="sh">"</span><span class="s">LLMConfigLookup</span><span class="sh">"</span><span class="p">:</span> <span class="n">LLMConfigLookup</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">LLMConfigListModels</span><span class="sh">"</span><span class="p">:</span> <span class="n">LLMConfigListModels</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">NODE_DISPLAY_NAME_MAPPINGS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="sh">"</span><span class="s">LLMConfigLookup</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">LLM: Config Lookup (ReadOnly)</span><span class="sh">"</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">LLMConfigListModels</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">LLM: List Models (ReadOnly)</span><span class="sh">"</span><span class="p">,</span>
<span class="p">}</span>
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">comfyui_llm_config_reader/__init__.py</code></p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># ë¹ˆ íŒŒì¼ì´ë©´ ì¶©ë¶„í•©ë‹ˆë‹¤. (íŒ¨í‚¤ì§€ ì¸ì‹ìš©)
</span></code></pre></div></div>

<hr />

<h1 id="4-ë™ì‘-ë³´ì¥ìš”êµ¬ì‚¬í•­-ë§¤í•‘">4) ë™ì‘ ë³´ì¥(ìš”êµ¬ì‚¬í•­ ë§¤í•‘)</h1>

<ol>
  <li>
    <p><strong>ì‚¬ëŒì´ ìˆ˜ì •í•˜ê¸° ì‰¬ìš´ í¬ë§·</strong> : TOML ì‚¬ìš© + ì£¼ì„ ê°€ëŠ¥ + ê°„ê²°í•œ í‚¤/ê°’ êµ¬ì¡°.</p>
  </li>
  <li>
    <p><strong>ì½ê¸° ì „ìš©</strong> : ì½”ë“œ ì–´ë””ì—ì„œë„ íŒŒì¼ì„ ì“°ì§€ ì•ŠìŒ. ì˜¤ì§ ì½ê¸°/íŒŒì‹±ë§Œ ìˆ˜í–‰.</p>
  </li>
  <li>
    <p><strong>ë‹¤ì¤‘ ì„¤ì •(íŠ¹íˆ LLM ì—”ë“œí¬ì¸íŠ¸)</strong> : <code class="language-plaintext highlighter-rouge">llm_models."&lt;í‚¤&gt;"</code>ë§ˆë‹¤</p>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">display_name</code>, <code class="language-plaintext highlighter-rouge">request_model</code>, <code class="language-plaintext highlighter-rouge">base_url</code>, <code class="language-plaintext highlighter-rouge">api_key</code> ì €ì¥.</li>
    </ul>
  </li>
  <li>
    <p><strong>ìš”ì²­ ì‹œ í•´ë‹¹ ê°’ ë¦¬í„´</strong> : <code class="language-plaintext highlighter-rouge">LLMConfigLookup</code> ë…¸ë“œê°€ ì…ë ¥ <code class="language-plaintext highlighter-rouge">model_key</code>ë¡œ ê²€ìƒ‰í•˜ì—¬ 4ê°œ ê°’ì„ ì¶œë ¥.</p>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">&lt;í‚¤&gt;</code> / <code class="language-plaintext highlighter-rouge">display_name</code> / <code class="language-plaintext highlighter-rouge">request_model</code> ì¤‘ ë¬´ì—‡ìœ¼ë¡œ ë„£ì–´ë„ ë§¤ì¹­ë¨.</li>
    </ul>
  </li>
  <li>
    <p><strong>ë³€ê²½ ë°˜ì˜(ìµœëŒ€ 1ë¶„)</strong> :</p>

    <ul>
      <li>
        <p>íŒŒì¼ <code class="language-plaintext highlighter-rouge">mtime</code> ë³€í™” ê°ì§€ + <code class="language-plaintext highlighter-rouge">refresh_interval_seconds</code>(ê¸°ë³¸ 30ì´ˆ) ë˜ëŠ” <code class="language-plaintext highlighter-rouge">LLM_CONFIG_REFRESH_SECONDS</code>(env) ê¸°ì¤€ TTL ìºì‹œ.</p>
      </li>
      <li>
        <p>í˜¸ì¶œ ì‹œë§ˆë‹¤ <strong>stale ë˜ëŠ” ë³€ê²½</strong> ì´ë©´ ì¦‰ì‹œ ì¬ë¡œë“œ â†’ <strong>ìµœëŒ€ 60ì´ˆ ì´ë‚´</strong> ìµœì‹ ê°’ ë³´ì¥.</p>
      </li>
      <li>
        <p>ì‹ ê·œ í•­ëª©ì´ ì¶”ê°€ëœ ì§í›„ì—ë„, ë‹¤ìŒ í˜¸ì¶œ ë•Œ ìµœëŒ€ TTL ë’¤ì—ëŠ” ë°˜ì˜.</p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>ë³´ì•ˆ ê³ ë ¤</strong> :</p>

    <ul>
      <li>
        <p><code class="language-plaintext highlighter-rouge">${ENV}</code> ì¹˜í™˜ ì§€ì›ìœ¼ë¡œ API Keyë¥¼ í™˜ê²½ë³€ìˆ˜ì—ì„œ ì£¼ì… ê°€ëŠ¥.</p>
      </li>
      <li>
        <p><code class="language-plaintext highlighter-rouge">ListModels</code> ë…¸ë“œì—ì„œëŠ” API Key ë¯¸ë…¸ì¶œ.</p>
      </li>
    </ul>
  </li>
</ol>

<hr />

<h1 id="5-ì‚¬ìš©-ë°©ë²•-ê°„ë‹¨">5) ì‚¬ìš© ë°©ë²• (ê°„ë‹¨)</h1>

<ol>
  <li>
    <p>ìœ„ íŒŒì¼ êµ¬ì¡°ëŒ€ë¡œ ë³µì‚¬ â†’ ComfyUI ì¬ì‹¤í–‰.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">llm_config.toml</code> ì— ëª¨ë¸ë“¤ì„ ì¶”ê°€/ìˆ˜ì •.</p>
  </li>
  <li>
    <p>ì›Œí¬í”Œë¡œìš°ì—ì„œ <strong>LLM: Config Lookup (ReadOnly)</strong> ë…¸ë“œ ë°°ì¹˜ â†’ <code class="language-plaintext highlighter-rouge">model_key</code> ì…ë ¥(ì˜ˆ: <code class="language-plaintext highlighter-rouge">gpt-4o-mini</code>).</p>
  </li>
  <li>
    <p>ë…¸ë“œ ì¶œë ¥ 4ê°œ(í‘œì‹œëª…/ìš”ì²­ëª¨ë¸/base_url/api_key)ë¥¼ ì›í•˜ëŠ” LLM í˜¸ì¶œ ë…¸ë“œì— ì—°ê²°.</p>
  </li>
  <li>
    <p>ì„¤ì • íŒŒì¼ì„ ìˆ˜ì •í•˜ë©´, <strong>ìµœëŒ€ 30ì´ˆ(ê¸°ë³¸) ë‚´</strong> ìƒˆ ê°’ì´ ìë™ ë°˜ì˜ë©ë‹ˆë‹¤. (í™˜ê²½ë³€ìˆ˜ë¡œ 5~60ì´ˆ ì‚¬ì´ íŠœë‹ ê°€ëŠ¥)</p>
  </li>
</ol>

<hr />

<h1 id="6-ì»¤ìŠ¤í„°ë§ˆì´ì§•-íŒ">6) ì»¤ìŠ¤í„°ë§ˆì´ì§• íŒ</h1>

<ul>
  <li>
    <p><strong>YAML ì„ í˜¸ ì‹œ</strong> : <code class="language-plaintext highlighter-rouge">tomllib</code> ëŒ€ì‹  <code class="language-plaintext highlighter-rouge">yaml.safe_load</code>ë¡œ ë°”ê¾¸ê³  íŒŒì¼ í™•ì¥ìë§Œ <code class="language-plaintext highlighter-rouge">.yaml</code>ë¡œ ë°”ê¾¸ë©´ ë©ë‹ˆë‹¤.</p>
  </li>
  <li>
    <p><strong>ëª¨ë¸ í‚¤ ìë™ ë“œë¡­ë‹¤ìš´</strong> : ComfyUIì˜ ë™ì  ì…ë ¥ UIê°€ í•„ìš”í•˜ë©´, <code class="language-plaintext highlighter-rouge">INPUT_TYPES</code>ë¥¼ ì£¼ê¸°ì ìœ¼ë¡œ ì¬êµ¬ì„±í•˜ëŠ” ì»¤ìŠ¤í…€ í”„ë¡ íŠ¸ì—”ë“œê°€ í•„ìš”í•©ë‹ˆë‹¤. ê¸°ë³¸ êµ¬í˜„ì€ ë¬¸ìì—´ ì…ë ¥ìœ¼ë¡œ ë‹¨ìˆœ/ê²¬ê³ í•˜ê²Œ ì²˜ë¦¬í–ˆìŠµë‹ˆë‹¤.</p>
  </li>
  <li>
    <p><strong>í•„ë“œ í™•ì¥</strong> : per-model íƒ€ì„ì•„ì›ƒ, í—¤ë” ë“± ì¶”ê°€ í•„ë“œê°€ í•„ìš”í•˜ë©´ TOMLì— í‚¤ë¥¼ ëŠ˜ë¦¬ê³  <code class="language-plaintext highlighter-rouge">_build_index</code>ì—ì„œ ê·¸ëŒ€ë¡œ í†µê³¼ì‹œì¼œ ì¶œë ¥ì„ ëŠ˜ë¦¬ë©´ ë©ë‹ˆë‹¤.</p>
  </li>
</ul>

<hr />

<p>ì›í•˜ì‹œë©´ YAML ë²„ì „ ë˜ëŠ” íŠ¹ì • LLM í˜¸ì¶œ ë…¸ë“œ(ì˜ˆ: OpenAI/Anthropic ì»¤ë„¥í„°)ê¹Œì§€ ë°”ë¡œ ì—°ê²°ë˜ëŠ” ë…¸ë“œë„ ì¶”ê°€ë¡œ ë§Œë“¤ì–´ ë“œë¦´ê²Œìš”.</p>

<p class="chat--user">

ì¢‹ì€ë° LLM ë§ê³ ë„ ë‹¤ë¥¸ ì„¤ì •ë“¤ë„ ì €ì¥í•  ìˆ˜ ìˆëŠ” ë²”ìš©ì  config íŒŒì¼ì´ë¼ì„œ íŒŒì¼ëª…ì„ ë°”ê¿”ì£¼ë©´ ì¢‹ê² ì–´

</p>

<p>ì¢‹ì€ í¬ì¸íŠ¸ì˜ˆìš”! ë²”ìš© ì„¤ì • íŒŒì¼ë¡œ ì“°ê¸° ì¢‹ê²Œ <strong>íŒŒì¼ëª…ì„ <code class="language-plaintext highlighter-rouge">config.toml</code></strong>ë¡œ ë°”ê¾¸ê³ , ì½”ë“œ/í™˜ê²½ë³€ìˆ˜ë„ <strong>ì¼ë°˜í™”</strong> í–ˆìŠµë‹ˆë‹¤. (ì´ì „ <code class="language-plaintext highlighter-rouge">llm_config.toml</code>Â·<code class="language-plaintext highlighter-rouge">LLM_CONFIG_PATH</code>ë„ ìë™ í•˜ìœ„ í˜¸í™˜)</p>

<p>ì•„ë˜ ê·¸ëŒ€ë¡œ êµì²´/ì¶”ê°€í•˜ë©´ ë©ë‹ˆë‹¤.</p>

<hr />

<h1 id="ë³€ê²½-ìš”ì•½-step-by-step">ë³€ê²½ ìš”ì•½ (step-by-step)</h1>

<ol>
  <li>
    <p>ì„¤ì • íŒŒì¼ ê¸°ë³¸ëª…ì„ <code class="language-plaintext highlighter-rouge">config.toml</code>ë¡œ ë³€ê²½</p>
  </li>
  <li>
    <p>ê²½ë¡œ í™˜ê²½ë³€ìˆ˜ë„ ì¼ë°˜í™”: <strong><code class="language-plaintext highlighter-rouge">COMFY_CONFIG_PATH</code></strong> (êµ¬ <code class="language-plaintext highlighter-rouge">LLM_CONFIG_PATH</code>ë„ ì¸ì‹)</p>
  </li>
  <li>
    <p>ìƒˆë¡œê³ ì¹¨ ì£¼ê¸° í™˜ê²½ë³€ìˆ˜: <strong><code class="language-plaintext highlighter-rouge">COMFY_CONFIG_REFRESH_SECONDS</code></strong> (êµ¬ <code class="language-plaintext highlighter-rouge">LLM_CONFIG_REFRESH_SECONDS</code>ë„ ì¸ì‹)</p>
  </li>
  <li>
    <p>ì½”ë“œê°€ <code class="language-plaintext highlighter-rouge">config.toml</code>ì„ ìš°ì„  ì‚¬ìš©, ì—†ìœ¼ë©´ ê¸°ì¡´ <code class="language-plaintext highlighter-rouge">llm_config.toml</code> ìë™ í´ë°±</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">[llm_models]</code> ì™¸ì— ì„ì˜ ì„¹ì…˜(<code class="language-plaintext highlighter-rouge">[feature_flags]</code>, <code class="language-plaintext highlighter-rouge">[storage]</code> ë“±) ììœ  í™•ì¥ ê°€ëŠ¥</p>
  </li>
</ol>

<hr />

<h1 id="ë””ë ‰í† ë¦¬-êµ¬ì¡°">ë””ë ‰í† ë¦¬ êµ¬ì¡°</h1>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ComfyUI/
â””â”€ custom_nodes/
   â””â”€ comfyui_llm_config_reader/
      â”œâ”€ __init__.py
      â”œâ”€ llm_config_reader.py     <span class="c"># (êµì²´ë³¸) ë²”ìš© config ë¡œë” + LLM ì¡°íšŒ ë…¸ë“œ</span>
      â””â”€ config.toml              <span class="c"># â† ìƒˆ ê¸°ë³¸ ì„¤ì • íŒŒì¼ëª… (ë²”ìš©)</span>
      <span class="c"># â””â”€ llm_config.toml        # (ì„ íƒ) ê¸°ì¡´ íŒŒì¼ëª…ë„ ê³„ì† ë™ì‘(í´ë°±)</span>
</code></pre></div></div>

<hr />

<h1 id="ì˜ˆì‹œ-configtoml-ë²”ìš©">ì˜ˆì‹œ <code class="language-plaintext highlighter-rouge">config.toml</code> (ë²”ìš©)</h1>
<div class="language-toml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="py">version</span> <span class="p">=</span> <span class="mi">1</span>

<span class="nn">[settings]</span>
<span class="c"># íŒŒì¼ ë³€ê²½ ë°˜ì˜ ì£¼ê¸°(ì´ˆ). 1ë¶„ ì´ë‚´ ìš”êµ¬ â†’ ê¸°ë³¸ 30ì´ˆ.</span>
<span class="py">refresh_interval_seconds</span> <span class="p">=</span> <span class="mi">30</span>

<span class="c"># â”€â”€ LLM ì—”ë“œí¬ì¸íŠ¸ë“¤ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span>
<span class="nn">[llm_models."gpt-4o-mini"]</span>
<span class="py">display_name</span>  <span class="p">=</span> <span class="s">"GPT-4o mini"</span>
<span class="py">request_model</span> <span class="p">=</span> <span class="s">"gpt-4o-mini"</span>
<span class="py">base_url</span>      <span class="p">=</span> <span class="s">"https://api.openai.com/v1"</span>
<span class="py">api_key</span>       <span class="p">=</span> <span class="s">"${OPENAI_API_KEY}"</span>

<span class="nn">[llm_models."claude-3-5-sonnet"]</span>
<span class="py">display_name</span>  <span class="p">=</span> <span class="s">"Claude 3.5 Sonnet"</span>
<span class="py">request_model</span> <span class="p">=</span> <span class="s">"claude-3-5-sonnet"</span>
<span class="py">base_url</span>      <span class="p">=</span> <span class="s">"https://api.anthropic.com"</span>
<span class="py">api_key</span>       <span class="p">=</span> <span class="s">"${ANTHROPIC_API_KEY}"</span>

<span class="c"># â”€â”€ (ì˜ˆ) ë‹¤ë¥¸ ë²”ìš© ì„¤ì • ì„¹ì…˜ë“¤ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span>
<span class="nn">[feature_flags]</span>
<span class="py">use_cache</span> <span class="p">=</span> <span class="kc">true</span>
<span class="py">show_beta</span> <span class="p">=</span> <span class="kc">false</span>

<span class="nn">[storage.s3]</span>
<span class="py">bucket</span> <span class="p">=</span> <span class="s">"my-bucket"</span>
<span class="py">region</span> <span class="p">=</span> <span class="s">"ap-northeast-2"</span>
<span class="py">access_key</span> <span class="p">=</span> <span class="s">"${S3_ACCESS_KEY}"</span>
<span class="py">secret_key</span> <span class="p">=</span> <span class="s">"${S3_SECRET_KEY}"</span>
</code></pre></div></div>

<ul>
  <li>
    <p>ì„ì˜ ì„¹ì…˜ì€ <strong>ê·¸ëŒ€ë¡œ ì €ì¥</strong> ë˜ë©°, LLM ë…¸ë“œëŠ” <code class="language-plaintext highlighter-rouge">[llm_models]</code>ë§Œ ì‚¬ìš©í•©ë‹ˆë‹¤.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">${ENV}</code> í‘œê¸°ê°’ì€ í™˜ê²½ë³€ìˆ˜ë¡œ ì¹˜í™˜ë©ë‹ˆë‹¤.</p>
  </li>
</ul>

<hr />

<h1 id="êµì²´ë³¸-ì½”ë“œ-llm_config_readerpy">êµì²´ë³¸ ì½”ë“œ: <code class="language-plaintext highlighter-rouge">llm_config_reader.py</code></h1>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">os</span>
<span class="kn">import</span> <span class="n">time</span>
<span class="kn">import</span> <span class="n">threading</span>
<span class="kn">from</span> <span class="n">typing</span> <span class="kn">import</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Optional</span>

<span class="c1"># Python 3.11+ tomllib, 3.10 ì´í•˜ë©´ tomli ì‚¬ìš©
</span><span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span> <span class="n">tomllib</span>  <span class="c1"># type: ignore
</span>    <span class="n">_TOML_LOADS</span> <span class="o">=</span> <span class="n">tomllib</span><span class="p">.</span><span class="n">loads</span>
<span class="k">except</span> <span class="nb">Exception</span><span class="p">:</span>
    <span class="kn">import</span> <span class="n">tomli</span>  <span class="c1"># type: ignore
</span>    <span class="n">_TOML_LOADS</span> <span class="o">=</span> <span class="n">tomli</span><span class="p">.</span><span class="n">loads</span>

<span class="k">def</span> <span class="nf">_expand_env_vars</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">ë¬¸ìì—´ ë‚´ ${ENV} íŒ¨í„´ì„ í™˜ê²½ë³€ìˆ˜ë¡œ ì¹˜í™˜. ê·¸ ì™¸ íƒ€ì…ì€ ê·¸ëŒ€ë¡œ.</span><span class="sh">"""</span>
    <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">out</span><span class="p">,</span> <span class="n">i</span> <span class="o">=</span> <span class="sh">""</span><span class="p">,</span> <span class="mi">0</span>
        <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="nf">len</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">:</span><span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="sh">"</span><span class="s">${</span><span class="sh">"</span><span class="p">:</span>
                <span class="n">j</span> <span class="o">=</span> <span class="n">value</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="sh">"</span><span class="s">}</span><span class="sh">"</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">j</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                    <span class="n">env_name</span> <span class="o">=</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="p">:</span><span class="n">j</span><span class="p">]</span>
                    <span class="n">out</span> <span class="o">+=</span> <span class="n">os</span><span class="p">.</span><span class="n">environ</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="n">env_name</span><span class="p">,</span> <span class="sh">""</span><span class="p">)</span>
                    <span class="n">i</span> <span class="o">=</span> <span class="n">j</span> <span class="o">+</span> <span class="mi">1</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">out</span> <span class="o">+=</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                    <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">out</span> <span class="o">+=</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="n">out</span>
    <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="nf">_expand_env_vars</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">value</span><span class="p">.</span><span class="nf">items</span><span class="p">()}</span>
    <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">[</span><span class="nf">_expand_env_vars</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">value</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">value</span>

<span class="k">def</span> <span class="nf">_normalize_key</span><span class="p">(</span><span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">return</span> <span class="nf">str</span><span class="p">(</span><span class="n">s</span><span class="p">).</span><span class="nf">strip</span><span class="p">().</span><span class="nf">lower</span><span class="p">()</span>

<span class="k">class</span> <span class="nc">ReadOnlyConfig</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">
    - TOML ì„¤ì •ì„ ì½ì–´ ë©”ëª¨ë¦¬ ìºì‹œ
    - íŒŒì¼ mtime/TTL(ìµœì†Œ 5s, ìµœëŒ€ 60s) ê¸°ë°˜ ìë™ ì¬ë¡œë“œ
    - ì ˆëŒ€ ì“°ê¸° ì—†ìŒ (read-only)
    - íŒŒì¼ëª… ì¼ë°˜í™”:
        * ìš°ì„ ìˆœìœ„: COMFY_CONFIG_PATH &gt; LLM_CONFIG_PATH(í•˜ìœ„í˜¸í™˜) &gt;
                    ./config.toml &gt; ./llm_config.toml(í•˜ìœ„í˜¸í™˜)
    </span><span class="sh">"""</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">):</span>
        <span class="c1"># 1) ëª…ì‹œì  ì¸ì
</span>        <span class="n">explicit</span> <span class="o">=</span> <span class="n">path</span>

        <span class="c1"># 2) í™˜ê²½ë³€ìˆ˜ (ì¼ë°˜í™” + í•˜ìœ„í˜¸í™˜)
</span>        <span class="n">env_path</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">environ</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">COMFY_CONFIG_PATH</span><span class="sh">"</span><span class="p">)</span> <span class="ow">or</span> <span class="n">os</span><span class="p">.</span><span class="n">environ</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">LLM_CONFIG_PATH</span><span class="sh">"</span><span class="p">)</span>

        <span class="c1"># 3) ê¸°ë³¸ ê²½ë¡œ íƒìƒ‰ (ìš°ì„  config.toml, ì—†ìœ¼ë©´ llm_config.toml)
</span>        <span class="n">here</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">dirname</span><span class="p">(</span><span class="n">__file__</span><span class="p">)</span>
        <span class="n">default_primary</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="n">here</span><span class="p">,</span> <span class="sh">"</span><span class="s">config.toml</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">default_legacy</span>  <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="n">here</span><span class="p">,</span> <span class="sh">"</span><span class="s">llm_config.toml</span><span class="sh">"</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">explicit</span><span class="p">:</span>
            <span class="n">chosen</span> <span class="o">=</span> <span class="n">explicit</span>
        <span class="k">elif</span> <span class="n">env_path</span><span class="p">:</span>
            <span class="n">chosen</span> <span class="o">=</span> <span class="n">env_path</span>
        <span class="k">elif</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">exists</span><span class="p">(</span><span class="n">default_primary</span><span class="p">):</span>
            <span class="n">chosen</span> <span class="o">=</span> <span class="n">default_primary</span>
        <span class="k">elif</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">exists</span><span class="p">(</span><span class="n">default_legacy</span><span class="p">):</span>
            <span class="n">chosen</span> <span class="o">=</span> <span class="n">default_legacy</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># íŒŒì¼ì´ ì•„ì§ ì—†ì„ ìˆ˜ ìˆìœ¼ë‹ˆ ìƒˆ í‘œì¤€ëª…ìœ¼ë¡œ ê³ ì •
</span>            <span class="n">chosen</span> <span class="o">=</span> <span class="n">default_primary</span>

        <span class="n">self</span><span class="p">.</span><span class="n">path</span> <span class="o">=</span> <span class="n">chosen</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_lock</span> <span class="o">=</span> <span class="n">threading</span><span class="p">.</span><span class="nc">Lock</span><span class="p">()</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_loaded_at</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.0</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_last_mtime</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1.0</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_refresh_interval</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">30</span>  <span class="c1"># ê¸°ë³¸ 30ì´ˆ (&lt;=60ì´ˆ ìš”êµ¬ ì¶©ì¡±)
</span>        <span class="n">self</span><span class="p">.</span><span class="n">_raw</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_index</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># ì •ê·œí™” í‚¤ -&gt; LLM ëª¨ë¸ dict
</span>
    <span class="k">def</span> <span class="nf">_read_text</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">path</span><span class="p">,</span> <span class="sh">"</span><span class="s">rb</span><span class="sh">"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">f</span><span class="p">.</span><span class="nf">read</span><span class="p">().</span><span class="nf">decode</span><span class="p">(</span><span class="sh">"</span><span class="s">utf-8</span><span class="sh">"</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_build_index_llm</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="sh">"""</span><span class="s">[llm_models] ì„¹ì…˜ë§Œ ì¸ë±ì‹±. ë‹¤ë¥¸ ì„¹ì…˜ì€ ê·¸ëŒ€ë¡œ self._rawì— ë³´ì¡´.</span><span class="sh">"""</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_index</span><span class="p">.</span><span class="nf">clear</span><span class="p">()</span>
        <span class="n">models</span> <span class="o">=</span> <span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">llm_models</span><span class="sh">"</span><span class="p">)</span> <span class="ow">or</span> <span class="p">{})</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">models</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="k">return</span>

        <span class="k">for</span> <span class="n">model_key</span><span class="p">,</span> <span class="n">cfg</span> <span class="ow">in</span> <span class="n">models</span><span class="p">.</span><span class="nf">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">cfg</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
                <span class="k">continue</span>

            <span class="c1"># í™˜ê²½ë³€ìˆ˜ ì¹˜í™˜
</span>            <span class="n">cfg</span> <span class="o">=</span> <span class="nf">_expand_env_vars</span><span class="p">(</span><span class="n">cfg</span><span class="p">)</span>

            <span class="c1"># í•„ìˆ˜ í•„ë“œ ì²´í¬
</span>            <span class="n">required</span> <span class="o">=</span> <span class="p">[</span><span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">request_model</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">api_key</span><span class="sh">"</span><span class="p">]</span>
            <span class="n">missing</span> <span class="o">=</span> <span class="p">[</span><span class="n">k</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">required</span> <span class="k">if</span> <span class="n">k</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">cfg</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">[</span><span class="n">k</span><span class="p">]).</span><span class="nf">strip</span><span class="p">()]</span>
            <span class="k">if</span> <span class="n">missing</span><span class="p">:</span>
                <span class="c1"># ë¶ˆì™„ì „ í•­ëª©ì€ ìŠ¤í‚µ
</span>                <span class="k">continue</span>

            <span class="c1"># ì ‘ê·¼ í‚¤(ëª¨ë¸í‚¤/í‘œì‹œëª…/ìš”ì²­ëª¨ë¸) ì¸ë±ì‹±
</span>            <span class="n">candidates</span> <span class="o">=</span> <span class="p">{</span>
                <span class="nf">str</span><span class="p">(</span><span class="n">model_key</span><span class="p">),</span>
                <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">,</span> <span class="sh">""</span><span class="p">)),</span>
                <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">request_model</span><span class="sh">"</span><span class="p">,</span> <span class="sh">""</span><span class="p">)),</span>
            <span class="p">}</span>
            <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="nf">filter</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="n">candidates</span><span class="p">):</span>
                <span class="n">self</span><span class="p">.</span><span class="n">_index</span><span class="p">[</span><span class="nf">_normalize_key</span><span class="p">(</span><span class="n">c</span><span class="p">)]</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">:</span> <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">[</span><span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">]),</span>
                    <span class="sh">"</span><span class="s">request_model</span><span class="sh">"</span><span class="p">:</span> <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">[</span><span class="sh">"</span><span class="s">request_model</span><span class="sh">"</span><span class="p">]),</span>
                    <span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">:</span> <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">[</span><span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">]),</span>
                    <span class="sh">"</span><span class="s">api_key</span><span class="sh">"</span><span class="p">:</span> <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">[</span><span class="sh">"</span><span class="s">api_key</span><span class="sh">"</span><span class="p">]),</span>
                <span class="p">}</span>

    <span class="k">def</span> <span class="nf">_reload_locked</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">txt</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="nf">_read_text</span><span class="p">()</span>
        <span class="n">data</span> <span class="o">=</span> <span class="nf">_TOML_LOADS</span><span class="p">(</span><span class="n">txt</span><span class="p">)</span>

        <span class="c1"># refresh_interval_seconds (ìµœì†Œ 5, ìµœëŒ€ 60) + env override(ì¼ë°˜/í•˜ìœ„í˜¸í™˜)
</span>        <span class="n">conf_val</span> <span class="o">=</span> <span class="nf">int</span><span class="p">((</span><span class="n">data</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">settings</span><span class="sh">"</span><span class="p">)</span> <span class="ow">or</span> <span class="p">{}).</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">refresh_interval_seconds</span><span class="sh">"</span><span class="p">,</span> <span class="mi">30</span><span class="p">))</span>
        <span class="n">conf_val</span> <span class="o">=</span> <span class="nf">max</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="nf">min</span><span class="p">(</span><span class="mi">60</span><span class="p">,</span> <span class="n">conf_val</span><span class="p">))</span>
        <span class="n">env_override</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">os</span><span class="p">.</span><span class="n">environ</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">COMFY_CONFIG_REFRESH_SECONDS</span><span class="sh">"</span><span class="p">)</span>
            <span class="ow">or</span> <span class="n">os</span><span class="p">.</span><span class="n">environ</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">LLM_CONFIG_REFRESH_SECONDS</span><span class="sh">"</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">env_override</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">conf_val</span> <span class="o">=</span> <span class="nf">max</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="nf">min</span><span class="p">(</span><span class="mi">60</span><span class="p">,</span> <span class="nf">int</span><span class="p">(</span><span class="n">env_override</span><span class="p">)))</span>
            <span class="k">except</span> <span class="nb">ValueError</span><span class="p">:</span>
                <span class="k">pass</span>

        <span class="n">self</span><span class="p">.</span><span class="n">_refresh_interval</span> <span class="o">=</span> <span class="n">conf_val</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_raw</span> <span class="o">=</span> <span class="nf">_expand_env_vars</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">_build_index_llm</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">_raw</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_loaded_at</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">self</span><span class="p">.</span><span class="n">_last_mtime</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">getmtime</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">path</span><span class="p">)</span>
        <span class="k">except</span> <span class="nb">FileNotFoundError</span><span class="p">:</span>
            <span class="n">self</span><span class="p">.</span><span class="n">_last_mtime</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1.0</span>

    <span class="k">def</span> <span class="nf">_stale_or_changed</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">mtime</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">getmtime</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">path</span><span class="p">)</span>
        <span class="k">except</span> <span class="nb">FileNotFoundError</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">True</span>
        <span class="n">now</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span>
        <span class="nf">return </span><span class="p">(</span><span class="n">mtime</span> <span class="o">!=</span> <span class="n">self</span><span class="p">.</span><span class="n">_last_mtime</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">now</span> <span class="o">-</span> <span class="n">self</span><span class="p">.</span><span class="n">_loaded_at</span> <span class="o">&gt;=</span> <span class="n">self</span><span class="p">.</span><span class="n">_refresh_interval</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_ensure_loaded</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">with</span> <span class="n">self</span><span class="p">.</span><span class="n">_lock</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">self</span><span class="p">.</span><span class="n">_loaded_at</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">self</span><span class="p">.</span><span class="nf">_stale_or_changed</span><span class="p">():</span>
                <span class="n">self</span><span class="p">.</span><span class="nf">_reload_locked</span><span class="p">()</span>

    <span class="c1"># â”€â”€ LLM ì „ìš© í—¬í¼ (ê¸°ì¡´ API ìœ ì§€) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
</span>    <span class="k">def</span> <span class="nf">get_llm_model</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">key</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nf">str</span><span class="p">(</span><span class="n">key</span><span class="p">).</span><span class="nf">strip</span><span class="p">():</span>
            <span class="k">raise</span> <span class="nc">KeyError</span><span class="p">(</span><span class="sh">"</span><span class="s">model key is empty</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">_ensure_loaded</span><span class="p">()</span>
        <span class="n">hit</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">_index</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="nf">_normalize_key</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">hit</span><span class="p">:</span>
            <span class="c1"># ê°±ì‹  ì§€ì—° ê°€ëŠ¥ì„± â†’ ê°•ì œ ë¦¬ë¡œë“œ 1íšŒ ì¬ì‹œë„
</span>            <span class="k">with</span> <span class="n">self</span><span class="p">.</span><span class="n">_lock</span><span class="p">:</span>
                <span class="n">self</span><span class="p">.</span><span class="nf">_reload_locked</span><span class="p">()</span>
                <span class="n">hit</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">_index</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="nf">_normalize_key</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">hit</span><span class="p">:</span>
            <span class="k">raise</span> <span class="nc">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">model not found: </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">hit</span>

    <span class="k">def</span> <span class="nf">list_llm_models</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]:</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">_ensure_loaded</span><span class="p">()</span>
        <span class="n">out</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">self</span><span class="p">.</span><span class="n">_index</span><span class="p">.</span><span class="nf">items</span><span class="p">():</span>
            <span class="n">dn</span> <span class="o">=</span> <span class="n">v</span><span class="p">[</span><span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">]</span>
            <span class="n">out</span><span class="p">[</span><span class="n">dn</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                <span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">:</span> <span class="n">v</span><span class="p">[</span><span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">],</span>
                <span class="sh">"</span><span class="s">request_model</span><span class="sh">"</span><span class="p">:</span> <span class="n">v</span><span class="p">[</span><span class="sh">"</span><span class="s">request_model</span><span class="sh">"</span><span class="p">],</span>
                <span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">:</span> <span class="n">v</span><span class="p">[</span><span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">],</span>
                <span class="c1"># api_keyëŠ” ë³´ì•ˆìƒ ë¯¸ë…¸ì¶œ
</span>            <span class="p">}</span>
        <span class="k">return</span> <span class="n">out</span>

    <span class="c1"># â”€â”€ ë²”ìš© ì ‘ê·¼(ì˜µì…˜): ì›ë³¸ íŠ¸ë¦¬ì—ì„œ ì„ì˜ ì„¹ì…˜ ì½ê¸° â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
</span>    <span class="k">def</span> <span class="nf">get_raw_config</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="sh">"""</span><span class="s">ì „ì²´ ì„¤ì • íŠ¸ë¦¬ë¥¼ ê·¸ëŒ€ë¡œ(ENV í™•ì¥ í›„) ë°˜í™˜. ì½ê¸° ì „ìš©.</span><span class="sh">"""</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">_ensure_loaded</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="n">_raw</span>

<span class="c1"># ì „ì—­ ì‹±ê¸€í†¤
</span><span class="n">_CONFIG</span> <span class="o">=</span> <span class="nc">ReadOnlyConfig</span><span class="p">()</span>

<span class="c1"># ===== ComfyUI Custom Nodes =====
</span><span class="k">class</span> <span class="nc">LLMConfigLookup</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">
    ì…ë ¥: model_key (ë¬¸ìì—´) â€” </span><span class="sh">"</span><span class="s">gpt-4o-mini</span><span class="sh">"</span><span class="s"> / </span><span class="sh">"</span><span class="s">GPT-4o mini</span><span class="sh">"</span><span class="s"> / </span><span class="sh">"</span><span class="s">gpt-4o-mini</span><span class="sh">"</span><span class="s">(request_model)
    ì¶œë ¥: display_name, request_model, base_url, api_key
    </span><span class="sh">"""</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">INPUT_TYPES</span><span class="p">(</span><span class="n">cls</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="sh">"</span><span class="s">required</span><span class="sh">"</span><span class="p">:</span> <span class="p">{</span><span class="sh">"</span><span class="s">model_key</span><span class="sh">"</span><span class="p">:</span> <span class="p">(</span><span class="sh">"</span><span class="s">STRING</span><span class="sh">"</span><span class="p">,</span> <span class="p">{</span><span class="sh">"</span><span class="s">default</span><span class="sh">"</span><span class="p">:</span> <span class="sh">""</span><span class="p">,</span> <span class="sh">"</span><span class="s">multiline</span><span class="sh">"</span><span class="p">:</span> <span class="bp">False</span><span class="p">})}}</span>

    <span class="n">RETURN_TYPES</span> <span class="o">=</span> <span class="p">(</span><span class="sh">"</span><span class="s">STRING</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">STRING</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">STRING</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">STRING</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">RETURN_NAMES</span> <span class="o">=</span> <span class="p">(</span><span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">request_model</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">api_key</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">FUNCTION</span> <span class="o">=</span> <span class="sh">"</span><span class="s">lookup</span><span class="sh">"</span>
    <span class="n">CATEGORY</span> <span class="o">=</span> <span class="sh">"</span><span class="s">LLM/Config</span><span class="sh">"</span>

    <span class="k">def</span> <span class="nf">lookup</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">model_key</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">m</span> <span class="o">=</span> <span class="n">_CONFIG</span><span class="p">.</span><span class="nf">get_llm_model</span><span class="p">(</span><span class="n">model_key</span><span class="p">)</span>
        <span class="k">except</span> <span class="nb">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="nc">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">[LLMConfigLookup] </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="nf">return </span><span class="p">(</span><span class="n">m</span><span class="p">[</span><span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">],</span> <span class="n">m</span><span class="p">[</span><span class="sh">"</span><span class="s">request_model</span><span class="sh">"</span><span class="p">],</span> <span class="n">m</span><span class="p">[</span><span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">],</span> <span class="n">m</span><span class="p">[</span><span class="sh">"</span><span class="s">api_key</span><span class="sh">"</span><span class="p">])</span>

<span class="k">class</span> <span class="nc">LLMConfigListModels</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">ë””ë²„ê·¸ìš©: ì‚¬ìš© ê°€ëŠ¥í•œ LLM ëª¨ë¸ ëª©ë¡(JSON) ë°˜í™˜ (API Key ë¯¸í¬í•¨).</span><span class="sh">"""</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">INPUT_TYPES</span><span class="p">(</span><span class="n">cls</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="sh">"</span><span class="s">required</span><span class="sh">"</span><span class="p">:</span> <span class="p">{}}</span>

    <span class="n">RETURN_TYPES</span> <span class="o">=</span> <span class="p">(</span><span class="sh">"</span><span class="s">STRING</span><span class="sh">"</span><span class="p">,)</span>
    <span class="n">RETURN_NAMES</span> <span class="o">=</span> <span class="p">(</span><span class="sh">"</span><span class="s">models_json</span><span class="sh">"</span><span class="p">,)</span>
    <span class="n">FUNCTION</span> <span class="o">=</span> <span class="sh">"</span><span class="s">list_models</span><span class="sh">"</span>
    <span class="n">CATEGORY</span> <span class="o">=</span> <span class="sh">"</span><span class="s">LLM/Config</span><span class="sh">"</span>

    <span class="k">def</span> <span class="nf">list_models</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="kn">import</span> <span class="n">json</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">_CONFIG</span><span class="p">.</span><span class="nf">list_llm_models</span><span class="p">()</span>
        <span class="nf">return </span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="nf">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">),)</span>

<span class="c1"># (ì„ íƒ) ë²”ìš© ì¡°íšŒ ë…¸ë“œ: ì„ì˜ ê²½ë¡œë¥¼ JSONPath ìœ ì‚¬ í‚¤ë¡œ ì¡°íšŒí•˜ê³  STRING ë°˜í™˜
</span><span class="k">class</span> <span class="nc">ConfigGetRawJSON</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">
    ì˜ˆ) path=</span><span class="sh">"</span><span class="s">feature_flags.use_cache</span><span class="sh">"</span><span class="s"> â†’ </span><span class="sh">"</span><span class="s">true</span><span class="sh">"</span><span class="s">
        path=</span><span class="sh">"</span><span class="s">storage.s3.region</span><span class="sh">"</span><span class="s"> â†’ </span><span class="sh">"</span><span class="s">ap-northeast-2</span><span class="sh">"</span><span class="s">
    </span><span class="sh">"""</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">INPUT_TYPES</span><span class="p">(</span><span class="n">cls</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="sh">"</span><span class="s">required</span><span class="sh">"</span><span class="p">:</span> <span class="p">{</span><span class="sh">"</span><span class="s">path</span><span class="sh">"</span><span class="p">:</span> <span class="p">(</span><span class="sh">"</span><span class="s">STRING</span><span class="sh">"</span><span class="p">,</span> <span class="p">{</span><span class="sh">"</span><span class="s">default</span><span class="sh">"</span><span class="p">:</span> <span class="sh">""</span><span class="p">,</span> <span class="sh">"</span><span class="s">multiline</span><span class="sh">"</span><span class="p">:</span> <span class="bp">False</span><span class="p">})}}</span>

    <span class="n">RETURN_TYPES</span> <span class="o">=</span> <span class="p">(</span><span class="sh">"</span><span class="s">STRING</span><span class="sh">"</span><span class="p">,)</span>
    <span class="n">RETURN_NAMES</span> <span class="o">=</span> <span class="p">(</span><span class="sh">"</span><span class="s">value</span><span class="sh">"</span><span class="p">,)</span>
    <span class="n">FUNCTION</span> <span class="o">=</span> <span class="sh">"</span><span class="s">get_raw</span><span class="sh">"</span>
    <span class="n">CATEGORY</span> <span class="o">=</span> <span class="sh">"</span><span class="s">LLM/Config</span><span class="sh">"</span>

    <span class="k">def</span> <span class="nf">get_raw</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="kn">import</span> <span class="n">json</span>
        <span class="k">def</span> <span class="nf">get_in</span><span class="p">(</span><span class="n">d</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">dotted</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">cur</span> <span class="o">=</span> <span class="n">d</span>
            <span class="k">for</span> <span class="n">part</span> <span class="ow">in</span> <span class="nf">filter</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="n">dotted</span><span class="p">.</span><span class="nf">split</span><span class="p">(</span><span class="sh">"</span><span class="s">.</span><span class="sh">"</span><span class="p">)):</span>
                <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">cur</span><span class="p">,</span> <span class="nb">dict</span><span class="p">)</span> <span class="ow">and</span> <span class="n">part</span> <span class="ow">in</span> <span class="n">cur</span><span class="p">:</span>
                    <span class="n">cur</span> <span class="o">=</span> <span class="n">cur</span><span class="p">[</span><span class="n">part</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="nc">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">config path not found: </span><span class="si">{</span><span class="n">dotted</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">cur</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">raw</span> <span class="o">=</span> <span class="n">_CONFIG</span><span class="p">.</span><span class="nf">get_raw_config</span><span class="p">()</span>
            <span class="n">val</span> <span class="o">=</span> <span class="nf">get_in</span><span class="p">(</span><span class="n">raw</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span> <span class="k">if</span> <span class="n">path</span> <span class="k">else</span> <span class="n">raw</span>
            <span class="c1"># ìŠ¤ì¹¼ë¼ë©´ ë¬¸ìì—´í™”, ê·¸ ì™¸ì—” JSON ë¬¸ìì—´ë¡œ ë°˜í™˜
</span>            <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">bool</span><span class="p">))</span> <span class="ow">or</span> <span class="n">val</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
                <span class="nf">return </span><span class="p">(</span><span class="nf">str</span><span class="p">(</span><span class="n">val</span><span class="p">),)</span>
            <span class="nf">return </span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="nf">dumps</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">),)</span>
        <span class="k">except</span> <span class="nb">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="nc">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">[ConfigGetRawJSON] </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>

<span class="n">NODE_CLASS_MAPPINGS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="sh">"</span><span class="s">LLMConfigLookup</span><span class="sh">"</span><span class="p">:</span> <span class="n">LLMConfigLookup</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">LLMConfigListModels</span><span class="sh">"</span><span class="p">:</span> <span class="n">LLMConfigListModels</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">ConfigGetRawJSON</span><span class="sh">"</span><span class="p">:</span> <span class="n">ConfigGetRawJSON</span><span class="p">,</span>  <span class="c1"># â† ë²”ìš© ì½ê¸° ë…¸ë“œ(ì„ íƒ)
</span><span class="p">}</span>

<span class="n">NODE_DISPLAY_NAME_MAPPINGS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="sh">"</span><span class="s">LLMConfigLookup</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">LLM: Config Lookup (ReadOnly)</span><span class="sh">"</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">LLMConfigListModels</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">LLM: List Models (ReadOnly)</span><span class="sh">"</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">ConfigGetRawJSON</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">Config: Get Raw JSON (ReadOnly)</span><span class="sh">"</span><span class="p">,</span>
<span class="p">}</span>
</code></pre></div></div>

<blockquote>
  <p>ë…¸ë“œ/íŒ¨í‚¤ì§€ëª…ì€ ê·¸ëŒ€ë¡œ ë‘ê³ , <strong>íŒŒì¼ëª…/í™˜ê²½ë³€ìˆ˜/ë¡œë”</strong> ë§Œ ì¼ë°˜í™”í–ˆìŠµë‹ˆë‹¤. ì›í•˜ì‹œë©´ íŒ¨í‚¤ì§€/ë…¸ë“œ ì´ë¦„ë„ <code class="language-plaintext highlighter-rouge">comfyui_config_reader</code>ë¡œ ë¦¬ë„¤ì„í•´ ë“œë¦´ ìˆ˜ ìˆì–´ìš”.</p>
</blockquote>

<hr />

<h1 id="ì‚¬ìš©-ë°©ë²•-ìš”ì•½">ì‚¬ìš© ë°©ë²• (ìš”ì•½)</h1>

<ol>
  <li>
    <p><code class="language-plaintext highlighter-rouge">config.toml</code>ë¡œ ì„¤ì • ì €ì¥(ë²”ìš© ì„¹ì…˜ ììœ  ì¶”ê°€ ê°€ëŠ¥).</p>
  </li>
  <li>
    <p>í•„ìš” ì‹œ ê²½ë¡œ ì˜¤ë²„ë¼ì´ë“œ: <code class="language-plaintext highlighter-rouge">COMFY_CONFIG_PATH=/abs/path/to/config.toml</code></p>
  </li>
  <li>
    <p>ìƒˆë¡œê³ ì¹¨ ì£¼ê¸° ì¡°ì •: <code class="language-plaintext highlighter-rouge">COMFY_CONFIG_REFRESH_SECONDS=10</code> (5~60 ìœ íš¨)</p>
  </li>
  <li>
    <p>ComfyUIì—ì„œ</p>

    <ul>
      <li>
        <p><strong>LLM: Config Lookup</strong> â†’ LLM ì—”ë“œí¬ì¸íŠ¸ 4ì¢… ê°’ ì¶œë ¥</p>
      </li>
      <li>
        <p><strong>Config: Get Raw JSON</strong> â†’ ì„ì˜ ì„¤ì • ê°’ ì½ê¸° (ì˜ˆ: <code class="language-plaintext highlighter-rouge">feature_flags.use_cache</code>)</p>
      </li>
    </ul>
  </li>
  <li>
    <p>íŒŒì¼ì„ ìˆ˜ì •í•˜ë©´ <strong>ìµœëŒ€ 1ë¶„ ë‚´</strong>(ê¸°ë³¸ 30ì´ˆ) ë°˜ì˜ë©ë‹ˆë‹¤.</p>
  </li>
</ol>

<p>í•„ìš”í•˜ë©´ í´ë”/ë…¸ë“œ ì´ë¦„ê¹Œì§€ â€œLLMâ€ì„ ë¹¼ê³  ì „ë©´ ë¦¬ë„¤ì´ë°í•œ ë²„ì „ë„ ë§Œë“¤ì–´ ë“œë¦´ê²Œìš”.</p>

<p class="chat--user">

ì‘ ë‹¤ ë¹¼ì¤˜

</p>

<p>ì¢‹ì•„â€”ì´ì œ â€œLLMâ€ í”ì  ì „ë¶€ ëºì–´ìš”. íŒ¨í‚¤ì§€/ë…¸ë“œ/í™˜ê²½ë³€ìˆ˜/ì¹´í…Œê³ ë¦¬/í•„ë“œ ì´ë¦„ê¹Œì§€ ì „ë¶€ <strong>ë²”ìš©(config/endpoint)</strong>ìœ¼ë¡œ ë°”ê¾¼ ìµœì¢…ë³¸ì„ ë“œë¦½ë‹ˆë‹¤. ê·¸ëŒ€ë¡œ ë„£ìœ¼ë©´ ì‘ë™í•©ë‹ˆë‹¤.</p>

<hr />

<h1 id="0-í•œëˆˆì—-ë³´ê¸°-step-by-step">0) í•œëˆˆì— ë³´ê¸° (step-by-step)</h1>

<ol>
  <li>
    <p><strong>í´ë”ëª… ë³€ê²½</strong> : <code class="language-plaintext highlighter-rouge">comfyui_config_reader</code> (ì´ì „ í´ë” ì‚­ì œí•´ë„ ë¨)</p>
  </li>
  <li>
    <p><strong>ì„¤ì • íŒŒì¼ëª…</strong> : <code class="language-plaintext highlighter-rouge">config.toml</code></p>
  </li>
  <li>
    <p><strong>í™˜ê²½ë³€ìˆ˜</strong> :</p>

    <ul>
      <li>
        <p>ê²½ë¡œ: <code class="language-plaintext highlighter-rouge">COMFY_CONFIG_PATH</code></p>
      </li>
      <li>
        <p>ìƒˆë¡œê³ ì¹¨: <code class="language-plaintext highlighter-rouge">COMFY_CONFIG_REFRESH_SECONDS</code> (5~60ì´ˆ)</p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>ì„¹ì…˜ ì´ë¦„</strong> : <code class="language-plaintext highlighter-rouge">[endpoints."&lt;í‚¤&gt;"]</code> (í•„ë“œ: <code class="language-plaintext highlighter-rouge">display_name</code>, <code class="language-plaintext highlighter-rouge">request_name</code>, <code class="language-plaintext highlighter-rouge">base_url</code>, <code class="language-plaintext highlighter-rouge">api_key</code>)</p>
  </li>
  <li>
    <p><strong>ë…¸ë“œ ì´ë¦„</strong> :</p>

    <ul>
      <li>
        <p><code class="language-plaintext highlighter-rouge">ConfigEndpointLookup</code> (ì—”ë“œí¬ì¸íŠ¸ 4ì¢… ê°’ ë°˜í™˜)</p>
      </li>
      <li>
        <p><code class="language-plaintext highlighter-rouge">ConfigListEndpoints</code> (ì—”ë“œí¬ì¸íŠ¸ ëª©ë¡ JSON)</p>
      </li>
      <li>
        <p><code class="language-plaintext highlighter-rouge">ConfigGetValue</code> (ì„ì˜ ê²½ë¡œ ê°’ ê°€ì ¸ì˜¤ê¸°)</p>
      </li>
    </ul>
  </li>
</ol>

<hr />

<h1 id="1-ë””ë ‰í† ë¦¬-êµ¬ì¡°">1) ë””ë ‰í† ë¦¬ êµ¬ì¡°</h1>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ComfyUI/
â””â”€ custom_nodes/
   â””â”€ comfyui_config_reader/
      â”œâ”€ __init__.py
      â”œâ”€ config_reader.py       <span class="c"># ì»¤ìŠ¤í…€ ë…¸ë“œ + ì½ê¸° ì „ìš© ë¡œë”</span>
      â””â”€ config.toml            <span class="c"># ì‚¬ëŒì´ í¸ì§‘í•˜ê¸° ì‰¬ìš´ TOML</span>
</code></pre></div></div>

<hr />

<h1 id="2-ì˜ˆì‹œ-configtoml-ë²”ìš©">2) ì˜ˆì‹œ <code class="language-plaintext highlighter-rouge">config.toml</code> (ë²”ìš©)</h1>
<div class="language-toml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="py">version</span> <span class="p">=</span> <span class="mi">1</span>

<span class="nn">[settings]</span>
<span class="c"># íŒŒì¼ ë³€ê²½ ë°˜ì˜ ì£¼ê¸°(ì´ˆ). "1ë¶„ ë‚´ ë°˜ì˜" ìš”ê±´ â†’ ê¸°ë³¸ 30ì´ˆ.</span>
<span class="py">refresh_interval_seconds</span> <span class="p">=</span> <span class="mi">30</span>

<span class="c"># â”€â”€ ì—”ë“œí¬ì¸íŠ¸(ì˜ˆ: í…ìŠ¤íŠ¸ ëª¨ë¸, ì„ë² ë”© ì„œë¹„ìŠ¤, ì‚¬ë‚´ API ë“±) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span>
<span class="nn">[endpoints."text-model-a"]</span>
<span class="py">display_name</span>  <span class="p">=</span> <span class="s">"Text Model A"</span>
<span class="py">request_name</span>  <span class="p">=</span> <span class="s">"gpt-4o-mini"</span>         <span class="c"># ì‹¤ì œ ìš”ì²­ì— ì“¸ ì‹ë³„ì/ëª¨ë¸ëª…/ë²„ì „ ë“±</span>
<span class="py">base_url</span>      <span class="p">=</span> <span class="s">"https://api.openai.com/v1"</span>
<span class="py">api_key</span>       <span class="p">=</span> <span class="s">"${OPENAI_API_KEY}"</span>   <span class="c"># í™˜ê²½ë³€ìˆ˜ ì¹˜í™˜ ì§€ì›</span>

<span class="nn">[endpoints."text-model-b"]</span>
<span class="py">display_name</span>  <span class="p">=</span> <span class="s">"Text Model B"</span>
<span class="py">request_name</span>  <span class="p">=</span> <span class="s">"claude-3-5-sonnet"</span>
<span class="py">base_url</span>      <span class="p">=</span> <span class="s">"https://api.anthropic.com"</span>
<span class="py">api_key</span>       <span class="p">=</span> <span class="s">"${ANTHROPIC_API_KEY}"</span>

<span class="c"># â”€â”€ ë‹¤ë¥¸ ë²”ìš© ì„¤ì •ë“¤ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span>
<span class="nn">[feature_flags]</span>
<span class="py">use_cache</span> <span class="p">=</span> <span class="kc">true</span>
<span class="py">show_beta</span> <span class="p">=</span> <span class="kc">false</span>

<span class="nn">[storage.s3]</span>
<span class="py">bucket</span> <span class="p">=</span> <span class="s">"my-bucket"</span>
<span class="py">region</span> <span class="p">=</span> <span class="s">"ap-northeast-2"</span>
<span class="py">access_key</span> <span class="p">=</span> <span class="s">"${S3_ACCESS_KEY}"</span>
<span class="py">secret_key</span> <span class="p">=</span> <span class="s">"${S3_SECRET_KEY}"</span>
</code></pre></div></div>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">${ENV}</code> í‘œê¸°ëŠ” í™˜ê²½ë³€ìˆ˜ë¡œ ìë™ ì¹˜í™˜ë©ë‹ˆë‹¤.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">endpoints."&lt;í‚¤&gt;"</code>ì˜ <code class="language-plaintext highlighter-rouge">&lt;í‚¤&gt;</code>ë¡œ, <code class="language-plaintext highlighter-rouge">display_name</code>Â·<code class="language-plaintext highlighter-rouge">request_name</code> ê¹Œì§€ <strong>ëª¨ë‘ ì¡°íšŒ í‚¤</strong> ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ìš”.</p>
  </li>
</ul>

<hr />

<h1 id="3-ì½”ë“œ-config_readerpy">3) ì½”ë“œ: <code class="language-plaintext highlighter-rouge">config_reader.py</code></h1>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">os</span>
<span class="kn">import</span> <span class="n">time</span>
<span class="kn">import</span> <span class="n">threading</span>
<span class="kn">from</span> <span class="n">typing</span> <span class="kn">import</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Optional</span>

<span class="c1"># Python 3.11+ tomllib / 3.10-: tomli
</span><span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span> <span class="n">tomllib</span>  <span class="c1"># type: ignore
</span>    <span class="n">_TOML_LOADS</span> <span class="o">=</span> <span class="n">tomllib</span><span class="p">.</span><span class="n">loads</span>
<span class="k">except</span> <span class="nb">Exception</span><span class="p">:</span>
    <span class="kn">import</span> <span class="n">tomli</span>  <span class="c1"># type: ignore
</span>    <span class="n">_TOML_LOADS</span> <span class="o">=</span> <span class="n">tomli</span><span class="p">.</span><span class="n">loads</span>

<span class="k">def</span> <span class="nf">_expand_env_vars</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">ë¬¸ìì—´ ë‚´ ${ENV} íŒ¨í„´ì„ í™˜ê²½ë³€ìˆ˜ë¡œ ì¹˜í™˜. ê·¸ ì™¸ íƒ€ì…ì€ ê·¸ëŒ€ë¡œ.</span><span class="sh">"""</span>
    <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">out</span><span class="p">,</span> <span class="n">i</span> <span class="o">=</span> <span class="sh">""</span><span class="p">,</span> <span class="mi">0</span>
        <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="nf">len</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">:</span><span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="sh">"</span><span class="s">${</span><span class="sh">"</span><span class="p">:</span>
                <span class="n">j</span> <span class="o">=</span> <span class="n">value</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="sh">"</span><span class="s">}</span><span class="sh">"</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">j</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                    <span class="n">env_name</span> <span class="o">=</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="p">:</span><span class="n">j</span><span class="p">]</span>
                    <span class="n">out</span> <span class="o">+=</span> <span class="n">os</span><span class="p">.</span><span class="n">environ</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="n">env_name</span><span class="p">,</span> <span class="sh">""</span><span class="p">)</span>
                    <span class="n">i</span> <span class="o">=</span> <span class="n">j</span> <span class="o">+</span> <span class="mi">1</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">out</span> <span class="o">+=</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                    <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">out</span> <span class="o">+=</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="n">out</span>
    <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="nf">_expand_env_vars</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">value</span><span class="p">.</span><span class="nf">items</span><span class="p">()}</span>
    <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">[</span><span class="nf">_expand_env_vars</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">value</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">value</span>

<span class="k">def</span> <span class="nf">_norm</span><span class="p">(</span><span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">return</span> <span class="nf">str</span><span class="p">(</span><span class="n">s</span><span class="p">).</span><span class="nf">strip</span><span class="p">().</span><span class="nf">lower</span><span class="p">()</span>

<span class="k">class</span> <span class="nc">ReadOnlyConfig</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">
    - TOMLì„ ì½ì–´ ë©”ëª¨ë¦¬ì— ìºì‹œ
    - mtime/TTL(ìµœì†Œ 5s, ìµœëŒ€ 60s)ë¡œ ìë™ ì¬ë¡œë“œ
    - íŒŒì¼ ì“°ê¸° ì—†ìŒ(read-only)
    - íŒŒì¼ ê²°ì • ìš°ì„ ìˆœìœ„:  (1) ì¸ì path &gt; (2) COMFY_CONFIG_PATH &gt; (3) ./config.toml
    </span><span class="sh">"""</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">):</span>
        <span class="n">here</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">dirname</span><span class="p">(</span><span class="n">__file__</span><span class="p">)</span>
        <span class="n">chosen</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">path</span>
            <span class="ow">or</span> <span class="n">os</span><span class="p">.</span><span class="n">environ</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">COMFY_CONFIG_PATH</span><span class="sh">"</span><span class="p">)</span>
            <span class="ow">or</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="n">here</span><span class="p">,</span> <span class="sh">"</span><span class="s">config.toml</span><span class="sh">"</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">path</span> <span class="o">=</span> <span class="n">chosen</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_lock</span> <span class="o">=</span> <span class="n">threading</span><span class="p">.</span><span class="nc">Lock</span><span class="p">()</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_loaded_at</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.0</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_last_mtime</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1.0</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_refresh_interval</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">30</span>  <span class="c1"># ê¸°ë³¸ 30ì´ˆ(&lt;=60s ìš”ê±´ ì¶©ì¡±)
</span>        <span class="n">self</span><span class="p">.</span><span class="n">_raw</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_endpoint_index</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># ì •ê·œí™” í‚¤ -&gt; endpoint dict
</span>
    <span class="k">def</span> <span class="nf">_read_text</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">path</span><span class="p">,</span> <span class="sh">"</span><span class="s">rb</span><span class="sh">"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">f</span><span class="p">.</span><span class="nf">read</span><span class="p">().</span><span class="nf">decode</span><span class="p">(</span><span class="sh">"</span><span class="s">utf-8</span><span class="sh">"</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_build_index_endpoints</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_endpoint_index</span><span class="p">.</span><span class="nf">clear</span><span class="p">()</span>
        <span class="n">eps</span> <span class="o">=</span> <span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">endpoints</span><span class="sh">"</span><span class="p">)</span> <span class="ow">or</span> <span class="p">{})</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">eps</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="k">return</span>

        <span class="k">for</span> <span class="n">ep_key</span><span class="p">,</span> <span class="n">cfg</span> <span class="ow">in</span> <span class="n">eps</span><span class="p">.</span><span class="nf">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">cfg</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
                <span class="k">continue</span>

            <span class="n">cfg</span> <span class="o">=</span> <span class="nf">_expand_env_vars</span><span class="p">(</span><span class="n">cfg</span><span class="p">)</span>

            <span class="c1"># í•„ìˆ˜ í•„ë“œ
</span>            <span class="n">required</span> <span class="o">=</span> <span class="p">[</span><span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">request_name</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">api_key</span><span class="sh">"</span><span class="p">]</span>
            <span class="n">missing</span> <span class="o">=</span> <span class="p">[</span><span class="n">k</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">required</span> <span class="k">if</span> <span class="n">k</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">cfg</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">[</span><span class="n">k</span><span class="p">]).</span><span class="nf">strip</span><span class="p">()]</span>
            <span class="k">if</span> <span class="n">missing</span><span class="p">:</span>
                <span class="c1"># ë¶ˆì™„ì „ í•­ëª©ì€ ìŠ¤í‚µ
</span>                <span class="k">continue</span>

            <span class="c1"># ì ‘ê·¼ í‚¤: ì •ì˜ í‚¤ / display_name / request_name
</span>            <span class="n">candidates</span> <span class="o">=</span> <span class="p">{</span>
                <span class="nf">str</span><span class="p">(</span><span class="n">ep_key</span><span class="p">),</span>
                <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">,</span> <span class="sh">""</span><span class="p">)),</span>
                <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">request_name</span><span class="sh">"</span><span class="p">,</span> <span class="sh">""</span><span class="p">)),</span>
            <span class="p">}</span>
            <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="nf">filter</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="n">candidates</span><span class="p">):</span>
                <span class="n">self</span><span class="p">.</span><span class="n">_endpoint_index</span><span class="p">[</span><span class="nf">_norm</span><span class="p">(</span><span class="n">c</span><span class="p">)]</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">:</span> <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">[</span><span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">]),</span>
                    <span class="sh">"</span><span class="s">request_name</span><span class="sh">"</span><span class="p">:</span> <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">[</span><span class="sh">"</span><span class="s">request_name</span><span class="sh">"</span><span class="p">]),</span>
                    <span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">:</span> <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">[</span><span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">]),</span>
                    <span class="sh">"</span><span class="s">api_key</span><span class="sh">"</span><span class="p">:</span> <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">[</span><span class="sh">"</span><span class="s">api_key</span><span class="sh">"</span><span class="p">]),</span>
                <span class="p">}</span>

    <span class="k">def</span> <span class="nf">_reload_locked</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">txt</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="nf">_read_text</span><span class="p">()</span>
        <span class="n">data</span> <span class="o">=</span> <span class="nf">_TOML_LOADS</span><span class="p">(</span><span class="n">txt</span><span class="p">)</span>

        <span class="c1"># refresh_interval_seconds (5~60) + env override
</span>        <span class="n">conf_val</span> <span class="o">=</span> <span class="nf">int</span><span class="p">((</span><span class="n">data</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">settings</span><span class="sh">"</span><span class="p">)</span> <span class="ow">or</span> <span class="p">{}).</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">refresh_interval_seconds</span><span class="sh">"</span><span class="p">,</span> <span class="mi">30</span><span class="p">))</span>
        <span class="n">conf_val</span> <span class="o">=</span> <span class="nf">max</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="nf">min</span><span class="p">(</span><span class="mi">60</span><span class="p">,</span> <span class="n">conf_val</span><span class="p">))</span>
        <span class="n">env_override</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">environ</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">COMFY_CONFIG_REFRESH_SECONDS</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">env_override</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">conf_val</span> <span class="o">=</span> <span class="nf">max</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="nf">min</span><span class="p">(</span><span class="mi">60</span><span class="p">,</span> <span class="nf">int</span><span class="p">(</span><span class="n">env_override</span><span class="p">)))</span>
            <span class="k">except</span> <span class="nb">ValueError</span><span class="p">:</span>
                <span class="k">pass</span>

        <span class="n">self</span><span class="p">.</span><span class="n">_refresh_interval</span> <span class="o">=</span> <span class="n">conf_val</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_raw</span> <span class="o">=</span> <span class="nf">_expand_env_vars</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">_build_index_endpoints</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">_raw</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_loaded_at</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">self</span><span class="p">.</span><span class="n">_last_mtime</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">getmtime</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">path</span><span class="p">)</span>
        <span class="k">except</span> <span class="nb">FileNotFoundError</span><span class="p">:</span>
            <span class="n">self</span><span class="p">.</span><span class="n">_last_mtime</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1.0</span>

    <span class="k">def</span> <span class="nf">_stale_or_changed</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">mtime</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">getmtime</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">path</span><span class="p">)</span>
        <span class="k">except</span> <span class="nb">FileNotFoundError</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">True</span>
        <span class="n">now</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span>
        <span class="nf">return </span><span class="p">(</span><span class="n">mtime</span> <span class="o">!=</span> <span class="n">self</span><span class="p">.</span><span class="n">_last_mtime</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">now</span> <span class="o">-</span> <span class="n">self</span><span class="p">.</span><span class="n">_loaded_at</span> <span class="o">&gt;=</span> <span class="n">self</span><span class="p">.</span><span class="n">_refresh_interval</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_ensure_loaded</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">with</span> <span class="n">self</span><span class="p">.</span><span class="n">_lock</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">self</span><span class="p">.</span><span class="n">_loaded_at</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">self</span><span class="p">.</span><span class="nf">_stale_or_changed</span><span class="p">():</span>
                <span class="n">self</span><span class="p">.</span><span class="nf">_reload_locked</span><span class="p">()</span>

    <span class="c1"># â”€â”€ Endpoints ì „ìš© API â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
</span>    <span class="k">def</span> <span class="nf">get_endpoint</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">key</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nf">str</span><span class="p">(</span><span class="n">key</span><span class="p">).</span><span class="nf">strip</span><span class="p">():</span>
            <span class="k">raise</span> <span class="nc">KeyError</span><span class="p">(</span><span class="sh">"</span><span class="s">endpoint key is empty</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">_ensure_loaded</span><span class="p">()</span>
        <span class="n">hit</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">_endpoint_index</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="nf">_norm</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">hit</span><span class="p">:</span>
            <span class="c1"># ê°±ì‹  ì§€ì—° ê°€ëŠ¥ì„± â†’ ê°•ì œ ë¦¬ë¡œë“œ 1íšŒ ì¬ì‹œë„
</span>            <span class="k">with</span> <span class="n">self</span><span class="p">.</span><span class="n">_lock</span><span class="p">:</span>
                <span class="n">self</span><span class="p">.</span><span class="nf">_reload_locked</span><span class="p">()</span>
                <span class="n">hit</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">_endpoint_index</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="nf">_norm</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">hit</span><span class="p">:</span>
            <span class="k">raise</span> <span class="nc">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">endpoint not found: </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">hit</span>

    <span class="k">def</span> <span class="nf">list_endpoints</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]:</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">_ensure_loaded</span><span class="p">()</span>
        <span class="n">out</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">self</span><span class="p">.</span><span class="n">_endpoint_index</span><span class="p">.</span><span class="nf">items</span><span class="p">():</span>
            <span class="n">dn</span> <span class="o">=</span> <span class="n">v</span><span class="p">[</span><span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">]</span>
            <span class="n">out</span><span class="p">[</span><span class="n">dn</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                <span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">:</span> <span class="n">v</span><span class="p">[</span><span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">],</span>
                <span class="sh">"</span><span class="s">request_name</span><span class="sh">"</span><span class="p">:</span> <span class="n">v</span><span class="p">[</span><span class="sh">"</span><span class="s">request_name</span><span class="sh">"</span><span class="p">],</span>
                <span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">:</span> <span class="n">v</span><span class="p">[</span><span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">],</span>
                <span class="c1"># api_keyëŠ” ë³´ì•ˆìƒ ë¯¸ë…¸ì¶œ
</span>            <span class="p">}</span>
        <span class="k">return</span> <span class="n">out</span>

    <span class="c1"># â”€â”€ ë²”ìš© ì½ê¸° â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
</span>    <span class="k">def</span> <span class="nf">get_raw</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">_ensure_loaded</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="n">_raw</span>

<span class="c1"># ì „ì—­ ì‹±ê¸€í†¤
</span><span class="n">_CONFIG</span> <span class="o">=</span> <span class="nc">ReadOnlyConfig</span><span class="p">()</span>

<span class="c1"># ===== ComfyUI Custom Nodes =====
</span><span class="k">class</span> <span class="nc">ConfigEndpointLookup</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">
    ì…ë ¥: key â€” </span><span class="sh">"</span><span class="s">text-model-a</span><span class="sh">"</span><span class="s"> / </span><span class="sh">"</span><span class="s">Text Model A</span><span class="sh">"</span><span class="s"> / </span><span class="sh">"</span><span class="s">gpt-4o-mini</span><span class="sh">"</span><span class="s">(request_name)
    ì¶œë ¥: display_name, request_name, base_url, api_key (ëª¨ë‘ STRING)
    </span><span class="sh">"""</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">INPUT_TYPES</span><span class="p">(</span><span class="n">cls</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="sh">"</span><span class="s">required</span><span class="sh">"</span><span class="p">:</span> <span class="p">{</span><span class="sh">"</span><span class="s">key</span><span class="sh">"</span><span class="p">:</span> <span class="p">(</span><span class="sh">"</span><span class="s">STRING</span><span class="sh">"</span><span class="p">,</span> <span class="p">{</span><span class="sh">"</span><span class="s">default</span><span class="sh">"</span><span class="p">:</span> <span class="sh">""</span><span class="p">,</span> <span class="sh">"</span><span class="s">multiline</span><span class="sh">"</span><span class="p">:</span> <span class="bp">False</span><span class="p">})}}</span>

    <span class="n">RETURN_TYPES</span> <span class="o">=</span> <span class="p">(</span><span class="sh">"</span><span class="s">STRING</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">STRING</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">STRING</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">STRING</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">RETURN_NAMES</span> <span class="o">=</span> <span class="p">(</span><span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">request_name</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">api_key</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">FUNCTION</span> <span class="o">=</span> <span class="sh">"</span><span class="s">lookup</span><span class="sh">"</span>
    <span class="n">CATEGORY</span> <span class="o">=</span> <span class="sh">"</span><span class="s">Config/Endpoints (ReadOnly)</span><span class="sh">"</span>

    <span class="k">def</span> <span class="nf">lookup</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">ep</span> <span class="o">=</span> <span class="n">_CONFIG</span><span class="p">.</span><span class="nf">get_endpoint</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
        <span class="k">except</span> <span class="nb">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="nc">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">[ConfigEndpointLookup] </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="nf">return </span><span class="p">(</span><span class="n">ep</span><span class="p">[</span><span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">],</span> <span class="n">ep</span><span class="p">[</span><span class="sh">"</span><span class="s">request_name</span><span class="sh">"</span><span class="p">],</span> <span class="n">ep</span><span class="p">[</span><span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">],</span> <span class="n">ep</span><span class="p">[</span><span class="sh">"</span><span class="s">api_key</span><span class="sh">"</span><span class="p">])</span>

<span class="k">class</span> <span class="nc">ConfigListEndpoints</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">ë””ë²„ê·¸/ì¸ìŠ¤í™ì…˜ìš©: ì—”ë“œí¬ì¸íŠ¸ ëª©ë¡(JSON, api_key ë¯¸í¬í•¨).</span><span class="sh">"""</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">INPUT_TYPES</span><span class="p">(</span><span class="n">cls</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="sh">"</span><span class="s">required</span><span class="sh">"</span><span class="p">:</span> <span class="p">{}}</span>

    <span class="n">RETURN_TYPES</span> <span class="o">=</span> <span class="p">(</span><span class="sh">"</span><span class="s">STRING</span><span class="sh">"</span><span class="p">,)</span>
    <span class="n">RETURN_NAMES</span> <span class="o">=</span> <span class="p">(</span><span class="sh">"</span><span class="s">endpoints_json</span><span class="sh">"</span><span class="p">,)</span>
    <span class="n">FUNCTION</span> <span class="o">=</span> <span class="sh">"</span><span class="s">list_endpoints</span><span class="sh">"</span>
    <span class="n">CATEGORY</span> <span class="o">=</span> <span class="sh">"</span><span class="s">Config/Endpoints (ReadOnly)</span><span class="sh">"</span>

    <span class="k">def</span> <span class="nf">list_endpoints</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="kn">import</span> <span class="n">json</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">_CONFIG</span><span class="p">.</span><span class="nf">list_endpoints</span><span class="p">()</span>
        <span class="nf">return </span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="nf">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">),)</span>

<span class="k">class</span> <span class="nc">ConfigGetValue</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">
    ì„ì˜ ê²½ë¡œ ê°’ ì½ê¸° (</span><span class="sh">'</span><span class="s">.</span><span class="sh">'</span><span class="s"> êµ¬ë¶„)
    ì˜ˆ) path=</span><span class="sh">"</span><span class="s">feature_flags.use_cache</span><span class="sh">"</span><span class="s">  â†’ </span><span class="sh">"</span><span class="s">true</span><span class="sh">"</span><span class="s">
        path=</span><span class="sh">"</span><span class="s">storage.s3.region</span><span class="sh">"</span><span class="s">        â†’ </span><span class="sh">"</span><span class="s">ap-northeast-2</span><span class="sh">"</span><span class="s">
        path=</span><span class="sh">"</span><span class="s">endpoints.text-model-a</span><span class="sh">"</span><span class="s">   â†’ í•´ë‹¹ ì—”ë“œí¬ì¸íŠ¸ JSON
    </span><span class="sh">"""</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">INPUT_TYPES</span><span class="p">(</span><span class="n">cls</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="sh">"</span><span class="s">required</span><span class="sh">"</span><span class="p">:</span> <span class="p">{</span><span class="sh">"</span><span class="s">path</span><span class="sh">"</span><span class="p">:</span> <span class="p">(</span><span class="sh">"</span><span class="s">STRING</span><span class="sh">"</span><span class="p">,</span> <span class="p">{</span><span class="sh">"</span><span class="s">default</span><span class="sh">"</span><span class="p">:</span> <span class="sh">""</span><span class="p">,</span> <span class="sh">"</span><span class="s">multiline</span><span class="sh">"</span><span class="p">:</span> <span class="bp">False</span><span class="p">})}}</span>

    <span class="n">RETURN_TYPES</span> <span class="o">=</span> <span class="p">(</span><span class="sh">"</span><span class="s">STRING</span><span class="sh">"</span><span class="p">,)</span>
    <span class="n">RETURN_NAMES</span> <span class="o">=</span> <span class="p">(</span><span class="sh">"</span><span class="s">value</span><span class="sh">"</span><span class="p">,)</span>
    <span class="n">FUNCTION</span> <span class="o">=</span> <span class="sh">"</span><span class="s">get_value</span><span class="sh">"</span>
    <span class="n">CATEGORY</span> <span class="o">=</span> <span class="sh">"</span><span class="s">Config/General (ReadOnly)</span><span class="sh">"</span>

    <span class="k">def</span> <span class="nf">get_value</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="kn">import</span> <span class="n">json</span>
        <span class="k">def</span> <span class="nf">get_in</span><span class="p">(</span><span class="n">d</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">dotted</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">cur</span> <span class="o">=</span> <span class="n">d</span>
            <span class="k">for</span> <span class="n">part</span> <span class="ow">in</span> <span class="nf">filter</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="n">dotted</span><span class="p">.</span><span class="nf">split</span><span class="p">(</span><span class="sh">"</span><span class="s">.</span><span class="sh">"</span><span class="p">)):</span>
                <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">cur</span><span class="p">,</span> <span class="nb">dict</span><span class="p">)</span> <span class="ow">and</span> <span class="n">part</span> <span class="ow">in</span> <span class="n">cur</span><span class="p">:</span>
                    <span class="n">cur</span> <span class="o">=</span> <span class="n">cur</span><span class="p">[</span><span class="n">part</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="nc">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">config path not found: </span><span class="si">{</span><span class="n">dotted</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">cur</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">raw</span> <span class="o">=</span> <span class="n">_CONFIG</span><span class="p">.</span><span class="nf">get_raw</span><span class="p">()</span>
            <span class="n">val</span> <span class="o">=</span> <span class="nf">get_in</span><span class="p">(</span><span class="n">raw</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span> <span class="k">if</span> <span class="n">path</span> <span class="k">else</span> <span class="n">raw</span>
            <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">bool</span><span class="p">))</span> <span class="ow">or</span> <span class="n">val</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
                <span class="nf">return </span><span class="p">(</span><span class="nf">str</span><span class="p">(</span><span class="n">val</span><span class="p">),)</span>
            <span class="nf">return </span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="nf">dumps</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">),)</span>
        <span class="k">except</span> <span class="nb">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="nc">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">[ConfigGetValue] </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>

<span class="n">NODE_CLASS_MAPPINGS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="sh">"</span><span class="s">ConfigEndpointLookup</span><span class="sh">"</span><span class="p">:</span> <span class="n">ConfigEndpointLookup</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">ConfigListEndpoints</span><span class="sh">"</span><span class="p">:</span>  <span class="n">ConfigListEndpoints</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">ConfigGetValue</span><span class="sh">"</span><span class="p">:</span>       <span class="n">ConfigGetValue</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">NODE_DISPLAY_NAME_MAPPINGS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="sh">"</span><span class="s">ConfigEndpointLookup</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">Config: Endpoint Lookup</span><span class="sh">"</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">ConfigListEndpoints</span><span class="sh">"</span><span class="p">:</span>  <span class="sh">"</span><span class="s">Config: List Endpoints</span><span class="sh">"</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">ConfigGetValue</span><span class="sh">"</span><span class="p">:</span>       <span class="sh">"</span><span class="s">Config: Get Value</span><span class="sh">"</span><span class="p">,</span>
<span class="p">}</span>
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">__init__.py</code></p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># íŒ¨í‚¤ì§€ ì¸ì‹ìš© (ë¹„ì›Œë‘ë©´ ë©ë‹ˆë‹¤)
</span></code></pre></div></div>

<hr />

<h1 id="4-ìš”êµ¬ì‚¬í•­-ëŒ€ì‘-ì²´í¬">4) ìš”êµ¬ì‚¬í•­ ëŒ€ì‘ ì²´í¬</h1>

<ul>
  <li>
    <p>ì‚¬ëŒì´ í¸ì§‘í•˜ê¸° ì‰¬ì›€: <strong>TOML + ì£¼ì„ ê°€ëŠ¥</strong></p>
  </li>
  <li>
    <p>ì½ê¸° ì „ìš©: <strong>íŒŒì¼ ì“°ê¸° ì—†ìŒ</strong></p>
  </li>
  <li>
    <p>ì£¼ìš” ìš©ë„(ëª¨ë¸/ì„œë¹„ìŠ¤ ì—”ë“œí¬ì¸íŠ¸): <strong><code class="language-plaintext highlighter-rouge">endpoints</code> ì„¹ì…˜ í‘œì¤€í™”</strong></p>
  </li>
  <li>
    <p>í•„ìš”í•œ ê°’ ë°˜í™˜: <code class="language-plaintext highlighter-rouge">ConfigEndpointLookup</code>ê°€ <strong>display_name, request_name, base_url, api_key</strong> ì¶œë ¥</p>
  </li>
  <li>
    <p>ë³€ê²½ ë°˜ì˜: <strong>mtime + TTL(ê¸°ë³¸ 30ì´ˆ, 5~60ì´ˆ ì¡°ì •)</strong> â†’ <strong>ìµœëŒ€ 1ë¶„ ë‚´ ë°˜ì˜</strong> ë³´ì¥</p>
  </li>
  <li>
    <p>ë³´ì•ˆ: <strong>í™˜ê²½ë³€ìˆ˜ ì¹˜í™˜</strong> , ëª©ë¡ ë…¸ë“œì—ì„œ <strong>api_key ë¯¸ë…¸ì¶œ</strong></p>
  </li>
</ul>

<hr />

<h1 id="5-ë§ˆì´ê·¸ë ˆì´ì…˜-ê°€ì´ë“œ">5) ë§ˆì´ê·¸ë ˆì´ì…˜ ê°€ì´ë“œ</h1>

<ul>
  <li>
    <p>ì˜ˆì „ íŒŒì¼/ì´ë¦„ì„ ì“°ì…¨ë‹¤ë©´:</p>

    <ul>
      <li>
        <p>í´ë”: <code class="language-plaintext highlighter-rouge">custom_nodes/comfyui_llm_config_reader</code> â†’ <strong>ì‚­ì œ</strong> ë˜ëŠ” ë³´ê´€</p>
      </li>
      <li>
        <p>ì„¤ì •: <code class="language-plaintext highlighter-rouge">[llm_models]</code> â†’ <strong><code class="language-plaintext highlighter-rouge">[endpoints]</code> ë¡œ ë°”ê¾¸ê³  <code class="language-plaintext highlighter-rouge">request_model</code> â†’ <code class="language-plaintext highlighter-rouge">request_name</code></strong></p>
      </li>
      <li>
        <p>ë…¸ë“œ: ê¸°ì¡´ ì›Œí¬í”Œë¡œìš°ì—ì„  ìƒˆ ë…¸ë“œë¡œ êµì²´</p>

        <ul>
          <li>
            <p><code class="language-plaintext highlighter-rouge">LLMConfigLookup</code> â†’ <strong><code class="language-plaintext highlighter-rouge">ConfigEndpointLookup</code></strong></p>
          </li>
          <li>
            <p><code class="language-plaintext highlighter-rouge">LLMConfigListModels</code> â†’ <strong><code class="language-plaintext highlighter-rouge">ConfigListEndpoints</code></strong></p>
          </li>
          <li>
            <p><code class="language-plaintext highlighter-rouge">ConfigGetRawJSON</code> â†’ <strong><code class="language-plaintext highlighter-rouge">ConfigGetValue</code></strong></p>
          </li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<hr />

<p>í•„ìš”í•˜ë©´, ê¸°ì¡´ ì›Œí¬í”Œë¡œìš° ìë™ ë³€í™˜ ìŠ¤í¬ë¦½íŠ¸(YAML/JSON ê²½ë¡œ êµì²´)ë„ ë§Œë“¤ì–´ ë“œë¦´ê²Œìš”.</p>

<p class="chat--user">

ë‹¤ë¥¸ ë…¸ë“œ â€œíŒŒì¼ë“¤â€ì—ì„œ ì„¤ì •ì„ ì½ì–´ì•¼í•˜ëŠ”ë° ì´ê±´ ì–´ë–»ê²Œ í•´? ì‹±ê¸€í†¤ ì¸í„°í˜ì´ìŠ¤ê°€ ì¢€ ì–´ìƒ‰í•´ë³´ì—¬

</p>

<p>ì¢‹ì€ í”¼ë“œë°±! â€œì—¬ëŸ¬ ë…¸ë“œ/íŒŒì¼ì—ì„œ ìì—°ìŠ¤ëŸ½ê²Œ ì½ëŠ”â€ íŒ¨í„´ìœ¼ë¡œ ë°”ê¿”ì¤„ê²Œìš”.<br />
ì‹±ê¸€í†¤ ëŒ€ì‹  <strong>ê²½ë¡œë³„ Multiton ë ˆì§€ìŠ¤íŠ¸ë¦¬ + ì–‡ì€ í•¨ìˆ˜í˜• API</strong> ë¥¼ ì œê³µí•©ë‹ˆë‹¤.<br />
ì¦‰, ì–´ë””ì„œë“  <code class="language-plaintext highlighter-rouge">from comfyui_config_reader.config import endpoint, get</code>ë§Œ ì„í¬íŠ¸í•´ ì“°ë©´ ë©ë‹ˆë‹¤.</p>

<p>ì•„ë˜ ì„¸ íŒŒì¼ë§Œ ì¶”ê°€/êµì²´í•˜ë©´ ë!</p>

<hr />

<h1 id="1-êµ¬ì¡°">1) êµ¬ì¡°</h1>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ComfyUI/
â””â”€ custom_nodes/
   â””â”€ comfyui_config_reader/
      â”œâ”€ __init__.py
      â”œâ”€ config_core.py     <span class="c"># í•µì‹¬: ReadOnlyStore (ê²½ë¡œë³„ ìºì‹œ/ìë™ ë¦¬ë¡œë“œ)</span>
      â”œâ”€ config.py          <span class="c"># ê³µìš© API: endpoint()/get()/get_store()</span>
      â””â”€ config_nodes.py    <span class="c"># (ì˜µì…˜) ë°ëª¨ ë…¸ë“œë“¤: Lookup/List/Get</span>
</code></pre></div></div>

<hr />

<h1 id="2-í•µì‹¬-ìŠ¤í† ì–´-ê²½ë¡œë³„-multiton-ì•„ë‹˜--ì¸ìŠ¤í„´ìŠ¤í˜•-thread-safe">2) í•µì‹¬ ìŠ¤í† ì–´ (ê²½ë¡œë³„ Multiton ì•„ë‹˜ â€” â€œì¸ìŠ¤í„´ìŠ¤í˜•â€, thread-safe)</h1>

<p><code class="language-plaintext highlighter-rouge">config_core.py</code></p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">os</span>
<span class="kn">import</span> <span class="n">time</span>
<span class="kn">import</span> <span class="n">threading</span>
<span class="kn">from</span> <span class="n">typing</span> <span class="kn">import</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Optional</span>

<span class="c1"># Python 3.11+: tomllib / ì´í•˜: tomli
</span><span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span> <span class="n">tomllib</span>  <span class="c1"># type: ignore
</span>    <span class="n">_TOML_LOADS</span> <span class="o">=</span> <span class="n">tomllib</span><span class="p">.</span><span class="n">loads</span>
<span class="k">except</span> <span class="nb">Exception</span><span class="p">:</span>
    <span class="kn">import</span> <span class="n">tomli</span>  <span class="c1"># type: ignore
</span>    <span class="n">_TOML_LOADS</span> <span class="o">=</span> <span class="n">tomli</span><span class="p">.</span><span class="n">loads</span>

<span class="k">def</span> <span class="nf">_expand_env_vars</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
    <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">out</span><span class="p">,</span> <span class="n">i</span> <span class="o">=</span> <span class="sh">""</span><span class="p">,</span> <span class="mi">0</span>
        <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="nf">len</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">:</span><span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="sh">"</span><span class="s">${</span><span class="sh">"</span><span class="p">:</span>
                <span class="n">j</span> <span class="o">=</span> <span class="n">value</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="sh">"</span><span class="s">}</span><span class="sh">"</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">j</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                    <span class="n">env_name</span> <span class="o">=</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="p">:</span><span class="n">j</span><span class="p">]</span>
                    <span class="n">out</span> <span class="o">+=</span> <span class="n">os</span><span class="p">.</span><span class="n">environ</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="n">env_name</span><span class="p">,</span> <span class="sh">""</span><span class="p">)</span>
                    <span class="n">i</span> <span class="o">=</span> <span class="n">j</span> <span class="o">+</span> <span class="mi">1</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">out</span> <span class="o">+=</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">];</span> <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">out</span> <span class="o">+=</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">];</span> <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="n">out</span>
    <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="nf">_expand_env_vars</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">value</span><span class="p">.</span><span class="nf">items</span><span class="p">()}</span>
    <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">[</span><span class="nf">_expand_env_vars</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">value</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">value</span>

<span class="k">def</span> <span class="nf">_norm</span><span class="p">(</span><span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">return</span> <span class="nf">str</span><span class="p">(</span><span class="n">s</span><span class="p">).</span><span class="nf">strip</span><span class="p">().</span><span class="nf">lower</span><span class="p">()</span>

<span class="k">class</span> <span class="nc">ReadOnlyStore</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">
    - TOML ì½ê¸° ì „ìš© ìŠ¤í† ì–´
    - mtime/TTL(5~60s) ê¸°ë°˜ ìë™ ì¬ë¡œë“œ â†’ </span><span class="sh">'</span><span class="s">1ë¶„ ë‚´ ë°˜ì˜</span><span class="sh">'</span><span class="s"> ë³´ì¥
    - ì—”ë“œí¬ì¸íŠ¸ ì¸ë±ì‹± + ì„ì˜ ê²½ë¡œ ì ‘ê·¼
    - íŒŒì¼ ì“°ê¸° ì—†ìŒ
    </span><span class="sh">"""</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">path</span> <span class="o">=</span> <span class="n">path</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_lock</span> <span class="o">=</span> <span class="n">threading</span><span class="p">.</span><span class="nc">Lock</span><span class="p">()</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_loaded_at</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.0</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_last_mtime</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1.0</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_refresh_interval</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">30</span>  <span class="c1"># ê¸°ë³¸ 30s
</span>        <span class="n">self</span><span class="p">.</span><span class="n">_raw</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_endpoint_index</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_version</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># ë¦¬ë¡œë“œë§ˆë‹¤ ì¦ê°€
</span>
    <span class="c1"># ---------- ë‚´ë¶€ ë¡œë”© ----------
</span>    <span class="k">def</span> <span class="nf">_read_text</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">path</span><span class="p">,</span> <span class="sh">"</span><span class="s">rb</span><span class="sh">"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">f</span><span class="p">.</span><span class="nf">read</span><span class="p">().</span><span class="nf">decode</span><span class="p">(</span><span class="sh">"</span><span class="s">utf-8</span><span class="sh">"</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_build_index_endpoints</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_endpoint_index</span><span class="p">.</span><span class="nf">clear</span><span class="p">()</span>
        <span class="n">eps</span> <span class="o">=</span> <span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">endpoints</span><span class="sh">"</span><span class="p">)</span> <span class="ow">or</span> <span class="p">{})</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">eps</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="k">return</span>
        <span class="k">for</span> <span class="n">ep_key</span><span class="p">,</span> <span class="n">cfg</span> <span class="ow">in</span> <span class="n">eps</span><span class="p">.</span><span class="nf">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">cfg</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
                <span class="k">continue</span>
            <span class="n">cfg</span> <span class="o">=</span> <span class="nf">_expand_env_vars</span><span class="p">(</span><span class="n">cfg</span><span class="p">)</span>
            <span class="n">required</span> <span class="o">=</span> <span class="p">[</span><span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">request_name</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">api_key</span><span class="sh">"</span><span class="p">]</span>
            <span class="k">if</span> <span class="nf">any</span><span class="p">(</span><span class="n">k</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">cfg</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">[</span><span class="n">k</span><span class="p">]).</span><span class="nf">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">required</span><span class="p">):</span>
                <span class="k">continue</span>
            <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="p">{</span><span class="nf">str</span><span class="p">(</span><span class="n">ep_key</span><span class="p">),</span> <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">,</span><span class="sh">""</span><span class="p">)),</span> <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">request_name</span><span class="sh">"</span><span class="p">,</span><span class="sh">""</span><span class="p">))}:</span>
                <span class="k">if</span> <span class="n">c</span><span class="p">:</span>
                    <span class="n">self</span><span class="p">.</span><span class="n">_endpoint_index</span><span class="p">[</span><span class="nf">_norm</span><span class="p">(</span><span class="n">c</span><span class="p">)]</span> <span class="o">=</span> <span class="p">{</span>
                        <span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">:</span> <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">[</span><span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">]),</span>
                        <span class="sh">"</span><span class="s">request_name</span><span class="sh">"</span><span class="p">:</span> <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">[</span><span class="sh">"</span><span class="s">request_name</span><span class="sh">"</span><span class="p">]),</span>
                        <span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">:</span> <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">[</span><span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">]),</span>
                        <span class="sh">"</span><span class="s">api_key</span><span class="sh">"</span><span class="p">:</span> <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">[</span><span class="sh">"</span><span class="s">api_key</span><span class="sh">"</span><span class="p">]),</span>
                    <span class="p">}</span>

    <span class="k">def</span> <span class="nf">_reload_locked</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">txt</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="nf">_read_text</span><span class="p">()</span>
        <span class="n">data</span> <span class="o">=</span> <span class="nf">_TOML_LOADS</span><span class="p">(</span><span class="n">txt</span><span class="p">)</span>
        <span class="c1"># refresh_interval_seconds (5~60) + env override
</span>        <span class="n">conf_val</span> <span class="o">=</span> <span class="nf">int</span><span class="p">((</span><span class="n">data</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">settings</span><span class="sh">"</span><span class="p">)</span> <span class="ow">or</span> <span class="p">{}).</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">refresh_interval_seconds</span><span class="sh">"</span><span class="p">,</span> <span class="mi">30</span><span class="p">))</span>
        <span class="n">conf_val</span> <span class="o">=</span> <span class="nf">max</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="nf">min</span><span class="p">(</span><span class="mi">60</span><span class="p">,</span> <span class="n">conf_val</span><span class="p">))</span>
        <span class="n">env_override</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">environ</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">COMFY_CONFIG_REFRESH_SECONDS</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">env_override</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">conf_val</span> <span class="o">=</span> <span class="nf">max</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="nf">min</span><span class="p">(</span><span class="mi">60</span><span class="p">,</span> <span class="nf">int</span><span class="p">(</span><span class="n">env_override</span><span class="p">)))</span>
            <span class="k">except</span> <span class="nb">ValueError</span><span class="p">:</span>
                <span class="k">pass</span>

        <span class="n">self</span><span class="p">.</span><span class="n">_refresh_interval</span> <span class="o">=</span> <span class="n">conf_val</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_raw</span> <span class="o">=</span> <span class="nf">_expand_env_vars</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">_build_index_endpoints</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">_raw</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_loaded_at</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">self</span><span class="p">.</span><span class="n">_last_mtime</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">getmtime</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">path</span><span class="p">)</span>
        <span class="k">except</span> <span class="nb">FileNotFoundError</span><span class="p">:</span>
            <span class="n">self</span><span class="p">.</span><span class="n">_last_mtime</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1.0</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_version</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="k">def</span> <span class="nf">_stale_or_changed</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">mtime</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">getmtime</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">path</span><span class="p">)</span>
        <span class="k">except</span> <span class="nb">FileNotFoundError</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">True</span>
        <span class="n">now</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span>
        <span class="nf">return </span><span class="p">(</span><span class="n">mtime</span> <span class="o">!=</span> <span class="n">self</span><span class="p">.</span><span class="n">_last_mtime</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">now</span> <span class="o">-</span> <span class="n">self</span><span class="p">.</span><span class="n">_loaded_at</span> <span class="o">&gt;=</span> <span class="n">self</span><span class="p">.</span><span class="n">_refresh_interval</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_ensure_loaded</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">with</span> <span class="n">self</span><span class="p">.</span><span class="n">_lock</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">self</span><span class="p">.</span><span class="n">_loaded_at</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">self</span><span class="p">.</span><span class="nf">_stale_or_changed</span><span class="p">():</span>
                <span class="n">self</span><span class="p">.</span><span class="nf">_reload_locked</span><span class="p">()</span>

    <span class="c1"># ---------- í¼ë¸”ë¦­ API ----------
</span>    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">version</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">_ensure_loaded</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="n">_version</span>

    <span class="k">def</span> <span class="nf">snapshot</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="sh">"""</span><span class="s">ENV ì¹˜í™˜ í›„ ì „ì²´ íŠ¸ë¦¬ì˜ </span><span class="sh">'</span><span class="s">ì¼ê´€ëœ ìŠ¤ëƒ…ìƒ·</span><span class="sh">'</span><span class="s">ì„ ë°˜í™˜(ì–•ì€ ë³µì‚¬).</span><span class="sh">"""</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">_ensure_loaded</span><span class="p">()</span>
        <span class="k">return</span> <span class="nf">dict</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">_raw</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_value</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">dotted_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">_ensure_loaded</span><span class="p">()</span>
        <span class="n">cur</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">_raw</span>
        <span class="k">for</span> <span class="n">part</span> <span class="ow">in</span> <span class="nf">filter</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="n">dotted_path</span><span class="p">.</span><span class="nf">split</span><span class="p">(</span><span class="sh">"</span><span class="s">.</span><span class="sh">"</span><span class="p">)):</span>
            <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">cur</span><span class="p">,</span> <span class="nb">dict</span><span class="p">)</span> <span class="ow">and</span> <span class="n">part</span> <span class="ow">in</span> <span class="n">cur</span><span class="p">:</span>
                <span class="n">cur</span> <span class="o">=</span> <span class="n">cur</span><span class="p">[</span><span class="n">part</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="nc">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">config path not found: </span><span class="si">{</span><span class="n">dotted_path</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">cur</span>

    <span class="k">def</span> <span class="nf">get_endpoint</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">key</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nf">str</span><span class="p">(</span><span class="n">key</span><span class="p">).</span><span class="nf">strip</span><span class="p">():</span>
            <span class="k">raise</span> <span class="nc">KeyError</span><span class="p">(</span><span class="sh">"</span><span class="s">endpoint key is empty</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">_ensure_loaded</span><span class="p">()</span>
        <span class="n">hit</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">_endpoint_index</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="nf">_norm</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">hit</span><span class="p">:</span>
            <span class="c1"># ê°±ì‹  ì§€ì—° ê°€ëŠ¥ì„± â†’ ê°•ì œ ë¦¬ë¡œë“œ 1íšŒ ì¬ì‹œë„
</span>            <span class="k">with</span> <span class="n">self</span><span class="p">.</span><span class="n">_lock</span><span class="p">:</span>
                <span class="n">self</span><span class="p">.</span><span class="nf">_reload_locked</span><span class="p">()</span>
                <span class="n">hit</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">_endpoint_index</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="nf">_norm</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">hit</span><span class="p">:</span>
            <span class="k">raise</span> <span class="nc">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">endpoint not found: </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">hit</span>

    <span class="k">def</span> <span class="nf">list_endpoints</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]:</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">_ensure_loaded</span><span class="p">()</span>
        <span class="n">out</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">self</span><span class="p">.</span><span class="n">_endpoint_index</span><span class="p">.</span><span class="nf">items</span><span class="p">():</span>
            <span class="n">dn</span> <span class="o">=</span> <span class="n">v</span><span class="p">[</span><span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">]</span>
            <span class="n">out</span><span class="p">[</span><span class="n">dn</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                <span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">:</span> <span class="n">v</span><span class="p">[</span><span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">],</span>
                <span class="sh">"</span><span class="s">request_name</span><span class="sh">"</span><span class="p">:</span> <span class="n">v</span><span class="p">[</span><span class="sh">"</span><span class="s">request_name</span><span class="sh">"</span><span class="p">],</span>
                <span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">:</span> <span class="n">v</span><span class="p">[</span><span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">],</span>
                <span class="c1"># api_keyëŠ” ë¯¸ë…¸ì¶œ
</span>            <span class="p">}</span>
        <span class="k">return</span> <span class="n">out</span>
</code></pre></div></div>

<hr />

<h1 id="3-ê³µìš©-api-ì–´ë””ì„œë“ -ì„í¬íŠ¸í•´-ì“°ëŠ”-í•¨ìˆ˜í˜•-ì¸í„°í˜ì´ìŠ¤">3) ê³µìš© API (ì–´ë””ì„œë“  ì„í¬íŠ¸í•´ ì“°ëŠ” â€œí•¨ìˆ˜í˜•â€ ì¸í„°í˜ì´ìŠ¤)</h1>

<p><code class="language-plaintext highlighter-rouge">config.py</code></p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">os</span>
<span class="kn">from</span> <span class="n">typing</span> <span class="kn">import</span> <span class="n">Optional</span><span class="p">,</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">Any</span>
<span class="kn">from</span> <span class="n">.config_core</span> <span class="kn">import</span> <span class="n">ReadOnlyStore</span>

<span class="c1"># ê²½ë¡œë³„ Multiton ë ˆì§€ìŠ¤íŠ¸ë¦¬
</span><span class="n">_REGISTRY</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ReadOnlyStore</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

<span class="k">def</span> <span class="nf">_default_path</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="n">here</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">dirname</span><span class="p">(</span><span class="n">__file__</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">os</span><span class="p">.</span><span class="n">environ</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">COMFY_CONFIG_PATH</span><span class="sh">"</span><span class="p">,</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="n">here</span><span class="p">,</span> <span class="sh">"</span><span class="s">config.toml</span><span class="sh">"</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">get_store</span><span class="p">(</span><span class="n">path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ReadOnlyStore</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">
    - ê²½ë¡œë³„ë¡œ ReadOnlyStore ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì¬ì‚¬ìš©(ë©€í‹°í†¤)
    - ëª…ì‹œ path ì—†ìœ¼ë©´ COMFY_CONFIG_PATH ë˜ëŠ” íŒ¨í‚¤ì§€ ê¸°ë³¸ config.toml
    </span><span class="sh">"""</span>
    <span class="n">p</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">abspath</span><span class="p">(</span><span class="n">path</span> <span class="ow">or</span> <span class="nf">_default_path</span><span class="p">())</span>
    <span class="k">if</span> <span class="n">p</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">_REGISTRY</span><span class="p">:</span>
        <span class="n">_REGISTRY</span><span class="p">[</span><span class="n">p</span><span class="p">]</span> <span class="o">=</span> <span class="nc">ReadOnlyStore</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">_REGISTRY</span><span class="p">[</span><span class="n">p</span><span class="p">]</span>

<span class="c1"># ---- ì–‡ì€ í•¨ìˆ˜í˜• í—¬í¼ë“¤ (ê¶Œì¥) ----
</span><span class="k">def</span> <span class="nf">endpoint</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
    <span class="sh">"""</span><span class="s">ì—”ë“œí¬ì¸íŠ¸ dict ë°˜í™˜: display_name, request_name, base_url, api_key</span><span class="sh">"""</span>
    <span class="k">return</span> <span class="nf">get_store</span><span class="p">(</span><span class="n">path</span><span class="p">).</span><span class="nf">get_endpoint</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">endpoints</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]:</span>
    <span class="sh">"""</span><span class="s">ì—”ë“œí¬ì¸íŠ¸ ëª©ë¡(JSONìš©)</span><span class="sh">"""</span>
    <span class="k">return</span> <span class="nf">get_store</span><span class="p">(</span><span class="n">path</span><span class="p">).</span><span class="nf">list_endpoints</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="n">dotted_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">ì„ì˜ ì„¤ì •ê°’ ë°˜í™˜: </span><span class="sh">'</span><span class="s">section.sub.key</span><span class="sh">'"""</span>
    <span class="k">return</span> <span class="nf">get_store</span><span class="p">(</span><span class="n">path</span><span class="p">).</span><span class="nf">get_value</span><span class="p">(</span><span class="n">dotted_path</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">snapshot</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="sh">"""</span><span class="s">ì „ì²´ íŠ¸ë¦¬ ìŠ¤ëƒ…ìƒ·</span><span class="sh">"""</span>
    <span class="k">return</span> <span class="nf">get_store</span><span class="p">(</span><span class="n">path</span><span class="p">).</span><span class="nf">snapshot</span><span class="p">()</span>
</code></pre></div></div>

<blockquote>
  <p>í¬ì¸íŠ¸: <strong>ë‹¤ë¥¸ ë…¸ë“œ íŒŒì¼</strong> ì—ì„œëŠ” <code class="language-plaintext highlighter-rouge">config.endpoint()</code>, <code class="language-plaintext highlighter-rouge">config.get()</code> ê°™ì€ <strong>í•¨ìˆ˜í˜• APIë§Œ</strong> ì“°ë©´ ë©ë‹ˆë‹¤.<br />
 ë‚´ë¶€ì ìœ¼ë¡œëŠ” ê²½ë¡œë³„ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì¬ì‚¬ìš©í•˜ì§€ë§Œ, ë…¸ë“œ ì½”ë“œì—ì„œëŠ” ì‹±ê¸€í†¤ì— ì˜ì¡´í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</p>
</blockquote>

<hr />

<h1 id="4-ì˜µì…˜-ë°ëª¨-ë…¸ë“œ--ê¸°ì¡´-ë…¸ë“œë¥¼-ì´-apië¡œ-ì–‡ê²Œ-ë˜í•‘">4) (ì˜µì…˜) ë°ëª¨ ë…¸ë“œ â€” ê¸°ì¡´ ë…¸ë“œë¥¼ ì´ APIë¡œ ì–‡ê²Œ ë˜í•‘</h1>

<p><code class="language-plaintext highlighter-rouge">config_nodes.py</code></p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">.config</span> <span class="kn">import</span> <span class="n">endpoint</span> <span class="k">as</span> <span class="n">_endpoint</span><span class="p">,</span> <span class="n">endpoints</span> <span class="k">as</span> <span class="n">_endpoints</span><span class="p">,</span> <span class="n">get</span> <span class="k">as</span> <span class="n">_get</span>
<span class="kn">import</span> <span class="n">json</span>

<span class="k">class</span> <span class="nc">ConfigEndpointLookup</span><span class="p">:</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">INPUT_TYPES</span><span class="p">(</span><span class="n">cls</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="sh">"</span><span class="s">required</span><span class="sh">"</span><span class="p">:</span> <span class="p">{</span><span class="sh">"</span><span class="s">key</span><span class="sh">"</span><span class="p">:</span> <span class="p">(</span><span class="sh">"</span><span class="s">STRING</span><span class="sh">"</span><span class="p">,</span> <span class="p">{</span><span class="sh">"</span><span class="s">default</span><span class="sh">"</span><span class="p">:</span> <span class="sh">""</span><span class="p">,</span> <span class="sh">"</span><span class="s">multiline</span><span class="sh">"</span><span class="p">:</span> <span class="bp">False</span><span class="p">}),</span>
                             <span class="sh">"</span><span class="s">config_path</span><span class="sh">"</span><span class="p">:</span> <span class="p">(</span><span class="sh">"</span><span class="s">STRING</span><span class="sh">"</span><span class="p">,</span> <span class="p">{</span><span class="sh">"</span><span class="s">default</span><span class="sh">"</span><span class="p">:</span> <span class="sh">""</span><span class="p">,</span> <span class="sh">"</span><span class="s">multiline</span><span class="sh">"</span><span class="p">:</span> <span class="bp">False</span><span class="p">})}}</span>
    <span class="n">RETURN_TYPES</span> <span class="o">=</span> <span class="p">(</span><span class="sh">"</span><span class="s">STRING</span><span class="sh">"</span><span class="p">,</span><span class="sh">"</span><span class="s">STRING</span><span class="sh">"</span><span class="p">,</span><span class="sh">"</span><span class="s">STRING</span><span class="sh">"</span><span class="p">,</span><span class="sh">"</span><span class="s">STRING</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">RETURN_NAMES</span> <span class="o">=</span> <span class="p">(</span><span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">,</span><span class="sh">"</span><span class="s">request_name</span><span class="sh">"</span><span class="p">,</span><span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">,</span><span class="sh">"</span><span class="s">api_key</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">FUNCTION</span> <span class="o">=</span> <span class="sh">"</span><span class="s">lookup</span><span class="sh">"</span>
    <span class="n">CATEGORY</span> <span class="o">=</span> <span class="sh">"</span><span class="s">Config/Endpoints (ReadOnly)</span><span class="sh">"</span>

    <span class="k">def</span> <span class="nf">lookup</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">config_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">config_path</span> <span class="ow">or</span> <span class="bp">None</span>
        <span class="n">ep</span> <span class="o">=</span> <span class="nf">_endpoint</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">p</span><span class="p">)</span>
        <span class="nf">return </span><span class="p">(</span><span class="n">ep</span><span class="p">[</span><span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">],</span> <span class="n">ep</span><span class="p">[</span><span class="sh">"</span><span class="s">request_name</span><span class="sh">"</span><span class="p">],</span> <span class="n">ep</span><span class="p">[</span><span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">],</span> <span class="n">ep</span><span class="p">[</span><span class="sh">"</span><span class="s">api_key</span><span class="sh">"</span><span class="p">])</span>

<span class="k">class</span> <span class="nc">ConfigListEndpoints</span><span class="p">:</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">INPUT_TYPES</span><span class="p">(</span><span class="n">cls</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="sh">"</span><span class="s">required</span><span class="sh">"</span><span class="p">:</span> <span class="p">{</span><span class="sh">"</span><span class="s">config_path</span><span class="sh">"</span><span class="p">:</span> <span class="p">(</span><span class="sh">"</span><span class="s">STRING</span><span class="sh">"</span><span class="p">,</span> <span class="p">{</span><span class="sh">"</span><span class="s">default</span><span class="sh">"</span><span class="p">:</span> <span class="sh">""</span><span class="p">,</span> <span class="sh">"</span><span class="s">multiline</span><span class="sh">"</span><span class="p">:</span> <span class="bp">False</span><span class="p">})}}</span>
    <span class="n">RETURN_TYPES</span> <span class="o">=</span> <span class="p">(</span><span class="sh">"</span><span class="s">STRING</span><span class="sh">"</span><span class="p">,)</span>
    <span class="n">RETURN_NAMES</span> <span class="o">=</span> <span class="p">(</span><span class="sh">"</span><span class="s">endpoints_json</span><span class="sh">"</span><span class="p">,)</span>
    <span class="n">FUNCTION</span> <span class="o">=</span> <span class="sh">"</span><span class="s">list_endpoints</span><span class="sh">"</span>
    <span class="n">CATEGORY</span> <span class="o">=</span> <span class="sh">"</span><span class="s">Config/Endpoints (ReadOnly)</span><span class="sh">"</span>

    <span class="k">def</span> <span class="nf">list_endpoints</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">config_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">config_path</span> <span class="ow">or</span> <span class="bp">None</span>
        <span class="n">data</span> <span class="o">=</span> <span class="nf">_endpoints</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">p</span><span class="p">)</span>
        <span class="nf">return </span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="nf">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">),)</span>

<span class="k">class</span> <span class="nc">ConfigGetValue</span><span class="p">:</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">INPUT_TYPES</span><span class="p">(</span><span class="n">cls</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="sh">"</span><span class="s">required</span><span class="sh">"</span><span class="p">:</span> <span class="p">{</span><span class="sh">"</span><span class="s">path</span><span class="sh">"</span><span class="p">:</span> <span class="p">(</span><span class="sh">"</span><span class="s">STRING</span><span class="sh">"</span><span class="p">,</span> <span class="p">{</span><span class="sh">"</span><span class="s">default</span><span class="sh">"</span><span class="p">:</span> <span class="sh">""</span><span class="p">,</span> <span class="sh">"</span><span class="s">multiline</span><span class="sh">"</span><span class="p">:</span> <span class="bp">False</span><span class="p">}),</span>
                             <span class="sh">"</span><span class="s">config_path</span><span class="sh">"</span><span class="p">:</span> <span class="p">(</span><span class="sh">"</span><span class="s">STRING</span><span class="sh">"</span><span class="p">,</span> <span class="p">{</span><span class="sh">"</span><span class="s">default</span><span class="sh">"</span><span class="p">:</span> <span class="sh">""</span><span class="p">,</span> <span class="sh">"</span><span class="s">multiline</span><span class="sh">"</span><span class="p">:</span> <span class="bp">False</span><span class="p">})}}</span>
    <span class="n">RETURN_TYPES</span> <span class="o">=</span> <span class="p">(</span><span class="sh">"</span><span class="s">STRING</span><span class="sh">"</span><span class="p">,)</span>
    <span class="n">RETURN_NAMES</span> <span class="o">=</span> <span class="p">(</span><span class="sh">"</span><span class="s">value</span><span class="sh">"</span><span class="p">,)</span>
    <span class="n">FUNCTION</span> <span class="o">=</span> <span class="sh">"</span><span class="s">get_value</span><span class="sh">"</span>
    <span class="n">CATEGORY</span> <span class="o">=</span> <span class="sh">"</span><span class="s">Config/General (ReadOnly)</span><span class="sh">"</span>

    <span class="k">def</span> <span class="nf">get_value</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">config_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">config_path</span> <span class="ow">or</span> <span class="bp">None</span>
        <span class="n">val</span> <span class="o">=</span> <span class="nf">_get</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">p</span><span class="p">)</span>
        <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">bool</span><span class="p">))</span> <span class="ow">or</span> <span class="n">val</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="nf">return </span><span class="p">(</span><span class="nf">str</span><span class="p">(</span><span class="n">val</span><span class="p">),)</span>
        <span class="nf">return </span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="nf">dumps</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">),)</span>

<span class="n">NODE_CLASS_MAPPINGS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="sh">"</span><span class="s">ConfigEndpointLookup</span><span class="sh">"</span><span class="p">:</span> <span class="n">ConfigEndpointLookup</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">ConfigListEndpoints</span><span class="sh">"</span><span class="p">:</span>  <span class="n">ConfigListEndpoints</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">ConfigGetValue</span><span class="sh">"</span><span class="p">:</span>       <span class="n">ConfigGetValue</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">NODE_DISPLAY_NAME_MAPPINGS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="sh">"</span><span class="s">ConfigEndpointLookup</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">Config: Endpoint Lookup</span><span class="sh">"</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">ConfigListEndpoints</span><span class="sh">"</span><span class="p">:</span>  <span class="sh">"</span><span class="s">Config: List Endpoints</span><span class="sh">"</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">ConfigGetValue</span><span class="sh">"</span><span class="p">:</span>       <span class="sh">"</span><span class="s">Config: Get Value</span><span class="sh">"</span><span class="p">,</span>
<span class="p">}</span>
</code></pre></div></div>

<hr />

<h1 id="5-ë‹¤ë¥¸-ë…¸ë“œ-íŒŒì¼ë“¤ì—ì„œ-ì“°ëŠ”-ë²•-ê°€ì¥-ê¹”ë”í•œ-íŒ¨í„´">5) ë‹¤ë¥¸ ë…¸ë“œ â€œíŒŒì¼ë“¤â€ì—ì„œ ì“°ëŠ” ë²• (ê°€ì¥ ê¹”ë”í•œ íŒ¨í„´)</h1>

<p>ë‹¤ë¥¸ í”ŒëŸ¬ê·¸ì¸/ë…¸ë“œ íŒŒì¼ ì–´ë””ì—ì„œë“ :</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># ì˜ˆ: OpenAI í˜¸ì¶œ ë…¸ë“œ íŒŒì¼ ë‚´ë¶€
</span><span class="kn">from</span> <span class="n">comfyui_config_reader.config</span> <span class="kn">import</span> <span class="n">endpoint</span><span class="p">,</span> <span class="n">get</span>

<span class="k">def</span> <span class="nf">_prepare_client</span><span class="p">():</span>
    <span class="n">ep</span> <span class="o">=</span> <span class="nf">endpoint</span><span class="p">(</span><span class="sh">"</span><span class="s">text-model-a</span><span class="sh">"</span><span class="p">)</span>   <span class="c1"># ë˜ëŠ” display_name / request_nameë¡œ ì¡°íšŒ
</span>    <span class="n">api_key</span> <span class="o">=</span> <span class="n">ep</span><span class="p">[</span><span class="sh">"</span><span class="s">api_key</span><span class="sh">"</span><span class="p">]</span>
    <span class="n">base_url</span> <span class="o">=</span> <span class="n">ep</span><span class="p">[</span><span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">]</span>
    <span class="c1"># ... í´ë¼ì´ì–¸íŠ¸ ìƒì„±
</span>    <span class="k">return</span> <span class="n">api_key</span><span class="p">,</span> <span class="n">base_url</span>

<span class="k">def</span> <span class="nf">_s3_settings</span><span class="p">():</span>
    <span class="n">region</span> <span class="o">=</span> <span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">storage.s3.region</span><span class="sh">"</span><span class="p">)</span>    <span class="c1"># ë²”ìš© ì„¤ì • ì ‘ê·¼
</span>    <span class="n">bucket</span> <span class="o">=</span> <span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">storage.s3.bucket</span><span class="sh">"</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">region</span><span class="p">,</span> <span class="n">bucket</span>
</code></pre></div></div>

<ul>
  <li>
    <p>ê¸°ë³¸ ê²½ë¡œëŠ” <code class="language-plaintext highlighter-rouge">COMFY_CONFIG_PATH</code> ë˜ëŠ” <code class="language-plaintext highlighter-rouge">comfyui_config_reader/config.toml</code>.</p>
  </li>
  <li>
    <p>íŠ¹ì • íŒŒì¼ì„ ì“°ê³  ì‹¶ìœ¼ë©´ <code class="language-plaintext highlighter-rouge">endpoint("text-model-a", path="/abs/path/to/config.toml")</code>ì²˜ëŸ¼ <strong>í•¨ìˆ˜ ì¸ì</strong> ë¡œ ì£¼ë©´ ë©ë‹ˆë‹¤.</p>
  </li>
  <li>
    <p>ë‚´ë¶€ëŠ” <strong>ê²½ë¡œë³„ ë ˆì§€ìŠ¤íŠ¸ë¦¬(Multiton)</strong>ë¼ ê°™ì€ ê²½ë¡œëŠ” ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê³µìœ (ì„±ëŠ¥â†‘)í•˜ì§€ë§Œ, í˜¸ì¶œë¶€ëŠ” <strong>í•¨ìˆ˜í˜•</strong> ì´ë¼ ì‹±ê¸€í†¤ì— ì¢…ì†ë˜ì§€ ì•Šì•„ìš”.</p>
  </li>
</ul>

<hr />

<h1 id="6-ìš”ê±´-ì²´í¬">6) ìš”ê±´ ì²´í¬</h1>

<ul>
  <li>
    <p>ì—¬ëŸ¬ ë…¸ë“œ/íŒŒì¼ì—ì„œ ê³µí†µ ì‚¬ìš©: <strong>í•¨ìˆ˜í˜• API</strong> ë¡œ ê°„ë‹¨ ì„í¬íŠ¸</p>
  </li>
  <li>
    <p>ì‹±ê¸€í†¤ ì–´ìƒ‰í•¨ ì œê±°: <strong>ê²½ë¡œë³„ Multiton + helper í•¨ìˆ˜</strong> â†’ ëª…ì‹œì  DIë„ ê°€ëŠ¥(<code class="language-plaintext highlighter-rouge">get_store(path)</code>)</p>
  </li>
  <li>
    <p>ì½ê¸° ì „ìš© + 1ë¶„ ë‚´ ë°˜ì˜: <strong>mtime + 5~60s TTL(ê¸°ë³¸ 30s)</strong></p>
  </li>
  <li>
    <p>ì‚¬ëŒì´ í¸ì§‘ ì‰¬ì›€: <strong>TOML + ENV ì¹˜í™˜</strong></p>
  </li>
  <li>
    <p>ì—”ë“œí¬ì¸íŠ¸ 4í•„ë“œ: <code class="language-plaintext highlighter-rouge">display_name, request_name, base_url, api_key</code></p>
  </li>
</ul>

<hr />

<p>í•„ìš”í•˜ë©´ <code class="language-plaintext highlighter-rouge">get_store(path)</code>ë¡œ <strong>ëª…ì‹œì  ì˜ì¡´ì„± ì£¼ì…(DI)</strong>ë„ ê°€ëŠ¥í•´ìš”. ì˜ˆì»¨ëŒ€ í”„ë ˆì„ì›Œí¬ ì´ˆê¸°í™” ì‹œ:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">comfyui_config_reader.config</span> <span class="kn">import</span> <span class="n">get_store</span>
<span class="n">STORE</span> <span class="o">=</span> <span class="nf">get_store</span><span class="p">(</span><span class="sh">"</span><span class="s">/path/to/config.toml</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># ì´í›„ ì–´ë””ì„œë“ :
</span><span class="n">ep</span> <span class="o">=</span> <span class="n">STORE</span><span class="p">.</span><span class="nf">get_endpoint</span><span class="p">(</span><span class="sh">"</span><span class="s">text-model-a</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<p>ì´ë ‡ê²Œ í•˜ë©´ ì•„ì˜ˆ ì „ì—­ í•¨ìˆ˜ë„ ì•ˆ ì“°ê³ , â€œë‚´ê°€ ì£¼ì…í•œ ìŠ¤í† ì–´â€ë§Œ ì°¸ì¡°í•˜ëŠ” í˜•íƒœë¡œ ì™„ì „íˆ ë¶„ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<p class="chat--user">

ì•„ë‹ˆ ì‹±ê¸€í†¤ì€ ê´œì°®ì€ë° ì™¸ë¶€ì—ì„œ ì ‘ê·¼ì´ ì‰½ì§€ ì•Šì•„ë³´ì—¬ì„œ. ì‹±ê¸€í†¤ì´ ë‚«ì§€ ì•Šì•„?

</p>

<p>ì¢‹ì•„, <strong>ì‹±ê¸€í†¤ìœ¼ë¡œ ë‹¨ìˆœÂ·ì§ê´€ ì ‘ê·¼</strong> ê°€ëŠ¥í•˜ê²Œ ì •ë¦¬í•´ì¤„ê²Œ.<br />
ì™¸ë¶€ ë…¸ë“œ â€œíŒŒì¼ë“¤â€ ì–´ë””ì„œë“  í•œ ì¤„ ì„í¬íŠ¸ë¡œ ë°”ë¡œ ì“°ëŠ” í˜•íƒœì•¼:</p>

<ul>
  <li>
    <p>í•¨ìˆ˜í˜•: <code class="language-plaintext highlighter-rouge">from comfyui_config_reader import endpoint, get</code></p>
  </li>
  <li>
    <p>ê°ì²´í˜•: <code class="language-plaintext highlighter-rouge">from comfyui_config_reader import CONFIG</code></p>
  </li>
</ul>

<p>ë‘˜ ë‹¤ ê°™ì€ ì‹±ê¸€í†¤ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë’¤ì—ì„œ ì‚¬ìš©í•´. (thread-safe, read-only, 1ë¶„ ë‚´ ë°˜ì˜)</p>

<hr />

<h1 id="1-íŒŒì¼-êµ¬ì¡°-ì‹¬í”Œ">1) íŒŒì¼ êµ¬ì¡° (ì‹¬í”Œ)</h1>
<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ComfyUI/
â””â”€ custom_nodes/
   â””â”€ comfyui_config_reader/
      â”œâ”€ __init__.py
      â”œâ”€ config_singleton.py   # ì‹±ê¸€í†¤ ë³¸ì²´
      â””â”€ config.toml
</code></pre></div></div>

<hr />

<h1 id="2-configtoml-ì˜ˆì‹œ-ë²”ìš©">2) <code class="language-plaintext highlighter-rouge">config.toml</code> ì˜ˆì‹œ (ë²”ìš©)</h1>
<div class="language-toml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="py">version</span> <span class="p">=</span> <span class="mi">1</span>

<span class="nn">[settings]</span>
<span class="py">refresh_interval_seconds</span> <span class="p">=</span> <span class="mi">30</span>  <span class="c"># 5~60 ì‚¬ì´ ê¶Œì¥</span>

<span class="nn">[endpoints."text-model-a"]</span>
<span class="py">display_name</span>  <span class="p">=</span> <span class="s">"Text Model A"</span>
<span class="py">request_name</span>  <span class="p">=</span> <span class="s">"gpt-4o-mini"</span>
<span class="py">base_url</span>      <span class="p">=</span> <span class="s">"https://api.openai.com/v1"</span>
<span class="py">api_key</span>       <span class="p">=</span> <span class="s">"${OPENAI_API_KEY}"</span>

<span class="nn">[feature_flags]</span>
<span class="py">use_cache</span> <span class="p">=</span> <span class="kc">true</span>
</code></pre></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">${ENV}</code> ëŠ” í™˜ê²½ë³€ìˆ˜ ì¹˜í™˜ë¨.</li>
</ul>

<hr />

<h1 id="3-ì‹±ê¸€í†¤-êµ¬í˜„-config_singletonpy">3) ì‹±ê¸€í†¤ êµ¬í˜„: <code class="language-plaintext highlighter-rouge">config_singleton.py</code></h1>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">os</span>
<span class="kn">import</span> <span class="n">time</span>
<span class="kn">import</span> <span class="n">threading</span>
<span class="kn">from</span> <span class="n">typing</span> <span class="kn">import</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Optional</span>

<span class="c1"># Python 3.11+: tomllib / ì´í•˜: tomli
</span><span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span> <span class="n">tomllib</span>  <span class="c1"># type: ignore
</span>    <span class="n">_TOML_LOADS</span> <span class="o">=</span> <span class="n">tomllib</span><span class="p">.</span><span class="n">loads</span>
<span class="k">except</span> <span class="nb">Exception</span><span class="p">:</span>
    <span class="kn">import</span> <span class="n">tomli</span>  <span class="c1"># type: ignore
</span>    <span class="n">_TOML_LOADS</span> <span class="o">=</span> <span class="n">tomli</span><span class="p">.</span><span class="n">loads</span>

<span class="k">def</span> <span class="nf">_expand_env</span><span class="p">(</span><span class="n">v</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
    <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">out</span><span class="p">,</span> <span class="n">i</span> <span class="o">=</span> <span class="sh">""</span><span class="p">,</span> <span class="mi">0</span>
        <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="nf">len</span><span class="p">(</span><span class="n">v</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="p">:</span><span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="sh">"</span><span class="s">${</span><span class="sh">"</span><span class="p">:</span>
                <span class="n">j</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="sh">"</span><span class="s">}</span><span class="sh">"</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">j</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                    <span class="n">out</span> <span class="o">+=</span> <span class="n">os</span><span class="p">.</span><span class="n">environ</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="p">:</span><span class="n">j</span><span class="p">],</span> <span class="sh">""</span><span class="p">)</span>
                    <span class="n">i</span> <span class="o">=</span> <span class="n">j</span> <span class="o">+</span> <span class="mi">1</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">out</span> <span class="o">+=</span> <span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="p">];</span> <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">out</span> <span class="o">+=</span> <span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="p">];</span> <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="n">out</span>
    <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="nf">_expand_env</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">v</span><span class="p">.</span><span class="nf">items</span><span class="p">()}</span>
    <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">[</span><span class="nf">_expand_env</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">v</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">v</span>

<span class="k">def</span> <span class="nf">_norm</span><span class="p">(</span><span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">return</span> <span class="nf">str</span><span class="p">(</span><span class="n">s</span><span class="p">).</span><span class="nf">strip</span><span class="p">().</span><span class="nf">lower</span><span class="p">()</span>

<span class="k">class</span> <span class="nc">_ReadOnlyConfig</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">
    - TOML íŒŒì¼ ì½ê¸° ì „ìš©
    - mtime ë³€ê²½ + TTL(5~60s, ê¸°ë³¸ 30s) ìë™ ì¬ë¡œë“œ
    - endpoints 4í•„ë“œ ì¸ë±ì‹±(display_name, request_name, base_url, api_key)
    - ì„ì˜ ê²½ë¡œ ì ‘ê·¼ ê°€ëŠ¥ (</span><span class="sh">'</span><span class="s">.</span><span class="sh">'</span><span class="s"> êµ¬ë¶„)
    </span><span class="sh">"""</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">path</span> <span class="o">=</span> <span class="n">path</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_lock</span> <span class="o">=</span> <span class="n">threading</span><span class="p">.</span><span class="nc">Lock</span><span class="p">()</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_loaded_at</span> <span class="o">=</span> <span class="mf">0.0</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_last_mtime</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1.0</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_refresh</span> <span class="o">=</span> <span class="mi">30</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_raw</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_ep_index</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="c1"># -------- ë‚´ë¶€ ë¡œë”© --------
</span>    <span class="k">def</span> <span class="nf">_read_text</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">path</span><span class="p">,</span> <span class="sh">"</span><span class="s">rb</span><span class="sh">"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">f</span><span class="p">.</span><span class="nf">read</span><span class="p">().</span><span class="nf">decode</span><span class="p">(</span><span class="sh">"</span><span class="s">utf-8</span><span class="sh">"</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_build_index</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_ep_index</span><span class="p">.</span><span class="nf">clear</span><span class="p">()</span>
        <span class="n">eps</span> <span class="o">=</span> <span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">endpoints</span><span class="sh">"</span><span class="p">)</span> <span class="ow">or</span> <span class="p">{})</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">eps</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span> <span class="k">return</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">cfg</span> <span class="ow">in</span> <span class="n">eps</span><span class="p">.</span><span class="nf">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">cfg</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span> <span class="k">continue</span>
            <span class="n">cfg</span> <span class="o">=</span> <span class="nf">_expand_env</span><span class="p">(</span><span class="n">cfg</span><span class="p">)</span>
            <span class="n">req</span> <span class="o">=</span> <span class="p">[</span><span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">request_name</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">api_key</span><span class="sh">"</span><span class="p">]</span>
            <span class="k">if</span> <span class="nf">any</span><span class="p">(</span><span class="n">k</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">cfg</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">[</span><span class="n">k</span><span class="p">]).</span><span class="nf">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">req</span><span class="p">):</span>
                <span class="k">continue</span>
            <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="p">{</span><span class="nf">str</span><span class="p">(</span><span class="n">key</span><span class="p">),</span> <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">,</span><span class="sh">""</span><span class="p">)),</span> <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">request_name</span><span class="sh">"</span><span class="p">,</span><span class="sh">""</span><span class="p">))}:</span>
                <span class="k">if</span> <span class="n">c</span><span class="p">:</span>
                    <span class="n">self</span><span class="p">.</span><span class="n">_ep_index</span><span class="p">[</span><span class="nf">_norm</span><span class="p">(</span><span class="n">c</span><span class="p">)]</span> <span class="o">=</span> <span class="p">{</span>
                        <span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">:</span> <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">[</span><span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">]),</span>
                        <span class="sh">"</span><span class="s">request_name</span><span class="sh">"</span><span class="p">:</span> <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">[</span><span class="sh">"</span><span class="s">request_name</span><span class="sh">"</span><span class="p">]),</span>
                        <span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">:</span> <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">[</span><span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">]),</span>
                        <span class="sh">"</span><span class="s">api_key</span><span class="sh">"</span><span class="p">:</span> <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">[</span><span class="sh">"</span><span class="s">api_key</span><span class="sh">"</span><span class="p">]),</span>
                    <span class="p">}</span>

    <span class="k">def</span> <span class="nf">_reload_locked</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">txt</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="nf">_read_text</span><span class="p">()</span>
        <span class="n">data</span> <span class="o">=</span> <span class="nf">_TOML_LOADS</span><span class="p">(</span><span class="n">txt</span><span class="p">)</span>
        <span class="c1"># refresh_interval_seconds (5~60) + env override
</span>        <span class="n">r</span> <span class="o">=</span> <span class="nf">int</span><span class="p">((</span><span class="n">data</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">settings</span><span class="sh">"</span><span class="p">)</span> <span class="ow">or</span> <span class="p">{}).</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">refresh_interval_seconds</span><span class="sh">"</span><span class="p">,</span> <span class="mi">30</span><span class="p">))</span>
        <span class="n">r</span> <span class="o">=</span> <span class="nf">max</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="nf">min</span><span class="p">(</span><span class="mi">60</span><span class="p">,</span> <span class="n">r</span><span class="p">))</span>
        <span class="n">env_r</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">environ</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">COMFY_CONFIG_REFRESH_SECONDS</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">env_r</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span> <span class="n">r</span> <span class="o">=</span> <span class="nf">max</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="nf">min</span><span class="p">(</span><span class="mi">60</span><span class="p">,</span> <span class="nf">int</span><span class="p">(</span><span class="n">env_r</span><span class="p">)))</span>
            <span class="k">except</span> <span class="nb">ValueError</span><span class="p">:</span> <span class="k">pass</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_refresh</span> <span class="o">=</span> <span class="n">r</span>

        <span class="n">self</span><span class="p">.</span><span class="n">_raw</span> <span class="o">=</span> <span class="nf">_expand_env</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">_build_index</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">_raw</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_loaded_at</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">self</span><span class="p">.</span><span class="n">_last_mtime</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">getmtime</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">path</span><span class="p">)</span>
        <span class="k">except</span> <span class="nb">FileNotFoundError</span><span class="p">:</span>
            <span class="n">self</span><span class="p">.</span><span class="n">_last_mtime</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1.0</span>

    <span class="k">def</span> <span class="nf">_stale_or_changed</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">m</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">getmtime</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">path</span><span class="p">)</span>
        <span class="k">except</span> <span class="nb">FileNotFoundError</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">True</span>
        <span class="n">now</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span>
        <span class="nf">return </span><span class="p">(</span><span class="n">m</span> <span class="o">!=</span> <span class="n">self</span><span class="p">.</span><span class="n">_last_mtime</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">now</span> <span class="o">-</span> <span class="n">self</span><span class="p">.</span><span class="n">_loaded_at</span> <span class="o">&gt;=</span> <span class="n">self</span><span class="p">.</span><span class="n">_refresh</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_ensure_loaded</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">with</span> <span class="n">self</span><span class="p">.</span><span class="n">_lock</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">self</span><span class="p">.</span><span class="n">_loaded_at</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">self</span><span class="p">.</span><span class="nf">_stale_or_changed</span><span class="p">():</span>
                <span class="n">self</span><span class="p">.</span><span class="nf">_reload_locked</span><span class="p">()</span>

    <span class="c1"># -------- í¼ë¸”ë¦­ API --------
</span>    <span class="k">def</span> <span class="nf">endpoint</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">key</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nf">str</span><span class="p">(</span><span class="n">key</span><span class="p">).</span><span class="nf">strip</span><span class="p">():</span>
            <span class="k">raise</span> <span class="nc">KeyError</span><span class="p">(</span><span class="sh">"</span><span class="s">endpoint key is empty</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">_ensure_loaded</span><span class="p">()</span>
        <span class="n">hit</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">_ep_index</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="nf">_norm</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">hit</span><span class="p">:</span>
            <span class="c1"># ì¦‰ì‹œ ì¬ì‹œë„(ê°±ì‹  ì§€ì—° ë³´ì •)
</span>            <span class="k">with</span> <span class="n">self</span><span class="p">.</span><span class="n">_lock</span><span class="p">:</span>
                <span class="n">self</span><span class="p">.</span><span class="nf">_reload_locked</span><span class="p">()</span>
                <span class="n">hit</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">_ep_index</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="nf">_norm</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">hit</span><span class="p">:</span>
            <span class="k">raise</span> <span class="nc">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">endpoint not found: </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">hit</span>

    <span class="k">def</span> <span class="nf">endpoints</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]:</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">_ensure_loaded</span><span class="p">()</span>
        <span class="n">out</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">self</span><span class="p">.</span><span class="n">_ep_index</span><span class="p">.</span><span class="nf">items</span><span class="p">():</span>
            <span class="n">out</span><span class="p">[</span><span class="n">v</span><span class="p">[</span><span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{</span>
                <span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">:</span> <span class="n">v</span><span class="p">[</span><span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">],</span>
                <span class="sh">"</span><span class="s">request_name</span><span class="sh">"</span><span class="p">:</span> <span class="n">v</span><span class="p">[</span><span class="sh">"</span><span class="s">request_name</span><span class="sh">"</span><span class="p">],</span>
                <span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">:</span> <span class="n">v</span><span class="p">[</span><span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">],</span>
            <span class="p">}</span>
        <span class="k">return</span> <span class="n">out</span>  <span class="c1"># api_key ë¯¸ë…¸ì¶œ
</span>
    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">dotted</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">_ensure_loaded</span><span class="p">()</span>
        <span class="n">cur</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">_raw</span>
        <span class="k">for</span> <span class="n">part</span> <span class="ow">in</span> <span class="nf">filter</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="n">dotted</span><span class="p">.</span><span class="nf">split</span><span class="p">(</span><span class="sh">"</span><span class="s">.</span><span class="sh">"</span><span class="p">)):</span>
            <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">cur</span><span class="p">,</span> <span class="nb">dict</span><span class="p">)</span> <span class="ow">and</span> <span class="n">part</span> <span class="ow">in</span> <span class="n">cur</span><span class="p">:</span>
                <span class="n">cur</span> <span class="o">=</span> <span class="n">cur</span><span class="p">[</span><span class="n">part</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="nc">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">config path not found: </span><span class="si">{</span><span class="n">dotted</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">cur</span>

    <span class="k">def</span> <span class="nf">snapshot</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">_ensure_loaded</span><span class="p">()</span>
        <span class="k">return</span> <span class="nf">dict</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">_raw</span><span class="p">)</span>

<span class="c1"># ===== ëª¨ë“ˆ ì „ì—­ ì‹±ê¸€í†¤ =====
</span><span class="n">_lock</span> <span class="o">=</span> <span class="n">threading</span><span class="p">.</span><span class="nc">Lock</span><span class="p">()</span>
<span class="n">_instance</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">_ReadOnlyConfig</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span>
<span class="n">_default_path</span> <span class="o">=</span> <span class="bp">None</span>  <span class="c1"># configure()ë¡œ ì§€ì • ê°€ëŠ¥
</span>
<span class="k">def</span> <span class="nf">_resolve_default_path</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="n">here</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">dirname</span><span class="p">(</span><span class="n">__file__</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">_default_path</span> <span class="ow">or</span> <span class="n">os</span><span class="p">.</span><span class="n">environ</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">COMFY_CONFIG_PATH</span><span class="sh">"</span><span class="p">,</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="n">here</span><span class="p">,</span> <span class="sh">"</span><span class="s">config.toml</span><span class="sh">"</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">_get_instance</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">_ReadOnlyConfig</span><span class="p">:</span>
    <span class="k">global</span> <span class="n">_instance</span>
    <span class="k">if</span> <span class="n">_instance</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">with</span> <span class="n">_lock</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">_instance</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
                <span class="n">_instance</span> <span class="o">=</span> <span class="nf">_ReadOnlyConfig</span><span class="p">(</span><span class="nf">_resolve_default_path</span><span class="p">())</span>
    <span class="k">return</span> <span class="n">_instance</span>

<span class="k">def</span> <span class="nf">configure</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span> <span class="n">refresh_seconds</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">
    ì‹±ê¸€í†¤ ì„¤ì •(ì„ íƒ): ê²½ë¡œ/TTL ì˜¤ë²„ë¼ì´ë“œ.
    - ê°€ëŠ¥í•œ í•œ </span><span class="sh">'</span><span class="s">ì´ˆê¸°í™” ì‹œ 1íšŒ</span><span class="sh">'</span><span class="s">ë§Œ í˜¸ì¶œ ì¶”ì²œ.
    - ì´í›„ì—ë„ í˜¸ì¶œ ê°€ëŠ¥í•˜ë©°, ìƒˆ ì¸ìŠ¤í„´ìŠ¤ë¡œ êµì²´ë¨( thread-safe ).
    </span><span class="sh">"""</span>
    <span class="k">global</span> <span class="n">_instance</span><span class="p">,</span> <span class="n">_default_path</span>
    <span class="k">if</span> <span class="n">path</span><span class="p">:</span>
        <span class="n">_default_path</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">abspath</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">refresh_seconds</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">os</span><span class="p">.</span><span class="n">environ</span><span class="p">[</span><span class="sh">"</span><span class="s">COMFY_CONFIG_REFRESH_SECONDS</span><span class="sh">"</span><span class="p">]</span> <span class="o">=</span> <span class="nf">str</span><span class="p">(</span><span class="n">refresh_seconds</span><span class="p">)</span>
    <span class="k">with</span> <span class="n">_lock</span><span class="p">:</span>
        <span class="n">_instance</span> <span class="o">=</span> <span class="nf">_ReadOnlyConfig</span><span class="p">(</span><span class="nf">_resolve_default_path</span><span class="p">())</span>

<span class="c1"># ---- ì™¸ë¶€ì— ë…¸ì¶œí•  ì–‡ì€ API (ê°€ì¥ ì‰¬ìš´ ì ‘ê·¼) ----
</span><span class="k">def</span> <span class="nf">endpoint</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
    <span class="k">return</span> <span class="nf">_get_instance</span><span class="p">().</span><span class="nf">endpoint</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">endpoints</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]:</span>
    <span class="k">return</span> <span class="nf">_get_instance</span><span class="p">().</span><span class="nf">endpoints</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="n">dotted</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
    <span class="k">return</span> <span class="nf">_get_instance</span><span class="p">().</span><span class="nf">get</span><span class="p">(</span><span class="n">dotted</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">snapshot</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="k">return</span> <span class="nf">_get_instance</span><span class="p">().</span><span class="nf">snapshot</span><span class="p">()</span>

<span class="c1"># ---- ê°ì²´í˜• ì ‘ê·¼ì„ ìœ„í•œ í”„ë¡ì‹œ(CONFIG) ----
</span><span class="k">class</span> <span class="nc">_ConfigProxy</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__getattr__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="c1"># CONFIG.endpoint(...), CONFIG.get(...) í˜•íƒœ ì§€ì›
</span>        <span class="k">return</span> <span class="nf">getattr</span><span class="p">(</span><span class="nf">_get_instance</span><span class="p">(),</span> <span class="n">name</span><span class="p">)</span>

<span class="n">CONFIG</span> <span class="o">=</span> <span class="nf">_ConfigProxy</span><span class="p">()</span>
</code></pre></div></div>

<hr />

<h1 id="4-__init__py-í•œ-ì¤„-ì„í¬íŠ¸-ì§€ì›">4) <code class="language-plaintext highlighter-rouge">__init__.py</code> (í•œ ì¤„ ì„í¬íŠ¸ ì§€ì›)</h1>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># ì™¸ë¶€ì—ì„œ ì•„ì£¼ ê°„ë‹¨íˆ ì ‘ê·¼ ê°€ëŠ¥í•˜ê²Œ re-export
</span><span class="kn">from</span> <span class="n">.config_singleton</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">CONFIG</span><span class="p">,</span>        <span class="c1"># ê°ì²´í˜•: CONFIG.endpoint(...), CONFIG.get(...)
</span>    <span class="n">configure</span><span class="p">,</span>     <span class="c1"># ì„ íƒ: ì´ˆê¸°í™” ì‹œ ê²½ë¡œ/TTL ì§€ì •
</span>    <span class="n">endpoint</span><span class="p">,</span>      <span class="c1"># í•¨ìˆ˜í˜•: endpoint("text-model-a")
</span>    <span class="n">endpoints</span><span class="p">,</span>
    <span class="n">get</span><span class="p">,</span>
    <span class="n">snapshot</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div></div>

<hr />

<h1 id="5-ì™¸ë¶€-ë…¸ë“œ-íŒŒì¼ë“¤ì—ì„œ-ì“°ëŠ”-ë²•">5) ì™¸ë¶€ ë…¸ë“œ â€œíŒŒì¼ë“¤â€ì—ì„œ ì“°ëŠ” ë²•</h1>

<h2 id="ê°€ì¥-ê°„ë‹¨-í•¨ìˆ˜í˜•">ê°€ì¥ ê°„ë‹¨ (í•¨ìˆ˜í˜•)</h2>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">comfyui_config_reader</span> <span class="kn">import</span> <span class="n">endpoint</span><span class="p">,</span> <span class="n">get</span>

<span class="k">def</span> <span class="nf">build_client</span><span class="p">():</span>
    <span class="n">ep</span> <span class="o">=</span> <span class="nf">endpoint</span><span class="p">(</span><span class="sh">"</span><span class="s">text-model-a</span><span class="sh">"</span><span class="p">)</span>  <span class="c1"># í‚¤ / display_name / request_name ì¤‘ ì•„ë¬´ê±°ë‚˜ OK
</span>    <span class="n">base_url</span> <span class="o">=</span> <span class="n">ep</span><span class="p">[</span><span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">]</span>
    <span class="n">api_key</span>  <span class="o">=</span> <span class="n">ep</span><span class="p">[</span><span class="sh">"</span><span class="s">api_key</span><span class="sh">"</span><span class="p">]</span>
    <span class="c1"># ... í´ë¼ì´ì–¸íŠ¸ ìƒì„±
</span></code></pre></div></div>

<h2 id="ê°ì²´í˜•ì´-ìµìˆ™í•˜ë‹¤ë©´">ê°ì²´í˜•ì´ ìµìˆ™í•˜ë‹¤ë©´</h2>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">comfyui_config_reader</span> <span class="kn">import</span> <span class="n">CONFIG</span>

<span class="k">def</span> <span class="nf">build_client</span><span class="p">():</span>
    <span class="n">ep</span> <span class="o">=</span> <span class="n">CONFIG</span><span class="p">.</span><span class="nf">endpoint</span><span class="p">(</span><span class="sh">"</span><span class="s">text-model-a</span><span class="sh">"</span><span class="p">)</span>
    <span class="c1"># CONFIG.get("storage.s3.region") ë“±ë„ ë™ì¼
</span></code></pre></div></div>

<h2 id="ì‹œì‘-ì‹œ-ê²½ë¡œttl-ì§€ì •ì„ íƒ">ì‹œì‘ ì‹œ ê²½ë¡œ/TTL ì§€ì •(ì„ íƒ)</h2>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># ì˜ˆ: __init__ í˜¹ì€ ComfyUI ë¶€íŒ… ì´ˆê¸°ì— í•œ ë²ˆ
</span><span class="kn">from</span> <span class="n">comfyui_config_reader</span> <span class="kn">import</span> <span class="n">configure</span>
<span class="nf">configure</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="sh">"</span><span class="s">/abs/path/to/config.toml</span><span class="sh">"</span><span class="p">,</span> <span class="n">refresh_seconds</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>  <span class="c1"># 5~60 ì‚¬ì´
</span></code></pre></div></div>

<ul>
  <li>ì´í›„ ëª¨ë“  ëª¨ë“ˆì—ì„œ ê°™ì€ ì‹±ê¸€í†¤ì„ ì‚¬ìš©í•˜ê³ , íŒŒì¼ ë³€ê²½ì€ <strong>ìµœëŒ€ 1ë¶„ ë‚´</strong> ë°˜ì˜ë¼ìš”(ê¸°ë³¸ 30ì´ˆ, env/ì„¤ì •ìœ¼ë¡œ ì¡°ì ˆ).</li>
</ul>

<hr />

<h1 id="6-ìš”ê±´-ì¬í™•ì¸">6) ìš”ê±´ ì¬í™•ì¸</h1>

<ul>
  <li>
    <p>âœ… ì™¸ë¶€ ì ‘ê·¼ ì‰¬ì›€: <code class="language-plaintext highlighter-rouge">from comfyui_config_reader import endpoint</code> ë˜ëŠ” <code class="language-plaintext highlighter-rouge">CONFIG.endpoint</code></p>
  </li>
  <li>
    <p>âœ… ì‹±ê¸€í†¤: ëª¨ë“ˆ ì „ì—­ í•œ ê°œ ì¸ìŠ¤í„´ìŠ¤, thread-safe lazy init</p>
  </li>
  <li>
    <p>âœ… ì½ê¸° ì „ìš©: ì“°ê¸° ì—†ìŒ</p>
  </li>
  <li>
    <p>âœ… 1ë¶„ ë‚´ ë°˜ì˜: mtime + TTL(ê¸°ë³¸ 30s, 5~60s)</p>
  </li>
  <li>
    <p>âœ… ì‚¬ëŒì´ í¸ì§‘ ì‰¬ì›€: TOML + <code class="language-plaintext highlighter-rouge">${ENV}</code> ì¹˜í™˜</p>
  </li>
  <li>
    <p>âœ… ì—”ë“œí¬ì¸íŠ¸ 4í•„ë“œ: <code class="language-plaintext highlighter-rouge">display_name</code>, <code class="language-plaintext highlighter-rouge">request_name</code>, <code class="language-plaintext highlighter-rouge">base_url</code>, <code class="language-plaintext highlighter-rouge">api_key</code></p>
  </li>
</ul>

<p>í•„ìš”í•˜ë©´, ì§€ê¸ˆ êµ¬ì¡° ìœ„ì— â€œì—”ë“œí¬ì¸íŠ¸ í˜¸ì¶œìš© ë…¸ë“œâ€ë„ ë°”ë¡œ ì–¹ì–´ì¤„ê²Œ.</p>

<p class="chat--user">

endpoint ë§ê³  ì¢€ ë” ì¢‹ì€ ìš©ì–´ ì„ ì •í•´ì¤˜. ê·¸ë¦¬ê³  model configuration (parameter ë“±ë„ ì„¤ì •ì— ê°™ì´ í¬í•¨ì‹œí‚¤ë©´ ì¢‹ê² ì–´)

</p>

<p>ì¢‹ì•„! â€œendpointâ€ ëŒ€ì‹  ë” ìì—°ìŠ¤ëŸ¬ìš´ ìš©ì–´ë¡œ <strong>profile(í”„ë¡œí•„)</strong> ì„ ì“°ê³ , ì—¬ê¸°ì— <strong>model configuration(íŒŒë¼ë¯¸í„° ë“±)</strong> ê¹Œì§€ í•¨ê»˜ ë‹´ëŠ” ë°©í–¥ìœ¼ë¡œ ì •ë¦¬í–ˆì–´.<br />
ì™¸ë¶€ ë…¸ë“œ/íŒŒì¼ì—ì„œëŠ” <strong>ì‹±ê¸€í†¤</strong> ì„ ì•„ì£¼ ê°„ë‹¨íˆ ì“°ë©´ ë˜ê³ , ê¸°ì¡´ endpoint ëª…ì¹­ì€ <strong>í•˜ìœ„ í˜¸í™˜ ë³„ì¹­</strong> ë„ ì œê³µí•´ë‘˜ê²Œ.</p>

<hr />

<h1 id="1-ìš©ì–´-ì„ ì •-step-by-step">1) ìš©ì–´ ì„ ì • (step-by-step)</h1>

<ol>
  <li>
    <p><strong>profile (í”„ë¡œí•„)</strong> â€” ì‚¬ëŒì´ ì´í•´í•˜ê¸° ì‰¬ì›€. â€œì—°ê²° ì •ë³´ + í˜¸ì¶œ ê·œì¹™ + ëª¨ë¸ íŒŒë¼ë¯¸í„° ë¬¶ìŒâ€ì„ í•œ ì„¸íŠ¸ë¡œ ë³´ê¸°ì— ì í•©.</p>
  </li>
  <li>
    <p>ëŒ€ì•ˆ(ì°¸ê³ ): provider, backend, connector, target.</p>

    <ul>
      <li>ê¸°ìˆ ì ìœ¼ë¡œëŠ” <em>backend</em> ë„ ê´œì°®ì§€ë§Œ, â€œì„¤ì • ë¬¶ìŒâ€ ë‰˜ì•™ìŠ¤ëŠ” <em>profile</em> ì´ ê°€ì¥ ì§ê´€ì .</li>
    </ul>
  </li>
  <li>
    <p>ê²°ë¡ : <strong>profiles</strong> ì„¹ì…˜ìœ¼ë¡œ í‘œì¤€í™”í•˜ê³ , <strong>endpoints</strong> ëŠ” ìë™ ì¸ì‹(í•˜ìœ„ í˜¸í™˜) ìœ ì§€.</p>
  </li>
</ol>

<hr />

<h1 id="2-configtoml-ìŠ¤í‚¤ë§ˆ-ëª¨ë¸-íŒŒë¼ë¯¸í„°-í¬í•¨">2) config.toml ìŠ¤í‚¤ë§ˆ (ëª¨ë¸ íŒŒë¼ë¯¸í„° í¬í•¨)</h1>
<div class="language-toml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="py">version</span> <span class="p">=</span> <span class="mi">1</span>

<span class="nn">[settings]</span>
<span class="c"># íŒŒì¼ ë³€ê²½ ê°ì§€ ì£¼ê¸°(ì´ˆ). 5~60 ê¶Œì¥. "1ë¶„ ë‚´ ë°˜ì˜" ìš”ê±´ ë§Œì¡±.</span>
<span class="py">refresh_interval_seconds</span> <span class="p">=</span> <span class="mi">30</span>

<span class="c"># ëª¨ë“  í”„ë¡œí•„ì— ê³µí†µ ì ìš©ë  ê¸°ë³¸ê°’(ì„ íƒ)</span>
<span class="nn">[defaults.params]</span>
<span class="py">temperature</span> <span class="p">=</span> <span class="mf">0.3</span>
<span class="py">max_tokens</span>  <span class="p">=</span> <span class="mi">2048</span>

<span class="nn">[defaults.http]</span>
<span class="py">timeout_seconds</span> <span class="p">=</span> <span class="mi">30</span>
<span class="nn">[defaults.http.headers]</span>
<span class="py">User-Agent</span> <span class="p">=</span> <span class="s">"ComfyUI-ConfigReader/1.0"</span>
<span class="nn">[defaults.http.query]</span>
<span class="c"># ê³µí†µ ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ê°€ í•„ìš”í•˜ë©´ ì—¬ê¸°ì—</span>

<span class="c"># â”€â”€ í”„ë¡œí•„ë“¤ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span>
<span class="nn">[profiles."text-model-a"]</span>
<span class="py">display_name</span>  <span class="p">=</span> <span class="s">"Text Model A"</span>
<span class="py">request_name</span>  <span class="p">=</span> <span class="s">"gpt-4o-mini"</span>
<span class="py">base_url</span>      <span class="p">=</span> <span class="s">"https://api.openai.com/v1"</span>
<span class="py">api_key</span>       <span class="p">=</span> <span class="s">"${OPENAI_API_KEY}"</span>

<span class="c"># ì´ í”„ë¡œí•„ì˜ ëª¨ë¸ íŒŒë¼ë¯¸í„°(ê¸°ë³¸ê°’ ìœ„ì— ë®ì–´ì“°ê¸°)</span>
<span class="nn">[profiles."text-model-a".params]</span>
<span class="py">temperature</span> <span class="p">=</span> <span class="mf">0.2</span>
<span class="py">top_p</span>       <span class="p">=</span> <span class="mf">0.9</span>
<span class="py">stop</span>        <span class="p">=</span> <span class="p">[</span><span class="s">"</span><span class="se">\n\n</span><span class="s">Human:"</span><span class="p">,</span> <span class="s">"</span><span class="se">\n\n</span><span class="s">Assistant:"</span><span class="p">]</span>

<span class="c"># HTTP ê´€ë ¨(ì„ íƒ): í—¤ë”, íƒ€ì„ì•„ì›ƒ, ì¿¼ë¦¬ ë“±</span>
<span class="nn">[profiles."text-model-a".http]</span>
<span class="py">timeout_seconds</span> <span class="p">=</span> <span class="mi">20</span>
<span class="nn">[profiles."text-model-a".http.headers]</span>
<span class="py">X-Org-Id</span> <span class="p">=</span> <span class="s">"${ORG_ID}"</span>
<span class="nn">[profiles."text-model-a".http.query]</span>
<span class="py">apiVersion</span> <span class="p">=</span> <span class="s">"2024-06-01"</span>

<span class="nn">[profiles."text-model-b"]</span>
<span class="py">display_name</span>  <span class="p">=</span> <span class="s">"Text Model B"</span>
<span class="py">request_name</span>  <span class="p">=</span> <span class="s">"claude-3-5-sonnet"</span>
<span class="py">base_url</span>      <span class="p">=</span> <span class="s">"https://api.anthropic.com"</span>
<span class="py">api_key</span>       <span class="p">=</span> <span class="s">"${ANTHROPIC_API_KEY}"</span>
<span class="c"># params/http ì„¹ì…˜ì´ ì—†ìœ¼ë©´ defaultsë§Œ ì ìš©</span>
</code></pre></div></div>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">${ENV}</code> ëŠ” í™˜ê²½ë³€ìˆ˜ ì¹˜í™˜ë¨.</p>
  </li>
  <li>
    <p><strong>params</strong> : temperature/top_p/max_tokens/stop/seed ë“± ì›í•˜ëŠ” íŒŒë¼ë¯¸í„° ììœ  í™•ì¥.</p>
  </li>
  <li>
    <p><strong>http</strong> : timeout_seconds / headers / query ë“± ìš”ì²­ ê´€ë ¨ ì˜µì…˜.</p>
  </li>
  <li>
    <p>ìƒë‹¨ì˜ <strong>[defaults]</strong> ëŠ” ëª¨ë“  í”„ë¡œí•„ì— <strong>ë³‘í•©(merge)</strong> ë˜ì–´ ê¸°ë³¸ê°’ ì—­í• .</p>
  </li>
</ul>

<hr />

<h1 id="3-ì‹±ê¸€í†¤-api-drop-in-profile--params--http">3) ì‹±ê¸€í†¤ API (drop-in): profile + params + http</h1>

<p>ì™¸ë¶€ ì–´ë””ì„œë“  í•œ ì¤„ë¡œ ì ‘ê·¼:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">comfyui_config_reader</span> <span class="kn">import</span> <span class="n">profile</span><span class="p">,</span> <span class="n">params</span><span class="p">,</span> <span class="n">http</span><span class="p">,</span> <span class="n">get</span>
<span class="c1"># ë˜ëŠ” ê°ì²´í˜•:
</span><span class="kn">from</span> <span class="n">comfyui_config_reader</span> <span class="kn">import</span> <span class="n">CONFIG</span>
</code></pre></div></div>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">profile(key)</code> â†’ ì—°ê²°ì •ë³´ + ëª¨ë¸íŒŒë¼ë¯¸í„° + http ì„¤ì •ê¹Œì§€ <strong>í•œ ë²ˆì—</strong></p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">params(key)</code> â†’ í•´ë‹¹ í”„ë¡œí•„ì˜ <strong>ëª¨ë¸ íŒŒë¼ë¯¸í„° dict</strong></p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">http(key)</code> â†’ í•´ë‹¹ í”„ë¡œí•„ì˜ <strong>HTTP ì˜µì…˜ dict</strong></p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">get("storage.s3.region")</code> ì²˜ëŸ¼ ë²”ìš© í‚¤ ì ‘ê·¼ë„ ìœ ì§€</p>
  </li>
  <li>
    <p>í•˜ìœ„ í˜¸í™˜: <code class="language-plaintext highlighter-rouge">endpoint</code>, <code class="language-plaintext highlighter-rouge">endpoints</code> ë³„ì¹­ë„ ë‚¨ê²¨ë‘ (ê¸°ì¡´ ì½”ë“œ ì•ˆê¹¨ì§)</p>
  </li>
</ul>

<hr />

<h1 id="4-êµì²´ë³¸-ì½”ë“œ-config_singletonpy">4) êµì²´ë³¸ ì½”ë“œ (<code class="language-plaintext highlighter-rouge">config_singleton.py</code>)</h1>

<p>ì•„ë˜ íŒŒì¼ í•˜ë‚˜ë¡œ ê¸°ì¡´ ì‹±ê¸€í†¤ êµ¬í˜„ì„ ëŒ€ì²´í•˜ë©´ ë¼. (ê¸°ëŠ¥: profiles + defaults ë³‘í•© + params/http ì§€ì› + legacy <code class="language-plaintext highlighter-rouge">endpoints</code> ì¸ì‹)</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">os</span>
<span class="kn">import</span> <span class="n">time</span>
<span class="kn">import</span> <span class="n">threading</span>
<span class="kn">from</span> <span class="n">typing</span> <span class="kn">import</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Optional</span>

<span class="c1"># Python 3.11+: tomllib / ì´í•˜: tomli
</span><span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span> <span class="n">tomllib</span>  <span class="c1"># type: ignore
</span>    <span class="n">_TOML_LOADS</span> <span class="o">=</span> <span class="n">tomllib</span><span class="p">.</span><span class="n">loads</span>
<span class="k">except</span> <span class="nb">Exception</span><span class="p">:</span>
    <span class="kn">import</span> <span class="n">tomli</span>  <span class="c1"># type: ignore
</span>    <span class="n">_TOML_LOADS</span> <span class="o">=</span> <span class="n">tomli</span><span class="p">.</span><span class="n">loads</span>

<span class="k">def</span> <span class="nf">_expand_env</span><span class="p">(</span><span class="n">v</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
    <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">out</span><span class="p">,</span> <span class="n">i</span> <span class="o">=</span> <span class="sh">""</span><span class="p">,</span> <span class="mi">0</span>
        <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="nf">len</span><span class="p">(</span><span class="n">v</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="p">:</span><span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="sh">"</span><span class="s">${</span><span class="sh">"</span><span class="p">:</span>
                <span class="n">j</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="sh">"</span><span class="s">}</span><span class="sh">"</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">j</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                    <span class="n">out</span> <span class="o">+=</span> <span class="n">os</span><span class="p">.</span><span class="n">environ</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="p">:</span><span class="n">j</span><span class="p">],</span> <span class="sh">""</span><span class="p">)</span>
                    <span class="n">i</span> <span class="o">=</span> <span class="n">j</span> <span class="o">+</span> <span class="mi">1</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">out</span> <span class="o">+=</span> <span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="p">];</span> <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">out</span> <span class="o">+=</span> <span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="p">];</span> <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="n">out</span>
    <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="nf">_expand_env</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">v</span><span class="p">.</span><span class="nf">items</span><span class="p">()}</span>
    <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">[</span><span class="nf">_expand_env</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">v</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">v</span>

<span class="k">def</span> <span class="nf">_norm</span><span class="p">(</span><span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">return</span> <span class="nf">str</span><span class="p">(</span><span class="n">s</span><span class="p">).</span><span class="nf">strip</span><span class="p">().</span><span class="nf">lower</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">_deep_merge</span><span class="p">(</span><span class="n">base</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">over</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="sh">"""</span><span class="s">ì–•ì€ dict updateê°€ ì•„ë‹Œ, ì¤‘ì²© dictê¹Œì§€ ë³‘í•©.</span><span class="sh">"""</span>
    <span class="n">out</span> <span class="o">=</span> <span class="nf">dict</span><span class="p">(</span><span class="n">base</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="p">(</span><span class="n">over</span> <span class="ow">or</span> <span class="p">{}).</span><span class="nf">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">dict</span><span class="p">)</span> <span class="ow">and</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">out</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="n">k</span><span class="p">),</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="n">out</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="nf">_deep_merge</span><span class="p">(</span><span class="n">out</span><span class="p">[</span><span class="n">k</span><span class="p">],</span> <span class="n">v</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">out</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
    <span class="k">return</span> <span class="n">out</span>

<span class="k">class</span> <span class="nc">_ReadOnlyConfig</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">
    - ì½ê¸° ì „ìš© TOML
    - mtime + TTL(5~60s, ê¸°ë³¸ 30s) ìë™ ì¬ë¡œë“œ â†’ 1ë¶„ ë‚´ ë³€ê²½ ë°˜ì˜
    - </span><span class="sh">'</span><span class="s">profiles</span><span class="sh">'</span><span class="s"> í‘œì¤€ + </span><span class="sh">'</span><span class="s">endpoints</span><span class="sh">'</span><span class="s"> ë ˆê±°ì‹œë„ ìë™ ì¸ì‹
    - ê° profileì—:
        * display_name, request_name, base_url, api_key (í•„ìˆ˜)
        * params(dict)  : ëª¨ë¸ íŒŒë¼ë¯¸í„°
        * http(dict)    : timeout_seconds, headers{}, query{}
    </span><span class="sh">"""</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">path</span> <span class="o">=</span> <span class="n">path</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_lock</span> <span class="o">=</span> <span class="n">threading</span><span class="p">.</span><span class="nc">Lock</span><span class="p">()</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_loaded_at</span> <span class="o">=</span> <span class="mf">0.0</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_last_mtime</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1.0</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_refresh</span> <span class="o">=</span> <span class="mi">30</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_raw</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_idx</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># ì •ê·œí™” í‚¤ -&gt; profile dict
</span>
    <span class="c1"># -------- ë‚´ë¶€ ë¡œë”© --------
</span>    <span class="k">def</span> <span class="nf">_read_text</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">path</span><span class="p">,</span> <span class="sh">"</span><span class="s">rb</span><span class="sh">"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">f</span><span class="p">.</span><span class="nf">read</span><span class="p">().</span><span class="nf">decode</span><span class="p">(</span><span class="sh">"</span><span class="s">utf-8</span><span class="sh">"</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_extract_profiles_table</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="c1"># í‘œì¤€ 'profiles' ìš°ì„ , ì—†ìœ¼ë©´ 'endpoints'(í•˜ìœ„ í˜¸í™˜)
</span>        <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">profiles</span><span class="sh">"</span><span class="p">),</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">data</span><span class="p">[</span><span class="sh">"</span><span class="s">profiles</span><span class="sh">"</span><span class="p">]</span>
        <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">endpoints</span><span class="sh">"</span><span class="p">),</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">data</span><span class="p">[</span><span class="sh">"</span><span class="s">endpoints</span><span class="sh">"</span><span class="p">]</span>
        <span class="k">return</span> <span class="p">{}</span>

    <span class="k">def</span> <span class="nf">_build_index</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_idx</span><span class="p">.</span><span class="nf">clear</span><span class="p">()</span>

        <span class="c1"># defaults (ENV í™•ì¥ í¬í•¨)
</span>        <span class="n">defaults</span> <span class="o">=</span> <span class="nf">_expand_env</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">defaults</span><span class="sh">"</span><span class="p">)</span> <span class="ow">or</span> <span class="p">{})</span>
        <span class="n">defaults_params</span> <span class="o">=</span> <span class="n">defaults</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">params</span><span class="sh">"</span><span class="p">)</span> <span class="ow">or</span> <span class="p">{}</span>
        <span class="n">defaults_http</span>   <span class="o">=</span> <span class="n">defaults</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">http</span><span class="sh">"</span><span class="p">)</span>   <span class="ow">or</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="sh">"</span><span class="s">headers</span><span class="sh">"</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">defaults_http</span><span class="p">:</span> <span class="n">defaults_http</span><span class="p">[</span><span class="sh">"</span><span class="s">headers</span><span class="sh">"</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="sh">"</span><span class="s">query</span><span class="sh">"</span>   <span class="ow">not</span> <span class="ow">in</span> <span class="n">defaults_http</span><span class="p">:</span> <span class="n">defaults_http</span><span class="p">[</span><span class="sh">"</span><span class="s">query</span><span class="sh">"</span><span class="p">]</span>   <span class="o">=</span> <span class="p">{}</span>

        <span class="n">profiles_tbl</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="nf">_extract_profiles_table</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">profiles_tbl</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="k">return</span>

        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">raw_cfg</span> <span class="ow">in</span> <span class="n">profiles_tbl</span><span class="p">.</span><span class="nf">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">raw_cfg</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
                <span class="k">continue</span>

            <span class="n">cfg</span> <span class="o">=</span> <span class="nf">_expand_env</span><span class="p">(</span><span class="n">raw_cfg</span><span class="p">)</span>  <span class="c1"># ENV ì¹˜í™˜
</span>            <span class="c1"># í•„ìˆ˜ í•„ë“œ
</span>            <span class="n">req</span> <span class="o">=</span> <span class="p">[</span><span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">request_name</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">api_key</span><span class="sh">"</span><span class="p">]</span>
            <span class="k">if</span> <span class="nf">any</span><span class="p">(</span><span class="n">k</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">cfg</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">[</span><span class="n">k</span><span class="p">]).</span><span class="nf">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">req</span><span class="p">):</span>
                <span class="k">continue</span>

            <span class="c1"># params/http ë³‘í•© (defaults â†’ profile override)
</span>            <span class="n">p_params</span> <span class="o">=</span> <span class="n">cfg</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">params</span><span class="sh">"</span><span class="p">)</span> <span class="ow">or</span> <span class="p">{}</span>
            <span class="n">p_http</span>   <span class="o">=</span> <span class="n">cfg</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">http</span><span class="sh">"</span><span class="p">)</span>   <span class="ow">or</span> <span class="p">{}</span>
            <span class="k">if</span> <span class="sh">"</span><span class="s">headers</span><span class="sh">"</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">p_http</span><span class="p">:</span> <span class="n">p_http</span><span class="p">[</span><span class="sh">"</span><span class="s">headers</span><span class="sh">"</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">if</span> <span class="sh">"</span><span class="s">query</span><span class="sh">"</span>   <span class="ow">not</span> <span class="ow">in</span> <span class="n">p_http</span><span class="p">:</span> <span class="n">p_http</span><span class="p">[</span><span class="sh">"</span><span class="s">query</span><span class="sh">"</span><span class="p">]</span>   <span class="o">=</span> <span class="p">{}</span>

            <span class="n">merged_params</span> <span class="o">=</span> <span class="p">{</span><span class="o">**</span><span class="n">defaults_params</span><span class="p">,</span> <span class="o">**</span><span class="n">p_params</span><span class="p">}</span>
            <span class="n">merged_http</span>   <span class="o">=</span> <span class="nf">_deep_merge</span><span class="p">(</span><span class="n">defaults_http</span><span class="p">,</span> <span class="n">p_http</span><span class="p">)</span>

            <span class="n">entry</span> <span class="o">=</span> <span class="p">{</span>
                <span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">:</span> <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">[</span><span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">]),</span>
                <span class="sh">"</span><span class="s">request_name</span><span class="sh">"</span><span class="p">:</span> <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">[</span><span class="sh">"</span><span class="s">request_name</span><span class="sh">"</span><span class="p">]),</span>
                <span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">:</span>     <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">[</span><span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">]),</span>
                <span class="sh">"</span><span class="s">api_key</span><span class="sh">"</span><span class="p">:</span>      <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">[</span><span class="sh">"</span><span class="s">api_key</span><span class="sh">"</span><span class="p">]),</span>
                <span class="sh">"</span><span class="s">params</span><span class="sh">"</span><span class="p">:</span>       <span class="n">merged_params</span><span class="p">,</span>
                <span class="sh">"</span><span class="s">http</span><span class="sh">"</span><span class="p">:</span>         <span class="n">merged_http</span><span class="p">,</span>
            <span class="p">}</span>

            <span class="c1"># ì ‘ê·¼ í‚¤: ì •ì˜ í‚¤ / display_name / request_name
</span>            <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="p">{</span><span class="nf">str</span><span class="p">(</span><span class="n">key</span><span class="p">),</span> <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">,</span><span class="sh">""</span><span class="p">)),</span> <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">request_name</span><span class="sh">"</span><span class="p">,</span><span class="sh">""</span><span class="p">))}:</span>
                <span class="k">if</span> <span class="n">c</span><span class="p">:</span>
                    <span class="n">self</span><span class="p">.</span><span class="n">_idx</span><span class="p">[</span><span class="nf">_norm</span><span class="p">(</span><span class="n">c</span><span class="p">)]</span> <span class="o">=</span> <span class="n">entry</span>

    <span class="k">def</span> <span class="nf">_reload_locked</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">txt</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="nf">_read_text</span><span class="p">()</span>
        <span class="n">data</span> <span class="o">=</span> <span class="nf">_TOML_LOADS</span><span class="p">(</span><span class="n">txt</span><span class="p">)</span>

        <span class="c1"># refresh_interval_seconds (5~60) + env override
</span>        <span class="n">r</span> <span class="o">=</span> <span class="nf">int</span><span class="p">((</span><span class="n">data</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">settings</span><span class="sh">"</span><span class="p">)</span> <span class="ow">or</span> <span class="p">{}).</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">refresh_interval_seconds</span><span class="sh">"</span><span class="p">,</span> <span class="mi">30</span><span class="p">))</span>
        <span class="n">r</span> <span class="o">=</span> <span class="nf">max</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="nf">min</span><span class="p">(</span><span class="mi">60</span><span class="p">,</span> <span class="n">r</span><span class="p">))</span>
        <span class="n">env_r</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">environ</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">COMFY_CONFIG_REFRESH_SECONDS</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">env_r</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span> <span class="n">r</span> <span class="o">=</span> <span class="nf">max</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="nf">min</span><span class="p">(</span><span class="mi">60</span><span class="p">,</span> <span class="nf">int</span><span class="p">(</span><span class="n">env_r</span><span class="p">)))</span>
            <span class="k">except</span> <span class="nb">ValueError</span><span class="p">:</span> <span class="k">pass</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_refresh</span> <span class="o">=</span> <span class="n">r</span>

        <span class="n">self</span><span class="p">.</span><span class="n">_raw</span> <span class="o">=</span> <span class="nf">_expand_env</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">_build_index</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">_raw</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_loaded_at</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">self</span><span class="p">.</span><span class="n">_last_mtime</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">getmtime</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">path</span><span class="p">)</span>
        <span class="k">except</span> <span class="nb">FileNotFoundError</span><span class="p">:</span>
            <span class="n">self</span><span class="p">.</span><span class="n">_last_mtime</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1.0</span>

    <span class="k">def</span> <span class="nf">_stale_or_changed</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">m</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">getmtime</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">path</span><span class="p">)</span>
        <span class="k">except</span> <span class="nb">FileNotFoundError</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">True</span>
        <span class="n">now</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span>
        <span class="nf">return </span><span class="p">(</span><span class="n">m</span> <span class="o">!=</span> <span class="n">self</span><span class="p">.</span><span class="n">_last_mtime</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">now</span> <span class="o">-</span> <span class="n">self</span><span class="p">.</span><span class="n">_loaded_at</span> <span class="o">&gt;=</span> <span class="n">self</span><span class="p">.</span><span class="n">_refresh</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_ensure_loaded</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">with</span> <span class="n">self</span><span class="p">.</span><span class="n">_lock</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">self</span><span class="p">.</span><span class="n">_loaded_at</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">self</span><span class="p">.</span><span class="nf">_stale_or_changed</span><span class="p">():</span>
                <span class="n">self</span><span class="p">.</span><span class="nf">_reload_locked</span><span class="p">()</span>

    <span class="c1"># -------- í¼ë¸”ë¦­ API --------
</span>    <span class="k">def</span> <span class="nf">profile</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">key</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nf">str</span><span class="p">(</span><span class="n">key</span><span class="p">).</span><span class="nf">strip</span><span class="p">():</span>
            <span class="k">raise</span> <span class="nc">KeyError</span><span class="p">(</span><span class="sh">"</span><span class="s">profile key is empty</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">_ensure_loaded</span><span class="p">()</span>
        <span class="n">hit</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">_idx</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="nf">_norm</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">hit</span><span class="p">:</span>
            <span class="c1"># ì¦‰ì‹œ ì¬ì‹œë„(ê°±ì‹  ì§€ì—° ë³´ì •)
</span>            <span class="k">with</span> <span class="n">self</span><span class="p">.</span><span class="n">_lock</span><span class="p">:</span>
                <span class="n">self</span><span class="p">.</span><span class="nf">_reload_locked</span><span class="p">()</span>
                <span class="n">hit</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">_idx</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="nf">_norm</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">hit</span><span class="p">:</span>
            <span class="k">raise</span> <span class="nc">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">profile not found: </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">hit</span>

    <span class="k">def</span> <span class="nf">profiles</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
        <span class="sh">"""</span><span class="s">api_keyëŠ” ìˆ¨ê¸°ê³ , ë‚˜ë¨¸ì§€ ë©”íƒ€/params/httpëŠ” ë…¸ì¶œ.</span><span class="sh">"""</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">_ensure_loaded</span><span class="p">()</span>
        <span class="n">out</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">seen</span> <span class="o">=</span> <span class="nf">set</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">self</span><span class="p">.</span><span class="n">_idx</span><span class="p">.</span><span class="nf">items</span><span class="p">():</span>
            <span class="n">dn</span> <span class="o">=</span> <span class="n">v</span><span class="p">[</span><span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">dn</span> <span class="ow">in</span> <span class="n">seen</span><span class="p">:</span>  <span class="c1"># display_name ì¤‘ë³µ í‚¤ ë°©ì§€
</span>                <span class="k">continue</span>
            <span class="n">seen</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="n">dn</span><span class="p">)</span>
            <span class="n">out</span><span class="p">[</span><span class="n">dn</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                <span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">:</span> <span class="n">v</span><span class="p">[</span><span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">],</span>
                <span class="sh">"</span><span class="s">request_name</span><span class="sh">"</span><span class="p">:</span> <span class="n">v</span><span class="p">[</span><span class="sh">"</span><span class="s">request_name</span><span class="sh">"</span><span class="p">],</span>
                <span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">:</span>     <span class="n">v</span><span class="p">[</span><span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">],</span>
                <span class="sh">"</span><span class="s">params</span><span class="sh">"</span><span class="p">:</span>       <span class="n">v</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">params</span><span class="sh">"</span><span class="p">,</span> <span class="p">{}),</span>
                <span class="sh">"</span><span class="s">http</span><span class="sh">"</span><span class="p">:</span>         <span class="n">v</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">http</span><span class="sh">"</span><span class="p">,</span> <span class="p">{}),</span>
            <span class="p">}</span>
        <span class="k">return</span> <span class="n">out</span>

    <span class="k">def</span> <span class="nf">params</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="k">return</span> <span class="nf">dict</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="nf">profile</span><span class="p">(</span><span class="n">key</span><span class="p">).</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">params</span><span class="sh">"</span><span class="p">,</span> <span class="p">{}))</span>

    <span class="k">def</span> <span class="nf">http</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="k">return</span> <span class="nf">dict</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="nf">profile</span><span class="p">(</span><span class="n">key</span><span class="p">).</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">http</span><span class="sh">"</span><span class="p">,</span> <span class="p">{}))</span>

    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">dotted</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">_ensure_loaded</span><span class="p">()</span>
        <span class="n">cur</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">_raw</span>
        <span class="k">for</span> <span class="n">part</span> <span class="ow">in</span> <span class="nf">filter</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="n">dotted</span><span class="p">.</span><span class="nf">split</span><span class="p">(</span><span class="sh">"</span><span class="s">.</span><span class="sh">"</span><span class="p">)):</span>
            <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">cur</span><span class="p">,</span> <span class="nb">dict</span><span class="p">)</span> <span class="ow">and</span> <span class="n">part</span> <span class="ow">in</span> <span class="n">cur</span><span class="p">:</span>
                <span class="n">cur</span> <span class="o">=</span> <span class="n">cur</span><span class="p">[</span><span class="n">part</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="nc">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">config path not found: </span><span class="si">{</span><span class="n">dotted</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">cur</span>

    <span class="k">def</span> <span class="nf">snapshot</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">_ensure_loaded</span><span class="p">()</span>
        <span class="k">return</span> <span class="nf">dict</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">_raw</span><span class="p">)</span>

<span class="c1"># ===== ëª¨ë“ˆ ì „ì—­ ì‹±ê¸€í†¤ =====
</span><span class="n">_lock</span> <span class="o">=</span> <span class="n">threading</span><span class="p">.</span><span class="nc">Lock</span><span class="p">()</span>
<span class="n">_instance</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">_ReadOnlyConfig</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span>
<span class="n">_default_path</span> <span class="o">=</span> <span class="bp">None</span>  <span class="c1"># configure()ë¡œ ì§€ì • ê°€ëŠ¥
</span>
<span class="k">def</span> <span class="nf">_resolve_default_path</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="n">here</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">dirname</span><span class="p">(</span><span class="n">__file__</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">_default_path</span> <span class="ow">or</span> <span class="n">os</span><span class="p">.</span><span class="n">environ</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">COMFY_CONFIG_PATH</span><span class="sh">"</span><span class="p">,</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="n">here</span><span class="p">,</span> <span class="sh">"</span><span class="s">config.toml</span><span class="sh">"</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">_get_instance</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">_ReadOnlyConfig</span><span class="p">:</span>
    <span class="k">global</span> <span class="n">_instance</span>
    <span class="k">if</span> <span class="n">_instance</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">with</span> <span class="n">_lock</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">_instance</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
                <span class="n">_instance</span> <span class="o">=</span> <span class="nf">_ReadOnlyConfig</span><span class="p">(</span><span class="nf">_resolve_default_path</span><span class="p">())</span>
    <span class="k">return</span> <span class="n">_instance</span>

<span class="k">def</span> <span class="nf">configure</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span> <span class="n">refresh_seconds</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">ì„ íƒ: ê²½ë¡œ/TTL ì˜¤ë²„ë¼ì´ë“œ(ì´ˆê¸°í™” ì‹œ 1íšŒ ê¶Œì¥).</span><span class="sh">"""</span>
    <span class="k">global</span> <span class="n">_instance</span><span class="p">,</span> <span class="n">_default_path</span>
    <span class="k">if</span> <span class="n">path</span><span class="p">:</span>
        <span class="n">_default_path</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">abspath</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">refresh_seconds</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">os</span><span class="p">.</span><span class="n">environ</span><span class="p">[</span><span class="sh">"</span><span class="s">COMFY_CONFIG_REFRESH_SECONDS</span><span class="sh">"</span><span class="p">]</span> <span class="o">=</span> <span class="nf">str</span><span class="p">(</span><span class="n">refresh_seconds</span><span class="p">)</span>
    <span class="k">with</span> <span class="n">_lock</span><span class="p">:</span>
        <span class="n">_instance</span> <span class="o">=</span> <span class="nf">_ReadOnlyConfig</span><span class="p">(</span><span class="nf">_resolve_default_path</span><span class="p">())</span>

<span class="c1"># ---- ì™¸ë¶€ì— ë…¸ì¶œí•  ê°„ë‹¨ API ----
</span><span class="k">def</span> <span class="nf">profile</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="k">return</span> <span class="nf">_get_instance</span><span class="p">().</span><span class="nf">profile</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">profiles</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
    <span class="k">return</span> <span class="nf">_get_instance</span><span class="p">().</span><span class="nf">profiles</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">params</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="k">return</span> <span class="nf">_get_instance</span><span class="p">().</span><span class="nf">params</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">http</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="k">return</span> <span class="nf">_get_instance</span><span class="p">().</span><span class="nf">http</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="n">dotted</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
    <span class="k">return</span> <span class="nf">_get_instance</span><span class="p">().</span><span class="nf">get</span><span class="p">(</span><span class="n">dotted</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">snapshot</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="k">return</span> <span class="nf">_get_instance</span><span class="p">().</span><span class="nf">snapshot</span><span class="p">()</span>

<span class="c1"># ---- í•˜ìœ„ í˜¸í™˜ ë³„ì¹­ (endpoint*) ----
</span><span class="k">def</span> <span class="nf">endpoint</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="k">return</span> <span class="nf">profile</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">endpoints</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
    <span class="k">return</span> <span class="nf">profiles</span><span class="p">()</span>

<span class="c1"># ---- ê°ì²´í˜• ì ‘ê·¼ í”„ë¡ì‹œ(CONFIG) ----
</span><span class="k">class</span> <span class="nc">_ConfigProxy</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__getattr__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">return</span> <span class="nf">getattr</span><span class="p">(</span><span class="nf">_get_instance</span><span class="p">(),</span> <span class="n">name</span><span class="p">)</span>

<span class="n">CONFIG</span> <span class="o">=</span> <span class="nf">_ConfigProxy</span><span class="p">()</span>
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">__init__.py</code> (re-export)</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">.config_singleton</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">CONFIG</span><span class="p">,</span>
    <span class="n">configure</span><span class="p">,</span>
    <span class="n">profile</span><span class="p">,</span> <span class="n">profiles</span><span class="p">,</span>
    <span class="n">params</span><span class="p">,</span> <span class="n">http</span><span class="p">,</span>
    <span class="n">get</span><span class="p">,</span> <span class="n">snapshot</span><span class="p">,</span>
    <span class="c1"># legacy alias
</span>    <span class="n">endpoint</span><span class="p">,</span> <span class="n">endpoints</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div></div>

<hr />

<h1 id="5-ì™¸ë¶€ì—ì„œ-ì“°ëŠ”-ë²•-ì˜ˆì‹œ">5) ì™¸ë¶€ì—ì„œ ì“°ëŠ” ë²• (ì˜ˆì‹œ)</h1>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">comfyui_config_reader</span> <span class="kn">import</span> <span class="n">profile</span><span class="p">,</span> <span class="n">params</span><span class="p">,</span> <span class="n">http</span>

<span class="c1"># (1) í•œ ë²ˆì— ì „ë¶€ ë°›ê¸°
</span><span class="n">cfg</span> <span class="o">=</span> <span class="nf">profile</span><span class="p">(</span><span class="sh">"</span><span class="s">Text Model A</span><span class="sh">"</span><span class="p">)</span>  <span class="c1"># ë˜ëŠ” "text-model-a" / "gpt-4o-mini"
</span><span class="n">api_key</span>   <span class="o">=</span> <span class="n">cfg</span><span class="p">[</span><span class="sh">"</span><span class="s">api_key</span><span class="sh">"</span><span class="p">]</span>
<span class="n">base_url</span>  <span class="o">=</span> <span class="n">cfg</span><span class="p">[</span><span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">]</span>
<span class="n">req_name</span>  <span class="o">=</span> <span class="n">cfg</span><span class="p">[</span><span class="sh">"</span><span class="s">request_name</span><span class="sh">"</span><span class="p">]</span>
<span class="n">p</span>         <span class="o">=</span> <span class="n">cfg</span><span class="p">[</span><span class="sh">"</span><span class="s">params</span><span class="sh">"</span><span class="p">]</span>      <span class="c1"># dict (temperature/top_p/...)
</span><span class="n">h</span>         <span class="o">=</span> <span class="n">cfg</span><span class="p">[</span><span class="sh">"</span><span class="s">http</span><span class="sh">"</span><span class="p">]</span>        <span class="c1"># dict (timeout_seconds/headers/query)
</span>
<span class="c1"># (2) í•„ìš”ë§Œ ë”°ë¡œ
</span><span class="n">p</span> <span class="o">=</span> <span class="nf">params</span><span class="p">(</span><span class="sh">"</span><span class="s">text-model-a</span><span class="sh">"</span><span class="p">)</span>
<span class="n">h</span> <span class="o">=</span> <span class="nf">http</span><span class="p">(</span><span class="sh">"</span><span class="s">text-model-a</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<hr />

<h1 id="6-í¬ì¸íŠ¸-ì •ë¦¬">6) í¬ì¸íŠ¸ ì •ë¦¬</h1>

<ul>
  <li>
    <p>â€œendpointâ€ â†’ <strong>â€œprofileâ€</strong> ë¡œ ëª…í™•í™” (ì„¤ì • ë¬¶ìŒ)</p>
  </li>
  <li>
    <p><strong>model configuration(params)</strong> ì„ í”„ë¡œí•„ ë‚´ë¶€ì— í¬í•¨, <strong>defaults</strong> ë¡œ ê³µí†µê°’ ì§€ì›</p>
  </li>
  <li>
    <p>ì‹±ê¸€í†¤ ê·¸ëŒ€ë¡œ ìœ ì§€ + <strong>ì™¸ë¶€ ì ‘ê·¼ ê°„ë‹¨í™”</strong>(í•¨ìˆ˜/ê°ì²´í˜• ëª¨ë‘)</p>
  </li>
  <li>
    <p>í•˜ìœ„ í˜¸í™˜: <code class="language-plaintext highlighter-rouge">endpoint(s)</code> ë³„ì¹­ ì œê³µ</p>
  </li>
  <li>
    <p>íŒŒì¼ ë³€ê²½ì€ <strong>ìµœëŒ€ 1ë¶„ ë‚´ ë°˜ì˜</strong>(mtime + TTL 5~60s, ê¸°ë³¸ 30s)</p>
  </li>
</ul>

<p>ì›í•˜ë©´, ComfyUI ë…¸ë“œ(ì‹œê°ì )ë„ <code class="language-plaintext highlighter-rouge">params/http</code>ë¥¼ JSONìœ¼ë¡œ ê°™ì´ ë‚´ë³´ë‚´ëŠ” <code class="language-plaintext highlighter-rouge">ConfigProfileLookup</code> ë…¸ë“œ ë²„ì „ë„ ë°”ë¡œ ë§Œë“¤ì–´ ì¤„ê²Œ!</p>

<p class="chat--user">

profileì€ ì¢€ ë„ˆë¬´ ë²”ìš©ì ì¸ë°

</p>

<p>ì¢‹ì•„, â€œprofileâ€ì´ ë„ˆë¬´ ë²”ìš©ì ìœ¼ë¡œ ëŠê»´ì§„ë‹¤ë©´ ë” ëª©ì ì— ë”± ë§ëŠ” <strong>preset(í”„ë¦¬ì…‹)</strong> ìœ¼ë¡œ ìš©ì–´ë¥¼ ì¢íˆìê³  ì œì•ˆí• ê²Œ. â€œí”„ë¦¬ì…‹â€ì€ <em>ëª¨ë¸ ì—°ê²° ì •ë³´ + ìš”ì²­ ì‹ë³„ì + ëª¨ë¸ íŒŒë¼ë¯¸í„° + HTTP ì˜µì…˜</em> ì„ í•œ ì„¸íŠ¸ë¡œ ë‹´ëŠ” ì˜ë¯¸ê°€ ë¶„ëª…í•˜ê³ , UI/ì›Œí¬í”Œë¡œìš°ì—ì„œë„ í”íˆ ì“°ì´ëŠ” í‘œí˜„ì´ë¼ ì§ê´€ì ì´ì•¼.<br />
ì•„ë˜ëŠ” <strong>ìš©ì–´/ìŠ¤í‚¤ë§ˆ/ì½”ë“œ ì „ë¶€ â€˜presetâ€™ìœ¼ë¡œ ì •ë¦¬í•œ ìµœì¢…ë³¸</strong> ì´ì•¼. (ê¸°ì¡´ <code class="language-plaintext highlighter-rouge">profile(s)</code>/<code class="language-plaintext highlighter-rouge">endpoint(s)</code>ëŠ” í•˜ìœ„ í˜¸í™˜ ë³„ì¹­ ìœ ì§€)</p>

<hr />

<h1 id="1-ì´ë¦„--ìŠ¤í‚¤ë§ˆ-ê²°ì •-step-by-step">1) ì´ë¦„ Â· ìŠ¤í‚¤ë§ˆ ê²°ì • (step-by-step)</h1>

<ul>
  <li>
    <p>ì„¹ì…˜ëª…: <strong><code class="language-plaintext highlighter-rouge">[presets."í‚¤"]</code></strong></p>
  </li>
  <li>
    <p>í•„ìˆ˜ í•„ë“œ: <code class="language-plaintext highlighter-rouge">display_name</code>, <code class="language-plaintext highlighter-rouge">request_name</code>, <code class="language-plaintext highlighter-rouge">base_url</code>, <code class="language-plaintext highlighter-rouge">api_key</code></p>
  </li>
  <li>
    <p>ì„ íƒ í•„ë“œ: <code class="language-plaintext highlighter-rouge">params</code>(ëª¨ë¸ íŒŒë¼ë¯¸í„°), <code class="language-plaintext highlighter-rouge">http</code>(timeout/headers/query ë“±)</p>
  </li>
  <li>
    <p>ê³µí†µ ê¸°ë³¸ê°’ ë³‘í•©: <code class="language-plaintext highlighter-rouge">defaults.params</code>, <code class="language-plaintext highlighter-rouge">defaults.http</code>ë¥¼ ê° í”„ë¦¬ì…‹ì— <strong>ë¨¸ì§€</strong></p>
  </li>
</ul>

<p>ì˜ˆì‹œ <code class="language-plaintext highlighter-rouge">config.toml</code></p>
<div class="language-toml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="py">version</span> <span class="p">=</span> <span class="mi">1</span>

<span class="nn">[settings]</span>
<span class="py">refresh_interval_seconds</span> <span class="p">=</span> <span class="mi">30</span>  <span class="c"># (5~60) 1ë¶„ ë‚´ ë°˜ì˜ ìš”ê±´ ì¶©ì¡±</span>

<span class="c"># ëª¨ë“  í”„ë¦¬ì…‹ ê³µí†µ ê¸°ë³¸ê°’(ì„ íƒ)</span>
<span class="nn">[defaults.params]</span>
<span class="py">temperature</span> <span class="p">=</span> <span class="mf">0.3</span>
<span class="py">max_tokens</span>  <span class="p">=</span> <span class="mi">2048</span>

<span class="nn">[defaults.http]</span>
<span class="py">timeout_seconds</span> <span class="p">=</span> <span class="mi">30</span>
<span class="nn">[defaults.http.headers]</span>
<span class="py">User-Agent</span> <span class="p">=</span> <span class="s">"ComfyUI-ConfigReader/1.0"</span>

<span class="c"># â”€â”€ í”„ë¦¬ì…‹ë“¤ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span>
<span class="nn">[presets."text-model-a"]</span>
<span class="py">display_name</span>  <span class="p">=</span> <span class="s">"Text Model A"</span>
<span class="py">request_name</span>  <span class="p">=</span> <span class="s">"gpt-4o-mini"</span>
<span class="py">base_url</span>      <span class="p">=</span> <span class="s">"https://api.openai.com/v1"</span>
<span class="py">api_key</span>       <span class="p">=</span> <span class="s">"${OPENAI_API_KEY}"</span>

<span class="nn">[presets."text-model-a".params]</span>
<span class="py">temperature</span> <span class="p">=</span> <span class="mf">0.2</span>
<span class="py">top_p</span>       <span class="p">=</span> <span class="mf">0.9</span>

<span class="nn">[presets."text-model-a".http]</span>
<span class="py">timeout_seconds</span> <span class="p">=</span> <span class="mi">20</span>
<span class="nn">[presets."text-model-a".http.headers]</span>
<span class="py">X-Org-Id</span> <span class="p">=</span> <span class="s">"${ORG_ID}"</span>

<span class="nn">[presets."text-model-b"]</span>
<span class="py">display_name</span>  <span class="p">=</span> <span class="s">"Text Model B"</span>
<span class="py">request_name</span>  <span class="p">=</span> <span class="s">"claude-3-5-sonnet"</span>
<span class="py">base_url</span>      <span class="p">=</span> <span class="s">"https://api.anthropic.com"</span>
<span class="py">api_key</span>       <span class="p">=</span> <span class="s">"${ANTHROPIC_API_KEY}"</span>

<span class="c"># â”€â”€ ë‹¤ë¥¸ ì¼ë°˜ ì„¤ì • ì„¹ì…˜ë“¤ë„ ììœ ë¡­ê²Œ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span>
<span class="nn">[feature_flags]</span>
<span class="py">use_cache</span> <span class="p">=</span> <span class="kc">true</span>
</code></pre></div></div>

<blockquote>
  <p><code class="language-plaintext highlighter-rouge">${ENV}</code> í‘œê¸°ëŠ” í™˜ê²½ë³€ìˆ˜ë¡œ ì¹˜í™˜ë¼.<br />
 <strong>í•˜ìœ„ í˜¸í™˜</strong> : <code class="language-plaintext highlighter-rouge">[profiles]</code>ë‚˜ <code class="language-plaintext highlighter-rouge">[endpoints]</code>ë¥¼ ì¨ë„ ìë™ ì¸ì‹(ë‚´ë¶€ì—ì„œ <code class="language-plaintext highlighter-rouge">presets</code>ë¡œ ì·¨ê¸‰).</p>
</blockquote>

<hr />

<h1 id="2-ì™¸ë¶€-ì ‘ê·¼-api-ì‹±ê¸€í†¤-í•œ-ì¤„ë¡œ-ë">2) ì™¸ë¶€ ì ‘ê·¼ API (ì‹±ê¸€í†¤, í•œ ì¤„ë¡œ ë)</h1>

<ul>
  <li>
    <p>í•¨ìˆ˜í˜•:<br />
<code class="language-plaintext highlighter-rouge">from comfyui_config_reader import preset, presets, params, http, get</code></p>
  </li>
  <li>
    <p>ê°ì²´í˜•(ì›í•˜ë©´):<br />
<code class="language-plaintext highlighter-rouge">from comfyui_config_reader import CONFIG</code> â†’ <code class="language-plaintext highlighter-rouge">CONFIG.preset("...")</code></p>
  </li>
</ul>

<h3 id="ì‚¬ìš©-ì˜ˆ">ì‚¬ìš© ì˜ˆ</h3>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">comfyui_config_reader</span> <span class="kn">import</span> <span class="n">preset</span><span class="p">,</span> <span class="n">params</span><span class="p">,</span> <span class="n">http</span><span class="p">,</span> <span class="n">get</span>

<span class="n">cfg</span> <span class="o">=</span> <span class="nf">preset</span><span class="p">(</span><span class="sh">"</span><span class="s">text-model-a</span><span class="sh">"</span><span class="p">)</span>  <span class="c1"># "í‚¤" / "display_name" / "request_name" ì•„ë¬´ê±°ë‚˜ OK
</span><span class="n">api_key</span>   <span class="o">=</span> <span class="n">cfg</span><span class="p">[</span><span class="sh">"</span><span class="s">api_key</span><span class="sh">"</span><span class="p">]</span>
<span class="n">base_url</span>  <span class="o">=</span> <span class="n">cfg</span><span class="p">[</span><span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">]</span>
<span class="n">req_name</span>  <span class="o">=</span> <span class="n">cfg</span><span class="p">[</span><span class="sh">"</span><span class="s">request_name</span><span class="sh">"</span><span class="p">]</span>
<span class="n">p</span>         <span class="o">=</span> <span class="n">cfg</span><span class="p">[</span><span class="sh">"</span><span class="s">params</span><span class="sh">"</span><span class="p">]</span>   <span class="c1"># ëª¨ë¸ íŒŒë¼ë¯¸í„° dict
</span><span class="n">h</span>         <span class="o">=</span> <span class="n">cfg</span><span class="p">[</span><span class="sh">"</span><span class="s">http</span><span class="sh">"</span><span class="p">]</span>     <span class="c1"># HTTP ì˜µì…˜ dict
</span>
<span class="n">temperature</span> <span class="o">=</span> <span class="nf">params</span><span class="p">(</span><span class="sh">"</span><span class="s">text-model-a</span><span class="sh">"</span><span class="p">).</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">temperature</span><span class="sh">"</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">)</span>
<span class="n">timeout</span>     <span class="o">=</span> <span class="nf">http</span><span class="p">(</span><span class="sh">"</span><span class="s">text-model-a</span><span class="sh">"</span><span class="p">).</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">timeout_seconds</span><span class="sh">"</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>

<span class="n">region</span> <span class="o">=</span> <span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">feature_flags.use_cache</span><span class="sh">"</span><span class="p">)</span>  <span class="c1"># ë²”ìš© í‚¤ ì ‘ê·¼
</span></code></pre></div></div>

<hr />

<h1 id="3-ë“œë¡­ì¸-êµì²´-ì½”ë“œ">3) ë“œë¡­ì¸ êµì²´ ì½”ë“œ</h1>

<p>ì•„ë˜ ë‘ íŒŒì¼ë§Œ êµì²´í•˜ë©´ ëì´ì•¼.</p>

<h2 id="custom_nodescomfyui_config_reader__init__py"><code class="language-plaintext highlighter-rouge">custom_nodes/comfyui_config_reader/__init__.py</code></h2>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">.config_singleton</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">CONFIG</span><span class="p">,</span>
    <span class="n">configure</span><span class="p">,</span>
    <span class="n">preset</span><span class="p">,</span> <span class="n">presets</span><span class="p">,</span>
    <span class="n">params</span><span class="p">,</span> <span class="n">http</span><span class="p">,</span>
    <span class="n">get</span><span class="p">,</span> <span class="n">snapshot</span><span class="p">,</span>
    <span class="c1"># legacy alias (í•˜ìœ„ í˜¸í™˜)
</span>    <span class="n">profile</span> <span class="k">as</span> <span class="n">profile</span><span class="p">,</span> <span class="n">profiles</span> <span class="k">as</span> <span class="n">profiles</span><span class="p">,</span>
    <span class="n">endpoint</span> <span class="k">as</span> <span class="n">endpoint</span><span class="p">,</span> <span class="n">endpoints</span> <span class="k">as</span> <span class="n">endpoints</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div></div>

<h2 id="custom_nodescomfyui_config_readerconfig_singletonpy"><code class="language-plaintext highlighter-rouge">custom_nodes/comfyui_config_reader/config_singleton.py</code></h2>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">os</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="n">threading</span>
<span class="kn">from</span> <span class="n">typing</span> <span class="kn">import</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Optional</span>
<span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span> <span class="n">tomllib</span>  <span class="c1"># py3.11+
</span>    <span class="n">_TOML_LOADS</span> <span class="o">=</span> <span class="n">tomllib</span><span class="p">.</span><span class="n">loads</span>
<span class="k">except</span> <span class="nb">Exception</span><span class="p">:</span>
    <span class="kn">import</span> <span class="n">tomli</span>     <span class="c1"># py3.10-
</span>    <span class="n">_TOML_LOADS</span> <span class="o">=</span> <span class="n">tomli</span><span class="p">.</span><span class="n">loads</span>

<span class="k">def</span> <span class="nf">_expand_env</span><span class="p">(</span><span class="n">v</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
    <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">out</span><span class="p">,</span> <span class="n">i</span> <span class="o">=</span> <span class="sh">""</span><span class="p">,</span> <span class="mi">0</span>
        <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="nf">len</span><span class="p">(</span><span class="n">v</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="p">:</span><span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="sh">"</span><span class="s">${</span><span class="sh">"</span><span class="p">:</span>
                <span class="n">j</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="sh">"</span><span class="s">}</span><span class="sh">"</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">j</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                    <span class="n">out</span> <span class="o">+=</span> <span class="n">os</span><span class="p">.</span><span class="n">environ</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="p">:</span><span class="n">j</span><span class="p">],</span> <span class="sh">""</span><span class="p">);</span> <span class="n">i</span> <span class="o">=</span> <span class="n">j</span> <span class="o">+</span> <span class="mi">1</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">out</span> <span class="o">+=</span> <span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="p">];</span> <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">out</span> <span class="o">+=</span> <span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="p">];</span> <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="n">out</span>
    <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>  <span class="k">return</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="nf">_expand_env</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">v</span><span class="p">.</span><span class="nf">items</span><span class="p">()}</span>
    <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>  <span class="k">return</span> <span class="p">[</span><span class="nf">_expand_env</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">v</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">v</span>

<span class="k">def</span> <span class="nf">_norm</span><span class="p">(</span><span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">return</span> <span class="nf">str</span><span class="p">(</span><span class="n">s</span><span class="p">).</span><span class="nf">strip</span><span class="p">().</span><span class="nf">lower</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">_deep_merge</span><span class="p">(</span><span class="n">a</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">b</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="n">out</span> <span class="o">=</span> <span class="nf">dict</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="p">(</span><span class="n">b</span> <span class="ow">or</span> <span class="p">{}).</span><span class="nf">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">dict</span><span class="p">)</span> <span class="ow">and</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">out</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="n">k</span><span class="p">),</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="n">out</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="nf">_deep_merge</span><span class="p">(</span><span class="n">out</span><span class="p">[</span><span class="n">k</span><span class="p">],</span> <span class="n">v</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">out</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
    <span class="k">return</span> <span class="n">out</span>

<span class="k">class</span> <span class="nc">_ReadOnlyConfig</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">
    - ì½ê¸° ì „ìš© TOML (íŒŒì¼ ì“°ê¸° ì—†ìŒ)
    - mtime + TTL(5~60s, ê¸°ë³¸ 30s) ìë™ ì¬ë¡œë“œ â†’ 1ë¶„ ë‚´ ë³€ê²½ ë°˜ì˜
    - í‘œì¤€: [presets]; ë ˆê±°ì‹œ: [profiles], [endpoints] ìë™ ì¸ì‹
    - preset í•„ìˆ˜ í•„ë“œ: display_name, request_name, base_url, api_key
      + params(dict), http(dict: timeout_seconds, headers{}, query{})
    </span><span class="sh">"""</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">path</span> <span class="o">=</span> <span class="n">path</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_lock</span> <span class="o">=</span> <span class="n">threading</span><span class="p">.</span><span class="nc">Lock</span><span class="p">()</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_loaded_at</span> <span class="o">=</span> <span class="mf">0.0</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_last_mtime</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1.0</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_refresh</span> <span class="o">=</span> <span class="mi">30</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_raw</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_idx</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="c1"># --- ë‚´ë¶€ ë¡œë”© ---
</span>    <span class="k">def</span> <span class="nf">_read_text</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">path</span><span class="p">,</span> <span class="sh">"</span><span class="s">rb</span><span class="sh">"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">f</span><span class="p">.</span><span class="nf">read</span><span class="p">().</span><span class="nf">decode</span><span class="p">(</span><span class="sh">"</span><span class="s">utf-8</span><span class="sh">"</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_extract_presets_table</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">presets</span><span class="sh">"</span><span class="p">),</span> <span class="nb">dict</span><span class="p">):</span>   <span class="k">return</span> <span class="n">data</span><span class="p">[</span><span class="sh">"</span><span class="s">presets</span><span class="sh">"</span><span class="p">]</span>
        <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">profiles</span><span class="sh">"</span><span class="p">),</span> <span class="nb">dict</span><span class="p">):</span>  <span class="k">return</span> <span class="n">data</span><span class="p">[</span><span class="sh">"</span><span class="s">profiles</span><span class="sh">"</span><span class="p">]</span>   <span class="c1"># legacy
</span>        <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">endpoints</span><span class="sh">"</span><span class="p">),</span> <span class="nb">dict</span><span class="p">):</span> <span class="k">return</span> <span class="n">data</span><span class="p">[</span><span class="sh">"</span><span class="s">endpoints</span><span class="sh">"</span><span class="p">]</span>  <span class="c1"># legacy
</span>        <span class="k">return</span> <span class="p">{}</span>

    <span class="k">def</span> <span class="nf">_build_index</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_idx</span><span class="p">.</span><span class="nf">clear</span><span class="p">()</span>
        <span class="c1"># defaults
</span>        <span class="n">defaults</span> <span class="o">=</span> <span class="nf">_expand_env</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">defaults</span><span class="sh">"</span><span class="p">)</span> <span class="ow">or</span> <span class="p">{})</span>
        <span class="n">d_params</span> <span class="o">=</span> <span class="n">defaults</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">params</span><span class="sh">"</span><span class="p">)</span> <span class="ow">or</span> <span class="p">{}</span>
        <span class="n">d_http</span>   <span class="o">=</span> <span class="n">defaults</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">http</span><span class="sh">"</span><span class="p">)</span>   <span class="ow">or</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="sh">"</span><span class="s">headers</span><span class="sh">"</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">d_http</span><span class="p">:</span> <span class="n">d_http</span><span class="p">[</span><span class="sh">"</span><span class="s">headers</span><span class="sh">"</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="sh">"</span><span class="s">query</span><span class="sh">"</span>   <span class="ow">not</span> <span class="ow">in</span> <span class="n">d_http</span><span class="p">:</span> <span class="n">d_http</span><span class="p">[</span><span class="sh">"</span><span class="s">query</span><span class="sh">"</span><span class="p">]</span>   <span class="o">=</span> <span class="p">{}</span>

        <span class="n">tbl</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="nf">_extract_presets_table</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">tbl</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span> <span class="k">return</span>

        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">raw</span> <span class="ow">in</span> <span class="n">tbl</span><span class="p">.</span><span class="nf">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">raw</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span> <span class="k">continue</span>
            <span class="n">cfg</span> <span class="o">=</span> <span class="nf">_expand_env</span><span class="p">(</span><span class="n">raw</span><span class="p">)</span>
            <span class="n">req</span> <span class="o">=</span> <span class="p">[</span><span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">request_name</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">api_key</span><span class="sh">"</span><span class="p">]</span>
            <span class="k">if</span> <span class="nf">any</span><span class="p">(</span><span class="n">k</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">cfg</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">[</span><span class="n">k</span><span class="p">]).</span><span class="nf">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">req</span><span class="p">):</span>
                <span class="k">continue</span>

            <span class="n">p_params</span> <span class="o">=</span> <span class="n">cfg</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">params</span><span class="sh">"</span><span class="p">)</span> <span class="ow">or</span> <span class="p">{}</span>
            <span class="n">p_http</span>   <span class="o">=</span> <span class="n">cfg</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">http</span><span class="sh">"</span><span class="p">)</span>   <span class="ow">or</span> <span class="p">{}</span>
            <span class="k">if</span> <span class="sh">"</span><span class="s">headers</span><span class="sh">"</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">p_http</span><span class="p">:</span> <span class="n">p_http</span><span class="p">[</span><span class="sh">"</span><span class="s">headers</span><span class="sh">"</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">if</span> <span class="sh">"</span><span class="s">query</span><span class="sh">"</span>   <span class="ow">not</span> <span class="ow">in</span> <span class="n">p_http</span><span class="p">:</span> <span class="n">p_http</span><span class="p">[</span><span class="sh">"</span><span class="s">query</span><span class="sh">"</span><span class="p">]</span>   <span class="o">=</span> <span class="p">{}</span>

            <span class="n">merged_params</span> <span class="o">=</span> <span class="p">{</span><span class="o">**</span><span class="n">d_params</span><span class="p">,</span> <span class="o">**</span><span class="n">p_params</span><span class="p">}</span>
            <span class="n">merged_http</span>   <span class="o">=</span> <span class="nf">_deep_merge</span><span class="p">(</span><span class="n">d_http</span><span class="p">,</span> <span class="n">p_http</span><span class="p">)</span>

            <span class="n">entry</span> <span class="o">=</span> <span class="p">{</span>
                <span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">:</span> <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">[</span><span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">]),</span>
                <span class="sh">"</span><span class="s">request_name</span><span class="sh">"</span><span class="p">:</span> <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">[</span><span class="sh">"</span><span class="s">request_name</span><span class="sh">"</span><span class="p">]),</span>
                <span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">:</span>     <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">[</span><span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">]),</span>
                <span class="sh">"</span><span class="s">api_key</span><span class="sh">"</span><span class="p">:</span>      <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">[</span><span class="sh">"</span><span class="s">api_key</span><span class="sh">"</span><span class="p">]),</span>
                <span class="sh">"</span><span class="s">params</span><span class="sh">"</span><span class="p">:</span>       <span class="n">merged_params</span><span class="p">,</span>
                <span class="sh">"</span><span class="s">http</span><span class="sh">"</span><span class="p">:</span>         <span class="n">merged_http</span><span class="p">,</span>
            <span class="p">}</span>
            <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="p">{</span><span class="nf">str</span><span class="p">(</span><span class="n">key</span><span class="p">),</span> <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">,</span><span class="sh">""</span><span class="p">)),</span> <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">request_name</span><span class="sh">"</span><span class="p">,</span><span class="sh">""</span><span class="p">))}:</span>
                <span class="k">if</span> <span class="n">c</span><span class="p">:</span>
                    <span class="n">self</span><span class="p">.</span><span class="n">_idx</span><span class="p">[</span><span class="nf">_norm</span><span class="p">(</span><span class="n">c</span><span class="p">)]</span> <span class="o">=</span> <span class="n">entry</span>

    <span class="k">def</span> <span class="nf">_reload_locked</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">txt</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="nf">_read_text</span><span class="p">()</span>
        <span class="n">data</span> <span class="o">=</span> <span class="nf">_TOML_LOADS</span><span class="p">(</span><span class="n">txt</span><span class="p">)</span>
        <span class="n">r</span> <span class="o">=</span> <span class="nf">int</span><span class="p">((</span><span class="n">data</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">settings</span><span class="sh">"</span><span class="p">)</span> <span class="ow">or</span> <span class="p">{}).</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">refresh_interval_seconds</span><span class="sh">"</span><span class="p">,</span> <span class="mi">30</span><span class="p">))</span>
        <span class="n">r</span> <span class="o">=</span> <span class="nf">max</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="nf">min</span><span class="p">(</span><span class="mi">60</span><span class="p">,</span> <span class="n">r</span><span class="p">))</span>
        <span class="n">env_r</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">environ</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">COMFY_CONFIG_REFRESH_SECONDS</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">env_r</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span> <span class="n">r</span> <span class="o">=</span> <span class="nf">max</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="nf">min</span><span class="p">(</span><span class="mi">60</span><span class="p">,</span> <span class="nf">int</span><span class="p">(</span><span class="n">env_r</span><span class="p">)))</span>
            <span class="k">except</span> <span class="nb">ValueError</span><span class="p">:</span> <span class="k">pass</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_refresh</span> <span class="o">=</span> <span class="n">r</span>

        <span class="n">self</span><span class="p">.</span><span class="n">_raw</span> <span class="o">=</span> <span class="nf">_expand_env</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">_build_index</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">_raw</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_loaded_at</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">self</span><span class="p">.</span><span class="n">_last_mtime</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">getmtime</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">path</span><span class="p">)</span>
        <span class="k">except</span> <span class="nb">FileNotFoundError</span><span class="p">:</span>
            <span class="n">self</span><span class="p">.</span><span class="n">_last_mtime</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1.0</span>

    <span class="k">def</span> <span class="nf">_stale_or_changed</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">m</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">getmtime</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">path</span><span class="p">)</span>
        <span class="k">except</span> <span class="nb">FileNotFoundError</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">True</span>
        <span class="n">now</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span>
        <span class="nf">return </span><span class="p">(</span><span class="n">m</span> <span class="o">!=</span> <span class="n">self</span><span class="p">.</span><span class="n">_last_mtime</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">now</span> <span class="o">-</span> <span class="n">self</span><span class="p">.</span><span class="n">_loaded_at</span> <span class="o">&gt;=</span> <span class="n">self</span><span class="p">.</span><span class="n">_refresh</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_ensure_loaded</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">with</span> <span class="n">self</span><span class="p">.</span><span class="n">_lock</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">self</span><span class="p">.</span><span class="n">_loaded_at</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">self</span><span class="p">.</span><span class="nf">_stale_or_changed</span><span class="p">():</span>
                <span class="n">self</span><span class="p">.</span><span class="nf">_reload_locked</span><span class="p">()</span>

    <span class="c1"># --- í¼ë¸”ë¦­ API ---
</span>    <span class="k">def</span> <span class="nf">preset</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">key</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nf">str</span><span class="p">(</span><span class="n">key</span><span class="p">).</span><span class="nf">strip</span><span class="p">():</span>
            <span class="k">raise</span> <span class="nc">KeyError</span><span class="p">(</span><span class="sh">"</span><span class="s">preset key is empty</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">_ensure_loaded</span><span class="p">()</span>
        <span class="n">hit</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">_idx</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="nf">_norm</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">hit</span><span class="p">:</span>
            <span class="k">with</span> <span class="n">self</span><span class="p">.</span><span class="n">_lock</span><span class="p">:</span>
                <span class="n">self</span><span class="p">.</span><span class="nf">_reload_locked</span><span class="p">()</span>
                <span class="n">hit</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">_idx</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="nf">_norm</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">hit</span><span class="p">:</span>
            <span class="k">raise</span> <span class="nc">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">preset not found: </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">hit</span>

    <span class="k">def</span> <span class="nf">presets</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">_ensure_loaded</span><span class="p">()</span>
        <span class="n">out</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">seen</span> <span class="o">=</span> <span class="nf">set</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">self</span><span class="p">.</span><span class="n">_idx</span><span class="p">.</span><span class="nf">items</span><span class="p">():</span>
            <span class="n">dn</span> <span class="o">=</span> <span class="n">v</span><span class="p">[</span><span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">dn</span> <span class="ow">in</span> <span class="n">seen</span><span class="p">:</span> <span class="k">continue</span>
            <span class="n">seen</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="n">dn</span><span class="p">)</span>
            <span class="n">out</span><span class="p">[</span><span class="n">dn</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                <span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">:</span> <span class="n">v</span><span class="p">[</span><span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">],</span>
                <span class="sh">"</span><span class="s">request_name</span><span class="sh">"</span><span class="p">:</span> <span class="n">v</span><span class="p">[</span><span class="sh">"</span><span class="s">request_name</span><span class="sh">"</span><span class="p">],</span>
                <span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">:</span>     <span class="n">v</span><span class="p">[</span><span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">],</span>
                <span class="sh">"</span><span class="s">params</span><span class="sh">"</span><span class="p">:</span>       <span class="n">v</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">params</span><span class="sh">"</span><span class="p">,</span> <span class="p">{}),</span>
                <span class="sh">"</span><span class="s">http</span><span class="sh">"</span><span class="p">:</span>         <span class="n">v</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">http</span><span class="sh">"</span><span class="p">,</span> <span class="p">{}),</span>
            <span class="p">}</span>
        <span class="k">return</span> <span class="n">out</span>

    <span class="k">def</span> <span class="nf">params</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="k">return</span> <span class="nf">dict</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="nf">preset</span><span class="p">(</span><span class="n">key</span><span class="p">).</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">params</span><span class="sh">"</span><span class="p">,</span> <span class="p">{}))</span>

    <span class="k">def</span> <span class="nf">http</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="k">return</span> <span class="nf">dict</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="nf">preset</span><span class="p">(</span><span class="n">key</span><span class="p">).</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">http</span><span class="sh">"</span><span class="p">,</span> <span class="p">{}))</span>

    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">dotted</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">_ensure_loaded</span><span class="p">()</span>
        <span class="n">cur</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">_raw</span>
        <span class="k">for</span> <span class="n">part</span> <span class="ow">in</span> <span class="nf">filter</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="n">dotted</span><span class="p">.</span><span class="nf">split</span><span class="p">(</span><span class="sh">"</span><span class="s">.</span><span class="sh">"</span><span class="p">)):</span>
            <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">cur</span><span class="p">,</span> <span class="nb">dict</span><span class="p">)</span> <span class="ow">and</span> <span class="n">part</span> <span class="ow">in</span> <span class="n">cur</span><span class="p">:</span>
                <span class="n">cur</span> <span class="o">=</span> <span class="n">cur</span><span class="p">[</span><span class="n">part</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="nc">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">config path not found: </span><span class="si">{</span><span class="n">dotted</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">cur</span>

    <span class="k">def</span> <span class="nf">snapshot</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">_ensure_loaded</span><span class="p">()</span>
        <span class="k">return</span> <span class="nf">dict</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">_raw</span><span class="p">)</span>

<span class="c1"># ----- ì‹±ê¸€í†¤ -----
</span><span class="n">_lock</span> <span class="o">=</span> <span class="n">threading</span><span class="p">.</span><span class="nc">Lock</span><span class="p">()</span>
<span class="n">_instance</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">_ReadOnlyConfig</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span>
<span class="n">_default_path</span> <span class="o">=</span> <span class="bp">None</span>

<span class="k">def</span> <span class="nf">_resolve_default_path</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="n">here</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">dirname</span><span class="p">(</span><span class="n">__file__</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">_default_path</span> <span class="ow">or</span> <span class="n">os</span><span class="p">.</span><span class="n">environ</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">COMFY_CONFIG_PATH</span><span class="sh">"</span><span class="p">,</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="n">here</span><span class="p">,</span> <span class="sh">"</span><span class="s">config.toml</span><span class="sh">"</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">_get_instance</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">_ReadOnlyConfig</span><span class="p">:</span>
    <span class="k">global</span> <span class="n">_instance</span>
    <span class="k">if</span> <span class="n">_instance</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">with</span> <span class="n">_lock</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">_instance</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
                <span class="n">_instance</span> <span class="o">=</span> <span class="nf">_ReadOnlyConfig</span><span class="p">(</span><span class="nf">_resolve_default_path</span><span class="p">())</span>
    <span class="k">return</span> <span class="n">_instance</span>

<span class="k">def</span> <span class="nf">configure</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span> <span class="n">refresh_seconds</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="k">global</span> <span class="n">_instance</span><span class="p">,</span> <span class="n">_default_path</span>
    <span class="k">if</span> <span class="n">path</span><span class="p">:</span>
        <span class="n">_default_path</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">abspath</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">refresh_seconds</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">os</span><span class="p">.</span><span class="n">environ</span><span class="p">[</span><span class="sh">"</span><span class="s">COMFY_CONFIG_REFRESH_SECONDS</span><span class="sh">"</span><span class="p">]</span> <span class="o">=</span> <span class="nf">str</span><span class="p">(</span><span class="n">refresh_seconds</span><span class="p">)</span>
    <span class="k">with</span> <span class="n">_lock</span><span class="p">:</span>
        <span class="n">_instance</span> <span class="o">=</span> <span class="nf">_ReadOnlyConfig</span><span class="p">(</span><span class="nf">_resolve_default_path</span><span class="p">())</span>

<span class="c1"># ---- ì™¸ë¶€ API ----
</span><span class="k">def</span> <span class="nf">preset</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>     <span class="k">return</span> <span class="nf">_get_instance</span><span class="p">().</span><span class="nf">preset</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">presets</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span> <span class="k">return</span> <span class="nf">_get_instance</span><span class="p">().</span><span class="nf">presets</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">params</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>     <span class="k">return</span> <span class="nf">_get_instance</span><span class="p">().</span><span class="nf">params</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">http</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>       <span class="k">return</span> <span class="nf">_get_instance</span><span class="p">().</span><span class="nf">http</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="n">dotted</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>                <span class="k">return</span> <span class="nf">_get_instance</span><span class="p">().</span><span class="nf">get</span><span class="p">(</span><span class="n">dotted</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">snapshot</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>           <span class="k">return</span> <span class="nf">_get_instance</span><span class="p">().</span><span class="nf">snapshot</span><span class="p">()</span>

<span class="c1"># ---- í•˜ìœ„ í˜¸í™˜ ë³„ì¹­ ----
</span><span class="k">def</span> <span class="nf">profile</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>    <span class="k">return</span> <span class="nf">preset</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">profiles</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span><span class="k">return</span> <span class="nf">presets</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">endpoint</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>   <span class="k">return</span> <span class="nf">preset</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">endpoints</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span> <span class="k">return</span> <span class="nf">presets</span><span class="p">()</span>

<span class="c1"># ---- ê°ì²´í˜• í”„ë¡ì‹œ ----
</span><span class="k">class</span> <span class="nc">_ConfigProxy</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__getattr__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">return</span> <span class="nf">getattr</span><span class="p">(</span><span class="nf">_get_instance</span><span class="p">(),</span> <span class="n">name</span><span class="p">)</span>
<span class="n">CONFIG</span> <span class="o">=</span> <span class="nf">_ConfigProxy</span><span class="p">()</span>
</code></pre></div></div>

<hr />

<h1 id="4-ì›í•˜ë©´-comfyui-ë…¸ë“œë„-ìš©ì–´-ë§ì¶°-ë³€ê²½">4) (ì›í•˜ë©´) ComfyUI ë…¸ë“œë„ ìš©ì–´ ë§ì¶° ë³€ê²½</h1>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">ConfigPresetLookup</code> : <code class="language-plaintext highlighter-rouge">display_name</code>, <code class="language-plaintext highlighter-rouge">request_name</code>, <code class="language-plaintext highlighter-rouge">base_url</code>, <code class="language-plaintext highlighter-rouge">api_key</code>, <code class="language-plaintext highlighter-rouge">params(json)</code>, <code class="language-plaintext highlighter-rouge">http(json)</code> ì¶œë ¥</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">ConfigListPresets</code> : ëª¨ë“  í”„ë¦¬ì…‹ JSON</p>
  </li>
</ul>

<p>ì›í•˜ì‹œë©´ ë°”ë¡œ ìƒì„±í•´ ì¤„ê²Œ.</p>

<hr />

<h1 id="5-ë§ˆì´ê·¸ë ˆì´ì…˜-ì •ë¦¬">5) ë§ˆì´ê·¸ë ˆì´ì…˜ ì •ë¦¬</h1>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">profile(s)</code> / <code class="language-plaintext highlighter-rouge">endpoint(s)</code> í˜¸ì¶œ ì½”ë“œëŠ” ê·¸ëŒ€ë¡œ ë™ì‘(ë³„ì¹­ ì œê³µ).</p>
  </li>
  <li>
    <p>ì„¤ì • íŒŒì¼ì—ì„œ <code class="language-plaintext highlighter-rouge">[profiles]</code>/<code class="language-plaintext highlighter-rouge">[endpoints]</code> ìœ ì§€í•´ë„ ì¸ì‹í•˜ì§€ë§Œ, ì•ìœ¼ë¡œëŠ” <strong><code class="language-plaintext highlighter-rouge">[presets]</code> ê¶Œì¥</strong>.</p>
  </li>
  <li>
    <p>ëª¨ë¸ íŒŒë¼ë¯¸í„°/HTTP ì˜µì…˜ì€ í”„ë¦¬ì…‹ ë‚´ë¶€(<code class="language-plaintext highlighter-rouge">params</code>/<code class="language-plaintext highlighter-rouge">http</code>)ì— ë„£ìœ¼ë©´ ë˜ê³ , ê³µí†µê°’ì€ <code class="language-plaintext highlighter-rouge">defaults</code>ì— ë‘ë©´ ìë™ ë³‘í•©ë¼.</p>
  </li>
</ul>

<hr />

<p>í•„ìš”í•˜ë©´ â€œpresetâ€ ëŒ€ì‹  <strong><code class="language-plaintext highlighter-rouge">deployment</code></strong> , <strong><code class="language-plaintext highlighter-rouge">model_preset</code></strong> ê°™ì€ ë” êµ¬ì²´ì ì¸ ëŒ€ì•ˆë„ ì¤„ ìˆ˜ ìˆì–´. í•˜ì§€ë§Œ <em>ëª¨ë¸ í˜¸ì¶œìš© ì„¸íŒ… ë¬¶ìŒ</em> ì´ë¼ëŠ” ê´€ì ì—ì„œ ì‚¬ìš©ì/ì˜¤í¼ë ˆì´í„° ëª¨ë‘ì—ê²Œ ê°€ì¥ ìµìˆ™í•˜ê³  ì§§ì€ ìš©ì–´ëŠ” â€œpresetâ€ì´ë¼ ì´ê±¸ ê¸°ë³¸ ê¶Œì¥ìœ¼ë¡œ ë’€ì–´.</p>

<p class="chat--user">

ì•„ë‹ˆ llm endpoint ë¼ëŠ” ëŠë‚Œì´ ì „í˜€ ì•ˆë“¤ì–´ì„œ

</p>

<p>ì˜¤ì¼€ì´â€”â€œLLM ì—”ë“œí¬ì¸íŠ¸â€ ëŠë‚Œì„ í™•ì‹¤íˆ ì£¼ë„ë¡ <strong>ìš©ì–´ë¥¼ <code class="language-plaintext highlighter-rouge">llm_endpoints</code></strong>ë¡œ í‘œì¤€í™”í–ˆì–´ìš”.<br />
(ì´ì „ <code class="language-plaintext highlighter-rouge">presets</code>/<code class="language-plaintext highlighter-rouge">profiles</code>/<code class="language-plaintext highlighter-rouge">endpoints</code>ëŠ” <strong>ìë™ í•˜ìœ„ í˜¸í™˜</strong> ìœ¼ë¡œ ê³„ì† ì½ìŠµë‹ˆë‹¤.)</p>

<p>ì•„ë˜ ë‘ íŒŒì¼ë§Œ êµì²´í•˜ë©´ ë! ì™¸ë¶€ì—ì„œëŠ” <code class="language-plaintext highlighter-rouge">llm_endpoint(...)</code>, <code class="language-plaintext highlighter-rouge">llm_params(...)</code> ê°™ì€ ì´ë¦„ìœ¼ë¡œ ë°”ë¡œ ì”ë‹ˆë‹¤.</p>

<hr />

<h1 id="1-ìŠ¤í‚¤ë§ˆ-configtoml">1) ìŠ¤í‚¤ë§ˆ (config.toml)</h1>
<div class="language-toml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="py">version</span> <span class="p">=</span> <span class="mi">1</span>

<span class="nn">[settings]</span>
<span class="c"># íŒŒì¼ ë³€ê²½ ê°ì§€ ì£¼ê¸°(ì´ˆ) â€” 5~60 ê¶Œì¥. "1ë¶„ ì´ë‚´ ë°˜ì˜" ìš”ê±´ ì¶©ì¡±.</span>
<span class="py">refresh_interval_seconds</span> <span class="p">=</span> <span class="mi">30</span>

<span class="c"># ê³µí†µ ê¸°ë³¸ê°’(ì„ íƒ): ëª¨ë“  LLM ì—”ë“œí¬ì¸íŠ¸ì— ë³‘í•©ë¨</span>
<span class="nn">[defaults.params]</span>
<span class="py">temperature</span> <span class="p">=</span> <span class="mf">0.3</span>
<span class="py">max_tokens</span>  <span class="p">=</span> <span class="mi">2048</span>

<span class="nn">[defaults.http]</span>
<span class="py">timeout_seconds</span> <span class="p">=</span> <span class="mi">30</span>
<span class="nn">[defaults.http.headers]</span>
<span class="py">User-Agent</span> <span class="p">=</span> <span class="s">"ComfyUI-ConfigReader/1.0"</span>

<span class="c"># â”€â”€ LLM ì—”ë“œí¬ì¸íŠ¸ë“¤ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span>
<span class="nn">[llm_endpoints."gpt-4o-mini-a"]</span>
<span class="py">display_name</span> <span class="p">=</span> <span class="s">"OpenAI GPT-4o mini A"</span>
<span class="py">model</span>        <span class="p">=</span> <span class="s">"gpt-4o-mini"</span>             <span class="c"># (= request_name ë³„ì¹­)</span>
<span class="py">base_url</span>     <span class="p">=</span> <span class="s">"https://api.openai.com/v1"</span>
<span class="py">api_key</span>      <span class="p">=</span> <span class="s">"${OPENAI_API_KEY}"</span>

<span class="nn">[llm_endpoints."gpt-4o-mini-a".params]</span>
<span class="py">temperature</span> <span class="p">=</span> <span class="mf">0.2</span>
<span class="py">top_p</span>       <span class="p">=</span> <span class="mf">0.9</span>

<span class="nn">[llm_endpoints."gpt-4o-mini-a".http]</span>
<span class="py">timeout_seconds</span> <span class="p">=</span> <span class="mi">20</span>
<span class="nn">[llm_endpoints."gpt-4o-mini-a".http.headers]</span>
<span class="py">X-Org-Id</span> <span class="p">=</span> <span class="s">"${ORG_ID}"</span>

<span class="nn">[llm_endpoints."claude-sonnet"]</span>
<span class="py">display_name</span> <span class="p">=</span> <span class="s">"Anthropic Claude 3.5 Sonnet"</span>
<span class="py">model</span>        <span class="p">=</span> <span class="s">"claude-3-5-sonnet"</span>
<span class="py">base_url</span>     <span class="p">=</span> <span class="s">"https://api.anthropic.com"</span>
<span class="py">api_key</span>      <span class="p">=</span> <span class="s">"${ANTHROPIC_API_KEY}"</span>

<span class="c"># â”€â”€ ë‹¤ë¥¸ ì¼ë°˜ ì„¤ì •ë„ ììœ ë¡­ê²Œ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span>
<span class="nn">[feature_flags]</span>
<span class="py">use_cache</span> <span class="p">=</span> <span class="kc">true</span>
</code></pre></div></div>

<ul>
  <li>
    <p>í•„ìˆ˜: <code class="language-plaintext highlighter-rouge">display_name</code>, <code class="language-plaintext highlighter-rouge">model(=request_name)</code>, <code class="language-plaintext highlighter-rouge">base_url</code>, <code class="language-plaintext highlighter-rouge">api_key</code></p>
  </li>
  <li>
    <p>ì„ íƒ: <code class="language-plaintext highlighter-rouge">params</code>(ëª¨ë¸ íŒŒë¼ë¯¸í„°), <code class="language-plaintext highlighter-rouge">http</code>(timeout/headers/query ë“±)</p>
  </li>
  <li>
    <p><strong>ë³‘í•© ê·œì¹™</strong> : <code class="language-plaintext highlighter-rouge">defaults.params</code>/<code class="language-plaintext highlighter-rouge">defaults.http</code> â†’ ê° ì—”ë“œí¬ì¸íŠ¸ì˜ <code class="language-plaintext highlighter-rouge">params</code>/<code class="language-plaintext highlighter-rouge">http</code>ì— <strong>ë®ì–´ì“°ê¸° ë³‘í•©</strong></p>
  </li>
</ul>

<blockquote>
  <p>í•˜ìœ„ í˜¸í™˜: <code class="language-plaintext highlighter-rouge">[presets]</code>, <code class="language-plaintext highlighter-rouge">[profiles]</code>, <code class="language-plaintext highlighter-rouge">[endpoints]</code>ë„ ìë™ ì¸ì‹í•©ë‹ˆë‹¤.<br />
 í•„ë“œë„ <code class="language-plaintext highlighter-rouge">request_name</code>/<code class="language-plaintext highlighter-rouge">request_model</code>/<code class="language-plaintext highlighter-rouge">model</code> ì¤‘ ì•„ë¬´ê±°ë‚˜ ì¨ë„ OK(ë‚´ë¶€ì—ì„œ <code class="language-plaintext highlighter-rouge">model</code>ë¡œ í†µì¼).</p>
</blockquote>

<hr />

<h1 id="2-ì™¸ë¶€-ì ‘ê·¼-api-ì‹±ê¸€í†¤-ì§ê´€ì ">2) ì™¸ë¶€ ì ‘ê·¼ API (ì‹±ê¸€í†¤, ì§ê´€ì )</h1>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">comfyui_config_reader</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">llm_endpoint</span><span class="p">,</span> <span class="n">llm_endpoints</span><span class="p">,</span>   <span class="c1"># ë©”íƒ€ + ì—°ê²° ì •ë³´
</span>    <span class="n">llm_params</span><span class="p">,</span> <span class="n">llm_http</span><span class="p">,</span>          <span class="c1"># ëª¨ë¸ íŒŒë¼ë¯¸í„° / HTTP ì˜µì…˜ë§Œ
</span>    <span class="n">get</span><span class="p">,</span> <span class="n">CONFIG</span><span class="p">,</span>                   <span class="c1"># ë²”ìš© í‚¤ ì ‘ê·¼ / ê°ì²´í˜• ì ‘ê·¼
</span><span class="p">)</span>
</code></pre></div></div>

<p>ì‚¬ìš© ì˜ˆ:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">cfg</span> <span class="o">=</span> <span class="nf">llm_endpoint</span><span class="p">(</span><span class="sh">"</span><span class="s">gpt-4o-mini-a</span><span class="sh">"</span><span class="p">)</span>     <span class="c1"># í‚¤ / display_name / model ì•„ë¬´ê±°ë‚˜
</span><span class="n">api_key</span>  <span class="o">=</span> <span class="n">cfg</span><span class="p">[</span><span class="sh">"</span><span class="s">api_key</span><span class="sh">"</span><span class="p">]</span>
<span class="n">base_url</span> <span class="o">=</span> <span class="n">cfg</span><span class="p">[</span><span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">]</span>
<span class="n">model</span>    <span class="o">=</span> <span class="n">cfg</span><span class="p">[</span><span class="sh">"</span><span class="s">model</span><span class="sh">"</span><span class="p">]</span>
<span class="n">params</span>   <span class="o">=</span> <span class="nf">llm_params</span><span class="p">(</span><span class="sh">"</span><span class="s">gpt-4o-mini-a</span><span class="sh">"</span><span class="p">)</span>  <span class="c1"># {"temperature": 0.2, "top_p": 0.9, ...}
</span><span class="n">http</span>     <span class="o">=</span> <span class="nf">llm_http</span><span class="p">(</span><span class="sh">"</span><span class="s">gpt-4o-mini-a</span><span class="sh">"</span><span class="p">)</span>    <span class="c1"># {"timeout_seconds": ..., "headers": {...}, ...}
</span>
<span class="c1"># ë²”ìš© ì„¤ì •
</span><span class="n">use_cache</span> <span class="o">=</span> <span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">feature_flags.use_cache</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<hr />

<h1 id="3-ë“œë¡­ì¸-êµì²´-ì½”ë“œ-1">3) ë“œë¡­ì¸ êµì²´ ì½”ë“œ</h1>

<h2 id="custom_nodescomfyui_config_reader__init__py-1"><code class="language-plaintext highlighter-rouge">custom_nodes/comfyui_config_reader/__init__.py</code></h2>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">.config_singleton</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">CONFIG</span><span class="p">,</span>
    <span class="n">configure</span><span class="p">,</span>
    <span class="n">llm_endpoint</span><span class="p">,</span> <span class="n">llm_endpoints</span><span class="p">,</span>
    <span class="n">llm_params</span><span class="p">,</span> <span class="n">llm_http</span><span class="p">,</span>
    <span class="n">get</span><span class="p">,</span> <span class="n">snapshot</span><span class="p">,</span>
    <span class="c1"># legacy alias (í•˜ìœ„ í˜¸í™˜)
</span>    <span class="n">preset</span> <span class="k">as</span> <span class="n">preset</span><span class="p">,</span> <span class="n">presets</span> <span class="k">as</span> <span class="n">presets</span><span class="p">,</span>
    <span class="n">profile</span> <span class="k">as</span> <span class="n">profile</span><span class="p">,</span> <span class="n">profiles</span> <span class="k">as</span> <span class="n">profiles</span><span class="p">,</span>
    <span class="n">endpoint</span> <span class="k">as</span> <span class="n">endpoint</span><span class="p">,</span> <span class="n">endpoints</span> <span class="k">as</span> <span class="n">endpoints</span><span class="p">,</span>
    <span class="n">params</span> <span class="k">as</span> <span class="n">params</span><span class="p">,</span> <span class="n">http</span> <span class="k">as</span> <span class="n">http</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div></div>

<h2 id="custom_nodescomfyui_config_readerconfig_singletonpy-1"><code class="language-plaintext highlighter-rouge">custom_nodes/comfyui_config_reader/config_singleton.py</code></h2>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">os</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="n">threading</span>
<span class="kn">from</span> <span class="n">typing</span> <span class="kn">import</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Optional</span>
<span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span> <span class="n">tomllib</span>  <span class="c1"># py3.11+
</span>    <span class="n">_TOML_LOADS</span> <span class="o">=</span> <span class="n">tomllib</span><span class="p">.</span><span class="n">loads</span>
<span class="k">except</span> <span class="nb">Exception</span><span class="p">:</span>
    <span class="kn">import</span> <span class="n">tomli</span>     <span class="c1"># py3.10-
</span>    <span class="n">_TOML_LOADS</span> <span class="o">=</span> <span class="n">tomli</span><span class="p">.</span><span class="n">loads</span>

<span class="k">def</span> <span class="nf">_expand_env</span><span class="p">(</span><span class="n">v</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
    <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">out</span><span class="p">,</span> <span class="n">i</span> <span class="o">=</span> <span class="sh">""</span><span class="p">,</span> <span class="mi">0</span>
        <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="nf">len</span><span class="p">(</span><span class="n">v</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="p">:</span><span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="sh">"</span><span class="s">${</span><span class="sh">"</span><span class="p">:</span>
                <span class="n">j</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="sh">"</span><span class="s">}</span><span class="sh">"</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">j</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                    <span class="n">out</span> <span class="o">+=</span> <span class="n">os</span><span class="p">.</span><span class="n">environ</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="p">:</span><span class="n">j</span><span class="p">],</span> <span class="sh">""</span><span class="p">);</span> <span class="n">i</span> <span class="o">=</span> <span class="n">j</span> <span class="o">+</span> <span class="mi">1</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">out</span> <span class="o">+=</span> <span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="p">];</span> <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">out</span> <span class="o">+=</span> <span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="p">];</span> <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="n">out</span>
    <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>  <span class="k">return</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="nf">_expand_env</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">v</span><span class="p">.</span><span class="nf">items</span><span class="p">()}</span>
    <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>  <span class="k">return</span> <span class="p">[</span><span class="nf">_expand_env</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">v</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">v</span>

<span class="k">def</span> <span class="nf">_norm</span><span class="p">(</span><span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">return</span> <span class="nf">str</span><span class="p">(</span><span class="n">s</span><span class="p">).</span><span class="nf">strip</span><span class="p">().</span><span class="nf">lower</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">_deep_merge</span><span class="p">(</span><span class="n">a</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">b</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="n">out</span> <span class="o">=</span> <span class="nf">dict</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="p">(</span><span class="n">b</span> <span class="ow">or</span> <span class="p">{}).</span><span class="nf">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">dict</span><span class="p">)</span> <span class="ow">and</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">out</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="n">k</span><span class="p">),</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="n">out</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="nf">_deep_merge</span><span class="p">(</span><span class="n">out</span><span class="p">[</span><span class="n">k</span><span class="p">],</span> <span class="n">v</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">out</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
    <span class="k">return</span> <span class="n">out</span>

<span class="c1"># --- í•„ë“œ ë³„ì¹­ ì •ê·œí™” (model / request_name / request_model) ---
</span><span class="k">def</span> <span class="nf">_normalize_model_field</span><span class="p">(</span><span class="n">cfg</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="p">(</span><span class="sh">"</span><span class="s">model</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">request_name</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">request_model</span><span class="sh">"</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">cfg</span> <span class="ow">and</span> <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">[</span><span class="n">k</span><span class="p">]).</span><span class="nf">strip</span><span class="p">():</span>
            <span class="k">return</span> <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">[</span><span class="n">k</span><span class="p">]).</span><span class="nf">strip</span><span class="p">()</span>
    <span class="k">return</span> <span class="sh">""</span>

<span class="k">class</span> <span class="nc">_ReadOnlyConfig</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">
    - ì½ê¸° ì „ìš© TOML
    - mtime + TTL(5~60s, ê¸°ë³¸ 30s) ìë™ ì¬ë¡œë“œ â†’ 1ë¶„ ë‚´ ë³€ê²½ ë°˜ì˜
    - í‘œì¤€ ì„¹ì…˜: [llm_endpoints]
      (í•˜ìœ„ í˜¸í™˜: [presets], [profiles], [endpoints] ë„ ìë™ ì¸ì‹)
    - ê° ì—”ë“œí¬ì¸íŠ¸:
        * display_name, model(=request_name/â€¦ ë³„ì¹­), base_url, api_key
        * params(dict), http(dict: timeout_seconds, headers{}, query{})
    </span><span class="sh">"""</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">path</span> <span class="o">=</span> <span class="n">path</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_lock</span> <span class="o">=</span> <span class="n">threading</span><span class="p">.</span><span class="nc">Lock</span><span class="p">()</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_loaded_at</span> <span class="o">=</span> <span class="mf">0.0</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_last_mtime</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1.0</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_refresh</span> <span class="o">=</span> <span class="mi">30</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_raw</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_idx</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="c1"># --- ë‚´ë¶€ ë¡œë”© ---
</span>    <span class="k">def</span> <span class="nf">_read_text</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">path</span><span class="p">,</span> <span class="sh">"</span><span class="s">rb</span><span class="sh">"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">f</span><span class="p">.</span><span class="nf">read</span><span class="p">().</span><span class="nf">decode</span><span class="p">(</span><span class="sh">"</span><span class="s">utf-8</span><span class="sh">"</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_extract_llm_table</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="c1"># 1ìˆœìœ„ í‘œì¤€
</span>        <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">llm_endpoints</span><span class="sh">"</span><span class="p">),</span> <span class="nb">dict</span><span class="p">):</span> <span class="k">return</span> <span class="n">data</span><span class="p">[</span><span class="sh">"</span><span class="s">llm_endpoints</span><span class="sh">"</span><span class="p">]</span>
        <span class="c1"># í•˜ìœ„ í˜¸í™˜
</span>        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">(</span><span class="sh">"</span><span class="s">presets</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">profiles</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">endpoints</span><span class="sh">"</span><span class="p">):</span>
            <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="n">key</span><span class="p">),</span> <span class="nb">dict</span><span class="p">):</span> <span class="k">return</span> <span class="n">data</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
        <span class="k">return</span> <span class="p">{}</span>

    <span class="k">def</span> <span class="nf">_build_index</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_idx</span><span class="p">.</span><span class="nf">clear</span><span class="p">()</span>

        <span class="c1"># defaults
</span>        <span class="n">defaults</span> <span class="o">=</span> <span class="nf">_expand_env</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">defaults</span><span class="sh">"</span><span class="p">)</span> <span class="ow">or</span> <span class="p">{})</span>
        <span class="n">d_params</span> <span class="o">=</span> <span class="n">defaults</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">params</span><span class="sh">"</span><span class="p">)</span> <span class="ow">or</span> <span class="p">{}</span>
        <span class="n">d_http</span>   <span class="o">=</span> <span class="n">defaults</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">http</span><span class="sh">"</span><span class="p">)</span>   <span class="ow">or</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="sh">"</span><span class="s">headers</span><span class="sh">"</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">d_http</span><span class="p">:</span> <span class="n">d_http</span><span class="p">[</span><span class="sh">"</span><span class="s">headers</span><span class="sh">"</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="sh">"</span><span class="s">query</span><span class="sh">"</span>   <span class="ow">not</span> <span class="ow">in</span> <span class="n">d_http</span><span class="p">:</span> <span class="n">d_http</span><span class="p">[</span><span class="sh">"</span><span class="s">query</span><span class="sh">"</span><span class="p">]</span>   <span class="o">=</span> <span class="p">{}</span>

        <span class="n">tbl</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="nf">_extract_llm_table</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">tbl</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span> <span class="k">return</span>

        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">raw</span> <span class="ow">in</span> <span class="n">tbl</span><span class="p">.</span><span class="nf">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">raw</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span> <span class="k">continue</span>
            <span class="n">cfg</span> <span class="o">=</span> <span class="nf">_expand_env</span><span class="p">(</span><span class="n">raw</span><span class="p">)</span>

            <span class="n">display</span> <span class="o">=</span> <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">,</span> <span class="sh">""</span><span class="p">)).</span><span class="nf">strip</span><span class="p">()</span>
            <span class="n">model</span>   <span class="o">=</span> <span class="nf">_normalize_model_field</span><span class="p">(</span><span class="n">cfg</span><span class="p">)</span>
            <span class="n">base</span>    <span class="o">=</span> <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">,</span> <span class="sh">""</span><span class="p">)).</span><span class="nf">strip</span><span class="p">()</span>
            <span class="n">api</span>     <span class="o">=</span> <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">api_key</span><span class="sh">"</span><span class="p">,</span> <span class="sh">""</span><span class="p">)).</span><span class="nf">strip</span><span class="p">()</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">display</span> <span class="ow">and</span> <span class="n">model</span> <span class="ow">and</span> <span class="n">base</span> <span class="ow">and</span> <span class="n">api</span><span class="p">):</span>
                <span class="k">continue</span>  <span class="c1"># í•„ìˆ˜ ëˆ„ë½ì€ ìŠ¤í‚µ
</span>
            <span class="n">p_params</span> <span class="o">=</span> <span class="n">cfg</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">params</span><span class="sh">"</span><span class="p">)</span> <span class="ow">or</span> <span class="p">{}</span>
            <span class="n">p_http</span>   <span class="o">=</span> <span class="n">cfg</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">http</span><span class="sh">"</span><span class="p">)</span>   <span class="ow">or</span> <span class="p">{}</span>
            <span class="k">if</span> <span class="sh">"</span><span class="s">headers</span><span class="sh">"</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">p_http</span><span class="p">:</span> <span class="n">p_http</span><span class="p">[</span><span class="sh">"</span><span class="s">headers</span><span class="sh">"</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">if</span> <span class="sh">"</span><span class="s">query</span><span class="sh">"</span>   <span class="ow">not</span> <span class="ow">in</span> <span class="n">p_http</span><span class="p">:</span> <span class="n">p_http</span><span class="p">[</span><span class="sh">"</span><span class="s">query</span><span class="sh">"</span><span class="p">]</span>   <span class="o">=</span> <span class="p">{}</span>

            <span class="n">merged_params</span> <span class="o">=</span> <span class="p">{</span><span class="o">**</span><span class="n">d_params</span><span class="p">,</span> <span class="o">**</span><span class="n">p_params</span><span class="p">}</span>
            <span class="n">merged_http</span>   <span class="o">=</span> <span class="nf">_deep_merge</span><span class="p">(</span><span class="n">d_http</span><span class="p">,</span> <span class="n">p_http</span><span class="p">)</span>

            <span class="n">entry</span> <span class="o">=</span> <span class="p">{</span>
                <span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">:</span> <span class="n">display</span><span class="p">,</span>
                <span class="sh">"</span><span class="s">model</span><span class="sh">"</span><span class="p">:</span>        <span class="n">model</span><span class="p">,</span>
                <span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">:</span>     <span class="n">base</span><span class="p">,</span>
                <span class="sh">"</span><span class="s">api_key</span><span class="sh">"</span><span class="p">:</span>      <span class="n">api</span><span class="p">,</span>
                <span class="sh">"</span><span class="s">params</span><span class="sh">"</span><span class="p">:</span>       <span class="n">merged_params</span><span class="p">,</span>
                <span class="sh">"</span><span class="s">http</span><span class="sh">"</span><span class="p">:</span>         <span class="n">merged_http</span><span class="p">,</span>
            <span class="p">}</span>
            <span class="c1"># ì ‘ê·¼ í‚¤: ì •ì˜ í‚¤ / display_name / model
</span>            <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="p">{</span><span class="nf">str</span><span class="p">(</span><span class="n">key</span><span class="p">),</span> <span class="n">display</span><span class="p">,</span> <span class="n">model</span><span class="p">}:</span>
                <span class="k">if</span> <span class="n">c</span><span class="p">:</span>
                    <span class="n">self</span><span class="p">.</span><span class="n">_idx</span><span class="p">[</span><span class="nf">_norm</span><span class="p">(</span><span class="n">c</span><span class="p">)]</span> <span class="o">=</span> <span class="n">entry</span>

    <span class="k">def</span> <span class="nf">_reload_locked</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">txt</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="nf">_read_text</span><span class="p">()</span>
        <span class="n">data</span> <span class="o">=</span> <span class="nf">_TOML_LOADS</span><span class="p">(</span><span class="n">txt</span><span class="p">)</span>
        <span class="n">r</span> <span class="o">=</span> <span class="nf">int</span><span class="p">((</span><span class="n">data</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">settings</span><span class="sh">"</span><span class="p">)</span> <span class="ow">or</span> <span class="p">{}).</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">refresh_interval_seconds</span><span class="sh">"</span><span class="p">,</span> <span class="mi">30</span><span class="p">))</span>
        <span class="n">r</span> <span class="o">=</span> <span class="nf">max</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="nf">min</span><span class="p">(</span><span class="mi">60</span><span class="p">,</span> <span class="n">r</span><span class="p">))</span>
        <span class="n">env_r</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">environ</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">COMFY_CONFIG_REFRESH_SECONDS</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">env_r</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span> <span class="n">r</span> <span class="o">=</span> <span class="nf">max</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="nf">min</span><span class="p">(</span><span class="mi">60</span><span class="p">,</span> <span class="nf">int</span><span class="p">(</span><span class="n">env_r</span><span class="p">)))</span>
            <span class="k">except</span> <span class="nb">ValueError</span><span class="p">:</span> <span class="k">pass</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_refresh</span> <span class="o">=</span> <span class="n">r</span>

        <span class="n">self</span><span class="p">.</span><span class="n">_raw</span> <span class="o">=</span> <span class="nf">_expand_env</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">_build_index</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">_raw</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_loaded_at</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">self</span><span class="p">.</span><span class="n">_last_mtime</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">getmtime</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">path</span><span class="p">)</span>
        <span class="k">except</span> <span class="nb">FileNotFoundError</span><span class="p">:</span>
            <span class="n">self</span><span class="p">.</span><span class="n">_last_mtime</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1.0</span>

    <span class="k">def</span> <span class="nf">_stale_or_changed</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">m</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">getmtime</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">path</span><span class="p">)</span>
        <span class="k">except</span> <span class="nb">FileNotFoundError</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">True</span>
        <span class="n">now</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span>
        <span class="nf">return </span><span class="p">(</span><span class="n">m</span> <span class="o">!=</span> <span class="n">self</span><span class="p">.</span><span class="n">_last_mtime</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">now</span> <span class="o">-</span> <span class="n">self</span><span class="p">.</span><span class="n">_loaded_at</span> <span class="o">&gt;=</span> <span class="n">self</span><span class="p">.</span><span class="n">_refresh</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_ensure_loaded</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">with</span> <span class="n">self</span><span class="p">.</span><span class="n">_lock</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">self</span><span class="p">.</span><span class="n">_loaded_at</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">self</span><span class="p">.</span><span class="nf">_stale_or_changed</span><span class="p">():</span>
                <span class="n">self</span><span class="p">.</span><span class="nf">_reload_locked</span><span class="p">()</span>

    <span class="c1"># --- í¼ë¸”ë¦­ API ---
</span>    <span class="k">def</span> <span class="nf">llm_endpoint</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">key</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nf">str</span><span class="p">(</span><span class="n">key</span><span class="p">).</span><span class="nf">strip</span><span class="p">():</span>
            <span class="k">raise</span> <span class="nc">KeyError</span><span class="p">(</span><span class="sh">"</span><span class="s">llm_endpoint key is empty</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">_ensure_loaded</span><span class="p">()</span>
        <span class="n">hit</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">_idx</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="nf">_norm</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">hit</span><span class="p">:</span>
            <span class="k">with</span> <span class="n">self</span><span class="p">.</span><span class="n">_lock</span><span class="p">:</span>
                <span class="n">self</span><span class="p">.</span><span class="nf">_reload_locked</span><span class="p">()</span>
                <span class="n">hit</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">_idx</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="nf">_norm</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">hit</span><span class="p">:</span>
            <span class="k">raise</span> <span class="nc">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">llm_endpoint not found: </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">hit</span>

    <span class="k">def</span> <span class="nf">llm_endpoints</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">_ensure_loaded</span><span class="p">()</span>
        <span class="n">out</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">seen</span> <span class="o">=</span> <span class="nf">set</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">self</span><span class="p">.</span><span class="n">_idx</span><span class="p">.</span><span class="nf">items</span><span class="p">():</span>
            <span class="n">dn</span> <span class="o">=</span> <span class="n">v</span><span class="p">[</span><span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">dn</span> <span class="ow">in</span> <span class="n">seen</span><span class="p">:</span> <span class="k">continue</span>
            <span class="n">seen</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="n">dn</span><span class="p">)</span>
            <span class="n">out</span><span class="p">[</span><span class="n">dn</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                <span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">:</span> <span class="n">v</span><span class="p">[</span><span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">],</span>
                <span class="sh">"</span><span class="s">model</span><span class="sh">"</span><span class="p">:</span>        <span class="n">v</span><span class="p">[</span><span class="sh">"</span><span class="s">model</span><span class="sh">"</span><span class="p">],</span>
                <span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">:</span>     <span class="n">v</span><span class="p">[</span><span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">],</span>
                <span class="sh">"</span><span class="s">params</span><span class="sh">"</span><span class="p">:</span>       <span class="n">v</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">params</span><span class="sh">"</span><span class="p">,</span> <span class="p">{}),</span>
                <span class="sh">"</span><span class="s">http</span><span class="sh">"</span><span class="p">:</span>         <span class="n">v</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">http</span><span class="sh">"</span><span class="p">,</span> <span class="p">{}),</span>
            <span class="p">}</span>
        <span class="k">return</span> <span class="n">out</span>

    <span class="k">def</span> <span class="nf">llm_params</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="k">return</span> <span class="nf">dict</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="nf">llm_endpoint</span><span class="p">(</span><span class="n">key</span><span class="p">).</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">params</span><span class="sh">"</span><span class="p">,</span> <span class="p">{}))</span>

    <span class="k">def</span> <span class="nf">llm_http</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="k">return</span> <span class="nf">dict</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="nf">llm_endpoint</span><span class="p">(</span><span class="n">key</span><span class="p">).</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">http</span><span class="sh">"</span><span class="p">,</span> <span class="p">{}))</span>

    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">dotted</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">_ensure_loaded</span><span class="p">()</span>
        <span class="n">cur</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">_raw</span>
        <span class="k">for</span> <span class="n">part</span> <span class="ow">in</span> <span class="nf">filter</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="n">dotted</span><span class="p">.</span><span class="nf">split</span><span class="p">(</span><span class="sh">"</span><span class="s">.</span><span class="sh">"</span><span class="p">)):</span>
            <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">cur</span><span class="p">,</span> <span class="nb">dict</span><span class="p">)</span> <span class="ow">and</span> <span class="n">part</span> <span class="ow">in</span> <span class="n">cur</span><span class="p">:</span>
                <span class="n">cur</span> <span class="o">=</span> <span class="n">cur</span><span class="p">[</span><span class="n">part</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="nc">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">config path not found: </span><span class="si">{</span><span class="n">dotted</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">cur</span>

    <span class="k">def</span> <span class="nf">snapshot</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">_ensure_loaded</span><span class="p">()</span>
        <span class="k">return</span> <span class="nf">dict</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">_raw</span><span class="p">)</span>

<span class="c1"># ----- ì‹±ê¸€í†¤ -----
</span><span class="n">_lock</span> <span class="o">=</span> <span class="n">threading</span><span class="p">.</span><span class="nc">Lock</span><span class="p">()</span>
<span class="n">_instance</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">_ReadOnlyConfig</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span>
<span class="n">_default_path</span> <span class="o">=</span> <span class="bp">None</span>

<span class="k">def</span> <span class="nf">_resolve_default_path</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="n">here</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">dirname</span><span class="p">(</span><span class="n">__file__</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">_default_path</span> <span class="ow">or</span> <span class="n">os</span><span class="p">.</span><span class="n">environ</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">COMFY_CONFIG_PATH</span><span class="sh">"</span><span class="p">,</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="n">here</span><span class="p">,</span> <span class="sh">"</span><span class="s">config.toml</span><span class="sh">"</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">_get_instance</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">_ReadOnlyConfig</span><span class="p">:</span>
    <span class="k">global</span> <span class="n">_instance</span>
    <span class="k">if</span> <span class="n">_instance</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">with</span> <span class="n">_lock</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">_instance</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
                <span class="n">_instance</span> <span class="o">=</span> <span class="nf">_ReadOnlyConfig</span><span class="p">(</span><span class="nf">_resolve_default_path</span><span class="p">())</span>
    <span class="k">return</span> <span class="n">_instance</span>

<span class="k">def</span> <span class="nf">configure</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span> <span class="n">refresh_seconds</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="k">global</span> <span class="n">_instance</span><span class="p">,</span> <span class="n">_default_path</span>
    <span class="k">if</span> <span class="n">path</span><span class="p">:</span>
        <span class="n">_default_path</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">abspath</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">refresh_seconds</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">os</span><span class="p">.</span><span class="n">environ</span><span class="p">[</span><span class="sh">"</span><span class="s">COMFY_CONFIG_REFRESH_SECONDS</span><span class="sh">"</span><span class="p">]</span> <span class="o">=</span> <span class="nf">str</span><span class="p">(</span><span class="n">refresh_seconds</span><span class="p">)</span>
    <span class="k">with</span> <span class="n">_lock</span><span class="p">:</span>
        <span class="n">_instance</span> <span class="o">=</span> <span class="nf">_ReadOnlyConfig</span><span class="p">(</span><span class="nf">_resolve_default_path</span><span class="p">())</span>

<span class="c1"># ---- ì™¸ë¶€ API ----
</span><span class="k">def</span> <span class="nf">llm_endpoint</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>     <span class="k">return</span> <span class="nf">_get_instance</span><span class="p">().</span><span class="nf">llm_endpoint</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">llm_endpoints</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span> <span class="k">return</span> <span class="nf">_get_instance</span><span class="p">().</span><span class="nf">llm_endpoints</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">llm_params</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>       <span class="k">return</span> <span class="nf">_get_instance</span><span class="p">().</span><span class="nf">llm_params</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">llm_http</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>         <span class="k">return</span> <span class="nf">_get_instance</span><span class="p">().</span><span class="nf">llm_http</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="n">dotted</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>                      <span class="k">return</span> <span class="nf">_get_instance</span><span class="p">().</span><span class="nf">get</span><span class="p">(</span><span class="n">dotted</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">snapshot</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>                 <span class="k">return</span> <span class="nf">_get_instance</span><span class="p">().</span><span class="nf">snapshot</span><span class="p">()</span>

<span class="c1"># ---- í•˜ìœ„ í˜¸í™˜ ë³„ì¹­ (í•„ìš” ì‹œ ê¸°ì¡´ ì½”ë“œ ê·¸ëŒ€ë¡œ ë™ì‘) ----
</span><span class="k">def</span> <span class="nf">preset</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span>   <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>         <span class="k">return</span> <span class="nf">llm_endpoint</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">presets</span><span class="p">()</span>          <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span> <span class="k">return</span> <span class="nf">llm_endpoints</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">profile</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span>  <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>         <span class="k">return</span> <span class="nf">llm_endpoint</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">profiles</span><span class="p">()</span>         <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span> <span class="k">return</span> <span class="nf">llm_endpoints</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">endpoint</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>         <span class="k">return</span> <span class="nf">llm_endpoint</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">endpoints</span><span class="p">()</span>        <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span> <span class="k">return</span> <span class="nf">llm_endpoints</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">params</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span>   <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>         <span class="k">return</span> <span class="nf">llm_params</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">http</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span>     <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>         <span class="k">return</span> <span class="nf">llm_http</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

<span class="c1"># ---- ê°ì²´í˜• í”„ë¡ì‹œ ----
</span><span class="k">class</span> <span class="nc">_ConfigProxy</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__getattr__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">return</span> <span class="nf">getattr</span><span class="p">(</span><span class="nf">_get_instance</span><span class="p">(),</span> <span class="n">name</span><span class="p">)</span>
<span class="n">CONFIG</span> <span class="o">=</span> <span class="nf">_ConfigProxy</span><span class="p">()</span>
</code></pre></div></div>

<hr />

<h1 id="4-ì™œ-ì´ê²Œ-ì¢‹ì€ê°€-ì§§ê²Œ">4) ì™œ ì´ê²Œ ì¢‹ì€ê°€ (ì§§ê²Œ)</h1>

<ul>
  <li>
    <p>ì´ë¦„ë¶€í„° <strong>LLM ì—”ë“œí¬ì¸íŠ¸</strong> ì„ì´ ë¶„ëª… (<code class="language-plaintext highlighter-rouge">llm_endpoints</code>)</p>
  </li>
  <li>
    <p>ëª¨ë¸ íŒŒë¼ë¯¸í„°/HTTP ì˜µì…˜ì„ <strong>ê°™ì€ ë¬¶ìŒ</strong> ì—ì„œ ê´€ë¦¬ (<code class="language-plaintext highlighter-rouge">params</code>, <code class="language-plaintext highlighter-rouge">http</code>)</p>
  </li>
  <li>
    <p>ê¸°ì¡´ ì„¤ì •/ì½”ë“œ <strong>ì•ˆ ê¹¨ì§</strong>(ìë™ í˜¸í™˜)</p>
  </li>
  <li>
    <p>ì½ê¸° ì „ìš© + mtime/TTL(5~60s)ë¡œ <strong>ìµœëŒ€ 1ë¶„ ë‚´ ë³€ê²½ ë°˜ì˜</strong></p>
  </li>
  <li>
    <p>ì™¸ë¶€ ì‚¬ìš©ì€ <strong>í•œ ì¤„ ì„í¬íŠ¸</strong> ë¡œ ë: <code class="language-plaintext highlighter-rouge">llm_endpoint("...")</code></p>
  </li>
</ul>

<p>ì›í•˜ë©´ ComfyUI ë…¸ë“œ ì´ë¦„ë„ <code class="language-plaintext highlighter-rouge">Config: LLM Endpoint Lookup</code>, <code class="language-plaintext highlighter-rouge">Config: List LLM Endpoints</code>ë¡œ ë§ì¶°ì„œ ì¶œë ¥(íŒŒë¼ë¯¸í„°/HTTP JSON í¬í•¨) ë²„ì „ê¹Œì§€ ë°”ë¡œ ë§Œë“¤ì–´ì¤„ê²Œ!</p>

<p class="chat--user">

api_providers display_name, model_id, base_url, api_key ì´ê±¸ë¡œ í•´ì¤˜.

</p>

<p>ì¢‹ì•„! <strong>ì´ë¦„ì€<code class="language-plaintext highlighter-rouge">api_providers</code></strong>, í•„ë“œëŠ” <strong><code class="language-plaintext highlighter-rouge">display_name</code>, <code class="language-plaintext highlighter-rouge">model_id</code>, <code class="language-plaintext highlighter-rouge">base_url</code>, <code class="language-plaintext highlighter-rouge">api_key</code></strong>ë¡œ ë”± ë§ì¶°ì„œ ì •ë¦¬í–ˆì–´.<br />
(ì½ê¸° ì „ìš© Â· ìµœëŒ€ 1ë¶„ ë‚´ ë³€ê²½ ë°˜ì˜ Â· ë‹¤ë¥¸ ë…¸ë“œ/íŒŒì¼ì—ì„œ í•œ ì¤„ë¡œ ì ‘ê·¼)</p>

<p>ì•„ë˜ ì½”ë“œ/ì˜ˆì‹œ ê·¸ëŒ€ë¡œ êµì²´í•˜ë©´ ë™ì‘í•´.</p>

<hr />

<h1 id="1-configtoml-ìŠ¤í‚¤ë§ˆ">1) <code class="language-plaintext highlighter-rouge">config.toml</code> ìŠ¤í‚¤ë§ˆ</h1>
<div class="language-toml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="py">version</span> <span class="p">=</span> <span class="mi">1</span>

<span class="nn">[settings]</span>
<span class="c"># íŒŒì¼ ë³€ê²½ ê°ì§€ ì£¼ê¸°(ì´ˆ) â€” 5~60 ê¶Œì¥. "1ë¶„ ì´ë‚´ ë°˜ì˜" ìš”ê±´ ì¶©ì¡±.</span>
<span class="py">refresh_interval_seconds</span> <span class="p">=</span> <span class="mi">30</span>

<span class="c"># â”€â”€ API Providers â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span>
<span class="nn">[api_providers."openai-mini"]</span>
<span class="py">display_name</span> <span class="p">=</span> <span class="s">"OpenAI GPT-4o mini"</span>
<span class="py">model_id</span>     <span class="p">=</span> <span class="s">"gpt-4o-mini"</span>
<span class="py">base_url</span>     <span class="p">=</span> <span class="s">"https://api.openai.com/v1"</span>
<span class="py">api_key</span>      <span class="p">=</span> <span class="s">"${OPENAI_API_KEY}"</span>

<span class="nn">[api_providers."anthropic-sonnet"]</span>
<span class="py">display_name</span> <span class="p">=</span> <span class="s">"Anthropic Claude 3.5 Sonnet"</span>
<span class="py">model_id</span>     <span class="p">=</span> <span class="s">"claude-3-5-sonnet"</span>
<span class="py">base_url</span>     <span class="p">=</span> <span class="s">"https://api.anthropic.com"</span>
<span class="py">api_key</span>      <span class="p">=</span> <span class="s">"${ANTHROPIC_API_KEY}"</span>

<span class="c"># â”€â”€ ë‹¤ë¥¸ ë²”ìš© ì„¤ì •ë„ ììœ ë¡­ê²Œ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span>
<span class="nn">[feature_flags]</span>
<span class="py">use_cache</span> <span class="p">=</span> <span class="kc">true</span>
</code></pre></div></div>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">${ENV}</code> í‘œê¸°ëŠ” í™˜ê²½ë³€ìˆ˜ë¡œ ì¹˜í™˜.</p>
  </li>
  <li>
    <p>ì¡°íšŒ í‚¤ëŠ” <strong>ì •ì˜ í‚¤ /<code class="language-plaintext highlighter-rouge">display_name</code> / <code class="language-plaintext highlighter-rouge">model_id</code></strong> ì¤‘ ì•„ë¬´ê±°ë‚˜ ì‚¬ìš© ê°€ëŠ¥.</p>
  </li>
</ul>

<hr />

<h1 id="2-ì™¸ë¶€ì—ì„œ-ì“°ëŠ”-ë²•-ì‹±ê¸€í†¤-í•œ-ì¤„">2) ì™¸ë¶€ì—ì„œ ì“°ëŠ” ë²• (ì‹±ê¸€í†¤, í•œ ì¤„)</h1>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">comfyui_config_reader</span> <span class="kn">import</span> <span class="n">api_provider</span><span class="p">,</span> <span class="n">api_providers</span><span class="p">,</span> <span class="n">get</span>

<span class="n">cfg</span> <span class="o">=</span> <span class="nf">api_provider</span><span class="p">(</span><span class="sh">"</span><span class="s">openai-mini</span><span class="sh">"</span><span class="p">)</span>   <span class="c1"># ë˜ëŠ” "OpenAI GPT-4o mini" / "gpt-4o-mini"
</span><span class="n">api_key</span>  <span class="o">=</span> <span class="n">cfg</span><span class="p">[</span><span class="sh">"</span><span class="s">api_key</span><span class="sh">"</span><span class="p">]</span>
<span class="n">base_url</span> <span class="o">=</span> <span class="n">cfg</span><span class="p">[</span><span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">]</span>
<span class="n">model_id</span> <span class="o">=</span> <span class="n">cfg</span><span class="p">[</span><span class="sh">"</span><span class="s">model_id</span><span class="sh">"</span><span class="p">]</span>

<span class="n">listing</span> <span class="o">=</span> <span class="nf">api_providers</span><span class="p">()</span>           <span class="c1"># {display_name: {display_name, model_id, base_url}}
</span><span class="n">use_cache</span> <span class="o">=</span> <span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">feature_flags.use_cache</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<p>ì„ íƒ(ì´ˆê¸°í™” ì‹œ í•œ ë²ˆ):</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">comfyui_config_reader</span> <span class="kn">import</span> <span class="n">configure</span>
<span class="nf">configure</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="sh">"</span><span class="s">/abs/path/to/config.toml</span><span class="sh">"</span><span class="p">,</span> <span class="n">refresh_seconds</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>  <span class="c1"># 5~60
</span></code></pre></div></div>

<hr />

<h1 id="3-ë“œë¡­ì¸-ì½”ë“œ">3) ë“œë¡­ì¸ ì½”ë“œ</h1>

<h2 id="custom_nodescomfyui_config_reader__init__py-2"><code class="language-plaintext highlighter-rouge">custom_nodes/comfyui_config_reader/__init__.py</code></h2>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">.config_singleton</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">CONFIG</span><span class="p">,</span>
    <span class="n">configure</span><span class="p">,</span>
    <span class="n">api_provider</span><span class="p">,</span> <span class="n">api_providers</span><span class="p">,</span>
    <span class="n">get</span><span class="p">,</span> <span class="n">snapshot</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div></div>

<h2 id="custom_nodescomfyui_config_readerconfig_singletonpy-2"><code class="language-plaintext highlighter-rouge">custom_nodes/comfyui_config_reader/config_singleton.py</code></h2>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">os</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="n">threading</span>
<span class="kn">from</span> <span class="n">typing</span> <span class="kn">import</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Optional</span>

<span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span> <span class="n">tomllib</span>  <span class="c1"># py3.11+
</span>    <span class="n">_TOML_LOADS</span> <span class="o">=</span> <span class="n">tomllib</span><span class="p">.</span><span class="n">loads</span>
<span class="k">except</span> <span class="nb">Exception</span><span class="p">:</span>
    <span class="kn">import</span> <span class="n">tomli</span>     <span class="c1"># py3.10-
</span>    <span class="n">_TOML_LOADS</span> <span class="o">=</span> <span class="n">tomli</span><span class="p">.</span><span class="n">loads</span>

<span class="k">def</span> <span class="nf">_expand_env</span><span class="p">(</span><span class="n">v</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
    <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">out</span><span class="p">,</span> <span class="n">i</span> <span class="o">=</span> <span class="sh">""</span><span class="p">,</span> <span class="mi">0</span>
        <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="nf">len</span><span class="p">(</span><span class="n">v</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="p">:</span><span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="sh">"</span><span class="s">${</span><span class="sh">"</span><span class="p">:</span>
                <span class="n">j</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="sh">"</span><span class="s">}</span><span class="sh">"</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">j</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                    <span class="n">out</span> <span class="o">+=</span> <span class="n">os</span><span class="p">.</span><span class="n">environ</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="p">:</span><span class="n">j</span><span class="p">],</span> <span class="sh">""</span><span class="p">);</span> <span class="n">i</span> <span class="o">=</span> <span class="n">j</span> <span class="o">+</span> <span class="mi">1</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">out</span> <span class="o">+=</span> <span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="p">];</span> <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">out</span> <span class="o">+=</span> <span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="p">];</span> <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="n">out</span>
    <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>  <span class="k">return</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="nf">_expand_env</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">v</span><span class="p">.</span><span class="nf">items</span><span class="p">()}</span>
    <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>  <span class="k">return</span> <span class="p">[</span><span class="nf">_expand_env</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">v</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">v</span>

<span class="k">def</span> <span class="nf">_norm</span><span class="p">(</span><span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">return</span> <span class="nf">str</span><span class="p">(</span><span class="n">s</span><span class="p">).</span><span class="nf">strip</span><span class="p">().</span><span class="nf">lower</span><span class="p">()</span>

<span class="c1"># ë ˆê±°ì‹œ í•„ë“œ í˜¸í™˜: model_id ëŒ€ì‹  model/request_name/request_model ì´ ë“¤ì–´ì™€ë„ ì¸ì‹
</span><span class="k">def</span> <span class="nf">_normalize_model_id</span><span class="p">(</span><span class="n">cfg</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="p">(</span><span class="sh">"</span><span class="s">model_id</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">model</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">request_name</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">request_model</span><span class="sh">"</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">cfg</span> <span class="ow">and</span> <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">[</span><span class="n">k</span><span class="p">]).</span><span class="nf">strip</span><span class="p">():</span>
            <span class="k">return</span> <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">[</span><span class="n">k</span><span class="p">]).</span><span class="nf">strip</span><span class="p">()</span>
    <span class="k">return</span> <span class="sh">""</span>

<span class="k">class</span> <span class="nc">_ReadOnlyConfig</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">
    - ì½ê¸° ì „ìš© TOML ë¡œë” (íŒŒì¼ ì“°ê¸° ì—†ìŒ)
    - mtime + TTL(5~60s, ê¸°ë³¸ 30s) ìë™ ì¬ë¡œë“œ â†’ 1ë¶„ ë‚´ ë³€ê²½ ë°˜ì˜
    - í‘œì¤€ ì„¹ì…˜: [api_providers]
      (ì°¸ê³ : ì›í•˜ë©´ í•˜ìœ„ í˜¸í™˜ ì„¹ì…˜ì„ ì¶”ê°€ë¡œ ì¸ì‹í•˜ë„ë¡ í™•ì¥ ê°€ëŠ¥)
    - ê° provider í•„ìˆ˜ í•„ë“œ: display_name, model_id, base_url, api_key
    </span><span class="sh">"""</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">path</span> <span class="o">=</span> <span class="n">path</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_lock</span> <span class="o">=</span> <span class="n">threading</span><span class="p">.</span><span class="nc">Lock</span><span class="p">()</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_loaded_at</span> <span class="o">=</span> <span class="mf">0.0</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_last_mtime</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1.0</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_refresh</span> <span class="o">=</span> <span class="mi">30</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_raw</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_idx</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="c1"># --- ë‚´ë¶€ ë¡œë”© ---
</span>    <span class="k">def</span> <span class="nf">_read_text</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">path</span><span class="p">,</span> <span class="sh">"</span><span class="s">rb</span><span class="sh">"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">f</span><span class="p">.</span><span class="nf">read</span><span class="p">().</span><span class="nf">decode</span><span class="p">(</span><span class="sh">"</span><span class="s">utf-8</span><span class="sh">"</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_providers_table</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="n">tbl</span> <span class="o">=</span> <span class="n">data</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">api_providers</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">tbl</span> <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">tbl</span><span class="p">,</span> <span class="nb">dict</span><span class="p">)</span> <span class="k">else</span> <span class="p">{}</span>

    <span class="k">def</span> <span class="nf">_build_index</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_idx</span><span class="p">.</span><span class="nf">clear</span><span class="p">()</span>
        <span class="n">tbl</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="nf">_providers_table</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">tbl</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span> <span class="k">return</span>

        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">raw</span> <span class="ow">in</span> <span class="n">tbl</span><span class="p">.</span><span class="nf">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">raw</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span> <span class="k">continue</span>
            <span class="n">cfg</span> <span class="o">=</span> <span class="nf">_expand_env</span><span class="p">(</span><span class="n">raw</span><span class="p">)</span>

            <span class="n">display</span> <span class="o">=</span> <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">,</span> <span class="sh">""</span><span class="p">)).</span><span class="nf">strip</span><span class="p">()</span>
            <span class="n">model</span>   <span class="o">=</span> <span class="nf">_normalize_model_id</span><span class="p">(</span><span class="n">cfg</span><span class="p">)</span>
            <span class="n">base</span>    <span class="o">=</span> <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">,</span> <span class="sh">""</span><span class="p">)).</span><span class="nf">strip</span><span class="p">()</span>
            <span class="n">api</span>     <span class="o">=</span> <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">api_key</span><span class="sh">"</span><span class="p">,</span> <span class="sh">""</span><span class="p">)).</span><span class="nf">strip</span><span class="p">()</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">display</span> <span class="ow">and</span> <span class="n">model</span> <span class="ow">and</span> <span class="n">base</span> <span class="ow">and</span> <span class="n">api</span><span class="p">):</span>
                <span class="k">continue</span>  <span class="c1"># í•„ìˆ˜ ëˆ„ë½ì€ ìŠ¤í‚µ
</span>
            <span class="n">entry</span> <span class="o">=</span> <span class="p">{</span>
                <span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">:</span> <span class="n">display</span><span class="p">,</span>
                <span class="sh">"</span><span class="s">model_id</span><span class="sh">"</span><span class="p">:</span>     <span class="n">model</span><span class="p">,</span>
                <span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">:</span>     <span class="n">base</span><span class="p">,</span>
                <span class="sh">"</span><span class="s">api_key</span><span class="sh">"</span><span class="p">:</span>      <span class="n">api</span><span class="p">,</span>
            <span class="p">}</span>

            <span class="c1"># ì ‘ê·¼ í‚¤: ì •ì˜ í‚¤ / display_name / model_id
</span>            <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="p">{</span><span class="nf">str</span><span class="p">(</span><span class="n">key</span><span class="p">),</span> <span class="n">display</span><span class="p">,</span> <span class="n">model</span><span class="p">}:</span>
                <span class="k">if</span> <span class="n">c</span><span class="p">:</span>
                    <span class="n">self</span><span class="p">.</span><span class="n">_idx</span><span class="p">[</span><span class="nf">_norm</span><span class="p">(</span><span class="n">c</span><span class="p">)]</span> <span class="o">=</span> <span class="n">entry</span>

    <span class="k">def</span> <span class="nf">_reload_locked</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">txt</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="nf">_read_text</span><span class="p">()</span>
        <span class="n">data</span> <span class="o">=</span> <span class="nf">_TOML_LOADS</span><span class="p">(</span><span class="n">txt</span><span class="p">)</span>

        <span class="n">r</span> <span class="o">=</span> <span class="nf">int</span><span class="p">((</span><span class="n">data</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">settings</span><span class="sh">"</span><span class="p">)</span> <span class="ow">or</span> <span class="p">{}).</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">refresh_interval_seconds</span><span class="sh">"</span><span class="p">,</span> <span class="mi">30</span><span class="p">))</span>
        <span class="n">r</span> <span class="o">=</span> <span class="nf">max</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="nf">min</span><span class="p">(</span><span class="mi">60</span><span class="p">,</span> <span class="n">r</span><span class="p">))</span>
        <span class="n">env_r</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">environ</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">COMFY_CONFIG_REFRESH_SECONDS</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">env_r</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span> <span class="n">r</span> <span class="o">=</span> <span class="nf">max</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="nf">min</span><span class="p">(</span><span class="mi">60</span><span class="p">,</span> <span class="nf">int</span><span class="p">(</span><span class="n">env_r</span><span class="p">)))</span>
            <span class="k">except</span> <span class="nb">ValueError</span><span class="p">:</span> <span class="k">pass</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_refresh</span> <span class="o">=</span> <span class="n">r</span>

        <span class="n">self</span><span class="p">.</span><span class="n">_raw</span> <span class="o">=</span> <span class="nf">_expand_env</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">_build_index</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">_raw</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_loaded_at</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">self</span><span class="p">.</span><span class="n">_last_mtime</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">getmtime</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">path</span><span class="p">)</span>
        <span class="k">except</span> <span class="nb">FileNotFoundError</span><span class="p">:</span>
            <span class="n">self</span><span class="p">.</span><span class="n">_last_mtime</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1.0</span>

    <span class="k">def</span> <span class="nf">_stale_or_changed</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">m</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">getmtime</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">path</span><span class="p">)</span>
        <span class="k">except</span> <span class="nb">FileNotFoundError</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">True</span>
        <span class="n">now</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span>
        <span class="nf">return </span><span class="p">(</span><span class="n">m</span> <span class="o">!=</span> <span class="n">self</span><span class="p">.</span><span class="n">_last_mtime</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">now</span> <span class="o">-</span> <span class="n">self</span><span class="p">.</span><span class="n">_loaded_at</span> <span class="o">&gt;=</span> <span class="n">self</span><span class="p">.</span><span class="n">_refresh</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_ensure_loaded</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">with</span> <span class="n">self</span><span class="p">.</span><span class="n">_lock</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">self</span><span class="p">.</span><span class="n">_loaded_at</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">self</span><span class="p">.</span><span class="nf">_stale_or_changed</span><span class="p">():</span>
                <span class="n">self</span><span class="p">.</span><span class="nf">_reload_locked</span><span class="p">()</span>

    <span class="c1"># --- í¼ë¸”ë¦­ API ---
</span>    <span class="k">def</span> <span class="nf">api_provider</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">key</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nf">str</span><span class="p">(</span><span class="n">key</span><span class="p">).</span><span class="nf">strip</span><span class="p">():</span>
            <span class="k">raise</span> <span class="nc">KeyError</span><span class="p">(</span><span class="sh">"</span><span class="s">api_provider key is empty</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">_ensure_loaded</span><span class="p">()</span>
        <span class="n">hit</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">_idx</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="nf">_norm</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">hit</span><span class="p">:</span>
            <span class="k">with</span> <span class="n">self</span><span class="p">.</span><span class="n">_lock</span><span class="p">:</span>
                <span class="n">self</span><span class="p">.</span><span class="nf">_reload_locked</span><span class="p">()</span>
                <span class="n">hit</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">_idx</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="nf">_norm</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">hit</span><span class="p">:</span>
            <span class="k">raise</span> <span class="nc">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">api_provider not found: </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">hit</span>

    <span class="k">def</span> <span class="nf">api_providers</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]:</span>
        <span class="sh">"""</span><span class="s">API KeyëŠ” ëª©ë¡ì—ì„  ìˆ¨ê¹€.</span><span class="sh">"""</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">_ensure_loaded</span><span class="p">()</span>
        <span class="n">out</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">seen</span> <span class="o">=</span> <span class="nf">set</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">self</span><span class="p">.</span><span class="n">_idx</span><span class="p">.</span><span class="nf">items</span><span class="p">():</span>
            <span class="n">dn</span> <span class="o">=</span> <span class="n">v</span><span class="p">[</span><span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">dn</span> <span class="ow">in</span> <span class="n">seen</span><span class="p">:</span> <span class="k">continue</span>
            <span class="n">seen</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="n">dn</span><span class="p">)</span>
            <span class="n">out</span><span class="p">[</span><span class="n">dn</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                <span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">:</span> <span class="n">v</span><span class="p">[</span><span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">],</span>
                <span class="sh">"</span><span class="s">model_id</span><span class="sh">"</span><span class="p">:</span>     <span class="n">v</span><span class="p">[</span><span class="sh">"</span><span class="s">model_id</span><span class="sh">"</span><span class="p">],</span>
                <span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">:</span>     <span class="n">v</span><span class="p">[</span><span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">],</span>
            <span class="p">}</span>
        <span class="k">return</span> <span class="n">out</span>

    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">dotted</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">_ensure_loaded</span><span class="p">()</span>
        <span class="n">cur</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">_raw</span>
        <span class="k">for</span> <span class="n">part</span> <span class="ow">in</span> <span class="nf">filter</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="n">dotted</span><span class="p">.</span><span class="nf">split</span><span class="p">(</span><span class="sh">"</span><span class="s">.</span><span class="sh">"</span><span class="p">)):</span>
            <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">cur</span><span class="p">,</span> <span class="nb">dict</span><span class="p">)</span> <span class="ow">and</span> <span class="n">part</span> <span class="ow">in</span> <span class="n">cur</span><span class="p">:</span>
                <span class="n">cur</span> <span class="o">=</span> <span class="n">cur</span><span class="p">[</span><span class="n">part</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="nc">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">config path not found: </span><span class="si">{</span><span class="n">dotted</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">cur</span>

    <span class="k">def</span> <span class="nf">snapshot</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">_ensure_loaded</span><span class="p">()</span>
        <span class="k">return</span> <span class="nf">dict</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">_raw</span><span class="p">)</span>

<span class="c1"># ----- ì‹±ê¸€í†¤ -----
</span><span class="n">_lock</span> <span class="o">=</span> <span class="n">threading</span><span class="p">.</span><span class="nc">Lock</span><span class="p">()</span>
<span class="n">_instance</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">_ReadOnlyConfig</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span>
<span class="n">_default_path</span> <span class="o">=</span> <span class="bp">None</span>

<span class="k">def</span> <span class="nf">_resolve_default_path</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="n">here</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">dirname</span><span class="p">(</span><span class="n">__file__</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">_default_path</span> <span class="ow">or</span> <span class="n">os</span><span class="p">.</span><span class="n">environ</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">COMFY_CONFIG_PATH</span><span class="sh">"</span><span class="p">,</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="n">here</span><span class="p">,</span> <span class="sh">"</span><span class="s">config.toml</span><span class="sh">"</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">_get_instance</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">_ReadOnlyConfig</span><span class="p">:</span>
    <span class="k">global</span> <span class="n">_instance</span>
    <span class="k">if</span> <span class="n">_instance</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">with</span> <span class="n">_lock</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">_instance</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
                <span class="n">_instance</span> <span class="o">=</span> <span class="nf">_ReadOnlyConfig</span><span class="p">(</span><span class="nf">_resolve_default_path</span><span class="p">())</span>
    <span class="k">return</span> <span class="n">_instance</span>

<span class="k">def</span> <span class="nf">configure</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span> <span class="n">refresh_seconds</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="k">global</span> <span class="n">_instance</span><span class="p">,</span> <span class="n">_default_path</span>
    <span class="k">if</span> <span class="n">path</span><span class="p">:</span>
        <span class="n">_default_path</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">abspath</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">refresh_seconds</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">os</span><span class="p">.</span><span class="n">environ</span><span class="p">[</span><span class="sh">"</span><span class="s">COMFY_CONFIG_REFRESH_SECONDS</span><span class="sh">"</span><span class="p">]</span> <span class="o">=</span> <span class="nf">str</span><span class="p">(</span><span class="n">refresh_seconds</span><span class="p">)</span>
    <span class="k">with</span> <span class="n">_lock</span><span class="p">:</span>
        <span class="n">_instance</span> <span class="o">=</span> <span class="nf">_ReadOnlyConfig</span><span class="p">(</span><span class="nf">_resolve_default_path</span><span class="p">())</span>

<span class="c1"># ---- ì™¸ë¶€ API ----
</span><span class="k">def</span> <span class="nf">api_provider</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>         <span class="k">return</span> <span class="nf">_get_instance</span><span class="p">().</span><span class="nf">api_provider</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">api_providers</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]:</span>     <span class="k">return</span> <span class="nf">_get_instance</span><span class="p">().</span><span class="nf">api_providers</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="n">dotted</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>                          <span class="k">return</span> <span class="nf">_get_instance</span><span class="p">().</span><span class="nf">get</span><span class="p">(</span><span class="n">dotted</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">snapshot</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>                     <span class="k">return</span> <span class="nf">_get_instance</span><span class="p">().</span><span class="nf">snapshot</span><span class="p">()</span>

<span class="c1"># ---- ê°ì²´í˜• í”„ë¡ì‹œ ----
</span><span class="k">class</span> <span class="nc">_ConfigProxy</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__getattr__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">return</span> <span class="nf">getattr</span><span class="p">(</span><span class="nf">_get_instance</span><span class="p">(),</span> <span class="n">name</span><span class="p">)</span>
<span class="n">CONFIG</span> <span class="o">=</span> <span class="nf">_ConfigProxy</span><span class="p">()</span>
</code></pre></div></div>

<hr />

<h1 id="4-ì„ íƒ-comfyui-ë…¸ë“œë„-ìš©ì–´-ë§ì¶°-ì œê³µ">4) (ì„ íƒ) ComfyUI ë…¸ë“œë„ ìš©ì–´ ë§ì¶° ì œê³µ</h1>

<p>ì›í•œë‹¤ë©´ <code class="language-plaintext highlighter-rouge">custom_nodes/comfyui_config_reader/config_nodes.py</code>ì— ì•„ë˜ì²˜ëŸ¼:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">.config_singleton</span> <span class="kn">import</span> <span class="n">api_provider</span><span class="p">,</span> <span class="n">api_providers</span>
<span class="kn">import</span> <span class="n">json</span>

<span class="k">class</span> <span class="nc">ConfigAPIProviderLookup</span><span class="p">:</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">INPUT_TYPES</span><span class="p">(</span><span class="n">cls</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="sh">"</span><span class="s">required</span><span class="sh">"</span><span class="p">:</span> <span class="p">{</span><span class="sh">"</span><span class="s">key</span><span class="sh">"</span><span class="p">:</span> <span class="p">(</span><span class="sh">"</span><span class="s">STRING</span><span class="sh">"</span><span class="p">,</span> <span class="p">{</span><span class="sh">"</span><span class="s">default</span><span class="sh">"</span><span class="p">:</span> <span class="sh">""</span><span class="p">,</span> <span class="sh">"</span><span class="s">multiline</span><span class="sh">"</span><span class="p">:</span> <span class="bp">False</span><span class="p">})}}</span>
    <span class="n">RETURN_TYPES</span> <span class="o">=</span> <span class="p">(</span><span class="sh">"</span><span class="s">STRING</span><span class="sh">"</span><span class="p">,</span><span class="sh">"</span><span class="s">STRING</span><span class="sh">"</span><span class="p">,</span><span class="sh">"</span><span class="s">STRING</span><span class="sh">"</span><span class="p">,</span><span class="sh">"</span><span class="s">STRING</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">RETURN_NAMES</span> <span class="o">=</span> <span class="p">(</span><span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">,</span><span class="sh">"</span><span class="s">model_id</span><span class="sh">"</span><span class="p">,</span><span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">,</span><span class="sh">"</span><span class="s">api_key</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">FUNCTION</span> <span class="o">=</span> <span class="sh">"</span><span class="s">lookup</span><span class="sh">"</span>
    <span class="n">CATEGORY</span> <span class="o">=</span> <span class="sh">"</span><span class="s">Config/API Providers (ReadOnly)</span><span class="sh">"</span>
    <span class="k">def</span> <span class="nf">lookup</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">p</span> <span class="o">=</span> <span class="nf">api_provider</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
        <span class="nf">return </span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">],</span> <span class="n">p</span><span class="p">[</span><span class="sh">"</span><span class="s">model_id</span><span class="sh">"</span><span class="p">],</span> <span class="n">p</span><span class="p">[</span><span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">],</span> <span class="n">p</span><span class="p">[</span><span class="sh">"</span><span class="s">api_key</span><span class="sh">"</span><span class="p">])</span>

<span class="k">class</span> <span class="nc">ConfigListAPIProviders</span><span class="p">:</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">INPUT_TYPES</span><span class="p">(</span><span class="n">cls</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="sh">"</span><span class="s">required</span><span class="sh">"</span><span class="p">:</span> <span class="p">{}}</span>
    <span class="n">RETURN_TYPES</span> <span class="o">=</span> <span class="p">(</span><span class="sh">"</span><span class="s">STRING</span><span class="sh">"</span><span class="p">,)</span>
    <span class="n">RETURN_NAMES</span> <span class="o">=</span> <span class="p">(</span><span class="sh">"</span><span class="s">providers_json</span><span class="sh">"</span><span class="p">,)</span>
    <span class="n">FUNCTION</span> <span class="o">=</span> <span class="sh">"</span><span class="s">list_providers</span><span class="sh">"</span>
    <span class="n">CATEGORY</span> <span class="o">=</span> <span class="sh">"</span><span class="s">Config/API Providers (ReadOnly)</span><span class="sh">"</span>
    <span class="k">def</span> <span class="nf">list_providers</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="nf">return </span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="nf">dumps</span><span class="p">(</span><span class="nf">api_providers</span><span class="p">(),</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">),)</span>

<span class="n">NODE_CLASS_MAPPINGS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="sh">"</span><span class="s">ConfigAPIProviderLookup</span><span class="sh">"</span><span class="p">:</span> <span class="n">ConfigAPIProviderLookup</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">ConfigListAPIProviders</span><span class="sh">"</span><span class="p">:</span>  <span class="n">ConfigListAPIProviders</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">NODE_DISPLAY_NAME_MAPPINGS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="sh">"</span><span class="s">ConfigAPIProviderLookup</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">Config: API Provider Lookup</span><span class="sh">"</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">ConfigListAPIProviders</span><span class="sh">"</span><span class="p">:</span>  <span class="sh">"</span><span class="s">Config: List API Providers</span><span class="sh">"</span><span class="p">,</span>
<span class="p">}</span>
</code></pre></div></div>

<hr />

<h1 id="5-ì²´í¬ë¦¬ìŠ¤íŠ¸">5) ì²´í¬ë¦¬ìŠ¤íŠ¸</h1>

<ul>
  <li>
    <p>âœ… ì„¹ì…˜/í•„ë“œëª…: <strong><code class="language-plaintext highlighter-rouge">api_providers</code> / (display_name, model_id, base_url, api_key)</strong></p>
  </li>
  <li>
    <p>âœ… ì½ê¸° ì „ìš© + íŒŒì¼ ë³€ê²½ <strong>ìµœëŒ€ 1ë¶„ ë‚´ ë°˜ì˜</strong> (mtime + TTL 5~60, ê¸°ë³¸ 30)</p>
  </li>
  <li>
    <p>âœ… ì–´ë””ì„œë“  ê°„ë‹¨ ì ‘ê·¼: <code class="language-plaintext highlighter-rouge">api_provider("í‚¤|í‘œì‹œëª…|model_id")</code></p>
  </li>
  <li>
    <p>âœ… ì‚¬ëŒì´ í¸ì§‘ ì‰¬ìš´ TOML + <code class="language-plaintext highlighter-rouge">${ENV}</code> ì¹˜í™˜</p>
  </li>
  <li>
    <p>âœ… ëª©ë¡ ë…¸ë“œëŠ” <strong>api_key ë¹„ë…¸ì¶œ</strong></p>
  </li>
</ul>

<p>í•„ìš”í•˜ë©´, ê¸°ì¡´ ì›Œí¬í”Œë¡œìš°(ë…¸ë“œ ê·¸ë˜í”„)ì—ì„œ ìë™ìœ¼ë¡œ ì´ ì´ë¦„ë“¤ë¡œ ë°”ê¿”ì£¼ëŠ” ìŠ¤í¬ë¦½íŠ¸ë„ ë§Œë“¤ì–´ì¤„ê²Œ.</p>

<p class="chat--user">

ì•„ paramsë„ í¬í•¨í•´ì¤˜. ê·¸ëŸ°ë° [api_providers."anthropic-sonnet"] ì´ ì•ˆì— parametersë¥¼ dictionaryë¡œ ë„£ì„ ìˆ˜ ì—†ë‚˜? ë”°ë¡œ í•­ëª©ì„ ë¹¼ë‹ˆê¹Œ ë³´ê¸°ê°€ ë¶ˆí¸í•œë° ì´ëŸ°ê±´ yamlì—ì„œë§Œ ê°€ëŠ¥?

</p>

<p>ì¢‹ì•„, <strong>TOMLì—ì„œë„ ë”•ì…”ë„ˆë¦¬(ë§µ)ë¥¼ í•œ ì„¹ì…˜ ì•ˆì—</strong> ë„£ì„ ìˆ˜ ìˆì–´.<br />
YAMLë§Œ ë˜ëŠ” ê²Œ ì•„ë‹ˆê³ , TOMLì€ ë‘ ê°€ì§€ ë°©ë²•ì„ ì§€ì›í•´:</p>

<ol>
  <li>
    <p><strong>ì¸ë¼ì¸ í…Œì´ë¸”</strong> : í•œ ì¤„ <code class="language-plaintext highlighter-rouge">{ ... }</code> ë¡œ ë”•ì…”ë„ˆë¦¬ ê°’ì„ ë„£ê¸°</p>
  </li>
  <li>
    <p><strong>ì  í‘œê¸°(dotted keys)</strong> : <code class="language-plaintext highlighter-rouge">parameters.temperature = 0.7</code> ì²˜ëŸ¼ ê°™ì€ ì„¹ì…˜ ì•ˆì—ì„œ í‚¤ë¥¼ ì ìœ¼ë¡œ ì´ì–´ ì“°ê¸°</p>
  </li>
</ol>

<p>ì•„ë˜ì— ë‘˜ ë‹¤ ì˜ˆì‹œ + ì½”ë“œë¥¼ ì‹±ê¸€í†¤ APIì— ë°˜ì˜í•´ì¤„ê²Œ. <code class="language-plaintext highlighter-rouge">api_providers</code> í•­ëª© ì•ˆì— <code class="language-plaintext highlighter-rouge">parameters</code>ë¥¼ ê·¸ëŒ€ë¡œ ë„£ê³ , ê¸°ë³¸ê°’ ë³‘í•©ë„ ì§€ì›í•´.</p>

<hr />

<h1 id="1-toml-ì‘ì„±ë²•-step-by-step">1) TOML ì‘ì„±ë²• (step-by-step)</h1>

<h2 id="a-ì¸ë¼ì¸-í…Œì´ë¸”ê¹”ë”-í•œ-ì¤„">A. ì¸ë¼ì¸ í…Œì´ë¸”(ê¹”ë”, í•œ ì¤„)</h2>
<div class="language-toml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">[api_providers."anthropic-sonnet"]</span>
<span class="py">display_name</span> <span class="p">=</span> <span class="s">"Anthropic Claude 3.5 Sonnet"</span>
<span class="py">model_id</span>     <span class="p">=</span> <span class="s">"claude-3-5-sonnet"</span>
<span class="py">base_url</span>     <span class="p">=</span> <span class="s">"https://api.anthropic.com"</span>
<span class="py">api_key</span>      <span class="p">=</span> <span class="s">"${ANTHROPIC_API_KEY}"</span>
<span class="py">parameters</span>   <span class="o">=</span> <span class="p">{</span> <span class="py">temperature</span> <span class="p">=</span> <span class="mf">0.2</span><span class="p">,</span> <span class="py">top_p</span> <span class="p">=</span> <span class="mf">0.9</span><span class="p">,</span> <span class="py">stop</span> <span class="p">=</span> <span class="p">[</span><span class="s">"</span><span class="se">\n\n</span><span class="s">Human:"</span><span class="p">,</span> <span class="s">"</span><span class="se">\n\n</span><span class="s">Assistant:"</span><span class="p">]</span> <span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>
    <p>ì¥ì : í•œëˆˆì— ë³´ê¸° ì¢‹ìŒ.</p>
  </li>
  <li>
    <p>ìœ ì˜: <strong>TOML 1.0 ìŠ¤í™ìƒ ì¸ë¼ì¸ í…Œì´ë¸”ì€ í•œ ì¤„</strong> ì´ì–´ì•¼ í•´. (ì¤„ë°”ê¿ˆ/ì£¼ì„ ë„£ê¸° ì–´ë ¤ì›€)</p>
  </li>
</ul>

<h2 id="b-ì -í‘œê¸°dotted-keys-ê°™ì€-ì„¹ì…˜-ë‚´ë¶€-ë‹¤ì¤„">B. ì  í‘œê¸°(dotted keys, ê°™ì€ ì„¹ì…˜ ë‚´ë¶€ ë‹¤ì¤„)</h2>
<div class="language-toml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">[api_providers."anthropic-sonnet"]</span>
<span class="py">display_name</span> <span class="p">=</span> <span class="s">"Anthropic Claude 3.5 Sonnet"</span>
<span class="py">model_id</span>     <span class="p">=</span> <span class="s">"claude-3-5-sonnet"</span>
<span class="py">base_url</span>     <span class="p">=</span> <span class="s">"https://api.anthropic.com"</span>
<span class="py">api_key</span>      <span class="p">=</span> <span class="s">"${ANTHROPIC_API_KEY}"</span>
<span class="py">parameters.temperature</span> <span class="p">=</span> <span class="mf">0.2</span>
<span class="py">parameters.top_p</span>       <span class="p">=</span> <span class="mf">0.9</span>
<span class="py">parameters.stop</span>        <span class="p">=</span> <span class="p">[</span><span class="s">"</span><span class="se">\n\n</span><span class="s">Human:"</span><span class="p">,</span> <span class="s">"</span><span class="se">\n\n</span><span class="s">Assistant:"</span><span class="p">]</span>  <span class="c"># â† ì£¼ì„ OK</span>
</code></pre></div></div>

<ul>
  <li>
    <p>ì¥ì : ì—¬ëŸ¬ ì¤„ë¡œ ì½ê¸° í¸í•˜ê³  <strong>ì£¼ì„ ê°€ëŠ¥</strong>.</p>
  </li>
  <li>
    <p>ë‚´ë¶€ì ìœ¼ë¡œëŠ” ë”•ì…”ë„ˆë¦¬ë¡œ íŒŒì‹±ë¨. (YAML í•„ìš” ì—†ìŒ)</p>
  </li>
</ul>

<h2 id="ì„ íƒ-ê³µí†µ-ê¸°ë³¸ê°’-ë³‘í•©">(ì„ íƒ) ê³µí†µ ê¸°ë³¸ê°’ ë³‘í•©</h2>
<div class="language-toml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">[defaults.parameters]</span>
<span class="py">temperature</span> <span class="p">=</span> <span class="mf">0.3</span>
<span class="py">max_tokens</span>  <span class="p">=</span> <span class="mi">2048</span>
</code></pre></div></div>

<ul>
  <li>ê° providerì˜ <code class="language-plaintext highlighter-rouge">parameters</code> ìœ„ì— <strong>ë®ì–´ì“°ê¸° ë³‘í•©</strong> ë¼ì„œ ìµœì¢…ê°’ì´ ë§Œë“¤ì–´ì ¸.</li>
</ul>

<hr />

<h1 id="2-ì „ì²´-ì˜ˆì‹œ-configtoml">2) ì „ì²´ ì˜ˆì‹œ <code class="language-plaintext highlighter-rouge">config.toml</code></h1>
<div class="language-toml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="py">version</span> <span class="p">=</span> <span class="mi">1</span>

<span class="nn">[settings]</span>
<span class="py">refresh_interval_seconds</span> <span class="p">=</span> <span class="mi">30</span>  <span class="c"># 5~60(ìš”êµ¬: 1ë¶„ ë‚´ ë°˜ì˜)</span>

<span class="nn">[defaults.parameters]</span>
<span class="py">temperature</span> <span class="p">=</span> <span class="mf">0.3</span>
<span class="py">max_tokens</span>  <span class="p">=</span> <span class="mi">2048</span>

<span class="c"># â”€â”€ OpenAI (ì¸ë¼ì¸ í…Œì´ë¸”) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span>
<span class="nn">[api_providers."openai-mini"]</span>
<span class="py">display_name</span> <span class="p">=</span> <span class="s">"OpenAI GPT-4o mini"</span>
<span class="py">model_id</span>     <span class="p">=</span> <span class="s">"gpt-4o-mini"</span>
<span class="py">base_url</span>     <span class="p">=</span> <span class="s">"https://api.openai.com/v1"</span>
<span class="py">api_key</span>      <span class="p">=</span> <span class="s">"${OPENAI_API_KEY}"</span>
<span class="py">parameters</span>   <span class="o">=</span> <span class="p">{</span> <span class="py">temperature</span> <span class="p">=</span> <span class="mf">0.25</span><span class="p">,</span> <span class="py">top_p</span> <span class="p">=</span> <span class="mf">0.95</span> <span class="p">}</span>

<span class="c"># â”€â”€ Anthropic (ì  í‘œê¸°) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span>
<span class="nn">[api_providers."anthropic-sonnet"]</span>
<span class="py">display_name</span> <span class="p">=</span> <span class="s">"Anthropic Claude 3.5 Sonnet"</span>
<span class="py">model_id</span>     <span class="p">=</span> <span class="s">"claude-3-5-sonnet"</span>
<span class="py">base_url</span>     <span class="p">=</span> <span class="s">"https://api.anthropic.com"</span>
<span class="py">api_key</span>      <span class="p">=</span> <span class="s">"${ANTHROPIC_API_KEY}"</span>
<span class="py">parameters.temperature</span> <span class="p">=</span> <span class="mf">0.2</span>
<span class="py">parameters.top_p</span>       <span class="p">=</span> <span class="mf">0.9</span>
<span class="py">parameters.stop</span>        <span class="p">=</span> <span class="p">[</span><span class="s">"</span><span class="se">\n\n</span><span class="s">Human:"</span><span class="p">,</span> <span class="s">"</span><span class="se">\n\n</span><span class="s">Assistant:"</span><span class="p">]</span>
</code></pre></div></div>

<hr />

<h1 id="3-ì™¸ë¶€-ì‚¬ìš©-ë°©ë²•-ê·¸ëŒ€ë¡œ--parameters-ì§€ì›">3) ì™¸ë¶€ ì‚¬ìš© ë°©ë²• (ê·¸ëŒ€ë¡œ, + <code class="language-plaintext highlighter-rouge">parameters</code> ì§€ì›)</h1>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">comfyui_config_reader</span> <span class="kn">import</span> <span class="n">api_provider</span><span class="p">,</span> <span class="n">api_providers</span><span class="p">,</span> <span class="n">api_parameters</span><span class="p">,</span> <span class="n">get</span>

<span class="n">cfg</span> <span class="o">=</span> <span class="nf">api_provider</span><span class="p">(</span><span class="sh">"</span><span class="s">anthropic-sonnet</span><span class="sh">"</span><span class="p">)</span>   <span class="c1"># í‚¤ / display_name / model_id ì•„ë¬´ê±°ë‚˜
</span><span class="nf">print</span><span class="p">(</span><span class="n">cfg</span><span class="p">[</span><span class="sh">"</span><span class="s">model_id</span><span class="sh">"</span><span class="p">],</span> <span class="n">cfg</span><span class="p">[</span><span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">],</span> <span class="n">cfg</span><span class="p">[</span><span class="sh">"</span><span class="s">api_key</span><span class="sh">"</span><span class="p">])</span>
<span class="nf">print</span><span class="p">(</span><span class="n">cfg</span><span class="p">[</span><span class="sh">"</span><span class="s">parameters</span><span class="sh">"</span><span class="p">])</span>                  <span class="c1"># â† ìµœì¢… ë³‘í•©ëœ dict
</span>
<span class="c1"># íŒŒë¼ë¯¸í„°ë§Œ ë°”ë¡œ
</span><span class="n">params</span> <span class="o">=</span> <span class="nf">api_parameters</span><span class="p">(</span><span class="sh">"</span><span class="s">openai-mini</span><span class="sh">"</span><span class="p">)</span>    <span class="c1"># {"temperature": 0.25, "top_p": 0.95, "max_tokens": 2048}
</span><span class="n">use_cache</span> <span class="o">=</span> <span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">feature_flags.use_cache</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<hr />

<h1 id="4-ë“œë¡­ì¸-êµì²´-ì½”ë“œ">4) ë“œë¡­ì¸ êµì²´ ì½”ë“œ</h1>

<h2 id="custom_nodescomfyui_config_reader__init__py-3"><code class="language-plaintext highlighter-rouge">custom_nodes/comfyui_config_reader/__init__.py</code></h2>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">.config_singleton</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">CONFIG</span><span class="p">,</span>
    <span class="n">configure</span><span class="p">,</span>
    <span class="n">api_provider</span><span class="p">,</span> <span class="n">api_providers</span><span class="p">,</span>
    <span class="n">api_parameters</span><span class="p">,</span>                  <span class="c1"># â† ì¶”ê°€
</span>    <span class="n">get</span><span class="p">,</span> <span class="n">snapshot</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div></div>

<h2 id="custom_nodescomfyui_config_readerconfig_singletonpy-3"><code class="language-plaintext highlighter-rouge">custom_nodes/comfyui_config_reader/config_singleton.py</code></h2>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">os</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="n">threading</span>
<span class="kn">from</span> <span class="n">typing</span> <span class="kn">import</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Optional</span>

<span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span> <span class="n">tomllib</span>  <span class="c1"># py3.11+
</span>    <span class="n">_TOML_LOADS</span> <span class="o">=</span> <span class="n">tomllib</span><span class="p">.</span><span class="n">loads</span>
<span class="k">except</span> <span class="nb">Exception</span><span class="p">:</span>
    <span class="kn">import</span> <span class="n">tomli</span>     <span class="c1"># py3.10-
</span>    <span class="n">_TOML_LOADS</span> <span class="o">=</span> <span class="n">tomli</span><span class="p">.</span><span class="n">loads</span>

<span class="k">def</span> <span class="nf">_expand_env</span><span class="p">(</span><span class="n">v</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
    <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">out</span><span class="p">,</span> <span class="n">i</span> <span class="o">=</span> <span class="sh">""</span><span class="p">,</span> <span class="mi">0</span>
        <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="nf">len</span><span class="p">(</span><span class="n">v</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="p">:</span><span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="sh">"</span><span class="s">${</span><span class="sh">"</span><span class="p">:</span>
                <span class="n">j</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="sh">"</span><span class="s">}</span><span class="sh">"</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">j</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                    <span class="n">out</span> <span class="o">+=</span> <span class="n">os</span><span class="p">.</span><span class="n">environ</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="p">:</span><span class="n">j</span><span class="p">],</span> <span class="sh">""</span><span class="p">);</span> <span class="n">i</span> <span class="o">=</span> <span class="n">j</span> <span class="o">+</span> <span class="mi">1</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">out</span> <span class="o">+=</span> <span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="p">];</span> <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">out</span> <span class="o">+=</span> <span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="p">];</span> <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="n">out</span>
    <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>  <span class="k">return</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="nf">_expand_env</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">v</span><span class="p">.</span><span class="nf">items</span><span class="p">()}</span>
    <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>  <span class="k">return</span> <span class="p">[</span><span class="nf">_expand_env</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">v</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">v</span>

<span class="k">def</span> <span class="nf">_norm</span><span class="p">(</span><span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">return</span> <span class="nf">str</span><span class="p">(</span><span class="n">s</span><span class="p">).</span><span class="nf">strip</span><span class="p">().</span><span class="nf">lower</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">_normalize_model_id</span><span class="p">(</span><span class="n">cfg</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="p">(</span><span class="sh">"</span><span class="s">model_id</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">model</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">request_name</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">request_model</span><span class="sh">"</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">cfg</span> <span class="ow">and</span> <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">[</span><span class="n">k</span><span class="p">]).</span><span class="nf">strip</span><span class="p">():</span>
            <span class="k">return</span> <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">[</span><span class="n">k</span><span class="p">]).</span><span class="nf">strip</span><span class="p">()</span>
    <span class="k">return</span> <span class="sh">""</span>

<span class="k">def</span> <span class="nf">_deep_merge</span><span class="p">(</span><span class="n">a</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">b</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="n">out</span> <span class="o">=</span> <span class="nf">dict</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="p">(</span><span class="n">b</span> <span class="ow">or</span> <span class="p">{}).</span><span class="nf">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">dict</span><span class="p">)</span> <span class="ow">and</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">out</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="n">k</span><span class="p">),</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="n">out</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="nf">_deep_merge</span><span class="p">(</span><span class="n">out</span><span class="p">[</span><span class="n">k</span><span class="p">],</span> <span class="n">v</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">out</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
    <span class="k">return</span> <span class="n">out</span>

<span class="k">class</span> <span class="nc">_ReadOnlyConfig</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">
    - ì½ê¸° ì „ìš© TOML
    - mtime + TTL(5~60s, ê¸°ë³¸ 30s) ìë™ ì¬ë¡œë“œ â†’ 1ë¶„ ë‚´ ë³€ê²½ ë°˜ì˜
    - í‘œì¤€ ì„¹ì…˜: [api_providers]
    - ê° provider í•„ìˆ˜: display_name, model_id, base_url, api_key
      + ì„ íƒ: parameters(dict)  # ì¸ë¼ì¸ í…Œì´ë¸” ë˜ëŠ” dotted keys ëª¨ë‘ ì§€ì›
    - [defaults.parameters] ë³‘í•© ì§€ì›(ê°œë³„ provider.parametersê°€ ìš°ì„ )
    </span><span class="sh">"""</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">path</span> <span class="o">=</span> <span class="n">path</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_lock</span> <span class="o">=</span> <span class="n">threading</span><span class="p">.</span><span class="nc">Lock</span><span class="p">()</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_loaded_at</span> <span class="o">=</span> <span class="mf">0.0</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_last_mtime</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1.0</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_refresh</span> <span class="o">=</span> <span class="mi">30</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_raw</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_idx</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="c1"># --- ë‚´ë¶€ ë¡œë”© ---
</span>    <span class="k">def</span> <span class="nf">_read_text</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">path</span><span class="p">,</span> <span class="sh">"</span><span class="s">rb</span><span class="sh">"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">f</span><span class="p">.</span><span class="nf">read</span><span class="p">().</span><span class="nf">decode</span><span class="p">(</span><span class="sh">"</span><span class="s">utf-8</span><span class="sh">"</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_providers_table</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="n">tbl</span> <span class="o">=</span> <span class="n">data</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">api_providers</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">tbl</span> <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">tbl</span><span class="p">,</span> <span class="nb">dict</span><span class="p">)</span> <span class="k">else</span> <span class="p">{}</span>

    <span class="k">def</span> <span class="nf">_build_index</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_idx</span><span class="p">.</span><span class="nf">clear</span><span class="p">()</span>

        <span class="c1"># defaults.parameters (alias: defaults.paramsë„ ì§€ì›)
</span>        <span class="n">defaults</span> <span class="o">=</span> <span class="nf">_expand_env</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">defaults</span><span class="sh">"</span><span class="p">)</span> <span class="ow">or</span> <span class="p">{})</span>
        <span class="n">d_params</span> <span class="o">=</span> <span class="n">defaults</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">parameters</span><span class="sh">"</span><span class="p">)</span> <span class="ow">or</span> <span class="n">defaults</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">params</span><span class="sh">"</span><span class="p">)</span> <span class="ow">or</span> <span class="p">{}</span>

        <span class="n">tbl</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="nf">_providers_table</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">tbl</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span> <span class="k">return</span>

        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">raw</span> <span class="ow">in</span> <span class="n">tbl</span><span class="p">.</span><span class="nf">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">raw</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span> <span class="k">continue</span>
            <span class="n">cfg</span> <span class="o">=</span> <span class="nf">_expand_env</span><span class="p">(</span><span class="n">raw</span><span class="p">)</span>

            <span class="n">display</span> <span class="o">=</span> <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">,</span> <span class="sh">""</span><span class="p">)).</span><span class="nf">strip</span><span class="p">()</span>
            <span class="n">model</span>   <span class="o">=</span> <span class="nf">_normalize_model_id</span><span class="p">(</span><span class="n">cfg</span><span class="p">)</span>
            <span class="n">base</span>    <span class="o">=</span> <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">,</span> <span class="sh">""</span><span class="p">)).</span><span class="nf">strip</span><span class="p">()</span>
            <span class="n">api</span>     <span class="o">=</span> <span class="nf">str</span><span class="p">(</span><span class="n">cfg</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">api_key</span><span class="sh">"</span><span class="p">,</span> <span class="sh">""</span><span class="p">)).</span><span class="nf">strip</span><span class="p">()</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">display</span> <span class="ow">and</span> <span class="n">model</span> <span class="ow">and</span> <span class="n">base</span> <span class="ow">and</span> <span class="n">api</span><span class="p">):</span>
                <span class="k">continue</span>  <span class="c1"># í•„ìˆ˜ ëˆ„ë½ ìŠ¤í‚µ
</span>
            <span class="c1"># provider.parameters (alias: params) ì¶”ì¶œ + defaults ë³‘í•©
</span>            <span class="n">p_params</span> <span class="o">=</span> <span class="n">cfg</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">parameters</span><span class="sh">"</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">p_params</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
                <span class="n">p_params</span> <span class="o">=</span> <span class="n">cfg</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">params</span><span class="sh">"</span><span class="p">)</span>  <span class="c1"># ê³¼ê±° ëª…ì¹­ í˜¸í™˜
</span>            <span class="k">if</span> <span class="ow">not</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">p_params</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
                <span class="n">p_params</span> <span class="o">=</span> <span class="p">{}</span>

            <span class="n">merged_params</span> <span class="o">=</span> <span class="p">{</span><span class="o">**</span><span class="n">d_params</span><span class="p">,</span> <span class="o">**</span><span class="n">p_params</span><span class="p">}</span>

            <span class="n">entry</span> <span class="o">=</span> <span class="p">{</span>
                <span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">:</span> <span class="n">display</span><span class="p">,</span>
                <span class="sh">"</span><span class="s">model_id</span><span class="sh">"</span><span class="p">:</span>     <span class="n">model</span><span class="p">,</span>
                <span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">:</span>     <span class="n">base</span><span class="p">,</span>
                <span class="sh">"</span><span class="s">api_key</span><span class="sh">"</span><span class="p">:</span>      <span class="n">api</span><span class="p">,</span>
                <span class="sh">"</span><span class="s">parameters</span><span class="sh">"</span><span class="p">:</span>   <span class="n">merged_params</span><span class="p">,</span>  <span class="c1"># â† í¬í•¨
</span>            <span class="p">}</span>

            <span class="c1"># ì ‘ê·¼ í‚¤: ì •ì˜ í‚¤ / display_name / model_id
</span>            <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="p">{</span><span class="nf">str</span><span class="p">(</span><span class="n">key</span><span class="p">),</span> <span class="n">display</span><span class="p">,</span> <span class="n">model</span><span class="p">}:</span>
                <span class="k">if</span> <span class="n">c</span><span class="p">:</span>
                    <span class="n">self</span><span class="p">.</span><span class="n">_idx</span><span class="p">[</span><span class="nf">_norm</span><span class="p">(</span><span class="n">c</span><span class="p">)]</span> <span class="o">=</span> <span class="n">entry</span>

    <span class="k">def</span> <span class="nf">_reload_locked</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">txt</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="nf">_read_text</span><span class="p">()</span>
        <span class="n">data</span> <span class="o">=</span> <span class="nf">_TOML_LOADS</span><span class="p">(</span><span class="n">txt</span><span class="p">)</span>

        <span class="n">r</span> <span class="o">=</span> <span class="nf">int</span><span class="p">((</span><span class="n">data</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">settings</span><span class="sh">"</span><span class="p">)</span> <span class="ow">or</span> <span class="p">{}).</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">refresh_interval_seconds</span><span class="sh">"</span><span class="p">,</span> <span class="mi">30</span><span class="p">))</span>
        <span class="n">r</span> <span class="o">=</span> <span class="nf">max</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="nf">min</span><span class="p">(</span><span class="mi">60</span><span class="p">,</span> <span class="n">r</span><span class="p">))</span>
        <span class="n">env_r</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">environ</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">COMFY_CONFIG_REFRESH_SECONDS</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">env_r</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span> <span class="n">r</span> <span class="o">=</span> <span class="nf">max</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="nf">min</span><span class="p">(</span><span class="mi">60</span><span class="p">,</span> <span class="nf">int</span><span class="p">(</span><span class="n">env_r</span><span class="p">)))</span>
            <span class="k">except</span> <span class="nb">ValueError</span><span class="p">:</span> <span class="k">pass</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_refresh</span> <span class="o">=</span> <span class="n">r</span>

        <span class="n">self</span><span class="p">.</span><span class="n">_raw</span> <span class="o">=</span> <span class="nf">_expand_env</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">_build_index</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">_raw</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_loaded_at</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">self</span><span class="p">.</span><span class="n">_last_mtime</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">getmtime</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">path</span><span class="p">)</span>
        <span class="k">except</span> <span class="nb">FileNotFoundError</span><span class="p">:</span>
            <span class="n">self</span><span class="p">.</span><span class="n">_last_mtime</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1.0</span>

    <span class="k">def</span> <span class="nf">_stale_or_changed</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">m</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">getmtime</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">path</span><span class="p">)</span>
        <span class="k">except</span> <span class="nb">FileNotFoundError</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">True</span>
        <span class="n">now</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span>
        <span class="nf">return </span><span class="p">(</span><span class="n">m</span> <span class="o">!=</span> <span class="n">self</span><span class="p">.</span><span class="n">_last_mtime</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">now</span> <span class="o">-</span> <span class="n">self</span><span class="p">.</span><span class="n">_loaded_at</span> <span class="o">&gt;=</span> <span class="n">self</span><span class="p">.</span><span class="n">_refresh</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_ensure_loaded</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">with</span> <span class="n">self</span><span class="p">.</span><span class="n">_lock</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">self</span><span class="p">.</span><span class="n">_loaded_at</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">self</span><span class="p">.</span><span class="nf">_stale_or_changed</span><span class="p">():</span>
                <span class="n">self</span><span class="p">.</span><span class="nf">_reload_locked</span><span class="p">()</span>

    <span class="c1"># --- í¼ë¸”ë¦­ API ---
</span>    <span class="k">def</span> <span class="nf">api_provider</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">key</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nf">str</span><span class="p">(</span><span class="n">key</span><span class="p">).</span><span class="nf">strip</span><span class="p">():</span>
            <span class="k">raise</span> <span class="nc">KeyError</span><span class="p">(</span><span class="sh">"</span><span class="s">api_provider key is empty</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">_ensure_loaded</span><span class="p">()</span>
        <span class="n">hit</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">_idx</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="nf">_norm</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">hit</span><span class="p">:</span>
            <span class="k">with</span> <span class="n">self</span><span class="p">.</span><span class="n">_lock</span><span class="p">:</span>
                <span class="n">self</span><span class="p">.</span><span class="nf">_reload_locked</span><span class="p">()</span>
                <span class="n">hit</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">_idx</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="nf">_norm</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">hit</span><span class="p">:</span>
            <span class="k">raise</span> <span class="nc">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">api_provider not found: </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">hit</span>

    <span class="k">def</span> <span class="nf">api_providers</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
        <span class="sh">"""</span><span class="s">ëª©ë¡ì—ì„œëŠ” api_key ìˆ¨ê¹€, parametersëŠ” ë…¸ì¶œ.</span><span class="sh">"""</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">_ensure_loaded</span><span class="p">()</span>
        <span class="n">out</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">seen</span> <span class="o">=</span> <span class="nf">set</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">self</span><span class="p">.</span><span class="n">_idx</span><span class="p">.</span><span class="nf">items</span><span class="p">():</span>
            <span class="n">dn</span> <span class="o">=</span> <span class="n">v</span><span class="p">[</span><span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">dn</span> <span class="ow">in</span> <span class="n">seen</span><span class="p">:</span> <span class="k">continue</span>
            <span class="n">seen</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="n">dn</span><span class="p">)</span>
            <span class="n">out</span><span class="p">[</span><span class="n">dn</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                <span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">:</span> <span class="n">v</span><span class="p">[</span><span class="sh">"</span><span class="s">display_name</span><span class="sh">"</span><span class="p">],</span>
                <span class="sh">"</span><span class="s">model_id</span><span class="sh">"</span><span class="p">:</span>     <span class="n">v</span><span class="p">[</span><span class="sh">"</span><span class="s">model_id</span><span class="sh">"</span><span class="p">],</span>
                <span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">:</span>     <span class="n">v</span><span class="p">[</span><span class="sh">"</span><span class="s">base_url</span><span class="sh">"</span><span class="p">],</span>
                <span class="sh">"</span><span class="s">parameters</span><span class="sh">"</span><span class="p">:</span>   <span class="n">v</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">parameters</span><span class="sh">"</span><span class="p">,</span> <span class="p">{}),</span>
            <span class="p">}</span>
        <span class="k">return</span> <span class="n">out</span>

    <span class="k">def</span> <span class="nf">api_parameters</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="k">return</span> <span class="nf">dict</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="nf">api_provider</span><span class="p">(</span><span class="n">key</span><span class="p">).</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">parameters</span><span class="sh">"</span><span class="p">,</span> <span class="p">{}))</span>

    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">dotted</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">_ensure_loaded</span><span class="p">()</span>
        <span class="n">cur</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">_raw</span>
        <span class="k">for</span> <span class="n">part</span> <span class="ow">in</span> <span class="nf">filter</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="n">dotted</span><span class="p">.</span><span class="nf">split</span><span class="p">(</span><span class="sh">"</span><span class="s">.</span><span class="sh">"</span><span class="p">)):</span>
            <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">cur</span><span class="p">,</span> <span class="nb">dict</span><span class="p">)</span> <span class="ow">and</span> <span class="n">part</span> <span class="ow">in</span> <span class="n">cur</span><span class="p">:</span>
                <span class="n">cur</span> <span class="o">=</span> <span class="n">cur</span><span class="p">[</span><span class="n">part</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="nc">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">config path not found: </span><span class="si">{</span><span class="n">dotted</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">cur</span>

    <span class="k">def</span> <span class="nf">snapshot</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">_ensure_loaded</span><span class="p">()</span>
        <span class="k">return</span> <span class="nf">dict</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">_raw</span><span class="p">)</span>

<span class="c1"># ----- ì‹±ê¸€í†¤ -----
</span><span class="n">_lock</span> <span class="o">=</span> <span class="n">threading</span><span class="p">.</span><span class="nc">Lock</span><span class="p">()</span>
<span class="n">_instance</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">_ReadOnlyConfig</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span>
<span class="n">_default_path</span> <span class="o">=</span> <span class="bp">None</span>

<span class="k">def</span> <span class="nf">_resolve_default_path</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="n">here</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">dirname</span><span class="p">(</span><span class="n">__file__</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">_default_path</span> <span class="ow">or</span> <span class="n">os</span><span class="p">.</span><span class="n">environ</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">COMFY_CONFIG_PATH</span><span class="sh">"</span><span class="p">,</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="n">here</span><span class="p">,</span> <span class="sh">"</span><span class="s">config.toml</span><span class="sh">"</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">_get_instance</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">_ReadOnlyConfig</span><span class="p">:</span>
    <span class="k">global</span> <span class="n">_instance</span>
    <span class="k">if</span> <span class="n">_instance</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">with</span> <span class="n">_lock</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">_instance</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
                <span class="n">_instance</span> <span class="o">=</span> <span class="nf">_ReadOnlyConfig</span><span class="p">(</span><span class="nf">_resolve_default_path</span><span class="p">())</span>
    <span class="k">return</span> <span class="n">_instance</span>

<span class="k">def</span> <span class="nf">configure</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span> <span class="n">refresh_seconds</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="k">global</span> <span class="n">_instance</span><span class="p">,</span> <span class="n">_default_path</span>
    <span class="k">if</span> <span class="n">path</span><span class="p">:</span>
        <span class="n">_default_path</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">abspath</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">refresh_seconds</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">os</span><span class="p">.</span><span class="n">environ</span><span class="p">[</span><span class="sh">"</span><span class="s">COMFY_CONFIG_REFRESH_SECONDS</span><span class="sh">"</span><span class="p">]</span> <span class="o">=</span> <span class="nf">str</span><span class="p">(</span><span class="n">refresh_seconds</span><span class="p">)</span>
    <span class="k">with</span> <span class="n">_lock</span><span class="p">:</span>
        <span class="n">_instance</span> <span class="o">=</span> <span class="nf">_ReadOnlyConfig</span><span class="p">(</span><span class="nf">_resolve_default_path</span><span class="p">())</span>

<span class="c1"># ---- ì™¸ë¶€ API ----
</span><span class="k">def</span> <span class="nf">api_provider</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>         <span class="k">return</span> <span class="nf">_get_instance</span><span class="p">().</span><span class="nf">api_provider</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">api_providers</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>     <span class="k">return</span> <span class="nf">_get_instance</span><span class="p">().</span><span class="nf">api_providers</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">api_parameters</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>       <span class="k">return</span> <span class="nf">_get_instance</span><span class="p">().</span><span class="nf">api_parameters</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="n">dotted</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>                          <span class="k">return</span> <span class="nf">_get_instance</span><span class="p">().</span><span class="nf">get</span><span class="p">(</span><span class="n">dotted</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">snapshot</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>                     <span class="k">return</span> <span class="nf">_get_instance</span><span class="p">().</span><span class="nf">snapshot</span><span class="p">()</span>

<span class="c1"># ---- ê°ì²´í˜• í”„ë¡ì‹œ ----
</span><span class="k">class</span> <span class="nc">_ConfigProxy</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__getattr__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">return</span> <span class="nf">getattr</span><span class="p">(</span><span class="nf">_get_instance</span><span class="p">(),</span> <span class="n">name</span><span class="p">)</span>
<span class="n">CONFIG</span> <span class="o">=</span> <span class="nf">_ConfigProxy</span><span class="p">()</span>
</code></pre></div></div>

<hr />

<h1 id="5-ì •ë¦¬">5) ì •ë¦¬</h1>

<ul>
  <li>
    <p>âœ… <strong>TOMLì—ì„œë„ ë”•ì…”ë„ˆë¦¬ ê°€ëŠ¥</strong> : ì¸ë¼ì¸ í…Œì´ë¸” <code class="language-plaintext highlighter-rouge">{...}</code> ë˜ëŠ” ì  í‘œê¸° <code class="language-plaintext highlighter-rouge">parameters.foo =</code></p>
  </li>
  <li>
    <p>âœ… <code class="language-plaintext highlighter-rouge">api_providers</code> ê° í•­ëª©ì— <strong><code class="language-plaintext highlighter-rouge">parameters</code> í¬í•¨</strong> ì§€ì› (ì¸ë¼ì¸/ì í‘œê¸° ëª¨ë‘ OK)</p>
  </li>
  <li>
    <p>âœ… <code class="language-plaintext highlighter-rouge">defaults.parameters</code>ë¡œ ê³µí†µê°’ ë³‘í•©</p>
  </li>
  <li>
    <p>âœ… ì™¸ë¶€ ì ‘ê·¼: <code class="language-plaintext highlighter-rouge">api_provider("í‚¤")["parameters"]</code> ë˜ëŠ” <code class="language-plaintext highlighter-rouge">api_parameters("í‚¤")</code></p>
  </li>
  <li>
    <p>âœ… ì½ê¸° ì „ìš© + íŒŒì¼ ë³€ê²½ <strong>ìµœëŒ€ 1ë¶„ ë‚´ ë°˜ì˜</strong></p>
  </li>
</ul>

<p>ì›í•˜ë©´ <code class="language-plaintext highlighter-rouge">parameters</code> ì™¸ì— <code class="language-plaintext highlighter-rouge">http</code> ê°™ì€ ì„¹ì…˜ë„ ê°™ì€ ë°©ì‹ìœ¼ë¡œ ë¶™ì—¬ì„œ ë³‘í•© ì§€ì›í•´ì¤„ ìˆ˜ ìˆì–´!</p>]]></content><author><name>hvppyarchive</name></author><category term="comfyui" /><summary type="html"><![CDATA[]]></summary></entry><entry><title type="html">openai api Raw ë°ì´í„° í™•ì¸ ë°©ë²•</title><link href="https://hvppyarchive.github.io/python/openai-package-data-hook/" rel="alternate" type="text/html" title="openai api Raw ë°ì´í„° í™•ì¸ ë°©ë²•" /><published>2025-10-01T18:38:56+09:00</published><updated>2025-10-01T18:38:56+09:00</updated><id>https://hvppyarchive.github.io/python/openai-package-data-hook</id><content type="html" xml:base="https://hvppyarchive.github.io/python/openai-package-data-hook/"><![CDATA[<p class="chat--user">

openai python packageì—ì„œ ë‚´ê°€ ë³´ë‚´ëŠ” íŒ¨í‚·ì„ ê°€ëŠ¥í•œ raw ë°ì´í„° í˜•íƒœë¡œ ë³´ê³  ì‹¶ì–´

</p>

<p>ì¢‹ì•„ìš”. â€œopenaiâ€ Python íŒ¨í‚¤ì§€ë¡œ APIë¥¼ í˜¸ì¶œí•  ë•Œ, ë‚´ê°€ ë³´ë‚¸ <strong>HTTP ìš”ì²­(=íŒ¨í‚·)ì— ìµœëŒ€í•œ ê°€ê¹Œìš´ raw ë°ì´í„°</strong> ë¥¼ ë³´ëŠ” ëŒ€í‘œì ì¸ ë°©ë²•ì„ ë‹¨ê³„ë³„ë¡œ ì •ë¦¬í–ˆì–´ìš”. ìƒí™©/ë³´ì•ˆ ìš”êµ¬ì— ë”°ë¼ ê³¨ë¼ ì“°ì‹œë©´ ë©ë‹ˆë‹¤.</p>

<hr />

<h1 id="1-ê°€ì¥-ê°„ë‹¨í•œ-ë°©ë²•-sdk-ë””ë²„ê·¸-ë¡œê·¸-ì¼œê¸°">1) ê°€ì¥ ê°„ë‹¨í•œ ë°©ë²•: SDK ë””ë²„ê·¸ ë¡œê·¸ ì¼œê¸°</h1>

<p>OpenAI Python SDKëŠ” í™˜ê²½ë³€ìˆ˜ í•œ ì¤„ë¡œ ìƒì„¸ ë¡œê·¸ë¥¼ ë¿Œë¦´ ìˆ˜ ìˆì–´ìš”.</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">OPENAI_LOG</span><span class="o">=</span>debug
python your_script.py
</code></pre></div></div>

<ul>
  <li>ì´ëŸ¬ë©´ SDK ë‚´ë¶€ì™€ í•¨ê»˜ <strong>httpx</strong>(OpenAI SDKì˜ HTTP í´ë¼ì´ì–¸íŠ¸) ë””ë²„ê·¸ ë¡œê·¸ë„ í™œì„±í™”ë¼ì„œ ìš”ì²­/ì‘ë‹µ íë¦„ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. <a href="https://stackoverflow.com/questions/76256249/logging-in-the-open-ai-python-library?utm_source=chatgpt.com">Stack Overflow</a></li>
</ul>

<blockquote>
  <p>ì¥ì : ì½”ë“œ ìˆ˜ì • ì—†ìŒ<br />
 ë‹¨ì : ë°”ë”” ì „ë¬¸ì„ í•­ìƒ ë³´ì—¬ì£¼ì§„ ì•ŠìŒ(ë¯¼ê°ì •ë³´ ë³´í˜¸ ì°¨ì›ì—ì„œ ë§ˆìŠ¤í‚¹/ìƒëµë  ìˆ˜ ìˆìŒ)</p>
</blockquote>

<hr />

<h1 id="2-í‘œì¤€-ë¡œê¹…ìœ¼ë¡œ-httpx-ë””ë²„ê¹…ìš”ì²­ì‘ë‹µ-ë¼ì¸í—¤ë”">2) í‘œì¤€ ë¡œê¹…ìœ¼ë¡œ httpx ë””ë²„ê¹…(ìš”ì²­/ì‘ë‹µ ë¼ì¸Â·í—¤ë”)</h1>

<p><code class="language-plaintext highlighter-rouge">logging</code>ìœ¼ë¡œ httpx ë¡œê±°ë¥¼ DEBUGë¡œ ì¼œë©´, ì—°ê²°/ìš”ì²­/ì‘ë‹µì˜ ë‚´ë¶€ ë™ì‘ì„ ìì„¸íˆ ë³¼ ìˆ˜ ìˆì–´ìš”.</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">logging</span>

<span class="n">logging</span><span class="p">.</span><span class="nf">basicConfig</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="p">.</span><span class="n">DEBUG</span><span class="p">)</span>
<span class="n">logging</span><span class="p">.</span><span class="nf">getLogger</span><span class="p">(</span><span class="sh">"</span><span class="s">httpx</span><span class="sh">"</span><span class="p">).</span><span class="nf">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="p">.</span><span class="n">DEBUG</span><span class="p">)</span>

<span class="kn">from</span> <span class="n">openai</span> <span class="kn">import</span> <span class="n">OpenAI</span>
<span class="n">client</span> <span class="o">=</span> <span class="nc">OpenAI</span><span class="p">()</span>

<span class="c1"># í‰ì†Œì²˜ëŸ¼ í˜¸ì¶œ
</span><span class="n">resp</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">chat</span><span class="p">.</span><span class="n">completions</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span>
    <span class="n">model</span><span class="o">=</span><span class="sh">"</span><span class="s">gpt-4o-mini</span><span class="sh">"</span><span class="p">,</span>
    <span class="n">messages</span><span class="o">=</span><span class="p">[{</span><span class="sh">"</span><span class="s">role</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">user</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">content</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">ping</span><span class="sh">"</span><span class="p">}],</span>
<span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">resp</span><span class="p">)</span>
</code></pre></div></div>

<ul>
  <li>ìœ„ì²˜ëŸ¼ í•˜ë©´ httpxê°€ ì¶œë ¥í•˜ëŠ” <strong>ìš”ì²­ ë©”ì„œë“œ/URL, ì‘ë‹µ ìƒíƒœ, ì¼ë¶€ í—¤ë” ë“±</strong> ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•„ìš”í•œ ê²½ìš° í¬ë§·ì„ ë” ê¾¸ë°€ ìˆ˜ ìˆì–´ìš”. <a href="https://www.python-httpx.org/logging/?utm_source=chatgpt.com">python-httpx.org</a></li>
</ul>

<blockquote>
  <p>ì¥ì : í‘œì¤€ íŒŒì´ì¬ ë¡œê¹…ìœ¼ë¡œ ì†ì‰½ê²Œ ì œì–´<br />
 ë‹¨ì : ë°”ë”” ì „ë¬¸ì€ ê¸°ë³¸ ë¡œê·¸ì— ì•ˆ ë‚˜ì˜´</p>
</blockquote>

<hr />

<h1 id="3-ì§„ì§œ-rawì—-ê°€ê¹ê²Œ--ì»¤ìŠ¤í…€-httpx-client--ì´ë²¤íŠ¸-í›…">3) â€œì§„ì§œ rawì— ê°€ê¹ê²Œâ€ â€” ì»¤ìŠ¤í…€ httpx Client + ì´ë²¤íŠ¸ í›…</h1>

<p>ê°€ì¥ íˆ¬ëª…í•œ ë°©ë²•ì€ SDKì— <strong>ì»¤ìŠ¤í…€ httpx.Client</strong> ë¥¼ ì£¼ì…í•˜ê³ , <strong>event_hooks</strong> ë¡œ ìš”ì²­Â·ì‘ë‹µ ì‹œì ì— <strong>ë°”ë””ê¹Œì§€ í¬í•¨</strong> í•´ì„œ ì°ëŠ” ê²ë‹ˆë‹¤.</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">json</span>
<span class="kn">import</span> <span class="n">httpx</span>
<span class="kn">from</span> <span class="n">openai</span> <span class="kn">import</span> <span class="n">OpenAI</span>

<span class="k">def</span> <span class="nf">log_request</span><span class="p">(</span><span class="n">request</span><span class="p">:</span> <span class="n">httpx</span><span class="p">.</span><span class="n">Request</span><span class="p">):</span>
    <span class="c1"># ì£¼ì˜: ì—¬ê¸°ì„œ bodyë¥¼ ì¶œë ¥í•˜ë©´ í”„ë¡¬í”„íŠ¸/í‚¤ ë“± ë¯¼ê°ì •ë³´ê°€ ë…¸ì¶œë  ìˆ˜ ìˆìŒ
</span>    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">=== HTTP REQUEST ===</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">request</span><span class="p">.</span><span class="n">method</span><span class="si">}</span><span class="s"> </span><span class="si">{</span><span class="n">request</span><span class="p">.</span><span class="n">url</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">request</span><span class="p">.</span><span class="n">headers</span><span class="p">.</span><span class="nf">items</span><span class="p">():</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s">: </span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="c1"># request.contentëŠ” bytesì¼ ìˆ˜ ìˆìŒ
</span>    <span class="k">if</span> <span class="n">request</span><span class="p">.</span><span class="n">content</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">-- body (utf-8) --</span><span class="sh">"</span><span class="p">)</span>
            <span class="nf">print</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="n">content</span><span class="p">.</span><span class="nf">decode</span><span class="p">(</span><span class="sh">"</span><span class="s">utf-8</span><span class="sh">"</span><span class="p">))</span>
        <span class="k">except</span> <span class="nb">UnicodeDecodeError</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">-- body (bytes) --</span><span class="sh">"</span><span class="p">)</span>
            <span class="nf">print</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="n">content</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">log_response</span><span class="p">(</span><span class="n">response</span><span class="p">:</span> <span class="n">httpx</span><span class="p">.</span><span class="n">Response</span><span class="p">):</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">=== HTTP RESPONSE ===</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">HTTP/</span><span class="si">{</span><span class="n">response</span><span class="p">.</span><span class="n">http_version</span><span class="si">}</span><span class="s"> </span><span class="si">{</span><span class="n">response</span><span class="p">.</span><span class="n">status_code</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">response</span><span class="p">.</span><span class="n">headers</span><span class="p">.</span><span class="nf">items</span><span class="p">():</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s">: </span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="c1"># ì£¼ì˜: ì‘ë‹µ ë°”ë””ì—ëŠ” í† í°/í…ìŠ¤íŠ¸ ë“± ë¯¼ê°ì •ë³´ í¬í•¨ ê°€ëŠ¥
</span>    <span class="n">body</span> <span class="o">=</span> <span class="n">response</span><span class="p">.</span><span class="n">content</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">-- body (utf-8 pretty) --</span><span class="sh">"</span><span class="p">)</span>
        <span class="nf">print</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="nf">dumps</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">json</span><span class="p">(),</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
    <span class="k">except</span> <span class="nb">Exception</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">-- body (raw) --</span><span class="sh">"</span><span class="p">)</span>
        <span class="nf">print</span><span class="p">(</span><span class="n">body</span><span class="p">[:</span><span class="mi">2000</span><span class="p">])</span>  <span class="c1"># ë„ˆë¬´ ê¸¸ë©´ ìƒ˜í”Œë§Œ
</span>
<span class="n">hooks</span> <span class="o">=</span> <span class="p">{</span>
    <span class="sh">"</span><span class="s">request</span><span class="sh">"</span><span class="p">:</span> <span class="p">[</span><span class="n">log_request</span><span class="p">],</span>
    <span class="sh">"</span><span class="s">response</span><span class="sh">"</span><span class="p">:</span> <span class="p">[</span><span class="n">log_response</span><span class="p">],</span>
<span class="p">}</span>
<span class="n">http_client</span> <span class="o">=</span> <span class="n">httpx</span><span class="p">.</span><span class="nc">Client</span><span class="p">(</span><span class="n">event_hooks</span><span class="o">=</span><span class="n">hooks</span><span class="p">)</span>

<span class="n">client</span> <span class="o">=</span> <span class="nc">OpenAI</span><span class="p">(</span><span class="n">http_client</span><span class="o">=</span><span class="n">http_client</span><span class="p">)</span>

<span class="c1"># í…ŒìŠ¤íŠ¸ í˜¸ì¶œ
</span><span class="n">_</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">chat</span><span class="p">.</span><span class="n">completions</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span>
    <span class="n">model</span><span class="o">=</span><span class="sh">"</span><span class="s">gpt-4o-mini</span><span class="sh">"</span><span class="p">,</span>
    <span class="n">messages</span><span class="o">=</span><span class="p">[{</span><span class="sh">"</span><span class="s">role</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">user</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">content</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">Hello</span><span class="sh">"</span><span class="p">}],</span>
<span class="p">)</span>
</code></pre></div></div>

<ul>
  <li>í•µì‹¬ì€ <code class="language-plaintext highlighter-rouge">OpenAI(http_client=...)</code> ë¡œ <strong>ë‚´ httpx í´ë¼ì´ì–¸íŠ¸ë¥¼ ì£¼ì…</strong> í•˜ëŠ” ë¶€ë¶„ì…ë‹ˆë‹¤. ì´ëŸ° ì‹ìœ¼ë¡œ ìš”ì²­/ì‘ë‹µ <strong>í—¤ë” + ë°”ë””</strong> ë¥¼ ì›í•˜ëŠ” í˜•ì‹ìœ¼ë¡œ ë¤í”„í•  ìˆ˜ ìˆì–´ìš”. <a href="https://til.simonwillison.net/httpx/openai-log-requests-responses?utm_source=chatgpt.com">TIL+2</a></li>
</ul>

<blockquote>
  <p>ì¥ì : ê°€ì¥ â€œrawâ€ì— ê°€ê¹Œì›€(ë‚´ìš©Â·í—¤ë”Â·ìƒíƒœ ì „ë¶€ ë‚´ê°€ í†µì œ)<br />
 ë‹¨ì : ì§ì ‘ ë§ˆìŠ¤í‚¹ ì²˜ë¦¬ë¥¼ í•´ì•¼ ì•ˆì „</p>
</blockquote>

<hr />

<h1 id="4-ì™¸ë¶€-í”„ë¡ì‹œíŒ¨í‚·-ìº¡ì²˜ë¡œ-ì™€ì´ì–´-ê·¸ëŒ€ë¡œ-ë³´ê¸°">4) ì™¸ë¶€ í”„ë¡ì‹œ(íŒ¨í‚· ìº¡ì²˜)ë¡œ â€œì™€ì´ì–´ ê·¸ëŒ€ë¡œâ€ ë³´ê¸°</h1>

<p>ì½”ë“œë¥¼ ê±´ë“œë¦¬ê³  ì‹¶ì§€ ì•Šê±°ë‚˜, <strong>ì§„ì§œ ì „ì†¡ë˜ëŠ” TLS íŠ¸ë˜í”½</strong> ê¹Œì§€ ê´€ì°°í•˜ê³  ì‹¶ë‹¤ë©´ <strong>í”„ë¡ì‹œ/íŒ¨í‚· ë„êµ¬</strong> ë¥¼ ì“°ì„¸ìš”.</p>

<ul>
  <li>
    <p>ì˜ˆ: <strong>Proxyman</strong> , <strong>mitmproxy</strong> , <strong>Charles</strong> , <strong>Fiddler</strong> ë“±</p>
  </li>
  <li>
    <p>ë°©ë²•: ë„êµ¬ì—ì„œ ë£¨íŠ¸ ì¸ì¦ì„œë¥¼ ì‹ ë¢°í•˜ë„ë¡ ì„¤ì • â†’ Pythonì´ í•´ë‹¹ í”„ë¡ì‹œë¥¼ ì“°ê²Œ <code class="language-plaintext highlighter-rouge">HTTPS_PROXY</code>/<code class="language-plaintext highlighter-rouge">HTTP_PROXY</code> í™˜ê²½ë³€ìˆ˜ ì„¤ì • â†’ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ â†’ ë„êµ¬ì—ì„œ <strong>ìš”ì²­ ë¼ì¸/í—¤ë”/ì••ì¶• ì „/í›„ ë°”ë””</strong> ê¹Œì§€ ì—´ëŒ</p>
  </li>
  <li>
    <p>httpx/requests ê¸°ë°˜ íŒŒì´ì¬ ì½”ë“œì—ì„œ ì´ëŸ° í”„ë¡ì‹œë¡œ <strong>HTTPS íŠ¸ë˜í”½ ìº¡ì²˜</strong> ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤. <a href="https://proxyman.com/posts/2025-01-29-How-To-Capture-HTTPS-Traffic-From-Python-Requests-httpx?utm_source=chatgpt.com">Proxyman</a></p>
  </li>
</ul>

<blockquote>
  <p>ì¥ì : SDK/ì½”ë“œ ìˆ˜ì • ìµœì†Œí™”, ì‹¤ì œ ì „ì†¡ í˜•íƒœë¥¼ GUIë¡œ ì§ê´€ì ìœ¼ë¡œ í™•ì¸<br />
 ë‹¨ì : ì‚¬ë‚´ ì •ì±…/ë£¨íŠ¸ ì¸ì¦ì„œ ì„¤ì¹˜ ì´ìŠˆ ê°€ëŠ¥</p>
</blockquote>

<hr />

<h1 id="5-ë¹„êµ-ê¸°ì¤€-ì •ë¦¬-ì–¸ì œ-ë¬´ì—‡ì„-ì“¸ê¹Œ">5) ë¹„êµ ê¸°ì¤€ ì •ë¦¬ (ì–¸ì œ ë¬´ì—‡ì„ ì“¸ê¹Œ?)</h1>

<ul>
  <li>
    <p><strong>ë¹ ë¥¸ í™•ì¸</strong> : <code class="language-plaintext highlighter-rouge">OPENAI_LOG=debug</code> (1ë¶„ ì»·). <a href="https://stackoverflow.com/questions/76256249/logging-in-the-open-ai-python-library?utm_source=chatgpt.com">Stack Overflow</a></p>
  </li>
  <li>
    <p><strong>íŒŒì´ì¬ ë¡œê·¸ì— ì¼ì›í™”</strong> : httpx ë¡œê±° DEBUG (Step 2). <a href="https://www.python-httpx.org/logging/?utm_source=chatgpt.com">python-httpx.org</a></p>
  </li>
  <li>
    <p><strong>ìš”ì²­/ì‘ë‹µ ë°”ë””ê¹Œì§€ 100% í†µì œ</strong> : ì»¤ìŠ¤í…€ httpx Client + event_hooks (Step 3). <a href="https://til.simonwillison.net/httpx/openai-log-requests-responses?utm_source=chatgpt.com">TIL+1</a></p>
  </li>
  <li>
    <p><strong>ì§„ì§œ íŒ¨í‚· ê´€ì (í”„ë¡ì‹œ)</strong> : Proxyman/mitmproxy (Step 4). <a href="https://proxyman.com/posts/2025-01-29-How-To-Capture-HTTPS-Traffic-From-Python-Requests-httpx?utm_source=chatgpt.com">Proxyman</a></p>
  </li>
</ul>

<hr />

<h1 id="6-ë³´ì•ˆì»´í”Œë¼ì´ì–¸ìŠ¤-ì£¼ì˜ì¤‘ìš”">6) ë³´ì•ˆ/ì»´í”Œë¼ì´ì–¸ìŠ¤ ì£¼ì˜(ì¤‘ìš”)</h1>

<ul>
  <li>
    <p><strong>API í‚¤</strong> ì™€ <strong>í”„ë¡¬í”„íŠ¸/ì‘ë‹µ ë‚´ìš©</strong> ì´ ë¡œê·¸ì— ë‚¨ì„ ìˆ˜ ìˆì–´ìš”.</p>

    <ul>
      <li>
        <p>ë¡œì»¬ë§Œ, ì ‘ê·¼ ì œí•œëœ í™˜ê²½ì—ì„œë§Œ ì¶œë ¥í•˜ì„¸ìš”.</p>
      </li>
      <li>
        <p>ì €ì¥ ì‹œì—” <strong>ë§ˆìŠ¤í‚¹/ì•”í˜¸í™”</strong> ë˜ëŠ” <strong>ì„ì‹œ íŒŒì¼</strong> ì‚¬ìš©ì„ ê¶Œì¥.</p>
      </li>
    </ul>
  </li>
  <li>
    <p>íšŒì‚¬/ì¡°ì§ ì •ì±…ìƒ <strong>ì¤‘ê°„ì í”„ë¡ì‹œ íˆ´</strong> ì‚¬ìš©ì´ ì œí•œë  ìˆ˜ ìˆìŠµë‹ˆë‹¤(íŠ¹íˆ í´ë¼ìš°ë“œ/ìƒì‚°í™˜ê²½). ì‚¬ì „ ìŠ¹ì¸ í•„ìš”.</p>
  </li>
</ul>

<hr />

<h1 id="7-ì°¸ê³ -ë¬¸ì„œ">7) ì°¸ê³  ë¬¸ì„œ</h1>

<ul>
  <li>
    <p>OpenAI SDK ë””ë²„ê¹… ê°œìš”/ë ˆí¼ëŸ°ìŠ¤: <a href="https://platform.openai.com/docs/api-reference/debugging-requests?utm_source=chatgpt.com">OpenAI í”Œë«í¼+1</a></p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">OPENAI_LOG=debug</code> ì•ˆë‚´(Q&amp;A): <a href="https://stackoverflow.com/questions/76256249/logging-in-the-open-ai-python-library?utm_source=chatgpt.com">Stack Overflow</a></p>
  </li>
  <li>
    <p>httpx ë¡œê¹…/íŠ¸ëœìŠ¤í¬íŠ¸ ì‹¬í™”: <a href="https://www.python-httpx.org/logging/?utm_source=chatgpt.com">python-httpx.org+1</a></p>
  </li>
  <li>
    <p>ì™¸ë¶€ í”„ë¡ì‹œë¡œ httpx íŠ¸ë˜í”½ ìº¡ì²˜: <a href="https://proxyman.com/posts/2025-01-29-How-To-Capture-HTTPS-Traffic-From-Python-Requests-httpx?utm_source=chatgpt.com">Proxyman</a></p>
  </li>
</ul>

<hr />

<p>ì›í•˜ì‹œë©´, ìœ„ â‘¢ ì»¤ìŠ¤í…€ í´ë¼ì´ì–¸íŠ¸ ì½”ë“œë¥¼ <strong>ë°”ë”” ë§ˆìŠ¤í‚¹(ì˜ˆ: í† í°/ì´ë©”ì¼ ì œê±°)</strong> í¬í•¨ ë²„ì „ìœ¼ë¡œ ë°”ë¡œ ë§Œë“¤ì–´ ë“œë¦´ê²Œìš”.</p>

<p class="chat--user">

stringì— ë°ì´í„°ê°€ ë‹´ê¸°ê²Œ í•˜ê³  ì‹¶ì–´ ìš”ì²­ì„ ë³´ë‚¼ë•Œ / ë°›ì„ë•Œ ê°ê°

</p>

<p>ì¢‹ìŠµë‹ˆë‹¤ â€” <strong>ìš”ì²­ ë³´ë‚¼ ë•Œ(request)ì™€ ë°›ì„ ë•Œ(response)</strong> ê°ê°ì˜ ë°”ë””ë¥¼ <strong>ë¬¸ìì—´(string)</strong>ìœ¼ë¡œ ì €ì¥í•˜ëŠ” ì‹¤ì „ ì½”ë“œ(ë™ê¸° + ë¹„ë™ê¸°)ë¥¼ ë°”ë¡œ ë“œë¦´ê²Œìš”. ë¯¼ê°ì •ë³´(Authorization/API Key ë“±) ë§ˆìŠ¤í‚¹ë„ í¬í•¨ë˜ì–´ ìˆìœ¼ë‹ˆ ì•ˆì „í•˜ê²Œ ì“°ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¨ê³„ë³„ë¡œ ì„¤ëª…ë„ ë§ë¶™ì˜€ì–´ìš” â€” ìš”ì²­í•˜ì‹  ëŒ€ë¡œ <strong>step-by-step</strong> ë°©ì‹ìœ¼ë¡œìš”.</p>

<hr />

<h1 id="1-í•µì‹¬-ì•„ì´ë””ì–´-ê°„ë‹¨-ìš”ì•½">1) í•µì‹¬ ì•„ì´ë””ì–´ (ê°„ë‹¨ ìš”ì•½)</h1>

<ol>
  <li>
    <p><code class="language-plaintext highlighter-rouge">httpx.Client</code>(ë˜ëŠ” <code class="language-plaintext highlighter-rouge">httpx.AsyncClient</code>)ë¥¼ ë§Œë“¤ì–´ <code class="language-plaintext highlighter-rouge">event_hooks</code>ì— ìš”ì²­/ì‘ë‹µ í›…ì„ ë¶™ì…ë‹ˆë‹¤.</p>
  </li>
  <li>
    <p>í›…ì—ì„œ <code class="language-plaintext highlighter-rouge">request.content</code> / <code class="language-plaintext highlighter-rouge">response.content</code>ë¥¼ ì½ì–´ <code class="language-plaintext highlighter-rouge">str</code>ë¡œ ë³€í™˜í•´ì„œ ì „ì—­ ë³€ìˆ˜ë‚˜ ìº¡ì²˜ìš© ë³€ìˆ˜ì— ì €ì¥í•©ë‹ˆë‹¤.</p>
  </li>
  <li>
    <p>ë¡œê·¸ë¡œ ì¶œë ¥í•˜ê¸° ì „ ë¯¼ê° í•„ë“œ(í—¤ë”ì˜ Authorization ë“±)ì™€ ë°”ë”” ë‚´ë¶€ í‚¤(ì˜ˆ: <code class="language-plaintext highlighter-rouge">"api_key"</code>, <code class="language-plaintext highlighter-rouge">"key"</code>)ë¥¼ ë§ˆìŠ¤í‚¹í•©ë‹ˆë‹¤.</p>
  </li>
</ol>

<hr />

<h1 id="2-ë™ê¸°synchronous-ì˜ˆì œ--ë°”ë¡œ-ë³µì‚¬í•´ì„œ-ì“°ì„¸ìš”">2) ë™ê¸°(synchronous) ì˜ˆì œ â€” ë°”ë¡œ ë³µì‚¬í•´ì„œ ì“°ì„¸ìš”</h1>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">json</span>
<span class="kn">import</span> <span class="n">httpx</span>
<span class="kn">from</span> <span class="n">openai</span> <span class="kn">import</span> <span class="n">OpenAI</span>    <span class="c1"># ì„¤ì¹˜ëœ ìµœì‹  openai íŒ¨í‚¤ì§€ ì‚¬ìš©
</span>
<span class="c1"># ì €ì¥í•  ë¬¸ìì—´ ë³€ìˆ˜(ìš”ì²­/ì‘ë‹µ)
</span><span class="n">captured_request_body</span> <span class="o">=</span> <span class="bp">None</span>
<span class="n">captured_response_body</span> <span class="o">=</span> <span class="bp">None</span>

<span class="k">def</span> <span class="nf">redact_headers</span><span class="p">(</span><span class="n">headers</span><span class="p">:</span> <span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
    <span class="n">redacted</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">headers</span><span class="p">.</span><span class="nf">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">k</span><span class="p">.</span><span class="nf">lower</span><span class="p">()</span> <span class="o">==</span> <span class="sh">"</span><span class="s">authorization</span><span class="sh">"</span> <span class="ow">or</span> <span class="sh">"</span><span class="s">api-key</span><span class="sh">"</span> <span class="ow">in</span> <span class="n">k</span><span class="p">.</span><span class="nf">lower</span><span class="p">():</span>
            <span class="n">redacted</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="sh">"</span><span class="s">REDACTED</span><span class="sh">"</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">redacted</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
    <span class="k">return</span> <span class="n">redacted</span>

<span class="k">def</span> <span class="nf">redact_json_text</span><span class="p">(</span><span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="c1"># ì‹œë„: JSONì´ë©´ íŒŒì‹±í•´ì„œ íŠ¹ì • í‚¤ ë§ˆìŠ¤í‚¹
</span>    <span class="k">try</span><span class="p">:</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="nf">loads</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
        <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">sensitive</span> <span class="ow">in</span> <span class="p">(</span><span class="sh">"</span><span class="s">api_key</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">apiKey</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">key</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">authorization</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">password</span><span class="sh">"</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">sensitive</span> <span class="ow">in</span> <span class="n">obj</span><span class="p">:</span>
                    <span class="n">obj</span><span class="p">[</span><span class="n">sensitive</span><span class="p">]</span> <span class="o">=</span> <span class="sh">"</span><span class="s">REDACTED</span><span class="sh">"</span>
        <span class="k">return</span> <span class="n">json</span><span class="p">.</span><span class="nf">dumps</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
    <span class="k">except</span> <span class="nb">Exception</span><span class="p">:</span>
        <span class="c1"># JSONì´ ì•„ë‹ˆë©´ ê°„ë‹¨ ì¹˜í™˜(í—¤ë”ì²˜ëŸ¼)
</span>        <span class="c1"># ì˜ˆ: URL-encoded form/bodyì—ì„œ key=ê°’ í˜•íƒœë¥¼ ê°€ë³ê²Œ ë§ˆìŠ¤í‚¹
</span>        <span class="k">for</span> <span class="n">sensitive</span> <span class="ow">in</span> <span class="p">(</span><span class="sh">"</span><span class="s">api_key</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">apiKey</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">key</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">authorization</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">password</span><span class="sh">"</span><span class="p">):</span>
            <span class="n">text</span> <span class="o">=</span> <span class="n">text</span><span class="p">.</span><span class="nf">replace</span><span class="p">(</span><span class="n">sensitive</span> <span class="o">+</span> <span class="sh">"</span><span class="s">=</span><span class="sh">"</span><span class="p">,</span> <span class="n">sensitive</span> <span class="o">+</span> <span class="sh">"</span><span class="s">=REDACTED</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">text</span>

<span class="k">def</span> <span class="nf">request_hook</span><span class="p">(</span><span class="n">request</span><span class="p">:</span> <span class="n">httpx</span><span class="p">.</span><span class="n">Request</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">captured_request_body</span>
    <span class="c1"># í—¤ë” ë§ˆìŠ¤í‚¹
</span>    <span class="n">safe_headers</span> <span class="o">=</span> <span class="nf">redact_headers</span><span class="p">(</span><span class="nf">dict</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="n">headers</span><span class="p">))</span>
    <span class="c1"># ë°”ë”” ì½ê¸° (bytes -&gt; str)
</span>    <span class="n">body_str</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="c1"># request.contentëŠ” bytes ë˜ëŠ” None
</span>    <span class="k">if</span> <span class="n">request</span><span class="p">.</span><span class="n">content</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">body_str</span> <span class="o">=</span> <span class="n">request</span><span class="p">.</span><span class="n">content</span><span class="p">.</span><span class="nf">decode</span><span class="p">(</span><span class="sh">"</span><span class="s">utf-8</span><span class="sh">"</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="sh">"</span><span class="s">replace</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">except</span> <span class="nb">Exception</span><span class="p">:</span>
            <span class="n">body_str</span> <span class="o">=</span> <span class="nf">repr</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="n">content</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># ì¤€ë¹„ë˜ì§€ ì•Šì€ ìŠ¤íŠ¸ë¦¼(rare)ì¸ ê²½ìš°
</span>        <span class="n">body_str</span> <span class="o">=</span> <span class="sh">"</span><span class="s">&lt;no request.content available or streaming body&gt;</span><span class="sh">"</span>
    <span class="c1"># ë¯¼ê°ì •ë³´ ë§ˆìŠ¤í‚¹
</span>    <span class="n">body_str</span> <span class="o">=</span> <span class="nf">redact_json_text</span><span class="p">(</span><span class="n">body_str</span><span class="p">)</span>
    <span class="n">captured_request_body</span> <span class="o">=</span> <span class="n">body_str</span>

    <span class="c1"># (ì„ íƒ) ì½˜ì†” ì¶œë ¥
</span>    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">---- REQUEST ----</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">request</span><span class="p">.</span><span class="n">method</span><span class="si">}</span><span class="s"> </span><span class="si">{</span><span class="n">request</span><span class="p">.</span><span class="n">url</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">safe_headers</span><span class="p">.</span><span class="nf">items</span><span class="p">():</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s">: </span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">-- body --</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">body_str</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">-----------------</span><span class="sh">"</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">response_hook</span><span class="p">(</span><span class="n">response</span><span class="p">:</span> <span class="n">httpx</span><span class="p">.</span><span class="n">Response</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">captured_response_body</span>
    <span class="c1"># í—¤ë” ë§ˆìŠ¤í‚¹
</span>    <span class="n">safe_headers</span> <span class="o">=</span> <span class="nf">redact_headers</span><span class="p">(</span><span class="nf">dict</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">headers</span><span class="p">))</span>
    <span class="c1"># ì‘ë‹µ ë°”ë”” ì½ìŒ (bytes -&gt; str)
</span>    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># response.contentëŠ” ì „ì²´ ë°”ë””(ì´ë¯¸ ìˆ˜ì‹ ëœ ìƒíƒœì˜ hookì—ì„œëŠ” ì•ˆì „)
</span>        <span class="n">body_str</span> <span class="o">=</span> <span class="n">response</span><span class="p">.</span><span class="n">content</span><span class="p">.</span><span class="nf">decode</span><span class="p">(</span><span class="sh">"</span><span class="s">utf-8</span><span class="sh">"</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="sh">"</span><span class="s">replace</span><span class="sh">"</span><span class="p">)</span>
        <span class="c1"># ì‹œë„í•´ì„œ JSON ì˜ˆì˜ê²Œ
</span>        <span class="k">try</span><span class="p">:</span>
            <span class="n">parsed</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="nf">loads</span><span class="p">(</span><span class="n">body_str</span><span class="p">)</span>
            <span class="n">body_str</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="nf">dumps</span><span class="p">(</span><span class="n">parsed</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="k">except</span> <span class="nb">Exception</span><span class="p">:</span>
            <span class="k">pass</span>
    <span class="k">except</span> <span class="nb">Exception</span><span class="p">:</span>
        <span class="n">body_str</span> <span class="o">=</span> <span class="nf">repr</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">content</span><span class="p">)</span>
    <span class="n">body_str</span> <span class="o">=</span> <span class="nf">redact_json_text</span><span class="p">(</span><span class="n">body_str</span><span class="p">)</span>
    <span class="n">captured_response_body</span> <span class="o">=</span> <span class="n">body_str</span>

    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">---- RESPONSE ----</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">HTTP/</span><span class="si">{</span><span class="n">response</span><span class="p">.</span><span class="n">http_version</span><span class="si">}</span><span class="s"> </span><span class="si">{</span><span class="n">response</span><span class="p">.</span><span class="n">status_code</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">safe_headers</span><span class="p">.</span><span class="nf">items</span><span class="p">():</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s">: </span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">-- body --</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">body_str</span><span class="p">[:</span><span class="mi">4000</span><span class="p">])</span>  <span class="c1"># ë„ˆë¬´ ê¸¸ë©´ ì˜ë¼ì„œ ë³´ì´ê²Œ
</span>    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">------------------</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># ì´ë²¤íŠ¸ í›… ë“±ë¡
</span><span class="n">hooks</span> <span class="o">=</span> <span class="p">{</span>
    <span class="sh">"</span><span class="s">request</span><span class="sh">"</span><span class="p">:</span> <span class="p">[</span><span class="n">request_hook</span><span class="p">],</span>
    <span class="sh">"</span><span class="s">response</span><span class="sh">"</span><span class="p">:</span> <span class="p">[</span><span class="n">response_hook</span><span class="p">],</span>
<span class="p">}</span>
<span class="n">http_client</span> <span class="o">=</span> <span class="n">httpx</span><span class="p">.</span><span class="nc">Client</span><span class="p">(</span><span class="n">event_hooks</span><span class="o">=</span><span class="n">hooks</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mf">60.0</span><span class="p">)</span>

<span class="c1"># OpenAI í´ë¼ì´ì–¸íŠ¸ì— ì£¼ì…
</span><span class="n">client</span> <span class="o">=</span> <span class="nc">OpenAI</span><span class="p">(</span><span class="n">http_client</span><span class="o">=</span><span class="n">http_client</span><span class="p">)</span>

<span class="c1"># ì‹¤ì œ ìš”ì²­ (ì˜ˆì‹œ)
</span><span class="n">resp</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">chat</span><span class="p">.</span><span class="n">completions</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span>
    <span class="n">model</span><span class="o">=</span><span class="sh">"</span><span class="s">gpt-4o-mini</span><span class="sh">"</span><span class="p">,</span>
    <span class="n">messages</span><span class="o">=</span><span class="p">[{</span><span class="sh">"</span><span class="s">role</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">user</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">content</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">ì•ˆë…•</span><span class="sh">"</span><span class="p">}],</span>
<span class="p">)</span>

<span class="c1"># í•¨ìˆ˜ ì™¸ë¶€ì—ì„œ ë¬¸ìì—´ ì ‘ê·¼ ê°€ëŠ¥
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">Captured request body (string):</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">captured_request_body</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">Captured response body (string):</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">captured_response_body</span><span class="p">)</span>
</code></pre></div></div>

<hr />

<h1 id="3-ë¹„ë™ê¸°async-ì˜ˆì œ--asyncawait-í™˜ê²½ì—ì„œ">3) ë¹„ë™ê¸°(async) ì˜ˆì œ â€” async/await í™˜ê²½ì—ì„œ</h1>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">json</span>
<span class="kn">import</span> <span class="n">httpx</span>
<span class="kn">import</span> <span class="n">asyncio</span>
<span class="kn">from</span> <span class="n">openai</span> <span class="kn">import</span> <span class="n">OpenAI</span>

<span class="n">captured_request_body</span> <span class="o">=</span> <span class="bp">None</span>
<span class="n">captured_response_body</span> <span class="o">=</span> <span class="bp">None</span>

<span class="k">def</span> <span class="nf">redact_headers</span><span class="p">(</span><span class="n">headers</span><span class="p">:</span> <span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
    <span class="n">redacted</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">headers</span><span class="p">.</span><span class="nf">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">k</span><span class="p">.</span><span class="nf">lower</span><span class="p">()</span> <span class="o">==</span> <span class="sh">"</span><span class="s">authorization</span><span class="sh">"</span> <span class="ow">or</span> <span class="sh">"</span><span class="s">api-key</span><span class="sh">"</span> <span class="ow">in</span> <span class="n">k</span><span class="p">.</span><span class="nf">lower</span><span class="p">():</span>
            <span class="n">redacted</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="sh">"</span><span class="s">REDACTED</span><span class="sh">"</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">redacted</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
    <span class="k">return</span> <span class="n">redacted</span>

<span class="k">def</span> <span class="nf">redact_json_text</span><span class="p">(</span><span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="nf">loads</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
        <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">sensitive</span> <span class="ow">in</span> <span class="p">(</span><span class="sh">"</span><span class="s">api_key</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">apiKey</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">key</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">authorization</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">password</span><span class="sh">"</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">sensitive</span> <span class="ow">in</span> <span class="n">obj</span><span class="p">:</span>
                    <span class="n">obj</span><span class="p">[</span><span class="n">sensitive</span><span class="p">]</span> <span class="o">=</span> <span class="sh">"</span><span class="s">REDACTED</span><span class="sh">"</span>
        <span class="k">return</span> <span class="n">json</span><span class="p">.</span><span class="nf">dumps</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
    <span class="k">except</span> <span class="nb">Exception</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">sensitive</span> <span class="ow">in</span> <span class="p">(</span><span class="sh">"</span><span class="s">api_key</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">apiKey</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">key</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">authorization</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">password</span><span class="sh">"</span><span class="p">):</span>
            <span class="n">text</span> <span class="o">=</span> <span class="n">text</span><span class="p">.</span><span class="nf">replace</span><span class="p">(</span><span class="n">sensitive</span> <span class="o">+</span> <span class="sh">"</span><span class="s">=</span><span class="sh">"</span><span class="p">,</span> <span class="n">sensitive</span> <span class="o">+</span> <span class="sh">"</span><span class="s">=REDACTED</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">text</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">request_hook</span><span class="p">(</span><span class="n">request</span><span class="p">:</span> <span class="n">httpx</span><span class="p">.</span><span class="n">Request</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">captured_request_body</span>
    <span class="n">safe_headers</span> <span class="o">=</span> <span class="nf">redact_headers</span><span class="p">(</span><span class="nf">dict</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="n">headers</span><span class="p">))</span>
    <span class="n">body_str</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="k">if</span> <span class="n">request</span><span class="p">.</span><span class="n">content</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">body_str</span> <span class="o">=</span> <span class="n">request</span><span class="p">.</span><span class="n">content</span><span class="p">.</span><span class="nf">decode</span><span class="p">(</span><span class="sh">"</span><span class="s">utf-8</span><span class="sh">"</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="sh">"</span><span class="s">replace</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">except</span> <span class="nb">Exception</span><span class="p">:</span>
            <span class="n">body_str</span> <span class="o">=</span> <span class="nf">repr</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="n">content</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">body_str</span> <span class="o">=</span> <span class="sh">"</span><span class="s">&lt;no request.content available or streaming body&gt;</span><span class="sh">"</span>
    <span class="n">body_str</span> <span class="o">=</span> <span class="nf">redact_json_text</span><span class="p">(</span><span class="n">body_str</span><span class="p">)</span>
    <span class="n">captured_request_body</span> <span class="o">=</span> <span class="n">body_str</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">REQ</span><span class="sh">"</span><span class="p">,</span> <span class="n">request</span><span class="p">.</span><span class="n">method</span><span class="p">,</span> <span class="n">request</span><span class="p">.</span><span class="n">url</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">body_str</span><span class="p">)</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">response_hook</span><span class="p">(</span><span class="n">response</span><span class="p">:</span> <span class="n">httpx</span><span class="p">.</span><span class="n">Response</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">captured_response_body</span>
    <span class="n">safe_headers</span> <span class="o">=</span> <span class="nf">redact_headers</span><span class="p">(</span><span class="nf">dict</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">headers</span><span class="p">))</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">body_str</span> <span class="o">=</span> <span class="n">response</span><span class="p">.</span><span class="n">content</span><span class="p">.</span><span class="nf">decode</span><span class="p">(</span><span class="sh">"</span><span class="s">utf-8</span><span class="sh">"</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="sh">"</span><span class="s">replace</span><span class="sh">"</span><span class="p">)</span>
    <span class="k">except</span> <span class="nb">Exception</span><span class="p">:</span>
        <span class="n">body_str</span> <span class="o">=</span> <span class="nf">repr</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">content</span><span class="p">)</span>
    <span class="n">body_str</span> <span class="o">=</span> <span class="nf">redact_json_text</span><span class="p">(</span><span class="n">body_str</span><span class="p">)</span>
    <span class="n">captured_response_body</span> <span class="o">=</span> <span class="n">body_str</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">RES</span><span class="sh">"</span><span class="p">,</span> <span class="n">response</span><span class="p">.</span><span class="n">status_code</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">body_str</span><span class="p">[:</span><span class="mi">2000</span><span class="p">])</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">hooks</span> <span class="o">=</span> <span class="p">{</span><span class="sh">"</span><span class="s">request</span><span class="sh">"</span><span class="p">:</span> <span class="p">[</span><span class="n">request_hook</span><span class="p">],</span> <span class="sh">"</span><span class="s">response</span><span class="sh">"</span><span class="p">:</span> <span class="p">[</span><span class="n">response_hook</span><span class="p">]}</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">httpx</span><span class="p">.</span><span class="nc">AsyncClient</span><span class="p">(</span><span class="n">event_hooks</span><span class="o">=</span><span class="n">hooks</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mf">60.0</span><span class="p">)</span> <span class="k">as</span> <span class="n">async_http</span><span class="p">:</span>
        <span class="n">client</span> <span class="o">=</span> <span class="nc">OpenAI</span><span class="p">(</span><span class="n">http_client</span><span class="o">=</span><span class="n">async_http</span><span class="p">)</span>
        <span class="n">resp</span> <span class="o">=</span> <span class="k">await</span> <span class="n">client</span><span class="p">.</span><span class="n">chat</span><span class="p">.</span><span class="n">completions</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span>
            <span class="n">model</span><span class="o">=</span><span class="sh">"</span><span class="s">gpt-4o-mini</span><span class="sh">"</span><span class="p">,</span>
            <span class="n">messages</span><span class="o">=</span><span class="p">[{</span><span class="sh">"</span><span class="s">role</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">user</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">content</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">ì•ˆë…•</span><span class="sh">"</span><span class="p">}],</span>
        <span class="p">)</span>
        <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Done</span><span class="sh">"</span><span class="p">)</span>

<span class="n">asyncio</span><span class="p">.</span><span class="nf">run</span><span class="p">(</span><span class="nf">main</span><span class="p">())</span>
</code></pre></div></div>

<hr />

<h1 id="4-ì£¼ì˜ì‚¬í•­--íŒ-ì¤‘ìš”">4) ì£¼ì˜ì‚¬í•­ &amp; íŒ (ì¤‘ìš”)</h1>

<ul>
  <li>
    <p>ëŒ€ë¶€ë¶„ ê²½ìš° <code class="language-plaintext highlighter-rouge">request.content</code> / <code class="language-plaintext highlighter-rouge">response.content</code>ëŠ” í›…ì—ì„œ ì½ì„ ìˆ˜ ìˆê³  ë¬¸ìì—´ë¡œ ë³€í™˜ ê°€ëŠ¥í•©ë‹ˆë‹¤. ë‹¤ë§Œ <strong>íŒŒì¼ ì—…ë¡œë“œ(ë©€í‹°íŒŒíŠ¸)</strong> í˜¹ì€ <strong>ìŠ¤íŠ¸ë¦¬ë° ë°”ë””</strong> ë¼ë©´ ì²˜ë¦¬ ë°©ì‹ì´ ë‹¬ë¼ì§‘ë‹ˆë‹¤.</p>
  </li>
  <li>
    <p>ìŠ¤íŠ¸ë¦¬ë°(ì˜ˆ: chunked transfer / SSE)ìœ¼ë¡œ ë™ì‘í•˜ëŠ” ê²½ìš°: í›…ì—ì„œ ì „ì²´ ë°”ë””ê°€ ì•„ì§ ì™„ì„±ë˜ì§€ ì•Šì•˜ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŸ° ìƒí™©ì´ë©´ SDKì˜ ìŠ¤íŠ¸ë¦¬ë° API(ë˜ëŠ” httpxì˜ <code class="language-plaintext highlighter-rouge">stream()</code> ì‚¬ìš©)ë¥¼ ì§ì ‘ ê°ì‹¸ì„œ ê° ì²­í¬ë¥¼ ìº¡ì²˜í•˜ëŠ” ë¡œì§ì„ ì¶”ê°€í•´ì•¼ í•©ë‹ˆë‹¤. ì›í•˜ì‹œë©´ ìŠ¤íŠ¸ë¦¬ë° ìº¡ì²˜ ì˜ˆì œë„ ë“œë¦´ê²Œìš”.</p>
  </li>
  <li>
    <p><strong>ë¯¼ê°ì •ë³´ ë³´í˜¸</strong> : ì½˜ì†”/íŒŒì¼ì— ì§ì ‘ ë‚¨ê¸°ë©´ ì•ˆ ë©ë‹ˆë‹¤. ë¡œì»¬ ì „ìš©, ì ‘ê·¼ ì œì–´ëœ í™˜ê²½ì—ì„œë§Œ ë³´ê´€í•˜ì„¸ìš”. ì €ì¥í•´ì•¼ í•œë‹¤ë©´ ë§ˆìŠ¤í‚¹ ë˜ëŠ” ì•”í˜¸í™” ê¶Œì¥.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">event_hooks</code>ì—ì„œ ë°”ë””ë¥¼ ì½ëŠ” ê±´ ì¼ë°˜ì ìœ¼ë¡œ ì•ˆì „í•˜ì§€ë§Œ, ì¼ë¶€ ê²½ìš°(íŠ¹íˆ requestê°€ generator/streamë¡œ ë§Œë“¤ì–´ì¡Œë‹¤ë©´) ì½ìœ¼ë©´ ì›ë˜ ì „ì†¡ì„ ë§ì¹  ìˆ˜ ìˆìœ¼ë‹ˆ ì£¼ì˜í•˜ì„¸ìš”. ìœ„ ì˜ˆì œëŠ” ì¼ë°˜ JSON/í¼/ë©€í‹°íŒŒíŠ¸ ì „ì†¡ì— ì í•©í•©ë‹ˆë‹¤.</p>
  </li>
</ul>

<hr />

<h1 id="5-ì¶”ê°€-ìš”ì²­-ê°€ëŠ¥í•œ-ê²ƒë“¤-ì›í•˜ì‹œë©´-ë°”ë¡œ-ë§Œë“­ë‹ˆë‹¤">5) ì¶”ê°€ ìš”ì²­ ê°€ëŠ¥í•œ ê²ƒë“¤ (ì›í•˜ì‹œë©´ ë°”ë¡œ ë§Œë“­ë‹ˆë‹¤)</h1>

<ul>
  <li>
    <p>ìš”ì²­/ì‘ë‹µì„ <strong>íŒŒì¼ ëŒ€ì‹  ë¬¸ìì—´ ë³€ìˆ˜</strong> ì— ì•ˆì „í•˜ê²Œ ëˆ„ì (rolling buffer)í•˜ëŠ” ë²„ì „</p>
  </li>
  <li>
    <p><strong>ìŠ¤íŠ¸ë¦¬ë°(ì„œë²„-ì „ì†¡ ì´ë²¤íŠ¸)</strong> ì‘ë‹µì„ ì²­í¬ ë‹¨ìœ„ë¡œ ìº¡ì²˜í•´ì„œ ë‹¨ì¼ ë¬¸ìì—´ë¡œ í•©ì¹˜ëŠ” ì˜ˆì œ</p>
  </li>
  <li>
    <p>ë°”ë””ì—ì„œ <strong>íŠ¹ì • í‚¤ë§Œ</strong>(ì˜ˆ: <code class="language-plaintext highlighter-rouge">messages</code> or <code class="language-plaintext highlighter-rouge">prompt</code>)ë§Œ ìº¡ì²˜í•´ì„œ ì €ì¥í•˜ê³  ë‚˜ë¨¸ì§€ëŠ” ë§ˆìŠ¤í‚¹í•˜ëŠ” ì˜ˆì œ</p>
  </li>
  <li>
    <p>ë©€í‹°íŒŒíŠ¸(íŒŒì¼ ì—…ë¡œë“œ) ìš”ì²­ì˜ ê° íŒŒíŠ¸(íŒŒì¼ ë©”íƒ€/ì½˜í…ì¸ )ë¥¼ ìº¡ì²˜í•´ ë¬¸ìì—´ë¡œ ë³€í™˜í•˜ëŠ” ì˜ˆì œ</p>
  </li>
</ul>

<p>ì›í•˜ì‹œëŠ” ê±¸ ì•Œë ¤ì£¼ì‹œë©´(ì˜ˆ: ìŠ¤íŠ¸ë¦¬ë° ìº¡ì²˜, ë©€í‹°íŒŒíŠ¸ ì²˜ë¦¬, í˜¹ì€ ë°”ë¡œ ì ìš© ê°€ëŠ¥í•œ <strong>ë§ˆìŠ¤í‚¹ ê·œì¹™</strong>) ì§€ê¸ˆ ë°”ë¡œ ì½”ë“œë¡œ ë§Œë“¤ì–´ ë“œë¦´ê²Œìš”. ì–´ë–¤ ê±¸ ë¨¼ì € ë“œë¦´ê¹Œìš”?</p>

<p class="chat--user">

ì „ì—­ ë³€ìˆ˜ ë§ê³  main ì•ˆì—ì„œ ìŠ¤íŠ¸ë§ ì €ì¥í•˜ëŠ” ë°©ë°¥

</p>

<p>ì¢‹ì•„ìš” â€” <strong>ì „ì—­ ë³€ìˆ˜ ì—†ì´<code class="language-plaintext highlighter-rouge">main()</code> ì•ˆì—ì„œ ìš”ì²­/ì‘ë‹µ ë°”ë””ë¥¼ ë¬¸ìì—´ë¡œ ì €ì¥í•˜ëŠ” ë°©ë²•</strong>ì„ ë°”ë¡œ ë“œë¦´ê²Œìš”. í•µì‹¬ì€ <strong>í´ë¡œì €(or ë¡œì»¬ ê°€ë³€ ì»¨í…Œì´ë„ˆ)</strong> ë¥¼ ì‚¬ìš©í•´ í›…ì´ <code class="language-plaintext highlighter-rouge">main</code> ì•ˆì˜ ë³€ìˆ˜ì— ì ‘ê·¼í•˜ê²Œ í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ìŠ¤íŠ¸ë¦¬ë° ì˜ˆì™¸ëŠ” ë§ˆì§€ë§‰ì— ì§§ê²Œ ì–¸ê¸‰í•©ë‹ˆë‹¤.</p>

<p>ì•„ë˜ ì½”ë“œëŠ” (1) ë™ê¸°(synchronous)ì™€ (2) ë¹„ë™ê¸°(async) ë‘ ë²„ì „ ëª¨ë‘ ì œê³µí•˜ê³ , ë¯¼ê°ì •ë³´(Authorization í—¤ë”, ëª‡ëª‡ ë°”ë”” í‚¤)ë¥¼ <strong>ë§ˆìŠ¤í‚¹</strong> í•©ë‹ˆë‹¤. ê·¸ëŒ€ë¡œ ë³µì‚¬í•´ì„œ ì“°ì‹œë©´ ë©ë‹ˆë‹¤.</p>

<h1 id="1-ì›ë¦¬ìš”ì•½-step-by-step">1) ì›ë¦¬(ìš”ì•½, step-by-step)</h1>

<ol>
  <li>
    <p><code class="language-plaintext highlighter-rouge">main()</code> ì•ˆì— <code class="language-plaintext highlighter-rouge">captured = {"request": None, "response": None}</code> ê°™ì€ <strong>ê°€ë³€ dict</strong> ë¥¼ ë§Œë“ ë‹¤.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">request_hook</code> / <code class="language-plaintext highlighter-rouge">response_hook</code> í•¨ìˆ˜ëŠ” í´ë¡œì €ë¡œì„œ ê·¸ <code class="language-plaintext highlighter-rouge">captured</code>ë¥¼ ìˆ˜ì •í•œë‹¤. (<code class="language-plaintext highlighter-rouge">nonlocal</code> ë¶ˆí•„ìš” â€” dictëŠ” ê°€ë³€ì´ë¯€ë¡œ)</p>
  </li>
  <li>
    <p>í›…ì—ì„œ <code class="language-plaintext highlighter-rouge">request.content</code> / <code class="language-plaintext highlighter-rouge">response.content</code>ë¥¼ ë¬¸ìì—´ë¡œ ë³€í™˜ â†’ ë¯¼ê°ì •ë³´ ë§ˆìŠ¤í‚¹ â†’ <code class="language-plaintext highlighter-rouge">captured[...] = body_str</code> ì €ì¥.</p>
  </li>
  <li>
    <p>ìš”ì²­ì´ ëë‚œ ë’¤ <code class="language-plaintext highlighter-rouge">main()</code>ì—ì„œ <code class="language-plaintext highlighter-rouge">captured</code> ê°’ì„ ì‚¬ìš©(ë˜ëŠ” ë°˜í™˜)í•œë‹¤.</p>
  </li>
</ol>

<hr />

<h1 id="2-ë™ê¸°sync-ì˜ˆì œ">2) ë™ê¸°(sync) ì˜ˆì œ</h1>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">json</span>
<span class="kn">import</span> <span class="n">httpx</span>
<span class="kn">from</span> <span class="n">openai</span> <span class="kn">import</span> <span class="n">OpenAI</span>

<span class="k">def</span> <span class="nf">redact_headers</span><span class="p">(</span><span class="n">headers</span><span class="p">:</span> <span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
    <span class="n">out</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">headers</span><span class="p">.</span><span class="nf">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">k</span><span class="p">.</span><span class="nf">lower</span><span class="p">()</span> <span class="o">==</span> <span class="sh">"</span><span class="s">authorization</span><span class="sh">"</span> <span class="ow">or</span> <span class="sh">"</span><span class="s">api-key</span><span class="sh">"</span> <span class="ow">in</span> <span class="n">k</span><span class="p">.</span><span class="nf">lower</span><span class="p">():</span>
            <span class="n">out</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="sh">"</span><span class="s">REDACTED</span><span class="sh">"</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">out</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
    <span class="k">return</span> <span class="n">out</span>

<span class="k">def</span> <span class="nf">redact_json_text</span><span class="p">(</span><span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="nf">loads</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
        <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">sensitive</span> <span class="ow">in</span> <span class="p">(</span><span class="sh">"</span><span class="s">api_key</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">apiKey</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">key</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">authorization</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">password</span><span class="sh">"</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">sensitive</span> <span class="ow">in</span> <span class="n">obj</span><span class="p">:</span>
                    <span class="n">obj</span><span class="p">[</span><span class="n">sensitive</span><span class="p">]</span> <span class="o">=</span> <span class="sh">"</span><span class="s">REDACTED</span><span class="sh">"</span>
        <span class="k">return</span> <span class="n">json</span><span class="p">.</span><span class="nf">dumps</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
    <span class="k">except</span> <span class="nb">Exception</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">sensitive</span> <span class="ow">in</span> <span class="p">(</span><span class="sh">"</span><span class="s">api_key</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">apiKey</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">key</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">authorization</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">password</span><span class="sh">"</span><span class="p">):</span>
            <span class="n">text</span> <span class="o">=</span> <span class="n">text</span><span class="p">.</span><span class="nf">replace</span><span class="p">(</span><span class="n">sensitive</span> <span class="o">+</span> <span class="sh">"</span><span class="s">=</span><span class="sh">"</span><span class="p">,</span> <span class="n">sensitive</span> <span class="o">+</span> <span class="sh">"</span><span class="s">=REDACTED</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">text</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="c1"># 1) ë¡œì»¬ ìº¡ì²˜ ì»¨í…Œì´ë„ˆ (ì „ì—­ ì•„ë‹˜)
</span>    <span class="n">captured</span> <span class="o">=</span> <span class="p">{</span><span class="sh">"</span><span class="s">request</span><span class="sh">"</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span> <span class="sh">"</span><span class="s">response</span><span class="sh">"</span><span class="p">:</span> <span class="bp">None</span><span class="p">}</span>

    <span class="c1"># 2) í›…ë“¤ (í´ë¡œì €ë¡œ capturedì— ì ‘ê·¼)
</span>    <span class="k">def</span> <span class="nf">request_hook</span><span class="p">(</span><span class="n">request</span><span class="p">:</span> <span class="n">httpx</span><span class="p">.</span><span class="n">Request</span><span class="p">):</span>
        <span class="c1"># headers ë§ˆìŠ¤í‚¹(ì—¬ê¸°ì„œëŠ” ì €ì¥ìš©; ì‹¤ì œ ì¶œë ¥ì€ ì•ˆì „í•˜ê²Œ)
</span>        <span class="n">safe_headers</span> <span class="o">=</span> <span class="nf">redact_headers</span><span class="p">(</span><span class="nf">dict</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="n">headers</span><span class="p">))</span>
        <span class="c1"># bodyë¥¼ ë¬¸ìì—´ë¡œ ì½ê¸°
</span>        <span class="k">if</span> <span class="n">request</span><span class="p">.</span><span class="n">content</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">body_str</span> <span class="o">=</span> <span class="n">request</span><span class="p">.</span><span class="n">content</span><span class="p">.</span><span class="nf">decode</span><span class="p">(</span><span class="sh">"</span><span class="s">utf-8</span><span class="sh">"</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="sh">"</span><span class="s">replace</span><span class="sh">"</span><span class="p">)</span>
            <span class="k">except</span> <span class="nb">Exception</span><span class="p">:</span>
                <span class="n">body_str</span> <span class="o">=</span> <span class="nf">repr</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="n">content</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">body_str</span> <span class="o">=</span> <span class="sh">"</span><span class="s">&lt;no request.content available or streaming body&gt;</span><span class="sh">"</span>
        <span class="n">body_str</span> <span class="o">=</span> <span class="nf">redact_json_text</span><span class="p">(</span><span class="n">body_str</span><span class="p">)</span>
        <span class="n">captured</span><span class="p">[</span><span class="sh">"</span><span class="s">request</span><span class="sh">"</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="sh">"</span><span class="s">method</span><span class="sh">"</span><span class="p">:</span> <span class="n">request</span><span class="p">.</span><span class="n">method</span><span class="p">,</span>
            <span class="sh">"</span><span class="s">url</span><span class="sh">"</span><span class="p">:</span> <span class="nf">str</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="n">url</span><span class="p">),</span>
            <span class="sh">"</span><span class="s">headers</span><span class="sh">"</span><span class="p">:</span> <span class="n">safe_headers</span><span class="p">,</span>
            <span class="sh">"</span><span class="s">body</span><span class="sh">"</span><span class="p">:</span> <span class="n">body_str</span><span class="p">,</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">response_hook</span><span class="p">(</span><span class="n">response</span><span class="p">:</span> <span class="n">httpx</span><span class="p">.</span><span class="n">Response</span><span class="p">):</span>
        <span class="n">safe_headers</span> <span class="o">=</span> <span class="nf">redact_headers</span><span class="p">(</span><span class="nf">dict</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">headers</span><span class="p">))</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">body_str</span> <span class="o">=</span> <span class="n">response</span><span class="p">.</span><span class="n">content</span><span class="p">.</span><span class="nf">decode</span><span class="p">(</span><span class="sh">"</span><span class="s">utf-8</span><span class="sh">"</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="sh">"</span><span class="s">replace</span><span class="sh">"</span><span class="p">)</span>
            <span class="c1"># ì˜ˆì˜ê²Œ í¬ë§·(JSONì´ë©´)
</span>            <span class="k">try</span><span class="p">:</span>
                <span class="n">parsed</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="nf">loads</span><span class="p">(</span><span class="n">body_str</span><span class="p">)</span>
                <span class="n">body_str</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="nf">dumps</span><span class="p">(</span><span class="n">parsed</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
            <span class="k">except</span> <span class="nb">Exception</span><span class="p">:</span>
                <span class="k">pass</span>
        <span class="k">except</span> <span class="nb">Exception</span><span class="p">:</span>
            <span class="n">body_str</span> <span class="o">=</span> <span class="nf">repr</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">content</span><span class="p">)</span>
        <span class="n">body_str</span> <span class="o">=</span> <span class="nf">redact_json_text</span><span class="p">(</span><span class="n">body_str</span><span class="p">)</span>
        <span class="n">captured</span><span class="p">[</span><span class="sh">"</span><span class="s">response</span><span class="sh">"</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="sh">"</span><span class="s">status_code</span><span class="sh">"</span><span class="p">:</span> <span class="n">response</span><span class="p">.</span><span class="n">status_code</span><span class="p">,</span>
            <span class="sh">"</span><span class="s">headers</span><span class="sh">"</span><span class="p">:</span> <span class="n">safe_headers</span><span class="p">,</span>
            <span class="sh">"</span><span class="s">body</span><span class="sh">"</span><span class="p">:</span> <span class="n">body_str</span><span class="p">,</span>
        <span class="p">}</span>

    <span class="n">hooks</span> <span class="o">=</span> <span class="p">{</span><span class="sh">"</span><span class="s">request</span><span class="sh">"</span><span class="p">:</span> <span class="p">[</span><span class="n">request_hook</span><span class="p">],</span> <span class="sh">"</span><span class="s">response</span><span class="sh">"</span><span class="p">:</span> <span class="p">[</span><span class="n">response_hook</span><span class="p">]}</span>
    <span class="n">http_client</span> <span class="o">=</span> <span class="n">httpx</span><span class="p">.</span><span class="nc">Client</span><span class="p">(</span><span class="n">event_hooks</span><span class="o">=</span><span class="n">hooks</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mf">60.0</span><span class="p">)</span>
    <span class="n">client</span> <span class="o">=</span> <span class="nc">OpenAI</span><span class="p">(</span><span class="n">http_client</span><span class="o">=</span><span class="n">http_client</span><span class="p">)</span>

    <span class="c1"># 3) ì‹¤ì œ í˜¸ì¶œ (ë™ê¸°)
</span>    <span class="n">resp</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">chat</span><span class="p">.</span><span class="n">completions</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span>
        <span class="n">model</span><span class="o">=</span><span class="sh">"</span><span class="s">gpt-4o-mini</span><span class="sh">"</span><span class="p">,</span>
        <span class="n">messages</span><span class="o">=</span><span class="p">[{</span><span class="sh">"</span><span class="s">role</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">user</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">content</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">ì•ˆë…•í•˜ì„¸ìš”</span><span class="sh">"</span><span class="p">}],</span>
    <span class="p">)</span>

    <span class="c1"># 4) main ë‚´ë¶€ì—ì„œ ë¬¸ìì—´ë¡œ í™œìš© / ì¶œë ¥ / ë°˜í™˜ ê°€ëŠ¥
</span>    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Captured request body (string):</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">captured</span><span class="p">[</span><span class="sh">"</span><span class="s">request</span><span class="sh">"</span><span class="p">][</span><span class="sh">"</span><span class="s">body</span><span class="sh">"</span><span class="p">]</span> <span class="k">if</span> <span class="n">captured</span><span class="p">[</span><span class="sh">"</span><span class="s">request</span><span class="sh">"</span><span class="p">]</span> <span class="k">else</span> <span class="sh">"</span><span class="s">&lt;none&gt;</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">Captured response body (string):</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">captured</span><span class="p">[</span><span class="sh">"</span><span class="s">response</span><span class="sh">"</span><span class="p">][</span><span class="sh">"</span><span class="s">body</span><span class="sh">"</span><span class="p">]</span> <span class="k">if</span> <span class="n">captured</span><span class="p">[</span><span class="sh">"</span><span class="s">response</span><span class="sh">"</span><span class="p">]</span> <span class="k">else</span> <span class="sh">"</span><span class="s">&lt;none&gt;</span><span class="sh">"</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">captured</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="sh">"</span><span class="s">__main__</span><span class="sh">"</span><span class="p">:</span>
    <span class="n">captured</span> <span class="o">=</span> <span class="nf">main</span><span class="p">()</span>
</code></pre></div></div>

<hr />

<h1 id="3-ë¹„ë™ê¸°async-ì˜ˆì œ">3) ë¹„ë™ê¸°(async) ì˜ˆì œ</h1>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">json</span>
<span class="kn">import</span> <span class="n">httpx</span>
<span class="kn">import</span> <span class="n">asyncio</span>
<span class="kn">from</span> <span class="n">openai</span> <span class="kn">import</span> <span class="n">OpenAI</span>

<span class="k">def</span> <span class="nf">redact_headers</span><span class="p">(</span><span class="n">headers</span><span class="p">:</span> <span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
    <span class="n">out</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">headers</span><span class="p">.</span><span class="nf">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">k</span><span class="p">.</span><span class="nf">lower</span><span class="p">()</span> <span class="o">==</span> <span class="sh">"</span><span class="s">authorization</span><span class="sh">"</span> <span class="ow">or</span> <span class="sh">"</span><span class="s">api-key</span><span class="sh">"</span> <span class="ow">in</span> <span class="n">k</span><span class="p">.</span><span class="nf">lower</span><span class="p">():</span>
            <span class="n">out</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="sh">"</span><span class="s">REDACTED</span><span class="sh">"</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">out</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
    <span class="k">return</span> <span class="n">out</span>

<span class="k">def</span> <span class="nf">redact_json_text</span><span class="p">(</span><span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="nf">loads</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
        <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">sensitive</span> <span class="ow">in</span> <span class="p">(</span><span class="sh">"</span><span class="s">api_key</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">apiKey</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">key</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">authorization</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">password</span><span class="sh">"</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">sensitive</span> <span class="ow">in</span> <span class="n">obj</span><span class="p">:</span>
                    <span class="n">obj</span><span class="p">[</span><span class="n">sensitive</span><span class="p">]</span> <span class="o">=</span> <span class="sh">"</span><span class="s">REDACTED</span><span class="sh">"</span>
        <span class="k">return</span> <span class="n">json</span><span class="p">.</span><span class="nf">dumps</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
    <span class="k">except</span> <span class="nb">Exception</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">sensitive</span> <span class="ow">in</span> <span class="p">(</span><span class="sh">"</span><span class="s">api_key</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">apiKey</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">key</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">authorization</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">password</span><span class="sh">"</span><span class="p">):</span>
            <span class="n">text</span> <span class="o">=</span> <span class="n">text</span><span class="p">.</span><span class="nf">replace</span><span class="p">(</span><span class="n">sensitive</span> <span class="o">+</span> <span class="sh">"</span><span class="s">=</span><span class="sh">"</span><span class="p">,</span> <span class="n">sensitive</span> <span class="o">+</span> <span class="sh">"</span><span class="s">=REDACTED</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">text</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">captured</span> <span class="o">=</span> <span class="p">{</span><span class="sh">"</span><span class="s">request</span><span class="sh">"</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span> <span class="sh">"</span><span class="s">response</span><span class="sh">"</span><span class="p">:</span> <span class="bp">None</span><span class="p">}</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">request_hook</span><span class="p">(</span><span class="n">request</span><span class="p">:</span> <span class="n">httpx</span><span class="p">.</span><span class="n">Request</span><span class="p">):</span>
        <span class="n">safe_headers</span> <span class="o">=</span> <span class="nf">redact_headers</span><span class="p">(</span><span class="nf">dict</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="n">headers</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">request</span><span class="p">.</span><span class="n">content</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">body_str</span> <span class="o">=</span> <span class="n">request</span><span class="p">.</span><span class="n">content</span><span class="p">.</span><span class="nf">decode</span><span class="p">(</span><span class="sh">"</span><span class="s">utf-8</span><span class="sh">"</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="sh">"</span><span class="s">replace</span><span class="sh">"</span><span class="p">)</span>
            <span class="k">except</span> <span class="nb">Exception</span><span class="p">:</span>
                <span class="n">body_str</span> <span class="o">=</span> <span class="nf">repr</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="n">content</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">body_str</span> <span class="o">=</span> <span class="sh">"</span><span class="s">&lt;no request.content available or streaming body&gt;</span><span class="sh">"</span>
        <span class="n">body_str</span> <span class="o">=</span> <span class="nf">redact_json_text</span><span class="p">(</span><span class="n">body_str</span><span class="p">)</span>
        <span class="n">captured</span><span class="p">[</span><span class="sh">"</span><span class="s">request</span><span class="sh">"</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="sh">"</span><span class="s">method</span><span class="sh">"</span><span class="p">:</span> <span class="n">request</span><span class="p">.</span><span class="n">method</span><span class="p">,</span>
            <span class="sh">"</span><span class="s">url</span><span class="sh">"</span><span class="p">:</span> <span class="nf">str</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="n">url</span><span class="p">),</span>
            <span class="sh">"</span><span class="s">headers</span><span class="sh">"</span><span class="p">:</span> <span class="n">safe_headers</span><span class="p">,</span>
            <span class="sh">"</span><span class="s">body</span><span class="sh">"</span><span class="p">:</span> <span class="n">body_str</span><span class="p">,</span>
        <span class="p">}</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">response_hook</span><span class="p">(</span><span class="n">response</span><span class="p">:</span> <span class="n">httpx</span><span class="p">.</span><span class="n">Response</span><span class="p">):</span>
        <span class="n">safe_headers</span> <span class="o">=</span> <span class="nf">redact_headers</span><span class="p">(</span><span class="nf">dict</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">headers</span><span class="p">))</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">body_str</span> <span class="o">=</span> <span class="n">response</span><span class="p">.</span><span class="n">content</span><span class="p">.</span><span class="nf">decode</span><span class="p">(</span><span class="sh">"</span><span class="s">utf-8</span><span class="sh">"</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="sh">"</span><span class="s">replace</span><span class="sh">"</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">parsed</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="nf">loads</span><span class="p">(</span><span class="n">body_str</span><span class="p">)</span>
                <span class="n">body_str</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="nf">dumps</span><span class="p">(</span><span class="n">parsed</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
            <span class="k">except</span> <span class="nb">Exception</span><span class="p">:</span>
                <span class="k">pass</span>
        <span class="k">except</span> <span class="nb">Exception</span><span class="p">:</span>
            <span class="n">body_str</span> <span class="o">=</span> <span class="nf">repr</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">content</span><span class="p">)</span>
        <span class="n">body_str</span> <span class="o">=</span> <span class="nf">redact_json_text</span><span class="p">(</span><span class="n">body_str</span><span class="p">)</span>
        <span class="n">captured</span><span class="p">[</span><span class="sh">"</span><span class="s">response</span><span class="sh">"</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="sh">"</span><span class="s">status_code</span><span class="sh">"</span><span class="p">:</span> <span class="n">response</span><span class="p">.</span><span class="n">status_code</span><span class="p">,</span>
            <span class="sh">"</span><span class="s">headers</span><span class="sh">"</span><span class="p">:</span> <span class="n">safe_headers</span><span class="p">,</span>
            <span class="sh">"</span><span class="s">body</span><span class="sh">"</span><span class="p">:</span> <span class="n">body_str</span><span class="p">,</span>
        <span class="p">}</span>

    <span class="n">hooks</span> <span class="o">=</span> <span class="p">{</span><span class="sh">"</span><span class="s">request</span><span class="sh">"</span><span class="p">:</span> <span class="p">[</span><span class="n">request_hook</span><span class="p">],</span> <span class="sh">"</span><span class="s">response</span><span class="sh">"</span><span class="p">:</span> <span class="p">[</span><span class="n">response_hook</span><span class="p">]}</span>

    <span class="k">async</span> <span class="k">with</span> <span class="n">httpx</span><span class="p">.</span><span class="nc">AsyncClient</span><span class="p">(</span><span class="n">event_hooks</span><span class="o">=</span><span class="n">hooks</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mf">60.0</span><span class="p">)</span> <span class="k">as</span> <span class="n">async_http</span><span class="p">:</span>
        <span class="n">client</span> <span class="o">=</span> <span class="nc">OpenAI</span><span class="p">(</span><span class="n">http_client</span><span class="o">=</span><span class="n">async_http</span><span class="p">)</span>
        <span class="k">await</span> <span class="n">client</span><span class="p">.</span><span class="n">chat</span><span class="p">.</span><span class="n">completions</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span>
            <span class="n">model</span><span class="o">=</span><span class="sh">"</span><span class="s">gpt-4o-mini</span><span class="sh">"</span><span class="p">,</span>
            <span class="n">messages</span><span class="o">=</span><span class="p">[{</span><span class="sh">"</span><span class="s">role</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">user</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">content</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">ì•ˆë…•í•˜ì„¸ìš” (async)</span><span class="sh">"</span><span class="p">}],</span>
        <span class="p">)</span>

    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Captured request (local):</span><span class="sh">"</span><span class="p">,</span> <span class="n">captured</span><span class="p">[</span><span class="sh">"</span><span class="s">request</span><span class="sh">"</span><span class="p">][</span><span class="sh">"</span><span class="s">body</span><span class="sh">"</span><span class="p">]</span> <span class="k">if</span> <span class="n">captured</span><span class="p">[</span><span class="sh">"</span><span class="s">request</span><span class="sh">"</span><span class="p">]</span> <span class="k">else</span> <span class="sh">"</span><span class="s">&lt;none&gt;</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Captured response (local):</span><span class="sh">"</span><span class="p">,</span> <span class="n">captured</span><span class="p">[</span><span class="sh">"</span><span class="s">response</span><span class="sh">"</span><span class="p">][</span><span class="sh">"</span><span class="s">body</span><span class="sh">"</span><span class="p">]</span> <span class="k">if</span> <span class="n">captured</span><span class="p">[</span><span class="sh">"</span><span class="s">response</span><span class="sh">"</span><span class="p">]</span> <span class="k">else</span> <span class="sh">"</span><span class="s">&lt;none&gt;</span><span class="sh">"</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">captured</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="sh">"</span><span class="s">__main__</span><span class="sh">"</span><span class="p">:</span>
    <span class="n">asyncio</span><span class="p">.</span><span class="nf">run</span><span class="p">(</span><span class="nf">main</span><span class="p">())</span>
</code></pre></div></div>

<hr />

<h1 id="4-ì£¼ì˜ì‚¬í•­ì¤‘ìš”">4) ì£¼ì˜ì‚¬í•­(ì¤‘ìš”)</h1>

<ul>
  <li>
    <p><strong>ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µ</strong>(SSE/ì²­í¬) ë˜ëŠ” <strong>íŒŒì¼ ì—…ë¡œë“œ(ë©€í‹°íŒŒíŠ¸)</strong> ì˜ ê²½ìš° <code class="language-plaintext highlighter-rouge">request.content</code> / <code class="language-plaintext highlighter-rouge">response.content</code>ê°€ í›…ì—ì„œ ë°”ë¡œ ì „ì²´ë¡œ ì½íˆì§€ ì•Šê±°ë‚˜, ì½ìœ¼ë©´ ìŠ¤íŠ¸ë¦¼ì´ ì†Œëª¨ë˜ì–´ ì „ì†¡ì— ì˜í–¥ì´ ìƒê¸¸ ìˆ˜ ìˆìŒ. ê·¸ëŸ° ê²½ìš°ëŠ” <strong>ë³„ë„ ìŠ¤íŠ¸ë¦¬ë° í›…</strong>(ì²­í¬ë§ˆë‹¤ append)ì´ë‚˜ httpxì˜ <code class="language-plaintext highlighter-rouge">stream()</code> ì‚¬ìš© ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬í•´ì•¼ í•©ë‹ˆë‹¤. í•„ìš”í•˜ì‹œë©´ ìŠ¤íŠ¸ë¦¬ë° ë²„ì „ë„ ë°”ë¡œ ì œê³µí• ê²Œìš”.</p>
  </li>
  <li>
    <p>í›…ì—ì„œ ë°”ë””ë¥¼ ì½ëŠ” í–‰ìœ„ê°€ ì¼ë¶€ ì „ì†¡ íŒŒì´í”„ë¼ì¸ì„ ë°”ê¿€ ìˆ˜ ìˆìœ¼ë‹ˆ(íŠ¹íˆ generator/íŒŒì¼ ìŠ¤íŠ¸ë¦¼ ì „ì†¡) ì•ˆì „í•œ í™˜ê²½ì—ì„œ ë¨¼ì € í…ŒìŠ¤íŠ¸í•˜ì„¸ìš”.</p>
  </li>
  <li>
    <p>ë¡œê·¸/íŒŒì¼ì— ì €ì¥í•˜ë©´ API í‚¤ë‚˜ ë¯¼ê°í•œ ì‚¬ìš©ì ì…ë ¥ì´ ìœ ì¶œë  ìˆ˜ ìˆìœ¼ë‹ˆ <strong>ë¡œì»¬ ì „ìš© ë˜ëŠ” ì ‘ê·¼ ì œí•œ í™˜ê²½</strong> ì—ì„œë§Œ ì €ì¥í•˜ì„¸ìš”.</p>
  </li>
</ul>

<hr />

<p>ì›í•˜ì‹œë©´:</p>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">messages</code> í•„ë“œ(í”„ë¡¬í”„íŠ¸)ë§Œ ìº¡ì²˜í•˜ê³  ë‚˜ë¨¸ì§€ëŠ” ì™„ì „ ë§ˆìŠ¤í‚¹í•˜ëŠ” ë²„ì „</p>
  </li>
  <li>
    <p><strong>ì²­í¬ ìŠ¤íŠ¸ë¦¬ë°</strong>(streaming response)ì„ ë¡œì»¬ ë¬¸ìì—´ë¡œ í•©ì¹˜ëŠ” ì˜ˆì œ</p>
  </li>
  <li>
    <p>ë©€í‹°íŒŒíŠ¸(íŒŒì¼ ì—…ë¡œë“œ)ì—ì„œ ê° íŒŒíŠ¸ ë³„ë¡œ ë¬¸ìì—´ë¡œ ì €ì¥í•˜ëŠ” ì˜ˆì œ</p>
  </li>
</ul>

<p>ì´ ì¤‘ ì–´ë–¤ ê±¸ ë¨¼ì € ë“œë¦´ê¹Œìš”?</p>

<p class="chat--user">

response.aread()ë¥¼ í•´ì•¼ ì½ì„ ìˆ˜ ìˆëŠ”ê±° ì•„ë‹ˆì•¼?

</p>

<p>ì¢‹ì€ ì§€ì ì…ë‹ˆë‹¤ â€” ìƒí™©ì— ë”°ë¼ <strong><code class="language-plaintext highlighter-rouge">response.aread()</code>ë¥¼ <code class="language-plaintext highlighter-rouge">await</code>í•´ì•¼ë§Œ ë°”ë””ë¥¼ ì½ì„ ìˆ˜ ìˆëŠ” ê²½ìš°</strong>ê°€ ë§ìŠµë‹ˆë‹¤. ìš”ì ë§Œ ë¨¼ì € ì •ë¦¬í•˜ê³ , ë°”ë¡œ ì“¸ ìˆ˜ ìˆëŠ” ì½”ë“œ ì˜ˆì œ(ë¹„ë™ê¸° í›…ì—ì„œ <code class="language-plaintext highlighter-rouge">await response.aread()</code> ì‚¬ìš©)ë¥¼ ë³´ì—¬ë“œë¦´ê²Œìš”.</p>

<h1 id="í•µì‹¬-ìš”ì•½">í•µì‹¬ ìš”ì•½</h1>

<ol>
  <li>
    <p><strong>ë™ê¸°(httpx.Client)</strong> : í›…ì—ì„œ <code class="language-plaintext highlighter-rouge">response.content</code>ë¥¼ ì½ìœ¼ë©´ ë‚´ë¶€ì—ì„œ ë‚´ìš©ì„ ê°€ì ¸ì™€ ìºì‹œí•˜ë¯€ë¡œ ë°”ë¡œ ì½ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
  </li>
  <li>
    <p><strong>ë¹„ë™ê¸°(httpx.AsyncClient)</strong> : í›…ì´ <code class="language-plaintext highlighter-rouge">async def</code>ì´ë©´ <code class="language-plaintext highlighter-rouge">await response.aread()</code>ë¡œ ë°”ë””(ë°”ì´íŠ¸)ë¥¼ ê°€ì ¸ì™€ì•¼ ì•ˆì „í•©ë‹ˆë‹¤. (<code class="language-plaintext highlighter-rouge">response.content</code>ëŠ” ë™ê¸° ì†ì„±ì´ë¼ async ì»¨í…ìŠ¤íŠ¸ì—ì„  ê¶Œì¥ë˜ì§€ ì•ŠìŒ.)</p>
  </li>
  <li>
    <p><strong>ì£¼ì˜ â€” ìŠ¤íŠ¸ë¦¬ë°(SSE / chunked / streaming API)</strong> : <code class="language-plaintext highlighter-rouge">aread()</code>ëŠ” <strong>ì „ì²´ ë°”ë””ë¥¼ í•œ ë²ˆì—</strong> ì½ìŠµë‹ˆë‹¤. ë§Œì•½ ì‘ë‹µì´ ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¬ë°(ì˜ˆ: ì„œë²„-ì „ì†¡-ì´ë²¤íŠ¸)ì´ë¼ë©´ <code class="language-plaintext highlighter-rouge">aread()</code>ë¡œ ì „ì²´ë¥¼ ì½ì–´ë²„ë¦¬ë©´ ìŠ¤íŠ¸ë¦¬ë° ì²˜ë¦¬ë¥¼ ë§ì¹  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìŠ¤íŠ¸ë¦¬ë°ì€ <code class="language-plaintext highlighter-rouge">response.aiter_bytes()</code> / <code class="language-plaintext highlighter-rouge">response.aiter_text()</code>ë¡œ ì²­í¬ ë‹¨ìœ„ë¡œ ì²˜ë¦¬í•˜ì„¸ìš”.</p>
  </li>
  <li>
    <p>httpxëŠ” í•œ ë²ˆ ì½ì€ ë°”ë””ë¥¼ ìºì‹œí•˜ë¯€ë¡œ <code class="language-plaintext highlighter-rouge">aread()</code>ë¡œ ì½ì€ ë’¤ì—ë„ <code class="language-plaintext highlighter-rouge">response.content</code>/<code class="language-plaintext highlighter-rouge">response.text</code>ë¡œ ì ‘ê·¼í•´ë„ ë©ë‹ˆë‹¤(ëŒ€ë¶€ë¶„ì˜ ê²½ìš°).</p>
  </li>
</ol>

<hr />

<h1 id="ë°”ë¡œ-ì“¸-ìˆ˜-ìˆëŠ”-ë¹„ë™ê¸°-í›…-ì˜ˆì œ-await-responsearead-ì‚¬ìš©">ë°”ë¡œ ì“¸ ìˆ˜ ìˆëŠ” ë¹„ë™ê¸° í›… ì˜ˆì œ (<code class="language-plaintext highlighter-rouge">await response.aread()</code> ì‚¬ìš©)</h1>

<p>ì•„ë˜ëŠ” ì´ì „ ì˜ˆì œì˜ <code class="language-plaintext highlighter-rouge">response_hook</code>ë¥¼ <code class="language-plaintext highlighter-rouge">await response.aread()</code> ë¡œ ì•ˆì „í•˜ê²Œ ë°”ê¾¼ ì½”ë“œì…ë‹ˆë‹¤.</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">json</span>
<span class="kn">import</span> <span class="n">httpx</span>
<span class="kn">import</span> <span class="n">asyncio</span>
<span class="kn">from</span> <span class="n">openai</span> <span class="kn">import</span> <span class="n">OpenAI</span>

<span class="k">def</span> <span class="nf">redact_headers</span><span class="p">(</span><span class="n">headers</span><span class="p">:</span> <span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
    <span class="n">out</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">headers</span><span class="p">.</span><span class="nf">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">k</span><span class="p">.</span><span class="nf">lower</span><span class="p">()</span> <span class="o">==</span> <span class="sh">"</span><span class="s">authorization</span><span class="sh">"</span> <span class="ow">or</span> <span class="sh">"</span><span class="s">api-key</span><span class="sh">"</span> <span class="ow">in</span> <span class="n">k</span><span class="p">.</span><span class="nf">lower</span><span class="p">():</span>
            <span class="n">out</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="sh">"</span><span class="s">REDACTED</span><span class="sh">"</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">out</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
    <span class="k">return</span> <span class="n">out</span>

<span class="k">def</span> <span class="nf">redact_text</span><span class="p">(</span><span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="c1"># ê°„ë‹¨ ë§ˆìŠ¤í‚¹ ì˜ˆì‹œ
</span>    <span class="k">for</span> <span class="n">sensitive</span> <span class="ow">in</span> <span class="p">(</span><span class="sh">"</span><span class="s">api_key</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">apiKey</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">key</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">authorization</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">password</span><span class="sh">"</span><span class="p">):</span>
        <span class="n">text</span> <span class="o">=</span> <span class="n">text</span><span class="p">.</span><span class="nf">replace</span><span class="p">(</span><span class="n">sensitive</span> <span class="o">+</span> <span class="sh">"</span><span class="s">=</span><span class="sh">"</span><span class="p">,</span> <span class="n">sensitive</span> <span class="o">+</span> <span class="sh">"</span><span class="s">=REDACTED</span><span class="sh">"</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="nf">loads</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
        <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="p">(</span><span class="sh">"</span><span class="s">api_key</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">apiKey</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">key</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">authorization</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">password</span><span class="sh">"</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">obj</span><span class="p">:</span>
                    <span class="n">obj</span><span class="p">[</span><span class="n">s</span><span class="p">]</span> <span class="o">=</span> <span class="sh">"</span><span class="s">REDACTED</span><span class="sh">"</span>
            <span class="k">return</span> <span class="n">json</span><span class="p">.</span><span class="nf">dumps</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
    <span class="k">except</span> <span class="nb">Exception</span><span class="p">:</span>
        <span class="k">pass</span>
    <span class="k">return</span> <span class="n">text</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">captured</span> <span class="o">=</span> <span class="p">{</span><span class="sh">"</span><span class="s">request</span><span class="sh">"</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span> <span class="sh">"</span><span class="s">response</span><span class="sh">"</span><span class="p">:</span> <span class="bp">None</span><span class="p">}</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">request_hook</span><span class="p">(</span><span class="n">request</span><span class="p">:</span> <span class="n">httpx</span><span class="p">.</span><span class="n">Request</span><span class="p">):</span>
        <span class="c1"># request.contentëŠ” ì´ë¯¸ bytesì¼ ê°€ëŠ¥ì„± ë†’ìŒ
</span>        <span class="k">if</span> <span class="n">request</span><span class="p">.</span><span class="n">content</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">body_str</span> <span class="o">=</span> <span class="n">request</span><span class="p">.</span><span class="n">content</span><span class="p">.</span><span class="nf">decode</span><span class="p">(</span><span class="sh">"</span><span class="s">utf-8</span><span class="sh">"</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="sh">"</span><span class="s">replace</span><span class="sh">"</span><span class="p">)</span>
            <span class="k">except</span> <span class="nb">Exception</span><span class="p">:</span>
                <span class="n">body_str</span> <span class="o">=</span> <span class="nf">repr</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="n">content</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">body_str</span> <span class="o">=</span> <span class="sh">"</span><span class="s">&lt;no request.content available or streaming body&gt;</span><span class="sh">"</span>
        <span class="n">captured</span><span class="p">[</span><span class="sh">"</span><span class="s">request</span><span class="sh">"</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="sh">"</span><span class="s">method</span><span class="sh">"</span><span class="p">:</span> <span class="n">request</span><span class="p">.</span><span class="n">method</span><span class="p">,</span>
            <span class="sh">"</span><span class="s">url</span><span class="sh">"</span><span class="p">:</span> <span class="nf">str</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="n">url</span><span class="p">),</span>
            <span class="sh">"</span><span class="s">headers</span><span class="sh">"</span><span class="p">:</span> <span class="nf">redact_headers</span><span class="p">(</span><span class="nf">dict</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="n">headers</span><span class="p">)),</span>
            <span class="sh">"</span><span class="s">body</span><span class="sh">"</span><span class="p">:</span> <span class="nf">redact_text</span><span class="p">(</span><span class="n">body_str</span><span class="p">),</span>
        <span class="p">}</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">response_hook</span><span class="p">(</span><span class="n">response</span><span class="p">:</span> <span class="n">httpx</span><span class="p">.</span><span class="n">Response</span><span class="p">):</span>
        <span class="c1"># ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µì¸ì§€ ê°„ë‹¨ ì²´í¬ (Content-Type ë˜ëŠ” Transfer-Encoding ì°¸ê³ )
</span>        <span class="n">ct</span> <span class="o">=</span> <span class="n">response</span><span class="p">.</span><span class="n">headers</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">content-type</span><span class="sh">"</span><span class="p">,</span> <span class="sh">""</span><span class="p">)</span>
        <span class="n">te</span> <span class="o">=</span> <span class="n">response</span><span class="p">.</span><span class="n">headers</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">transfer-encoding</span><span class="sh">"</span><span class="p">,</span> <span class="sh">""</span><span class="p">)</span>
        <span class="n">is_streaming</span> <span class="o">=</span> <span class="p">(</span><span class="sh">"</span><span class="s">text/event-stream</span><span class="sh">"</span> <span class="ow">in</span> <span class="n">ct</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="sh">"</span><span class="s">chunked</span><span class="sh">"</span> <span class="ow">in</span> <span class="n">te</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">is_streaming</span><span class="p">:</span>
            <span class="c1"># ìŠ¤íŠ¸ë¦¬ë°ì€ ì „ì²´ aread() í•˜ì§€ ì•Šê³  ì²­í¬ ë‹¨ìœ„ë¡œ ì²˜ë¦¬í•´ì•¼ í•¨
</span>            <span class="n">chunks</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">async</span> <span class="k">for</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="n">response</span><span class="p">.</span><span class="nf">aiter_bytes</span><span class="p">():</span>
                <span class="n">chunks</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">chunk</span><span class="p">)</span>
            <span class="n">body_bytes</span> <span class="o">=</span> <span class="sa">b</span><span class="sh">""</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="n">chunks</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># ì¼ë°˜ì ì¸ ë¹„ë™ê¸° ì‘ë‹µ: ì „ì²´ ë°”ë””ë¥¼ ì•ˆì „í•˜ê²Œ ì½ìŒ
</span>            <span class="n">body_bytes</span> <span class="o">=</span> <span class="k">await</span> <span class="n">response</span><span class="p">.</span><span class="nf">aread</span><span class="p">()</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">body_str</span> <span class="o">=</span> <span class="n">body_bytes</span><span class="p">.</span><span class="nf">decode</span><span class="p">(</span><span class="sh">"</span><span class="s">utf-8</span><span class="sh">"</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="sh">"</span><span class="s">replace</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">except</span> <span class="nb">Exception</span><span class="p">:</span>
            <span class="n">body_str</span> <span class="o">=</span> <span class="nf">repr</span><span class="p">(</span><span class="n">body_bytes</span><span class="p">)</span>

        <span class="c1"># ì˜ˆì˜ê²Œ JSON í¬ë§· ì‹œë„
</span>        <span class="k">try</span><span class="p">:</span>
            <span class="n">parsed</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="nf">loads</span><span class="p">(</span><span class="n">body_str</span><span class="p">)</span>
            <span class="n">body_str</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="nf">dumps</span><span class="p">(</span><span class="n">parsed</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="k">except</span> <span class="nb">Exception</span><span class="p">:</span>
            <span class="k">pass</span>

        <span class="n">captured</span><span class="p">[</span><span class="sh">"</span><span class="s">response</span><span class="sh">"</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="sh">"</span><span class="s">status_code</span><span class="sh">"</span><span class="p">:</span> <span class="n">response</span><span class="p">.</span><span class="n">status_code</span><span class="p">,</span>
            <span class="sh">"</span><span class="s">headers</span><span class="sh">"</span><span class="p">:</span> <span class="nf">redact_headers</span><span class="p">(</span><span class="nf">dict</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">headers</span><span class="p">)),</span>
            <span class="sh">"</span><span class="s">body</span><span class="sh">"</span><span class="p">:</span> <span class="nf">redact_text</span><span class="p">(</span><span class="n">body_str</span><span class="p">),</span>
        <span class="p">}</span>

    <span class="n">hooks</span> <span class="o">=</span> <span class="p">{</span><span class="sh">"</span><span class="s">request</span><span class="sh">"</span><span class="p">:</span> <span class="p">[</span><span class="n">request_hook</span><span class="p">],</span> <span class="sh">"</span><span class="s">response</span><span class="sh">"</span><span class="p">:</span> <span class="p">[</span><span class="n">response_hook</span><span class="p">]}</span>

    <span class="k">async</span> <span class="k">with</span> <span class="n">httpx</span><span class="p">.</span><span class="nc">AsyncClient</span><span class="p">(</span><span class="n">event_hooks</span><span class="o">=</span><span class="n">hooks</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mf">60.0</span><span class="p">)</span> <span class="k">as</span> <span class="n">async_http</span><span class="p">:</span>
        <span class="n">client</span> <span class="o">=</span> <span class="nc">OpenAI</span><span class="p">(</span><span class="n">http_client</span><span class="o">=</span><span class="n">async_http</span><span class="p">)</span>
        <span class="c1"># OpenAI í˜¸ì¶œ(ë¹„ë™ê¸°)
</span>        <span class="k">await</span> <span class="n">client</span><span class="p">.</span><span class="n">chat</span><span class="p">.</span><span class="n">completions</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span>
            <span class="n">model</span><span class="o">=</span><span class="sh">"</span><span class="s">gpt-4o-mini</span><span class="sh">"</span><span class="p">,</span>
            <span class="n">messages</span><span class="o">=</span><span class="p">[{</span><span class="sh">"</span><span class="s">role</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">user</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">content</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">ì•ˆë…•í•˜ì„¸ìš” (async aread ì˜ˆì œ)</span><span class="sh">"</span><span class="p">}],</span>
        <span class="p">)</span>

    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Captured request:</span><span class="sh">"</span><span class="p">,</span> <span class="n">captured</span><span class="p">[</span><span class="sh">"</span><span class="s">request</span><span class="sh">"</span><span class="p">][</span><span class="sh">"</span><span class="s">body</span><span class="sh">"</span><span class="p">])</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Captured response:</span><span class="sh">"</span><span class="p">,</span> <span class="n">captured</span><span class="p">[</span><span class="sh">"</span><span class="s">response</span><span class="sh">"</span><span class="p">][</span><span class="sh">"</span><span class="s">body</span><span class="sh">"</span><span class="p">][:</span><span class="mi">2000</span><span class="p">]</span> <span class="k">if</span> <span class="n">captured</span><span class="p">[</span><span class="sh">"</span><span class="s">response</span><span class="sh">"</span><span class="p">]</span> <span class="k">else</span> <span class="sh">"</span><span class="s">&lt;none&gt;</span><span class="sh">"</span><span class="p">)</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="sh">"</span><span class="s">__main__</span><span class="sh">"</span><span class="p">:</span>
    <span class="n">asyncio</span><span class="p">.</span><span class="nf">run</span><span class="p">(</span><span class="nf">main</span><span class="p">())</span>
</code></pre></div></div>

<hr />

<h1 id="ì¶”ê°€-íŒ--ì£¼ì˜">ì¶”ê°€ íŒ / ì£¼ì˜</h1>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">await response.aread()</code>ëŠ” <strong>ì‘ë‹µì´ ì´ë¯¸ ì–´ëŠ ì •ë„ ì½í˜€ìˆì§€ ì•Šë‹¤ë©´ ì „ì²´ ë°”ë””ë¥¼ í•œ ë²ˆì—</strong> ì½ì–´ ìºì‹œí•©ë‹ˆë‹¤. ëŒ€ë¶€ë¶„ì˜ REST í˜¸ì¶œ(ì „ì²´ ë°”ë””ê°€ ì‘ìŒ)ì—ëŠ” ì´ ë°©ë²•ì´ í¸í•˜ê³  ì•ˆì „í•©ë‹ˆë‹¤.</p>
  </li>
  <li>
    <p><strong>ìŠ¤íŠ¸ë¦¬ë° API</strong>(SSE, OpenAIì˜ ì¼ë¶€ ìŠ¤íŠ¸ë¦¬ë° ì¸í„°í˜ì´ìŠ¤ ë“±)ëŠ” <code class="language-plaintext highlighter-rouge">aread()</code>ë¡œ ì½ì–´ë²„ë¦¬ë©´ ìŠ¤íŠ¸ë¦¼ ì†Œë¹„ë¡œ ì¸í•´ ì›ë˜ ì˜ë„í•œ ìŠ¤íŠ¸ë¦¬ë° ì²˜ë¦¬(ì‹¤ì‹œê°„ ì²­í¬ ìˆ˜ì‹ )ê°€ ë¶ˆê°€ëŠ¥í•´ì§‘ë‹ˆë‹¤. ê·¸ëŸ´ ë• <code class="language-plaintext highlighter-rouge">aiter_bytes()</code>/<code class="language-plaintext highlighter-rouge">aiter_text()</code>ë¡œ ì²­í¬ë¥¼ ìˆœíšŒí•˜ê±°ë‚˜ SDKê°€ ì œê³µí•˜ëŠ” ìŠ¤íŠ¸ë¦¬ë° ì½œë°±ì„ ì‚¬ìš©í•˜ì„¸ìš”.</p>
  </li>
  <li>
    <p>httpxëŠ” ë°”ë””ë¥¼ ì½ì–´ ìºì‹œì— ë³´ê´€í•˜ë‹ˆ, í›…ì—ì„œ <code class="language-plaintext highlighter-rouge">aread()</code>ë¡œ ì½ì–´ë„ ì´í›„ì— <code class="language-plaintext highlighter-rouge">response.text</code>/<code class="language-plaintext highlighter-rouge">response.json()</code>ë¡œ ì ‘ê·¼ ê°€ëŠ¥í•˜ê¸´ í•©ë‹ˆë‹¤(ì¼ë°˜ì  ë™ì‘).</p>
  </li>
</ul>

<hr />

<p>ì›í•˜ì‹œë©´ ì§€ê¸ˆ ë°”ë¡œ:</p>

<ul>
  <li>
    <p><strong>ìŠ¤íŠ¸ë¦¬ë°(ì„œë²„-ì „ì†¡-ì´ë²¤íŠ¸)</strong> ë¥¼ ì²­í¬ ë‹¨ìœ„ë¡œ ì•ˆì „í•˜ê²Œ ìº¡ì²˜í•´ <code class="language-plaintext highlighter-rouge">main()</code> ì•ˆì˜ ë¬¸ìì—´ë¡œ í•©ì¹˜ëŠ” ì˜ˆì œ,</p>
  </li>
  <li>
    <p>í˜¹ì€ <strong>OpenAI SDKì˜ ìŠ¤íŠ¸ë¦¬ë°(ì˜ˆ:<code class="language-plaintext highlighter-rouge">stream=True</code>)</strong> ì— íŠ¹í™”ëœ ìº¡ì²˜ ì½”ë“œ(ì²­í¬ë§ˆë‹¤ ì²˜ë¦¬í•´ì„œ ë‹¨ì¼ ë¬¸ìì—´ë¡œ ê²°í•©)ë„ ë§Œë“¤ì–´ ë“œë¦´ê²Œìš”. ì–´ë–¤ ê±¸ ì›í•˜ì‹œë‚˜ìš”?</p>
  </li>
</ul>

<p class="chat--user">

1. requestìª½ í•œê¸€ì´ ê¹¨ì ¸ë³´ì—¬. ê·¸ë¦¬ê³  ì—¬ê¸°ë„ areadë¡œ ë°”ê¿”ì¤˜. 2. bodyìª½ ë‚´ìš©ì´ ëª¨ë‘ í•˜ë‚˜ì˜ stringìœ¼ë¡œë§Œ ë‚˜ì™€ì„œ ì½ê¸°ê°€ í˜ë“¤ì–´. ê·¸ëƒ¥ nested jsonìœ¼ë¡œ ë³´ì´ëŠ”ê²Œ ì½ê¸° í¸í•  ê²ƒ ê°™ì•„.

</p>

<p>ì¢‹ì€ í¬ì¸íŠ¸ ë‘ ê°€ì§€ ì •ë¦¬í•´ì„œ ë°”ë¡œ ë°˜ì˜í–ˆì–´ìš”.</p>

<ul>
  <li>
    <p><strong>(1) ìš”ì²­(request) ìª½ í•œê¸€ ê¹¨ì§</strong> â†’ <code class="language-plaintext highlighter-rouge">Content-Type</code>ì˜ <code class="language-plaintext highlighter-rouge">charset</code>ì„ í™•ì¸í•´ <strong>ì •í™•í•œ ì¸ì½”ë”©</strong> ìœ¼ë¡œ ë””ì½”ë”©í•˜ê³ , ê¸°ë³¸ê°’ì€ <code class="language-plaintext highlighter-rouge">utf-8</code>ë¡œ ì²˜ë¦¬í•©ë‹ˆë‹¤. (OpenAI SDKëŠ” JSON ë°”ë””ë¥¼ ê¸°ë³¸ì ìœ¼ë¡œ UTF-8ë¡œ ë³´ëƒ…ë‹ˆë‹¤.)</p>
  </li>
  <li>
    <p><strong>(2) bodyë¥¼ â€œí•œ ì¤„ì§œë¦¬ ë¬¸ìì—´â€ì´ ì•„ë‹ˆë¼ â€œì¤‘ì²© JSON(íŒŒì´ì¬ dict)â€</strong> ìœ¼ë¡œ ì €ì¥ â†’ íŒŒì‹±ì´ ë˜ë©´ <code class="language-plaintext highlighter-rouge">dict/list</code>ë¡œ ì €ì¥í•˜ê³ , ì•ˆ ë˜ë©´ í…ìŠ¤íŠ¸ ê·¸ëŒ€ë¡œ ë‘¡ë‹ˆë‹¤.</p>
  </li>
</ul>

<p>ë˜, <strong>ì‘ë‹µ(response)</strong> ì€ ë¹„ë™ê¸° í™˜ê²½ì—ì„œ í™•ì‹¤íˆ <code class="language-plaintext highlighter-rouge">await response.aread()</code>ë¡œ ì½ë„ë¡ ë°”ê¿¨ìŠµë‹ˆë‹¤.<br />
<strong>ìš”ì²­(request)</strong> ê°ì²´ëŠ” httpxì—ì„œ <code class="language-plaintext highlighter-rouge">aread()</code>ê°€ ì—†ì–´ì„œ(ì‘ë‹µì—ë§Œ ìˆìŒ) ëŒ€ì‹  <strong>ë°”ì´íŠ¸ ë°”ë””ë¥¼ ì •í™•í•œ ì¸ì½”ë”©ìœ¼ë¡œ ë””ì½”ë”©</strong> í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬í•©ë‹ˆë‹¤. (OpenAI SDKì²˜ëŸ¼ ì¼ë°˜ JSON ìš”ì²­ì´ë©´ <code class="language-plaintext highlighter-rouge">request.content</code>ì—ì„œ ì•ˆì „í•˜ê²Œ ì½í™ë‹ˆë‹¤. ì§„ì§œ â€œìŠ¤íŠ¸ë¦¬ë° ì—…ë¡œë“œâ€ë¥¼ í•˜ì‹ ë‹¤ë©´ ë³„ë„ tee ë˜í¼ê°€ í•„ìš”í•©ë‹ˆë‹¤â€”ì•„ë˜ì— ê°„ë‹¨ ì£¼ì„ ìˆìŠµë‹ˆë‹¤.)</p>

<hr />

<h3 id="ì—…ë°ì´íŠ¸ëœ-ë¹„ë™ê¸°-ì˜ˆì œ-ì „ì—­-ë³€ìˆ˜-ì—†ì´-main-ë‚´ë¶€-ë³´ê´€-request-í•œê¸€ì¸ì½”ë”©-ê°œì„ -responseëŠ”-aread-ì‚¬ìš©-bodyëŠ”-nested-jsonìœ¼ë¡œ-ì €ì¥">ì—…ë°ì´íŠ¸ëœ ë¹„ë™ê¸° ì˜ˆì œ (ì „ì—­ ë³€ìˆ˜ ì—†ì´ <code class="language-plaintext highlighter-rouge">main()</code> ë‚´ë¶€ ë³´ê´€, request í•œê¸€/ì¸ì½”ë”© ê°œì„ , responseëŠ” <code class="language-plaintext highlighter-rouge">aread()</code> ì‚¬ìš©, bodyëŠ” nested JSONìœ¼ë¡œ ì €ì¥)</h3>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">json</span>
<span class="kn">import</span> <span class="n">httpx</span>
<span class="kn">import</span> <span class="n">asyncio</span>
<span class="kn">from</span> <span class="n">openai</span> <span class="kn">import</span> <span class="n">OpenAI</span>

<span class="k">def</span> <span class="nf">pick_charset</span><span class="p">(</span><span class="n">content_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="sh">"</span><span class="s">utf-8</span><span class="sh">"</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="c1"># e.g. "application/json; charset=utf-8"
</span>    <span class="k">if</span> <span class="ow">not</span> <span class="n">content_type</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">default</span>
    <span class="n">parts</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span><span class="p">.</span><span class="nf">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">content_type</span><span class="p">.</span><span class="nf">split</span><span class="p">(</span><span class="sh">"</span><span class="s">;</span><span class="sh">"</span><span class="p">)]</span>
    <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
        <span class="k">if</span> <span class="n">p</span><span class="p">.</span><span class="nf">lower</span><span class="p">().</span><span class="nf">startswith</span><span class="p">(</span><span class="sh">"</span><span class="s">charset=</span><span class="sh">"</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">p</span><span class="p">.</span><span class="nf">split</span><span class="p">(</span><span class="sh">"</span><span class="s">=</span><span class="sh">"</span><span class="p">,</span> <span class="mi">1</span><span class="p">)[</span><span class="mi">1</span><span class="p">].</span><span class="nf">strip</span><span class="p">()</span> <span class="ow">or</span> <span class="n">default</span>
    <span class="k">return</span> <span class="n">default</span>

<span class="k">def</span> <span class="nf">try_parse_json</span><span class="p">(</span><span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">json</span><span class="p">.</span><span class="nf">loads</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
    <span class="k">except</span> <span class="nb">Exception</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">None</span>

<span class="k">def</span> <span class="nf">redact_headers</span><span class="p">(</span><span class="n">headers</span><span class="p">:</span> <span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
    <span class="n">out</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">headers</span><span class="p">.</span><span class="nf">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">k</span><span class="p">.</span><span class="nf">lower</span><span class="p">()</span> <span class="o">==</span> <span class="sh">"</span><span class="s">authorization</span><span class="sh">"</span> <span class="ow">or</span> <span class="sh">"</span><span class="s">api-key</span><span class="sh">"</span> <span class="ow">in</span> <span class="n">k</span><span class="p">.</span><span class="nf">lower</span><span class="p">():</span>
            <span class="n">out</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="sh">"</span><span class="s">REDACTED</span><span class="sh">"</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">out</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
    <span class="k">return</span> <span class="n">out</span>

<span class="k">def</span> <span class="nf">redact_obj</span><span class="p">(</span><span class="n">obj</span><span class="p">):</span>
    <span class="c1"># dict/listë¥¼ ì¬ê·€ì ìœ¼ë¡œ ëŒë©° ë¯¼ê° í‚¤ ë§ˆìŠ¤í‚¹
</span>    <span class="n">SENSITIVE_KEYS</span> <span class="o">=</span> <span class="p">{</span><span class="sh">"</span><span class="s">api_key</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">apiKey</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">key</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">authorization</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">password</span><span class="sh">"</span><span class="p">}</span>
    <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="p">(</span><span class="sh">"</span><span class="s">REDACTED</span><span class="sh">"</span> <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">SENSITIVE_KEYS</span> <span class="k">else</span> <span class="nf">redact_obj</span><span class="p">(</span><span class="n">v</span><span class="p">))</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">obj</span><span class="p">.</span><span class="nf">items</span><span class="p">()}</span>
    <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">[</span><span class="nf">redact_obj</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">obj</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">obj</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">captured</span> <span class="o">=</span> <span class="p">{</span><span class="sh">"</span><span class="s">request</span><span class="sh">"</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span> <span class="sh">"</span><span class="s">response</span><span class="sh">"</span><span class="p">:</span> <span class="bp">None</span><span class="p">}</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">request_hook</span><span class="p">(</span><span class="n">request</span><span class="p">:</span> <span class="n">httpx</span><span class="p">.</span><span class="n">Request</span><span class="p">):</span>
        <span class="c1"># 1) charset ê²°ì •
</span>        <span class="n">req_ct</span> <span class="o">=</span> <span class="n">request</span><span class="p">.</span><span class="n">headers</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">content-type</span><span class="sh">"</span><span class="p">,</span> <span class="sh">""</span><span class="p">)</span>
        <span class="n">req_charset</span> <span class="o">=</span> <span class="nf">pick_charset</span><span class="p">(</span><span class="n">req_ct</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="sh">"</span><span class="s">utf-8</span><span class="sh">"</span><span class="p">)</span>

        <span class="c1"># 2) ë°”ë”” ë°”ì´íŠ¸ â†’ í…ìŠ¤íŠ¸
</span>        <span class="c1">#    (OpenAI SDKì˜ JSON í˜¸ì¶œì´ë¼ë©´ request.contentê°€ bytesë¡œ ì±„ì›Œì ¸ ìˆìŠµë‹ˆë‹¤)
</span>        <span class="k">if</span> <span class="n">request</span><span class="p">.</span><span class="n">content</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">body_text</span> <span class="o">=</span> <span class="n">request</span><span class="p">.</span><span class="n">content</span><span class="p">.</span><span class="nf">decode</span><span class="p">(</span><span class="n">req_charset</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="sh">"</span><span class="s">replace</span><span class="sh">"</span><span class="p">)</span>
            <span class="k">except</span> <span class="nb">Exception</span><span class="p">:</span>
                <span class="c1"># í˜¹ì‹œ ëª¨ë¥¼ ì¸ì½”ë”© ì´ìŠˆ ëŒ€ë¹„: ë§ˆì§€ë§‰ fallback
</span>                <span class="n">body_text</span> <span class="o">=</span> <span class="n">request</span><span class="p">.</span><span class="n">content</span><span class="p">.</span><span class="nf">decode</span><span class="p">(</span><span class="sh">"</span><span class="s">utf-8</span><span class="sh">"</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="sh">"</span><span class="s">replace</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># ìŠ¤íŠ¸ë¦¬ë° ì—…ë¡œë“œ(ì œë„ˆë ˆì´í„°/íŒŒì¼ ìŠ¤íŠ¸ë¦¼ ë“±)ì¸ ê²½ìš° ì—¬ê¸°ì— Noneì´ ë“¤ì–´ì˜µë‹ˆë‹¤.
</span>            <span class="c1"># ê·¸ëŸ° ê²½ìš°, ë³„ë„ "tee stream" ë˜í¼ë¡œ `request.stream`ì„ ê°ì‹¸ì„œ ì „ì†¡ë˜ë©° ìº¡ì²˜í•´ì•¼ í•©ë‹ˆë‹¤.
</span>            <span class="n">body_text</span> <span class="o">=</span> <span class="sh">"</span><span class="s">&lt;streaming or no request.content&gt;</span><span class="sh">"</span>

        <span class="c1"># 3) nested JSONìœ¼ë¡œ ì €ì¥(ê°€ëŠ¥í•˜ë©´)
</span>        <span class="n">body_obj</span> <span class="o">=</span> <span class="nf">try_parse_json</span><span class="p">(</span><span class="n">body_text</span><span class="p">)</span>
        <span class="n">body_saved</span> <span class="o">=</span> <span class="nf">redact_obj</span><span class="p">(</span><span class="n">body_obj</span><span class="p">)</span> <span class="k">if</span> <span class="n">body_obj</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="k">else</span> <span class="n">body_text</span>  <span class="c1"># dict/listë©´ ë§ˆìŠ¤í‚¹, ì•„ë‹ˆë©´ ì›ë¬¸
</span>
        <span class="n">captured</span><span class="p">[</span><span class="sh">"</span><span class="s">request</span><span class="sh">"</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="sh">"</span><span class="s">method</span><span class="sh">"</span><span class="p">:</span> <span class="n">request</span><span class="p">.</span><span class="n">method</span><span class="p">,</span>
            <span class="sh">"</span><span class="s">url</span><span class="sh">"</span><span class="p">:</span> <span class="nf">str</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="n">url</span><span class="p">),</span>
            <span class="sh">"</span><span class="s">headers</span><span class="sh">"</span><span class="p">:</span> <span class="nf">redact_headers</span><span class="p">(</span><span class="nf">dict</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="n">headers</span><span class="p">)),</span>
            <span class="c1"># ë¬¸ìì—´ì´ ì•„ë‹ˆë¼, ê°€ëŠ¥í•˜ë©´ dict/listë¡œ ì €ì¥ë©ë‹ˆë‹¤.
</span>            <span class="sh">"</span><span class="s">body</span><span class="sh">"</span><span class="p">:</span> <span class="n">body_saved</span><span class="p">,</span>
        <span class="p">}</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">response_hook</span><span class="p">(</span><span class="n">response</span><span class="p">:</span> <span class="n">httpx</span><span class="p">.</span><span class="n">Response</span><span class="p">):</span>
        <span class="c1"># 1) ì „ì²´ ë°”ë””ë¥¼ ë¹„ë™ê¸°ë¡œ ì•ˆì „í•˜ê²Œ ì½ìŒ
</span>        <span class="n">body_bytes</span> <span class="o">=</span> <span class="k">await</span> <span class="n">response</span><span class="p">.</span><span class="nf">aread</span><span class="p">()</span>

        <span class="c1"># 2) charset ê²°ì •
</span>        <span class="n">res_ct</span> <span class="o">=</span> <span class="n">response</span><span class="p">.</span><span class="n">headers</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">content-type</span><span class="sh">"</span><span class="p">,</span> <span class="sh">""</span><span class="p">)</span>
        <span class="n">res_charset</span> <span class="o">=</span> <span class="nf">pick_charset</span><span class="p">(</span><span class="n">res_ct</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="sh">"</span><span class="s">utf-8</span><span class="sh">"</span><span class="p">)</span>

        <span class="c1"># 3) ë°”ë”” ë°”ì´íŠ¸ â†’ í…ìŠ¤íŠ¸
</span>        <span class="k">try</span><span class="p">:</span>
            <span class="n">body_text</span> <span class="o">=</span> <span class="n">body_bytes</span><span class="p">.</span><span class="nf">decode</span><span class="p">(</span><span class="n">res_charset</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="sh">"</span><span class="s">replace</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">except</span> <span class="nb">Exception</span><span class="p">:</span>
            <span class="n">body_text</span> <span class="o">=</span> <span class="n">body_bytes</span><span class="p">.</span><span class="nf">decode</span><span class="p">(</span><span class="sh">"</span><span class="s">utf-8</span><span class="sh">"</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="sh">"</span><span class="s">replace</span><span class="sh">"</span><span class="p">)</span>

        <span class="c1"># 4) nested JSONìœ¼ë¡œ ì €ì¥(ê°€ëŠ¥í•˜ë©´)
</span>        <span class="n">body_obj</span> <span class="o">=</span> <span class="nf">try_parse_json</span><span class="p">(</span><span class="n">body_text</span><span class="p">)</span>
        <span class="n">body_saved</span> <span class="o">=</span> <span class="nf">redact_obj</span><span class="p">(</span><span class="n">body_obj</span><span class="p">)</span> <span class="k">if</span> <span class="n">body_obj</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="k">else</span> <span class="n">body_text</span>

        <span class="n">captured</span><span class="p">[</span><span class="sh">"</span><span class="s">response</span><span class="sh">"</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="sh">"</span><span class="s">status_code</span><span class="sh">"</span><span class="p">:</span> <span class="n">response</span><span class="p">.</span><span class="n">status_code</span><span class="p">,</span>
            <span class="sh">"</span><span class="s">headers</span><span class="sh">"</span><span class="p">:</span> <span class="nf">redact_headers</span><span class="p">(</span><span class="nf">dict</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">headers</span><span class="p">)),</span>
            <span class="sh">"</span><span class="s">body</span><span class="sh">"</span><span class="p">:</span> <span class="n">body_saved</span><span class="p">,</span>
        <span class="p">}</span>

    <span class="n">hooks</span> <span class="o">=</span> <span class="p">{</span><span class="sh">"</span><span class="s">request</span><span class="sh">"</span><span class="p">:</span> <span class="p">[</span><span class="n">request_hook</span><span class="p">],</span> <span class="sh">"</span><span class="s">response</span><span class="sh">"</span><span class="p">:</span> <span class="p">[</span><span class="n">response_hook</span><span class="p">]}</span>

    <span class="k">async</span> <span class="k">with</span> <span class="n">httpx</span><span class="p">.</span><span class="nc">AsyncClient</span><span class="p">(</span><span class="n">event_hooks</span><span class="o">=</span><span class="n">hooks</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mf">60.0</span><span class="p">)</span> <span class="k">as</span> <span class="n">async_http</span><span class="p">:</span>
        <span class="n">client</span> <span class="o">=</span> <span class="nc">OpenAI</span><span class="p">(</span><span class="n">http_client</span><span class="o">=</span><span class="n">async_http</span><span class="p">)</span>

        <span class="c1"># ì‹¤ì œ í˜¸ì¶œ(ì˜ˆ: chat.completions)
</span>        <span class="k">await</span> <span class="n">client</span><span class="p">.</span><span class="n">chat</span><span class="p">.</span><span class="n">completions</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span>
            <span class="n">model</span><span class="o">=</span><span class="sh">"</span><span class="s">gpt-4o-mini</span><span class="sh">"</span><span class="p">,</span>
            <span class="n">messages</span><span class="o">=</span><span class="p">[{</span><span class="sh">"</span><span class="s">role</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">user</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">content</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">í•œê¸€ì´ ì œëŒ€ë¡œ ë³´ì´ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤ ğŸ˜Š</span><span class="sh">"</span><span class="p">}],</span>
        <span class="p">)</span>

    <span class="c1"># ì—¬ê¸°ì„œ captured["request"]["body"], captured["response"]["body"]ëŠ”
</span>    <span class="c1"># ê°€ëŠ¥í•œ ê²½ìš° "ì¤‘ì²© JSON(dict/list)"ë¡œ ì €ì¥ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
</span>    <span class="c1"># (JSONì´ ì•„ë‹ˆë©´ ë””ì½”ë”©ëœ í…ìŠ¤íŠ¸ ë¬¸ìì—´)
</span>    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">REQUEST (nested JSON or text):</span><span class="sh">"</span><span class="p">,</span> <span class="n">captured</span><span class="p">[</span><span class="sh">"</span><span class="s">request</span><span class="sh">"</span><span class="p">][</span><span class="sh">"</span><span class="s">body</span><span class="sh">"</span><span class="p">])</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">RESPONSE (nested JSON or text):</span><span class="sh">"</span><span class="p">,</span> <span class="n">captured</span><span class="p">[</span><span class="sh">"</span><span class="s">response</span><span class="sh">"</span><span class="p">][</span><span class="sh">"</span><span class="s">body</span><span class="sh">"</span><span class="p">])</span>

    <span class="k">return</span> <span class="n">captured</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="sh">"</span><span class="s">__main__</span><span class="sh">"</span><span class="p">:</span>
    <span class="n">asyncio</span><span class="p">.</span><span class="nf">run</span><span class="p">(</span><span class="nf">main</span><span class="p">())</span>
</code></pre></div></div>

<hr />

<h3 id="ìŠ¤íŠ¸ë¦¬ë°-ì—…ë¡œë“œë‹¤ìš´ë¡œë“œë¥¼-ì“°ëŠ”-íŠ¹ìˆ˜-ì¼€ì´ìŠ¤">ìŠ¤íŠ¸ë¦¬ë° ì—…ë¡œë“œ/ë‹¤ìš´ë¡œë“œë¥¼ ì“°ëŠ” íŠ¹ìˆ˜ ì¼€ì´ìŠ¤</h3>

<ul>
  <li>
    <p><strong>ìš”ì²­ì´ ìŠ¤íŠ¸ë¦¬ë° ì—…ë¡œë“œ</strong>(íŒŒì¼ ì œë„ˆë ˆì´í„° ë“±)ë©´ <code class="language-plaintext highlighter-rouge">request.content</code>ê°€ <code class="language-plaintext highlighter-rouge">None</code>ì¼ ìˆ˜ ìˆì–´ìš”. ì´ë•ŒëŠ” <code class="language-plaintext highlighter-rouge">request.stream</code>(ë¹„ê³µê°œ êµ¬í˜„ì¼ ìˆ˜ ìˆìŒ)ì„ <strong>tee ë˜í¼</strong> ë¡œ ê°ì‹¸ì„œ ì „ì†¡ë˜ëŠ” ë°”ì´íŠ¸ë¥¼ ì˜†ì—ì„œ ëª¨ì•„ì•¼ í•©ë‹ˆë‹¤. í•„ìš”í•˜ì‹œë©´ tee ë˜í¼(ë¹„ë™ê¸° ì œë„ˆë ˆì´í„°ë¡œ ê°ì‹¸ì„œ bytesë¥¼ <code class="language-plaintext highlighter-rouge">yield</code>í•˜ë©´ì„œ ë‚´ë¶€ ë²„í¼ì—ë„ <code class="language-plaintext highlighter-rouge">append</code>) ì½”ë“œë¥¼ ë§Œë“¤ì–´ ë“œë¦´ê²Œìš”.</p>
  </li>
  <li>
    <p><strong>ì‘ë‹µì´ ìŠ¤íŠ¸ë¦¬ë°(SSE/ì²­í¬)</strong> ì´ë©´ <code class="language-plaintext highlighter-rouge">await response.aread()</code>ë¡œ í•œ ë²ˆì— ì½ì§€ ë§ê³ , <code class="language-plaintext highlighter-rouge">async for chunk in response.aiter_bytes():</code> ì‹ìœ¼ë¡œ <strong>ì²­í¬ë¥¼ ëˆ„ì </strong> í•´ nested JSONìœ¼ë¡œ ë³µì›(ê°€ëŠ¥ì‹œ)í•˜ê±°ë‚˜, ì²­í¬ ë¦¬ìŠ¤íŠ¸ë¥¼ í•©ì³ì„œ ë‚˜ì¤‘ì— <code class="language-plaintext highlighter-rouge">json.loads()</code>ë¥¼ ì‹œë„í•˜ì„¸ìš”. ì´ê²ƒë„ ì›í•˜ì‹œë©´ ë°”ë¡œ ì˜ˆì œ ë“œë¦´ê²Œìš”.</p>
  </li>
</ul>

<hr />

<p>í•„ìš”í•˜ì‹  ê²½ìš°:</p>

<ul>
  <li>
    <p><strong>ìš”ì²­/ì‘ë‹µ ëª¨ë‘ â€œë°˜ë“œì‹œ dictë¡œë§Œ ë³´ê´€â€</strong>í•˜ë„ë¡ ê°•ì œí•˜ëŠ” ë²„ì „</p>
  </li>
  <li>
    <p><strong>íŠ¹ì • í‚¤ë§Œ ë‚¨ê¸°ê³  ë‚˜ë¨¸ì§€ ë§ˆìŠ¤í‚¹</strong>(ì˜ˆ: <code class="language-plaintext highlighter-rouge">messages</code>ë§Œ ìœ ì§€)</p>
  </li>
  <li>
    <p><strong>ìŠ¤íŠ¸ë¦¬ë° ì—…/ë‹¤ìš´ë¡œë“œ tee ë˜í¼</strong></p>
  </li>
</ul>

<p>ì–´ë–¤ ê±¸ ë” ì›í•˜ì„¸ìš”?</p>

<p class="chat--user">

ì°¸ê³ ë¡œ body_strì„ json.loadí•˜ê³  dump í•˜ë‹ˆ í•œê¸€ì´ ì œëŒ€ë¡œ ë³´ì˜€ì—ˆì–´.

</p>

<p>ë§ì•„ìš” â€” <strong><code class="language-plaintext highlighter-rouge">json.loads()</code> â†’ <code class="language-plaintext highlighter-rouge">json.dumps()</code></strong> ë¥¼ ê±°ì¹˜ë©´ í•œê¸€ì´ â€œì •ìƒ ê¸€ìâ€ë¡œ ë³´ì´ëŠ” ì´ìœ ê°€ ìˆìŠµë‹ˆë‹¤. í•µì‹¬ë§Œ ì •ë¦¬í•˜ê³ , ë°”ë¡œ ì ìš© ê°€ëŠ¥í•œ íŒ¨ì¹˜ë„ ë“œë¦´ê²Œìš”.</p>

<h1 id="ì™œ-load--dump-í•˜ë©´-í•œê¸€ì´-ì œëŒ€ë¡œ-ë³´ì¼ê¹Œ">ì™œ load â†’ dump í•˜ë©´ í•œê¸€ì´ ì œëŒ€ë¡œ ë³´ì¼ê¹Œ?</h1>

<ol>
  <li>
    <p><strong>ìš”ì²­/ì‘ë‹µ ë°”ì´íŠ¸ë¥¼ ì˜¬ë°”ë¥¸ ë¬¸ìì…‹(ëŒ€ê°œ UTF-8)</strong> ìœ¼ë¡œ <code class="language-plaintext highlighter-rouge">str</code>ë¡œ ë””ì½”ë”©í•´ì•¼ í•©ë‹ˆë‹¤.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">json.loads()</code>ë¡œ íŒŒì‹±í•˜ë©´ <strong>íŒŒì´ì¬ ë‚´ë¶€ ê°ì²´(dict/list)</strong> ê°€ ë©ë‹ˆë‹¤. ì´ ìƒíƒœì—ì„œëŠ” í•œê¸€ì´ ì´ë¯¸ ìœ ë‹ˆì½”ë“œë¡œ ì˜¬ë°”ë¥´ê²Œ ë³´ì¡´ë¼ ìˆì–´ìš”.</p>
  </li>
  <li>
    <p>ê·¸ëŸ°ë° <code class="language-plaintext highlighter-rouge">json.dumps()</code>ì˜ ê¸°ë³¸ê°’ì€ <code class="language-plaintext highlighter-rouge">ensure_ascii=True</code>ë¼ì„œ, <strong>ë¹„ ASCII ë¬¸ìë¥¼<code class="language-plaintext highlighter-rouge">\uXXXX</code>ë¡œ ì´ìŠ¤ì¼€ì´í”„</strong>í•©ë‹ˆë‹¤.<br />
â†’ ì´ëŸ¬ë©´ ë‹¤ì‹œ â€œê¹¨ì ¸ ë³´ì´ê±°ë‚˜â€ <code class="language-plaintext highlighter-rouge">\uac00</code> ê°™ì€ ì½”ë“œê°’ìœ¼ë¡œ ë³´ì¼ ìˆ˜ ìˆì£ .</p>
  </li>
  <li>
    <p><strong><code class="language-plaintext highlighter-rouge">ensure_ascii=False</code>ë¡œ <code class="language-plaintext highlighter-rouge">json.dumps(..., ensure_ascii=False, indent=2)</code></strong> ë¥¼ ì“°ë©´ í•œê¸€ì´ ê·¸ëŒ€ë¡œ ì¶œë ¥ë©ë‹ˆë‹¤(ì´ìŠ¤ì¼€ì´í”„ ì—†ì´).</p>
  </li>
</ol>

<blockquote>
  <p>ì¦‰, â€œë””ì½”ë”© â†’ íŒŒì‹± â†’ <code class="language-plaintext highlighter-rouge">ensure_ascii=False</code>ë¡œ ì§ë ¬í™”â€ ìˆœì„œê°€ ì¤‘ìš”í•©ë‹ˆë‹¤.</p>
</blockquote>

<hr />

<h1 id="ë°”ë¡œ-ì ìš©-1-nested-json-ì €ì¥--2-ë³´ê¸°-ì¢‹ê²Œ-ì¶œë ¥ensure_asciifalse">ë°”ë¡œ ì ìš©: (1) nested JSON ì €ì¥ + (2) ë³´ê¸° ì¢‹ê²Œ ì¶œë ¥(ensure_ascii=False)</h1>

<p>ì•„ë˜ëŠ” ì•ì„œ ë“œë¦° ë¹„ë™ê¸° í›… ì˜ˆì œì—ì„œ, <strong>nested JSONìœ¼ë¡œ ì €ì¥</strong> í•˜ê³  <strong>ë³¼ ë•ŒëŠ”<code class="language-plaintext highlighter-rouge">ensure_ascii=False</code>ë¡œ ë¤í”„</strong>í•˜ë„ë¡ ì‚´ì§ ì† ë³¸ ë²„ì „ì…ë‹ˆë‹¤. (ì‘ë‹µì€ <code class="language-plaintext highlighter-rouge">await response.aread()</code> ìœ ì§€)</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">json</span>
<span class="kn">import</span> <span class="n">httpx</span>
<span class="kn">import</span> <span class="n">asyncio</span>
<span class="kn">from</span> <span class="n">openai</span> <span class="kn">import</span> <span class="n">OpenAI</span>
<span class="kn">import</span> <span class="n">sys</span>

<span class="k">def</span> <span class="nf">pick_charset</span><span class="p">(</span><span class="n">content_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="sh">"</span><span class="s">utf-8</span><span class="sh">"</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">content_type</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">default</span>
    <span class="n">parts</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span><span class="p">.</span><span class="nf">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">content_type</span><span class="p">.</span><span class="nf">split</span><span class="p">(</span><span class="sh">"</span><span class="s">;</span><span class="sh">"</span><span class="p">)]</span>
    <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
        <span class="k">if</span> <span class="n">p</span><span class="p">.</span><span class="nf">lower</span><span class="p">().</span><span class="nf">startswith</span><span class="p">(</span><span class="sh">"</span><span class="s">charset=</span><span class="sh">"</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">p</span><span class="p">.</span><span class="nf">split</span><span class="p">(</span><span class="sh">"</span><span class="s">=</span><span class="sh">"</span><span class="p">,</span> <span class="mi">1</span><span class="p">)[</span><span class="mi">1</span><span class="p">].</span><span class="nf">strip</span><span class="p">()</span> <span class="ow">or</span> <span class="n">default</span>
    <span class="k">return</span> <span class="n">default</span>

<span class="k">def</span> <span class="nf">redact_headers</span><span class="p">(</span><span class="n">headers</span><span class="p">:</span> <span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
    <span class="n">out</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">headers</span><span class="p">.</span><span class="nf">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">k</span><span class="p">.</span><span class="nf">lower</span><span class="p">()</span> <span class="o">==</span> <span class="sh">"</span><span class="s">authorization</span><span class="sh">"</span> <span class="ow">or</span> <span class="sh">"</span><span class="s">api-key</span><span class="sh">"</span> <span class="ow">in</span> <span class="n">k</span><span class="p">.</span><span class="nf">lower</span><span class="p">():</span>
            <span class="n">out</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="sh">"</span><span class="s">REDACTED</span><span class="sh">"</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">out</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
    <span class="k">return</span> <span class="n">out</span>

<span class="k">def</span> <span class="nf">redact_obj</span><span class="p">(</span><span class="n">obj</span><span class="p">):</span>
    <span class="n">SENSITIVE</span> <span class="o">=</span> <span class="p">{</span><span class="sh">"</span><span class="s">api_key</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">apiKey</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">key</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">authorization</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">password</span><span class="sh">"</span><span class="p">}</span>
    <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="p">(</span><span class="sh">"</span><span class="s">REDACTED</span><span class="sh">"</span> <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">SENSITIVE</span> <span class="k">else</span> <span class="nf">redact_obj</span><span class="p">(</span><span class="n">v</span><span class="p">))</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">obj</span><span class="p">.</span><span class="nf">items</span><span class="p">()}</span>
    <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">[</span><span class="nf">redact_obj</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">obj</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">obj</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="c1"># (ì„ íƒ) í„°ë¯¸ë„ì´ UTF-8ì´ ì•„ë‹ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ë³´ì •
</span>    <span class="k">try</span><span class="p">:</span>
        <span class="n">sys</span><span class="p">.</span><span class="n">stdout</span><span class="p">.</span><span class="nf">reconfigure</span><span class="p">(</span><span class="n">encoding</span><span class="o">=</span><span class="sh">"</span><span class="s">utf-8</span><span class="sh">"</span><span class="p">)</span>
    <span class="k">except</span> <span class="nb">Exception</span><span class="p">:</span>
        <span class="k">pass</span>

    <span class="n">captured</span> <span class="o">=</span> <span class="p">{</span><span class="sh">"</span><span class="s">request</span><span class="sh">"</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span> <span class="sh">"</span><span class="s">response</span><span class="sh">"</span><span class="p">:</span> <span class="bp">None</span><span class="p">}</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">request_hook</span><span class="p">(</span><span class="n">request</span><span class="p">:</span> <span class="n">httpx</span><span class="p">.</span><span class="n">Request</span><span class="p">):</span>
        <span class="n">req_ct</span> <span class="o">=</span> <span class="n">request</span><span class="p">.</span><span class="n">headers</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">content-type</span><span class="sh">"</span><span class="p">,</span> <span class="sh">""</span><span class="p">)</span>
        <span class="n">charset</span> <span class="o">=</span> <span class="nf">pick_charset</span><span class="p">(</span><span class="n">req_ct</span><span class="p">,</span> <span class="sh">"</span><span class="s">utf-8</span><span class="sh">"</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">request</span><span class="p">.</span><span class="n">content</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">body_text</span> <span class="o">=</span> <span class="n">request</span><span class="p">.</span><span class="n">content</span><span class="p">.</span><span class="nf">decode</span><span class="p">(</span><span class="n">charset</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="sh">"</span><span class="s">replace</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">body_text</span> <span class="o">=</span> <span class="sh">"</span><span class="s">&lt;streaming or no request.content&gt;</span><span class="sh">"</span>

        <span class="c1"># ê°€ëŠ¥í•˜ë©´ nested JSON(dict/list)ë¡œ ì €ì¥
</span>        <span class="k">try</span><span class="p">:</span>
            <span class="n">body_obj</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="nf">loads</span><span class="p">(</span><span class="n">body_text</span><span class="p">)</span>
        <span class="k">except</span> <span class="nb">Exception</span><span class="p">:</span>
            <span class="n">body_obj</span> <span class="o">=</span> <span class="n">body_text</span>  <span class="c1"># JSONì´ ì•„ë‹ˆë©´ ì›ë¬¸ ë¬¸ìì—´
</span>
        <span class="n">captured</span><span class="p">[</span><span class="sh">"</span><span class="s">request</span><span class="sh">"</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="sh">"</span><span class="s">method</span><span class="sh">"</span><span class="p">:</span> <span class="n">request</span><span class="p">.</span><span class="n">method</span><span class="p">,</span>
            <span class="sh">"</span><span class="s">url</span><span class="sh">"</span><span class="p">:</span> <span class="nf">str</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="n">url</span><span class="p">),</span>
            <span class="sh">"</span><span class="s">headers</span><span class="sh">"</span><span class="p">:</span> <span class="nf">redact_headers</span><span class="p">(</span><span class="nf">dict</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="n">headers</span><span class="p">)),</span>
            <span class="sh">"</span><span class="s">body</span><span class="sh">"</span><span class="p">:</span> <span class="nf">redact_obj</span><span class="p">(</span><span class="n">body_obj</span><span class="p">),</span>
        <span class="p">}</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">response_hook</span><span class="p">(</span><span class="n">response</span><span class="p">:</span> <span class="n">httpx</span><span class="p">.</span><span class="n">Response</span><span class="p">):</span>
        <span class="n">body_bytes</span> <span class="o">=</span> <span class="k">await</span> <span class="n">response</span><span class="p">.</span><span class="nf">aread</span><span class="p">()</span>
        <span class="n">res_ct</span> <span class="o">=</span> <span class="n">response</span><span class="p">.</span><span class="n">headers</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">content-type</span><span class="sh">"</span><span class="p">,</span> <span class="sh">""</span><span class="p">)</span>
        <span class="n">charset</span> <span class="o">=</span> <span class="nf">pick_charset</span><span class="p">(</span><span class="n">res_ct</span><span class="p">,</span> <span class="sh">"</span><span class="s">utf-8</span><span class="sh">"</span><span class="p">)</span>

        <span class="n">body_text</span> <span class="o">=</span> <span class="n">body_bytes</span><span class="p">.</span><span class="nf">decode</span><span class="p">(</span><span class="n">charset</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="sh">"</span><span class="s">replace</span><span class="sh">"</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">body_obj</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="nf">loads</span><span class="p">(</span><span class="n">body_text</span><span class="p">)</span>
        <span class="k">except</span> <span class="nb">Exception</span><span class="p">:</span>
            <span class="n">body_obj</span> <span class="o">=</span> <span class="n">body_text</span>

        <span class="n">captured</span><span class="p">[</span><span class="sh">"</span><span class="s">response</span><span class="sh">"</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="sh">"</span><span class="s">status_code</span><span class="sh">"</span><span class="p">:</span> <span class="n">response</span><span class="p">.</span><span class="n">status_code</span><span class="p">,</span>
            <span class="sh">"</span><span class="s">headers</span><span class="sh">"</span><span class="p">:</span> <span class="nf">redact_headers</span><span class="p">(</span><span class="nf">dict</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">headers</span><span class="p">)),</span>
            <span class="sh">"</span><span class="s">body</span><span class="sh">"</span><span class="p">:</span> <span class="nf">redact_obj</span><span class="p">(</span><span class="n">body_obj</span><span class="p">),</span>
        <span class="p">}</span>

    <span class="n">hooks</span> <span class="o">=</span> <span class="p">{</span><span class="sh">"</span><span class="s">request</span><span class="sh">"</span><span class="p">:</span> <span class="p">[</span><span class="n">request_hook</span><span class="p">],</span> <span class="sh">"</span><span class="s">response</span><span class="sh">"</span><span class="p">:</span> <span class="p">[</span><span class="n">response_hook</span><span class="p">]}</span>

    <span class="k">async</span> <span class="k">with</span> <span class="n">httpx</span><span class="p">.</span><span class="nc">AsyncClient</span><span class="p">(</span><span class="n">event_hooks</span><span class="o">=</span><span class="n">hooks</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mf">60.0</span><span class="p">)</span> <span class="k">as</span> <span class="n">async_http</span><span class="p">:</span>
        <span class="n">client</span> <span class="o">=</span> <span class="nc">OpenAI</span><span class="p">(</span><span class="n">http_client</span><span class="o">=</span><span class="n">async_http</span><span class="p">)</span>

        <span class="k">await</span> <span class="n">client</span><span class="p">.</span><span class="n">chat</span><span class="p">.</span><span class="n">completions</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span>
            <span class="n">model</span><span class="o">=</span><span class="sh">"</span><span class="s">gpt-4o-mini</span><span class="sh">"</span><span class="p">,</span>
            <span class="n">messages</span><span class="o">=</span><span class="p">[{</span><span class="sh">"</span><span class="s">role</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">user</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">content</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">í•œê¸€ì´ ì˜ ë³´ì´ëŠ”ì§€ í…ŒìŠ¤íŠ¸í•©ë‹ˆë‹¤. ğŸ˜„</span><span class="sh">"</span><span class="p">}],</span>
        <span class="p">)</span>

    <span class="c1"># === ë³´ê¸° ì¢‹ê²Œ ì¶œë ¥: ensure_ascii=False + indent ===
</span>    <span class="k">def</span> <span class="nf">pretty</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
        <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="p">(</span><span class="nb">dict</span><span class="p">,</span> <span class="nb">list</span><span class="p">)):</span>
            <span class="k">return</span> <span class="n">json</span><span class="p">.</span><span class="nf">dumps</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">x</span>

    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">=== REQUEST ===</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="nf">pretty</span><span class="p">(</span><span class="n">captured</span><span class="p">[</span><span class="sh">"</span><span class="s">request</span><span class="sh">"</span><span class="p">][</span><span class="sh">"</span><span class="s">body</span><span class="sh">"</span><span class="p">]))</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">=== RESPONSE ===</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="nf">pretty</span><span class="p">(</span><span class="n">captured</span><span class="p">[</span><span class="sh">"</span><span class="s">response</span><span class="sh">"</span><span class="p">][</span><span class="sh">"</span><span class="s">body</span><span class="sh">"</span><span class="p">]))</span>

    <span class="k">return</span> <span class="n">captured</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="sh">"</span><span class="s">__main__</span><span class="sh">"</span><span class="p">:</span>
    <span class="n">asyncio</span><span class="p">.</span><span class="nf">run</span><span class="p">(</span><span class="nf">main</span><span class="p">())</span>
</code></pre></div></div>

<h3 id="í¬ì¸íŠ¸">í¬ì¸íŠ¸</h3>

<ul>
  <li>
    <p><strong>ì €ì¥ ë‹¨ê³„</strong> : ê°€ëŠ¥í•˜ë©´ <code class="language-plaintext highlighter-rouge">dict/list</code> í˜•íƒœë¡œ <strong>ê·¸ëŒ€ë¡œ ì €ì¥</strong> í•©ë‹ˆë‹¤(â€œí•œ ì¤„ ë¬¸ìì—´â€ ëŒ€ì‹  ì¤‘ì²© êµ¬ì¡°).</p>
  </li>
  <li>
    <p><strong>ì¶œë ¥/í™•ì¸ ë‹¨ê³„</strong> : <code class="language-plaintext highlighter-rouge">json.dumps(..., ensure_ascii=False, indent=2)</code> ë¡œ ë¤í”„í•˜ë©´ <strong>í•œê¸€ì´ ê·¸ëŒ€ë¡œ</strong> ë‚˜ì˜¤ê³  <strong>ê°€ë…ì„±</strong> ë„ ì¢‹ì•„ì§‘ë‹ˆë‹¤.</p>
  </li>
  <li>
    <p><strong>ì½˜ì†” ì¸ì½”ë”©</strong> : Windows ë“±ì—ì„œ ì½˜ì†” ì¸ì½”ë”© ë¬¸ì œë¡œ ê¹¨ì§ˆ ìˆ˜ ìˆìœ¼ë‹ˆ <code class="language-plaintext highlighter-rouge">sys.stdout.reconfigure(encoding="utf-8")</code> ì‹œë„(ì‹¤íŒ¨í•´ë„ ë¬´ì‹œ).</p>
  </li>
</ul>

<hr />

<h1 id="ë¹ ë¥¸-ì²´í¬ë¦¬ìŠ¤íŠ¸-step-by-step">ë¹ ë¥¸ ì²´í¬ë¦¬ìŠ¤íŠ¸ (step-by-step)</h1>

<ol>
  <li>
    <p><code class="language-plaintext highlighter-rouge">Content-Type</code>ì—ì„œ <strong>charset í™•ì¸</strong> (ì—†ìœ¼ë©´ UTF-8 ê°€ì •).</p>
  </li>
  <li>
    <p>ë°”ì´íŠ¸ â†’ ë¬¸ìì—´ <strong>ë””ì½”ë”©</strong>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">json.loads()</code>ë¡œ <strong>ê°ì²´í™”</strong>(ë˜ë©´ dict/listë¡œ ì €ì¥).</p>
  </li>
  <li>
    <p>ì¶œë ¥í•  ë•Œ <code class="language-plaintext highlighter-rouge">json.dumps(..., ensure_ascii=False, indent=2)</code> ì‚¬ìš©.</p>
  </li>
  <li>
    <p>ì½˜ì†” ì¸ì½”ë”©ì´ UTF-8ì¸ì§€ í™•ì¸(í•„ìš” ì‹œ <code class="language-plaintext highlighter-rouge">PYTHONIOENCODING=UTF-8</code> í™˜ê²½ë³€ìˆ˜ ë˜ëŠ” ìœ„ ì½”ë“œ).</p>
  </li>
</ol>

<p>ì›í•˜ì‹œë©´ <strong>ìš”ì²­/ì‘ë‹µì—ì„œ íŠ¹ì • í‚¤ë§Œ ê³¨ë¼ì„œ pretty-print</strong> í•˜ë„ë¡ í•„í„°ë§ê¹Œì§€ ë„£ì–´ë“œë¦´ê²Œìš”. ì–´ë–¤ í‚¤ë“¤ë§Œ ë³´ì´ë©´ ì¢‹ì„ê¹Œìš”?</p>]]></content><author><name>hvppyarchive</name></author><category term="python" /><summary type="html"><![CDATA[]]></summary></entry><entry><title type="html">Pickle to JSON ë³€í™˜</title><link href="https://hvppyarchive.github.io/python/pickle-to-json/" rel="alternate" type="text/html" title="Pickle to JSON ë³€í™˜" /><published>2025-09-29T10:41:41+09:00</published><updated>2025-09-29T10:41:41+09:00</updated><id>https://hvppyarchive.github.io/python/pickle-to-json</id><content type="html" xml:base="https://hvppyarchive.github.io/python/pickle-to-json/"><![CDATA[<p class="chat--user">

ë„ˆëŠ” íŒŒì´ì¬ í”„ë¡œê·¸ë˜ë° ì „ë¬¸ê°€ì•¼. python pickleë¡œ ì €ì¥ëœ ë°ì´í„°ê°€ ìˆì–´. ì´ê±¸ ì½ì–´ì„œ ê·¸ ì•ˆì˜ ëª¨ë“  ê°ì²´ treeë¥¼ json í˜•íƒœë¡œ ë±‰ë„ë¡ í•˜ê³  ì‹¶ì–´. ì´ ë•Œ pickleì€ ì»¤ìŠ¤í…€ í´ë˜ìŠ¤ë¥¼ ë‹´ê³  ìˆì–´. ì´ê±¸ í•´ë‚´ê¸° ìœ„í•´ì„œ ì–´ë–»ê²Œ ì ‘ê·¼í•´ì•¼í• ê¹Œ? ìµœëŒ€í•œ ì—ëŸ¬ê°€ ì—†ì´ ë™ì‘í•˜ë„ë¡ ê³ ë¯¼í•´ì¤˜. Step by Stepìœ¼ë¡œ ìƒê°í•´ì¤˜.

</p>

<p>ì¢‹ì•„, â€œí”¼í´ â†’ ì•ˆì „í•˜ê³  íŠ¼íŠ¼í•œ JSONâ€ì„ ëª©í‘œë¡œ ë‹¨ê³„ë³„ë¡œ ì„¤ê³„í•´ë³¼ê²Œ. (ì½”ë“œ ìƒ˜í”Œë„ ì•„ë˜ì— í•œ ë°©ì— ë„£ì–´ë’€ì–´.)</p>

<h1 id="step-by-step-ì ‘ê·¼">Step by Step ì ‘ê·¼</h1>

<h2 id="1-ìœ„í˜‘-ëª¨ë¸ì „ëµ-ë¨¼ì €-ê²°ì •">1) ìœ„í˜‘ ëª¨ë¸/ì „ëµ ë¨¼ì € ê²°ì •</h2>

<ul>
  <li>
    <p><strong>pickleì€ ì„ì˜ ì½”ë“œ ì‹¤í–‰ ìœ„í—˜</strong> ì´ ìˆì–´. <em>ì¶œì²˜ê°€ 100% ì‹ ë¢°ë˜ëŠ” íŒŒì¼ë§Œ</em> ë°”ë¡œ <code class="language-plaintext highlighter-rouge">pickle.load</code> í•˜ë©´ ë˜ê³ , ê·¸ ì™¸ì—ëŠ” â€œì œí•œ í•´ì œâ€ë¥¼ ì ˆëŒ€ í•˜ì§€ ë§ì•„ì•¼ í•´.</p>
  </li>
  <li>
    <p>ë”°ë¼ì„œ ë‘ ê°€ì§€ ëª¨ë“œë¥¼ ì¶”ì²œ:</p>

    <ol>
      <li>
        <p><strong>ì‹ ë¢° ëª¨ë“œ(trusted)</strong> : ê·¸ëƒ¥ ë¡œë“œ â†’ ì§ë ¬í™”.</p>
      </li>
      <li>
        <p><strong>ì„¸ì´í”„ ëª¨ë“œ(safe/whitelist)</strong> : í—ˆìš© ëª©ë¡(ëª¨ë“ˆ.í´ë˜ìŠ¤)ì„ ì§€ì •í•œ <code class="language-plaintext highlighter-rouge">RestrictedUnpickler</code>ë¡œë§Œ ì–¸í”¼í´.</p>
      </li>
    </ol>
  </li>
</ul>

<h2 id="2-ë¯¸ë¦¬-ë¬´ì—‡ì´-ë“¤ì–´ìˆëŠ”ì§€-ê²€ì‚¬">2) ë¯¸ë¦¬ â€œë¬´ì—‡ì´ ë“¤ì–´ìˆëŠ”ì§€â€ ê²€ì‚¬</h2>

<ul>
  <li>
    <p>ì–¸í”¼í´ì„ ì‹¤í–‰í•˜ì§€ ì•Šê³  <code class="language-plaintext highlighter-rouge">pickletools.genops</code>ë¡œ í”¼í´ ìŠ¤íŠ¸ë¦¼ì˜ <code class="language-plaintext highlighter-rouge">GLOBAL/STACK_GLOBAL</code> opcodeë¥¼ ìŠ¤ìº”í•´ì„œ, í•„ìš”í•œ í´ë˜ìŠ¤/ëª¨ë“ˆ ëª©ë¡ì„ ë½‘ì•„ë³¸ë‹¤.</p>
  </li>
  <li>
    <p>ê·¸ ê²°ê³¼ë¥¼ ë³´ê³  <strong>í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸</strong> ë¥¼ ë§Œë“ ë‹¤. (ì˜ˆ: <code class="language-plaintext highlighter-rouge">{"mymodels.User", "numpy.ndarray"}</code>)</p>
  </li>
</ul>

<h2 id="3-ì•ˆì „í•œ-ë¡œë”-ë§Œë“¤ê¸°">3) ì•ˆì „í•œ ë¡œë” ë§Œë“¤ê¸°</h2>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">pickle.Unpickler</code>ë¥¼ ìƒì†í•´ì„œ <code class="language-plaintext highlighter-rouge">find_class</code>ë¥¼ ì˜¤ë²„ë¼ì´ë“œ.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">builtins</code>ì˜ ê¸°ë³¸ ì»¨í…Œì´ë„ˆ ì •ë„ë§Œ í—ˆìš©í•˜ê³ , ë‚˜ë¨¸ì§€ëŠ” <strong>í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ì— ìˆëŠ” ê²ƒë§Œ í†µê³¼</strong>.</p>
  </li>
  <li>
    <p>í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ì— ì—†ëŠ” ê±´ <code class="language-plaintext highlighter-rouge">UnpicklingError</code>ë¡œ ë§‰ëŠ”ë‹¤.</p>
  </li>
</ul>

<h2 id="4-json-ê°€ëŠ¥-í˜•íƒœë¡œ-ë³€í™˜ê¸°-ì„¤ê³„">4) â€œJSON ê°€ëŠ¥ í˜•íƒœâ€ë¡œ ë³€í™˜ê¸° ì„¤ê³„</h2>

<p>JSONì€ ë‹¤ìŒì„ ê·¸ëŒ€ë¡œ í‘œí˜„ ëª» í•˜ê±°ë‚˜ ê¹¨ì§€ê¸° ì‰¬ì›Œ:</p>

<ul>
  <li>
    <p>ìˆœí™˜/ê³µìœ  ì°¸ì¡°(cycles/aliases), ì‚¬ìš©ì ì •ì˜ ê°ì²´, <code class="language-plaintext highlighter-rouge">set/tuple</code>, <code class="language-plaintext highlighter-rouge">bytes</code>, <code class="language-plaintext highlighter-rouge">datetime</code>, <code class="language-plaintext highlighter-rouge">Decimal/UUID</code>, <code class="language-plaintext highlighter-rouge">numpy/pandas/torch</code> ë“±.</p>
  </li>
  <li>
    <p><strong>ì›ì¹™</strong> : â€œê°€ëŠ¥í•˜ë©´ ì†ì‹¤ ì—†ì´â€, â€œê·¸ë˜ë„ í•­ìƒ ì§ë ¬í™”ë˜ê²Œâ€.</p>

    <ul>
      <li>
        <p><strong>ìˆœí™˜/ê³µìœ  ì°¸ì¡°</strong> : <code class="language-plaintext highlighter-rouge">"$id"</code>/<code class="language-plaintext highlighter-rouge">"$ref"</code> í”„ë¡œí† ì½œì„ ì‚¬ìš© (ì˜ˆ: <code class="language-plaintext highlighter-rouge">{"$id":"obj1", "value": ...}</code>, ì°¸ì¡°ëŠ” <code class="language-plaintext highlighter-rouge">{"$ref":"obj1"}</code>).</p>
      </li>
      <li>
        <p><strong>ì»¤ìŠ¤í…€ í´ë˜ìŠ¤</strong> : ìš°ì„  ìˆœìœ„ëŒ€ë¡œ</p>

        <ol>
          <li>
            <p><code class="language-plaintext highlighter-rouge">__json__()</code> â†’ ë”•íŠ¸/ë¦¬ìŠ¤íŠ¸ ë“±</p>
          </li>
          <li>
            <p><code class="language-plaintext highlighter-rouge">to_json()</code> / <code class="language-plaintext highlighter-rouge">to_dict()</code> / <code class="language-plaintext highlighter-rouge">model_dump()</code>(pydantic)</p>
          </li>
          <li>
            <p>dataclass â†’ <code class="language-plaintext highlighter-rouge">asdict</code></p>
          </li>
          <li>
            <p><code class="language-plaintext highlighter-rouge">__getstate__()</code> or <code class="language-plaintext highlighter-rouge">__dict__</code></p>
          </li>
          <li>
            <p>ë§ˆì§€ë§‰ ìˆ˜ë‹¨: <code class="language-plaintext highlighter-rouge">repr(obj)</code>ì— íƒ€ì… ë©”íƒ€(<code class="language-plaintext highlighter-rouge">"$type"</code>).</p>
          </li>
        </ol>
      </li>
      <li>
        <p><strong>íŠ¹ìˆ˜ íƒ€ì…ë“¤</strong> (ê°€ëŠ¥í•œ í•œ ë³´ì¡´):</p>

        <ul>
          <li>
            <p><code class="language-plaintext highlighter-rouge">set/frozenset</code> â†’ <code class="language-plaintext highlighter-rouge">{"$type":"set","items":[...]}</code></p>
          </li>
          <li>
            <p><code class="language-plaintext highlighter-rouge">tuple</code> â†’ <code class="language-plaintext highlighter-rouge">{"$type":"tuple","items":[...]}</code></p>
          </li>
          <li>
            <p><code class="language-plaintext highlighter-rouge">bytes/bytearray</code> â†’ <code class="language-plaintext highlighter-rouge">{"$type":"bytes","base64":"..."}</code></p>
          </li>
          <li>
            <p><code class="language-plaintext highlighter-rouge">datetime/date/time</code> â†’ <code class="language-plaintext highlighter-rouge">{"$type":"datetime","iso":"..."}</code></p>
          </li>
          <li>
            <p><code class="language-plaintext highlighter-rouge">Decimal</code> â†’ <code class="language-plaintext highlighter-rouge">{"$type":"decimal","value":"..."}</code></p>
          </li>
          <li>
            <p><code class="language-plaintext highlighter-rouge">UUID</code> â†’ <code class="language-plaintext highlighter-rouge">{"$type":"uuid","value":"..."}</code></p>
          </li>
          <li>
            <p><code class="language-plaintext highlighter-rouge">Path</code> â†’ <code class="language-plaintext highlighter-rouge">{"$type":"path","value":"..."}</code></p>
          </li>
          <li>
            <p><code class="language-plaintext highlighter-rouge">re.Pattern</code> â†’ íŒ¨í„´/í”Œë˜ê·¸ ë³´ì¡´</p>
          </li>
          <li>
            <p><code class="language-plaintext highlighter-rouge">Enum</code> â†’ ì´ë¦„/ê°’ ë³´ì¡´</p>
          </li>
          <li>
            <p><code class="language-plaintext highlighter-rouge">Exception</code> â†’ íƒ€ì…/args/str</p>
          </li>
          <li>
            <p><strong>NumPy</strong> : <code class="language-plaintext highlighter-rouge">ndarray</code>ëŠ” <code class="language-plaintext highlighter-rouge">.tolist()</code> + shape/dtype ë©”íƒ€</p>
          </li>
          <li>
            <p><strong>pandas</strong> : DataFrame/SeriesëŠ” <code class="language-plaintext highlighter-rouge">to_dict(orient="records")</code> ë“± + ë©”íƒ€</p>
          </li>
          <li>
            <p><strong>PyTorch/TensorFlow</strong> í…ì„œëŠ” <code class="language-plaintext highlighter-rouge">.detach().cpu().numpy().tolist()</code> ë“±ìœ¼ë¡œ ê°’ë§Œ (ê°€ëŠ¥í•˜ë©´ dtype/shape ë©”íƒ€ í¬í•¨)</p>
          </li>
        </ul>
      </li>
      <li>
        <p><strong>dictì˜ ë¹„ë¬¸ìì—´ í‚¤</strong> : JSONì€ í‚¤ê°€ ë¬¸ìì—´ë§Œ ë˜ë¯€ë¡œ</p>

        <ul>
          <li>
            <p>ì „ë¶€ ë¬¸ìì—´ì´ë©´ ê·¸ëŒ€ë¡œ ìœ ì§€</p>
          </li>
          <li>
            <p>ì•„ë‹ˆë©´ <code class="language-plaintext highlighter-rouge">{"$type":"dict","entries":[[key,value], ...]}</code> í˜•íƒœë¡œ ë³´ì¡´</p>
          </li>
        </ul>
      </li>
      <li>
        <p><strong>ê¹Šì´ ì œí•œ/ë©”ëª¨</strong> : ë¬´í•œ ì¬ê·€ ë°©ì§€ ìœ„í•´ <code class="language-plaintext highlighter-rouge">seen</code>(idâ†’$id) ë©”ëª¨ì™€ <code class="language-plaintext highlighter-rouge">max_depth</code> ë„ì….</p>
      </li>
      <li>
        <p><strong>ë§ˆì§€ë§‰ ì•ˆì „íŒ</strong> : ë¬´ì—‡ì´ë“  ì‹¤íŒ¨í•˜ë©´ <code class="language-plaintext highlighter-rouge">repr</code> + <code class="language-plaintext highlighter-rouge">"$error"</code> ë©”íƒ€ë¥¼ ë‹¬ì•„ ì ˆëŒ€ ì‹¤íŒ¨í•˜ì§€ ì•Šê²Œ.</p>
      </li>
    </ul>
  </li>
</ul>

<h2 id="5-ë¤í”„-ì˜µì…˜">5) ë¤í”„ ì˜µì…˜</h2>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">json.dumps(jsonable, ensure_ascii=False, indent=2, allow_nan=False)</code>ë¥¼ ê¶Œì¥.</p>
  </li>
  <li>
    <p>íŒŒì¼ì´ í¬ë©´ <code class="language-plaintext highlighter-rouge">indent=None</code>ë¡œ ìš©ëŸ‰ ìµœì†Œí™”.</p>
  </li>
  <li>
    <p>ë¤í”„ í›„ í•œ ë²ˆ <code class="language-plaintext highlighter-rouge">json.loads</code>ë¡œ <strong>ì—­íŒŒì‹± ê²€ì¦</strong> í•˜ë©´ ì‹¤ìˆ˜ ì¤„ì¼ ìˆ˜ ìˆì–´.</p>
  </li>
</ul>

<h2 id="6-ëŒ€ì•ˆ-ë¼ì´ë¸ŒëŸ¬ë¦¬-ì‚¬ìš©">6) ëŒ€ì•ˆ: ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©</h2>

<ul>
  <li>
    <p><strong>jsonpickle</strong> ì€ ìì²´ì ìœ¼ë¡œ í´ë˜ìŠ¤/ì°¸ì¡°ë¥¼ ì˜ ì²˜ë¦¬í•œë‹¤. ë¹ ë¥´ê²Œ ë˜ê³  ë²”ìš©ì„±ì´ ì¢‹ì§€ë§Œ, <em>ì–¸í”¼í´ ë‹¨ê³„ì˜ ë³´ì•ˆì€ ë³„ë„ ì²˜ë¦¬</em> ê°€ í•„ìš”í•˜ë‹¤(ì¦‰, <code class="language-plaintext highlighter-rouge">RestrictedUnpickler</code>ëŠ” ì—¬ì „íˆ í•„ìš”).</p>
  </li>
  <li>
    <p>ì§ì ‘ ê·œì¹™ì„ í†µì œí•˜ê³  ì‹¶ìœ¼ë©´ ì•„ë˜ ì»¤ìŠ¤í…€ ì§ë ¬í™”ê¸°ë¥¼ ì“°ëŠ” ê²Œ ì•ˆì „/ì˜ˆì¸¡ ê°€ëŠ¥.</p>
  </li>
</ul>

<hr />

<h1 id="ê²¬ê³ í•œ-ì˜ˆì‹œ-ì½”ë“œ-ìŠ¤í¬ë¦½íŠ¸-1ê°œë¡œ-ë™ì‘">ê²¬ê³ í•œ ì˜ˆì‹œ ì½”ë“œ (ìŠ¤í¬ë¦½íŠ¸ 1ê°œë¡œ ë™ì‘)</h1>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#!/usr/bin/env python3
# pickle_to_json.py
</span><span class="kn">import</span> <span class="n">io</span><span class="p">,</span> <span class="n">json</span><span class="p">,</span> <span class="n">base64</span><span class="p">,</span> <span class="n">math</span><span class="p">,</span> <span class="n">re</span><span class="p">,</span> <span class="n">types</span><span class="p">,</span> <span class="n">sys</span>
<span class="kn">import</span> <span class="n">pickle</span><span class="p">,</span> <span class="n">pickletools</span><span class="p">,</span> <span class="n">importlib</span>
<span class="kn">from</span> <span class="n">dataclasses</span> <span class="kn">import</span> <span class="n">is_dataclass</span><span class="p">,</span> <span class="n">asdict</span>
<span class="kn">from</span> <span class="n">decimal</span> <span class="kn">import</span> <span class="n">Decimal</span>
<span class="kn">from</span> <span class="n">uuid</span> <span class="kn">import</span> <span class="n">UUID</span>
<span class="kn">from</span> <span class="n">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<span class="kn">from</span> <span class="n">collections</span> <span class="kn">import</span> <span class="n">OrderedDict</span>
<span class="kn">from</span> <span class="n">typing</span> <span class="kn">import</span> <span class="n">Any</span>

<span class="c1"># --- Optional dependencies detection ---
</span><span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="k">except</span> <span class="nb">Exception</span><span class="p">:</span>
    <span class="n">np</span> <span class="o">=</span> <span class="bp">None</span>

<span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span> <span class="n">pandas</span> <span class="k">as</span> <span class="n">pd</span>
<span class="k">except</span> <span class="nb">Exception</span><span class="p">:</span>
    <span class="n">pd</span> <span class="o">=</span> <span class="bp">None</span>

<span class="c1"># ---------- 1) ë¶„ì„: í”¼í´ ì•ˆì˜ ê¸€ë¡œë²Œ ì‹¬ë³¼ ìŠ¤ìº” ----------
</span><span class="k">def</span> <span class="nf">audit_pickle_globals</span><span class="p">(</span><span class="n">pkl_bytes</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">ì–¸í”¼í´ ì—†ì´ GLOBAL/STACK_GLOBAL ì‚¬ìš© ë‚´ì—­ì„ (module.name) ì§‘í•©ìœ¼ë¡œ ë¦¬í„´.</span><span class="sh">"""</span>
    <span class="n">refs</span> <span class="o">=</span> <span class="nf">set</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">op</span><span class="p">,</span> <span class="n">arg</span><span class="p">,</span> <span class="n">pos</span> <span class="ow">in</span> <span class="n">pickletools</span><span class="p">.</span><span class="nf">genops</span><span class="p">(</span><span class="n">pkl_bytes</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">op</span><span class="p">.</span><span class="n">name</span> <span class="ow">in</span> <span class="p">(</span><span class="sh">"</span><span class="s">GLOBAL</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">STACK_GLOBAL</span><span class="sh">"</span><span class="p">):</span>
            <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">arg</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
                <span class="n">mod</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="n">arg</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># For GLOBAL, arg like "module\nname\n"
</span>                <span class="n">parts</span> <span class="o">=</span> <span class="nf">str</span><span class="p">(</span><span class="n">arg</span><span class="p">).</span><span class="nf">split</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="sh">"</span><span class="p">)</span>
                <span class="n">mod</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">refs</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">mod</span><span class="si">}</span><span class="s">.</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">refs</span>

<span class="c1"># ---------- 2) í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ê¸°ë°˜ Restricted Unpickler ----------
</span><span class="k">class</span> <span class="nc">RestrictedUnpickler</span><span class="p">(</span><span class="n">pickle</span><span class="p">.</span><span class="n">Unpickler</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="nb">file</span><span class="p">,</span> <span class="n">allowed</span><span class="p">:</span> <span class="nb">set</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="bp">None</span> <span class="o">=</span> <span class="bp">None</span><span class="p">):</span>
        <span class="nf">super</span><span class="p">().</span><span class="nf">__init__</span><span class="p">(</span><span class="nb">file</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">allowed</span> <span class="o">=</span> <span class="nf">set</span><span class="p">(</span><span class="n">allowed</span> <span class="ow">or</span> <span class="p">[])</span>

    <span class="k">def</span> <span class="nf">find_class</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">module</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">full</span> <span class="o">=</span> <span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">module</span><span class="si">}</span><span class="s">.</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="sh">"</span>
        <span class="c1"># ë¹ŒíŠ¸ì¸ ì»¨í…Œì´ë„ˆ/ì˜ˆì™¸/ê¸°ë³¸ íƒ€ì… ì¼ë¶€ í—ˆìš©
</span>        <span class="n">allowed_builtins</span> <span class="o">=</span> <span class="p">{</span>
            <span class="sh">"</span><span class="s">builtins.set</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">builtins.frozenset</span><span class="sh">"</span><span class="p">,</span>
            <span class="sh">"</span><span class="s">builtins.bytes</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">builtins.bytearray</span><span class="sh">"</span><span class="p">,</span>
            <span class="sh">"</span><span class="s">builtins.complex</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">builtins.Exception</span><span class="sh">"</span><span class="p">,</span>
            <span class="sh">"</span><span class="s">builtins.slice</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">builtins.range</span><span class="sh">"</span><span class="p">,</span>
            <span class="sh">"</span><span class="s">builtins.dict</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">builtins.list</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">builtins.tuple</span><span class="sh">"</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="n">full</span> <span class="ow">in</span> <span class="n">allowed_builtins</span> <span class="ow">or</span> <span class="n">full</span> <span class="ow">in</span> <span class="n">self</span><span class="p">.</span><span class="n">allowed</span><span class="p">:</span>
            <span class="n">mod</span> <span class="o">=</span> <span class="n">importlib</span><span class="p">.</span><span class="nf">import_module</span><span class="p">(</span><span class="n">module</span><span class="p">)</span>
            <span class="k">return</span> <span class="nf">getattr</span><span class="p">(</span><span class="n">mod</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
        <span class="k">raise</span> <span class="n">pickle</span><span class="p">.</span><span class="nc">UnpicklingError</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">forbidden global: </span><span class="si">{</span><span class="n">full</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">restricted_loads</span><span class="p">(</span><span class="n">pkl_bytes</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">allowed</span><span class="p">:</span> <span class="nb">set</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="bp">None</span> <span class="o">=</span> <span class="bp">None</span><span class="p">):</span>
    <span class="k">return</span> <span class="nc">RestrictedUnpickler</span><span class="p">(</span><span class="n">io</span><span class="p">.</span><span class="nc">BytesIO</span><span class="p">(</span><span class="n">pkl_bytes</span><span class="p">),</span> <span class="n">allowed</span><span class="o">=</span><span class="n">allowed</span><span class="p">).</span><span class="nf">load</span><span class="p">()</span>

<span class="c1"># ---------- 3) JSON ì§ë ¬í™”ê¸° ----------
</span><span class="n">JSON_PRIMITIVES</span> <span class="o">=</span> <span class="p">(</span><span class="nf">type</span><span class="p">(</span><span class="bp">None</span><span class="p">),</span> <span class="nb">bool</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">is_primitive</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">JSON_PRIMITIVES</span><span class="p">):</span>
        <span class="c1"># NaN/InfëŠ” allow_nan=Falseì— ë§‰íˆë¯€ë¡œ ë¬¸ìì—´ ì²˜ë¦¬
</span>        <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">math</span><span class="p">.</span><span class="nf">isnan</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="ow">or</span> <span class="n">math</span><span class="p">.</span><span class="nf">isinf</span><span class="p">(</span><span class="n">x</span><span class="p">)):</span>
            <span class="k">return</span> <span class="bp">False</span>
        <span class="c1"># ë„ˆë¬´ í° intëŠ” JSì—ì„œ ì•ˆì „í•˜ì§€ ì•Šì§€ë§Œ JSON ìŠ¤í™ì—” ë¬¸ì œ ì—†ìŒ. í•„ìš”ì‹œ ë¬¸ìì—´í™” ê°€ëŠ¥.
</span>        <span class="k">return</span> <span class="bp">True</span>
    <span class="k">return</span> <span class="bp">False</span>

<span class="k">def</span> <span class="nf">_pattern_type</span><span class="p">():</span>
    <span class="c1"># Py&gt;=3.8: re.Pattern, Py&lt;3.8: type(re.compile(''))
</span>    <span class="n">pat</span> <span class="o">=</span> <span class="nf">getattr</span><span class="p">(</span><span class="n">re</span><span class="p">,</span> <span class="sh">"</span><span class="s">Pattern</span><span class="sh">"</span><span class="p">,</span> <span class="nf">type</span><span class="p">(</span><span class="n">re</span><span class="p">.</span><span class="nf">compile</span><span class="p">(</span><span class="sh">""</span><span class="p">)))</span>
    <span class="k">return</span> <span class="n">pat</span>

<span class="k">def</span> <span class="nf">to_jsonable</span><span class="p">(</span><span class="n">obj</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">seen</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="bp">None</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span> <span class="n">max_depth</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1000</span><span class="p">,</span> <span class="n">_depth</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">ê°ì²´ ê·¸ë˜í”„ë¥¼ JSON ê°€ëŠ¥ êµ¬ì¡°ë¡œ ë³€í™˜(+ ìˆœí™˜/ì°¸ì¡° ë³´ì¡´). ì ˆëŒ€ ì˜ˆì™¸ ë˜ì§€ì§€ ì•ŠìŒ.</span><span class="sh">"""</span>
    <span class="k">if</span> <span class="n">seen</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">seen</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="c1"># ê¹Šì´ ë³´í˜¸
</span>    <span class="k">if</span> <span class="n">_depth</span> <span class="o">&gt;</span> <span class="n">max_depth</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span><span class="sh">"</span><span class="s">$type</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">depth_truncated</span><span class="sh">"</span><span class="p">}</span>

    <span class="c1"># ê¸°ë³¸í˜•
</span>    <span class="k">if</span> <span class="nf">is_primitive</span><span class="p">(</span><span class="n">obj</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">obj</span>

    <span class="n">oid</span> <span class="o">=</span> <span class="nf">id</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
    <span class="c1"># ë¶ˆë³€ì´ì§€ë§Œ í° íŠœí”Œ/í”„ë¦¬ë¯¸í‹°ë¸Œ ì•„ë‹Œ ê°ì²´ì—ë„ idë¥¼ ë¶€ì—¬í•´ ì°¸ì¡° ë³´ì¡´
</span>    <span class="k">if</span> <span class="n">oid</span> <span class="ow">in</span> <span class="n">seen</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span><span class="sh">"</span><span class="s">$ref</span><span class="sh">"</span><span class="p">:</span> <span class="n">seen</span><span class="p">[</span><span class="n">oid</span><span class="p">]}</span>

    <span class="c1"># ìƒˆ ê°ì²´ì— $id í• ë‹¹
</span>    <span class="n">sid</span> <span class="o">=</span> <span class="sa">f</span><span class="sh">"</span><span class="s">obj</span><span class="si">{</span><span class="nf">len</span><span class="p">(</span><span class="n">seen</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="si">}</span><span class="sh">"</span>
    <span class="n">seen</span><span class="p">[</span><span class="n">oid</span><span class="p">]</span> <span class="o">=</span> <span class="n">sid</span>

    <span class="c1"># bytes/bytearray
</span>    <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="p">(</span><span class="nb">bytes</span><span class="p">,</span> <span class="nb">bytearray</span><span class="p">,</span> <span class="nb">memoryview</span><span class="p">)):</span>
        <span class="n">b</span> <span class="o">=</span> <span class="nf">bytes</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">{</span><span class="sh">"</span><span class="s">$id</span><span class="sh">"</span><span class="p">:</span> <span class="n">sid</span><span class="p">,</span> <span class="sh">"</span><span class="s">$type</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">bytes</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">base64</span><span class="sh">"</span><span class="p">:</span> <span class="n">base64</span><span class="p">.</span><span class="nf">b64encode</span><span class="p">(</span><span class="n">b</span><span class="p">).</span><span class="nf">decode</span><span class="p">(</span><span class="sh">"</span><span class="s">ascii</span><span class="sh">"</span><span class="p">),</span> <span class="sh">"</span><span class="s">length</span><span class="sh">"</span><span class="p">:</span> <span class="nf">len</span><span class="p">(</span><span class="n">b</span><span class="p">)}</span>

    <span class="c1"># datetime-like
</span>    <span class="kn">import</span> <span class="n">datetime</span> <span class="k">as</span> <span class="n">_dt</span>
    <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="p">(</span><span class="n">_dt</span><span class="p">.</span><span class="n">datetime</span><span class="p">,</span> <span class="n">_dt</span><span class="p">.</span><span class="n">date</span><span class="p">,</span> <span class="n">_dt</span><span class="p">.</span><span class="n">time</span><span class="p">)):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">iso</span> <span class="o">=</span> <span class="n">obj</span><span class="p">.</span><span class="nf">isoformat</span><span class="p">()</span>
        <span class="k">except</span> <span class="nb">Exception</span><span class="p">:</span>
            <span class="n">iso</span> <span class="o">=</span> <span class="nf">str</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">{</span><span class="sh">"</span><span class="s">$id</span><span class="sh">"</span><span class="p">:</span> <span class="n">sid</span><span class="p">,</span> <span class="sh">"</span><span class="s">$type</span><span class="sh">"</span><span class="p">:</span> <span class="n">obj</span><span class="p">.</span><span class="n">__class__</span><span class="p">.</span><span class="n">__name__</span><span class="p">.</span><span class="nf">lower</span><span class="p">(),</span> <span class="sh">"</span><span class="s">iso</span><span class="sh">"</span><span class="p">:</span> <span class="n">iso</span><span class="p">}</span>

    <span class="c1"># Decimal / UUID / Path
</span>    <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">Decimal</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="sh">"</span><span class="s">$id</span><span class="sh">"</span><span class="p">:</span> <span class="n">sid</span><span class="p">,</span> <span class="sh">"</span><span class="s">$type</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">decimal</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">value</span><span class="sh">"</span><span class="p">:</span> <span class="nf">str</span><span class="p">(</span><span class="n">obj</span><span class="p">)}</span>
    <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">UUID</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="sh">"</span><span class="s">$id</span><span class="sh">"</span><span class="p">:</span> <span class="n">sid</span><span class="p">,</span> <span class="sh">"</span><span class="s">$type</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">uuid</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">value</span><span class="sh">"</span><span class="p">:</span> <span class="nf">str</span><span class="p">(</span><span class="n">obj</span><span class="p">)}</span>
    <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">Path</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="sh">"</span><span class="s">$id</span><span class="sh">"</span><span class="p">:</span> <span class="n">sid</span><span class="p">,</span> <span class="sh">"</span><span class="s">$type</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">path</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">value</span><span class="sh">"</span><span class="p">:</span> <span class="nf">str</span><span class="p">(</span><span class="n">obj</span><span class="p">)}</span>

    <span class="c1"># ì •ê·œì‹ íŒ¨í„´
</span>    <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="nf">_pattern_type</span><span class="p">()):</span>
        <span class="k">return</span> <span class="p">{</span><span class="sh">"</span><span class="s">$id</span><span class="sh">"</span><span class="p">:</span> <span class="n">sid</span><span class="p">,</span> <span class="sh">"</span><span class="s">$type</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">regex</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">pattern</span><span class="sh">"</span><span class="p">:</span> <span class="n">obj</span><span class="p">.</span><span class="n">pattern</span><span class="p">,</span> <span class="sh">"</span><span class="s">flags</span><span class="sh">"</span><span class="p">:</span> <span class="n">obj</span><span class="p">.</span><span class="n">flags</span><span class="p">}</span>

    <span class="c1"># Enum
</span>    <span class="kn">import</span> <span class="n">enum</span> <span class="k">as</span> <span class="n">_enum</span>
    <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">_enum</span><span class="p">.</span><span class="n">Enum</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="sh">"</span><span class="s">$id</span><span class="sh">"</span><span class="p">:</span> <span class="n">sid</span><span class="p">,</span> <span class="sh">"</span><span class="s">$type</span><span class="sh">"</span><span class="p">:</span> <span class="sa">f</span><span class="sh">"</span><span class="s">enum:</span><span class="si">{</span><span class="n">obj</span><span class="p">.</span><span class="n">__class__</span><span class="p">.</span><span class="n">__name__</span><span class="si">}</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">name</span><span class="sh">"</span><span class="p">:</span> <span class="n">obj</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="sh">"</span><span class="s">value</span><span class="sh">"</span><span class="p">:</span> <span class="n">obj</span><span class="p">.</span><span class="n">value</span><span class="p">}</span>

    <span class="c1"># ì˜ˆì™¸
</span>    <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="nb">BaseException</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="sh">"</span><span class="s">$id</span><span class="sh">"</span><span class="p">:</span> <span class="n">sid</span><span class="p">,</span> <span class="sh">"</span><span class="s">$type</span><span class="sh">"</span><span class="p">:</span> <span class="sa">f</span><span class="sh">"</span><span class="s">exception:</span><span class="si">{</span><span class="n">obj</span><span class="p">.</span><span class="n">__class__</span><span class="p">.</span><span class="n">__name__</span><span class="si">}</span><span class="sh">"</span><span class="p">,</span>
            <span class="sh">"</span><span class="s">args</span><span class="sh">"</span><span class="p">:</span> <span class="p">[</span><span class="nf">to_jsonable</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">seen</span><span class="o">=</span><span class="n">seen</span><span class="p">,</span> <span class="n">max_depth</span><span class="o">=</span><span class="n">max_depth</span><span class="p">,</span> <span class="n">_depth</span><span class="o">=</span><span class="n">_depth</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">obj</span><span class="p">.</span><span class="n">args</span><span class="p">],</span>
            <span class="sh">"</span><span class="s">str</span><span class="sh">"</span><span class="p">:</span> <span class="nf">str</span><span class="p">(</span><span class="n">obj</span><span class="p">),</span>
        <span class="p">}</span>

    <span class="c1"># NumPy
</span>    <span class="k">if</span> <span class="n">np</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">np</span><span class="p">.</span><span class="n">ndarray</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">{</span>
                <span class="sh">"</span><span class="s">$id</span><span class="sh">"</span><span class="p">:</span> <span class="n">sid</span><span class="p">,</span> <span class="sh">"</span><span class="s">$type</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">numpy.ndarray</span><span class="sh">"</span><span class="p">,</span>
                <span class="sh">"</span><span class="s">shape</span><span class="sh">"</span><span class="p">:</span> <span class="n">obj</span><span class="p">.</span><span class="n">shape</span><span class="p">,</span> <span class="sh">"</span><span class="s">dtype</span><span class="sh">"</span><span class="p">:</span> <span class="nf">str</span><span class="p">(</span><span class="n">obj</span><span class="p">.</span><span class="n">dtype</span><span class="p">),</span>
                <span class="sh">"</span><span class="s">data</span><span class="sh">"</span><span class="p">:</span> <span class="n">obj</span><span class="p">.</span><span class="nf">tolist</span><span class="p">(),</span>
            <span class="p">}</span>
        <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">np</span><span class="p">.</span><span class="n">generic</span><span class="p">):</span>  <span class="c1"># numpy scalar
</span>            <span class="k">return</span> <span class="n">obj</span><span class="p">.</span><span class="nf">item</span><span class="p">()</span>

    <span class="c1"># pandas
</span>    <span class="k">if</span> <span class="n">pd</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">pd</span><span class="p">.</span><span class="n">DataFrame</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">{</span>
                <span class="sh">"</span><span class="s">$id</span><span class="sh">"</span><span class="p">:</span> <span class="n">sid</span><span class="p">,</span> <span class="sh">"</span><span class="s">$type</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">pandas.DataFrame</span><span class="sh">"</span><span class="p">,</span>
                <span class="sh">"</span><span class="s">columns</span><span class="sh">"</span><span class="p">:</span> <span class="n">obj</span><span class="p">.</span><span class="n">columns</span><span class="p">.</span><span class="nf">tolist</span><span class="p">(),</span>
                <span class="sh">"</span><span class="s">records</span><span class="sh">"</span><span class="p">:</span> <span class="n">obj</span><span class="p">.</span><span class="nf">to_dict</span><span class="p">(</span><span class="n">orient</span><span class="o">=</span><span class="sh">"</span><span class="s">records</span><span class="sh">"</span><span class="p">),</span>
            <span class="p">}</span>
        <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">pd</span><span class="p">.</span><span class="n">Series</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">{</span>
                <span class="sh">"</span><span class="s">$id</span><span class="sh">"</span><span class="p">:</span> <span class="n">sid</span><span class="p">,</span> <span class="sh">"</span><span class="s">$type</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">pandas.Series</span><span class="sh">"</span><span class="p">,</span>
                <span class="sh">"</span><span class="s">name</span><span class="sh">"</span><span class="p">:</span> <span class="n">obj</span><span class="p">.</span><span class="n">name</span><span class="p">,</span>
                <span class="sh">"</span><span class="s">values</span><span class="sh">"</span><span class="p">:</span> <span class="n">obj</span><span class="p">.</span><span class="nf">to_list</span><span class="p">(),</span>
                <span class="sh">"</span><span class="s">index</span><span class="sh">"</span><span class="p">:</span> <span class="n">obj</span><span class="p">.</span><span class="n">index</span><span class="p">.</span><span class="nf">tolist</span><span class="p">(),</span>
            <span class="p">}</span>

    <span class="c1"># torch / tf í…ì„œ (ê°€ëŠ¥í•˜ë©´ ê°’ë§Œ)
</span>    <span class="k">try</span><span class="p">:</span>
        <span class="kn">import</span> <span class="n">torch</span>
        <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">torch</span><span class="p">.</span><span class="n">Tensor</span><span class="p">):</span>
            <span class="n">arr</span> <span class="o">=</span> <span class="n">obj</span><span class="p">.</span><span class="nf">detach</span><span class="p">().</span><span class="nf">cpu</span><span class="p">().</span><span class="nf">numpy</span><span class="p">()</span>
            <span class="k">return</span> <span class="p">{</span><span class="sh">"</span><span class="s">$id</span><span class="sh">"</span><span class="p">:</span> <span class="n">sid</span><span class="p">,</span> <span class="sh">"</span><span class="s">$type</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">torch.Tensor</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">shape</span><span class="sh">"</span><span class="p">:</span> <span class="nf">list</span><span class="p">(</span><span class="n">arr</span><span class="p">.</span><span class="n">shape</span><span class="p">),</span> <span class="sh">"</span><span class="s">dtype</span><span class="sh">"</span><span class="p">:</span> <span class="nf">str</span><span class="p">(</span><span class="n">arr</span><span class="p">.</span><span class="n">dtype</span><span class="p">),</span> <span class="sh">"</span><span class="s">data</span><span class="sh">"</span><span class="p">:</span> <span class="n">arr</span><span class="p">.</span><span class="nf">tolist</span><span class="p">()}</span>
    <span class="k">except</span> <span class="nb">Exception</span><span class="p">:</span>
        <span class="k">pass</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="kn">import</span> <span class="n">tensorflow</span> <span class="k">as</span> <span class="n">tf</span>
        <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="p">(</span><span class="n">tf</span><span class="p">.</span><span class="n">Tensor</span><span class="p">,)):</span>
            <span class="n">arr</span> <span class="o">=</span> <span class="n">obj</span><span class="p">.</span><span class="nf">numpy</span><span class="p">()</span>
            <span class="k">return</span> <span class="p">{</span><span class="sh">"</span><span class="s">$id</span><span class="sh">"</span><span class="p">:</span> <span class="n">sid</span><span class="p">,</span> <span class="sh">"</span><span class="s">$type</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">tf.Tensor</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">shape</span><span class="sh">"</span><span class="p">:</span> <span class="nf">list</span><span class="p">(</span><span class="n">arr</span><span class="p">.</span><span class="n">shape</span><span class="p">),</span> <span class="sh">"</span><span class="s">dtype</span><span class="sh">"</span><span class="p">:</span> <span class="nf">str</span><span class="p">(</span><span class="n">arr</span><span class="p">.</span><span class="n">dtype</span><span class="p">),</span> <span class="sh">"</span><span class="s">data</span><span class="sh">"</span><span class="p">:</span> <span class="n">arr</span><span class="p">.</span><span class="nf">tolist</span><span class="p">()}</span>
    <span class="k">except</span> <span class="nb">Exception</span><span class="p">:</span>
        <span class="k">pass</span>

    <span class="c1"># set / frozenset
</span>    <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="p">(</span><span class="nb">set</span><span class="p">,</span> <span class="nb">frozenset</span><span class="p">)):</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="sh">"</span><span class="s">$id</span><span class="sh">"</span><span class="p">:</span> <span class="n">sid</span><span class="p">,</span> <span class="sh">"</span><span class="s">$type</span><span class="sh">"</span><span class="p">:</span> <span class="n">obj</span><span class="p">.</span><span class="n">__class__</span><span class="p">.</span><span class="n">__name__</span><span class="p">,</span>
            <span class="sh">"</span><span class="s">items</span><span class="sh">"</span><span class="p">:</span> <span class="p">[</span><span class="nf">to_jsonable</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">seen</span><span class="o">=</span><span class="n">seen</span><span class="p">,</span> <span class="n">max_depth</span><span class="o">=</span><span class="n">max_depth</span><span class="p">,</span> <span class="n">_depth</span><span class="o">=</span><span class="n">_depth</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">obj</span><span class="p">],</span>
        <span class="p">}</span>

    <span class="c1"># tuple / list
</span>    <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)):</span>
        <span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="nf">to_jsonable</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">seen</span><span class="o">=</span><span class="n">seen</span><span class="p">,</span> <span class="n">max_depth</span><span class="o">=</span><span class="n">max_depth</span><span class="p">,</span> <span class="n">_depth</span><span class="o">=</span><span class="n">_depth</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">obj</span><span class="p">]</span>
        <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">{</span><span class="sh">"</span><span class="s">$id</span><span class="sh">"</span><span class="p">:</span> <span class="n">sid</span><span class="p">,</span> <span class="sh">"</span><span class="s">$type</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">tuple</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">items</span><span class="sh">"</span><span class="p">:</span> <span class="n">items</span><span class="p">}</span>
        <span class="k">return</span> <span class="n">items</span>  <span class="c1"># listëŠ” í”íˆ ê·¸ëŒ€ë¡œ
</span>
    <span class="c1"># dict / mapping
</span>    <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
        <span class="c1"># ëª¨ë“  í‚¤ê°€ ë¬¸ìì—´ì´ë©´ í‰ë²”í•œ dict ìœ ì§€
</span>        <span class="k">if</span> <span class="nf">all</span><span class="p">(</span><span class="nf">isinstance</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">obj</span><span class="p">.</span><span class="nf">keys</span><span class="p">()):</span>
            <span class="k">return</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="nf">to_jsonable</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">seen</span><span class="o">=</span><span class="n">seen</span><span class="p">,</span> <span class="n">max_depth</span><span class="o">=</span><span class="n">max_depth</span><span class="p">,</span> <span class="n">_depth</span><span class="o">=</span><span class="n">_depth</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">obj</span><span class="p">.</span><span class="nf">items</span><span class="p">()}</span>
        <span class="c1"># ì•„ë‹ˆë©´ entriesë¡œ ë³´ì¡´
</span>        <span class="k">return</span> <span class="p">{</span>
            <span class="sh">"</span><span class="s">$id</span><span class="sh">"</span><span class="p">:</span> <span class="n">sid</span><span class="p">,</span> <span class="sh">"</span><span class="s">$type</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">dict</span><span class="sh">"</span><span class="p">,</span>
            <span class="sh">"</span><span class="s">entries</span><span class="sh">"</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">[</span><span class="nf">to_jsonable</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">seen</span><span class="o">=</span><span class="n">seen</span><span class="p">,</span> <span class="n">max_depth</span><span class="o">=</span><span class="n">max_depth</span><span class="p">,</span> <span class="n">_depth</span><span class="o">=</span><span class="n">_depth</span><span class="o">+</span><span class="mi">1</span><span class="p">),</span>
                 <span class="nf">to_jsonable</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">seen</span><span class="o">=</span><span class="n">seen</span><span class="p">,</span> <span class="n">max_depth</span><span class="o">=</span><span class="n">max_depth</span><span class="p">,</span> <span class="n">_depth</span><span class="o">=</span><span class="n">_depth</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span>
                <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">obj</span><span class="p">.</span><span class="nf">items</span><span class="p">()</span>
            <span class="p">],</span>
        <span class="p">}</span>

    <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">OrderedDict</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="sh">"</span><span class="s">$id</span><span class="sh">"</span><span class="p">:</span> <span class="n">sid</span><span class="p">,</span> <span class="sh">"</span><span class="s">$type</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">OrderedDict</span><span class="sh">"</span><span class="p">,</span>
            <span class="sh">"</span><span class="s">entries</span><span class="sh">"</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">[</span><span class="nf">to_jsonable</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">seen</span><span class="o">=</span><span class="n">seen</span><span class="p">,</span> <span class="n">max_depth</span><span class="o">=</span><span class="n">max_depth</span><span class="p">,</span> <span class="n">_depth</span><span class="o">=</span><span class="n">_depth</span><span class="o">+</span><span class="mi">1</span><span class="p">),</span>
                 <span class="nf">to_jsonable</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">seen</span><span class="o">=</span><span class="n">seen</span><span class="p">,</span> <span class="n">max_depth</span><span class="o">=</span><span class="n">max_depth</span><span class="p">,</span> <span class="n">_depth</span><span class="o">=</span><span class="n">_depth</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span>
                <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">obj</span><span class="p">.</span><span class="nf">items</span><span class="p">()</span>
            <span class="p">],</span>
        <span class="p">}</span>

    <span class="c1"># dataclass / attrs / pydantic / ì‚¬ìš©ì ì •ì˜ í´ë˜ìŠ¤
</span>    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># dataclass
</span>        <span class="k">if</span> <span class="nf">is_dataclass</span><span class="p">(</span><span class="n">obj</span><span class="p">):</span>
            <span class="n">payload</span> <span class="o">=</span> <span class="nf">asdict</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
            <span class="k">return</span> <span class="p">{</span><span class="sh">"</span><span class="s">$id</span><span class="sh">"</span><span class="p">:</span> <span class="n">sid</span><span class="p">,</span> <span class="sh">"</span><span class="s">$type</span><span class="sh">"</span><span class="p">:</span> <span class="n">obj</span><span class="p">.</span><span class="n">__class__</span><span class="p">.</span><span class="n">__name__</span><span class="p">,</span> <span class="sh">"</span><span class="s">fields</span><span class="sh">"</span><span class="p">:</span>
                    <span class="nf">to_jsonable</span><span class="p">(</span><span class="n">payload</span><span class="p">,</span> <span class="n">seen</span><span class="o">=</span><span class="n">seen</span><span class="p">,</span> <span class="n">max_depth</span><span class="o">=</span><span class="n">max_depth</span><span class="p">,</span> <span class="n">_depth</span><span class="o">=</span><span class="n">_depth</span><span class="o">+</span><span class="mi">1</span><span class="p">)}</span>
    <span class="k">except</span> <span class="nb">Exception</span><span class="p">:</span>
        <span class="k">pass</span>

    <span class="c1"># attrs
</span>    <span class="k">try</span><span class="p">:</span>
        <span class="kn">import</span> <span class="n">attr</span>
        <span class="k">if</span> <span class="n">attr</span><span class="p">.</span><span class="nf">has</span><span class="p">(</span><span class="n">obj</span><span class="p">.</span><span class="n">__class__</span><span class="p">):</span>
            <span class="n">payload</span> <span class="o">=</span> <span class="n">attr</span><span class="p">.</span><span class="nf">asdict</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">recurse</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
            <span class="k">return</span> <span class="p">{</span><span class="sh">"</span><span class="s">$id</span><span class="sh">"</span><span class="p">:</span> <span class="n">sid</span><span class="p">,</span> <span class="sh">"</span><span class="s">$type</span><span class="sh">"</span><span class="p">:</span> <span class="n">obj</span><span class="p">.</span><span class="n">__class__</span><span class="p">.</span><span class="n">__name__</span><span class="p">,</span> <span class="sh">"</span><span class="s">fields</span><span class="sh">"</span><span class="p">:</span>
                    <span class="nf">to_jsonable</span><span class="p">(</span><span class="n">payload</span><span class="p">,</span> <span class="n">seen</span><span class="o">=</span><span class="n">seen</span><span class="p">,</span> <span class="n">max_depth</span><span class="o">=</span><span class="n">max_depth</span><span class="p">,</span> <span class="n">_depth</span><span class="o">=</span><span class="n">_depth</span><span class="o">+</span><span class="mi">1</span><span class="p">)}</span>
    <span class="k">except</span> <span class="nb">Exception</span><span class="p">:</span>
        <span class="k">pass</span>

    <span class="c1"># pydantic
</span>    <span class="k">if</span> <span class="nf">hasattr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="sh">"</span><span class="s">model_dump</span><span class="sh">"</span><span class="p">)</span> <span class="ow">and</span> <span class="nf">callable</span><span class="p">(</span><span class="nf">getattr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="sh">"</span><span class="s">model_dump</span><span class="sh">"</span><span class="p">)):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">payload</span> <span class="o">=</span> <span class="n">obj</span><span class="p">.</span><span class="nf">model_dump</span><span class="p">()</span>
            <span class="k">return</span> <span class="p">{</span><span class="sh">"</span><span class="s">$id</span><span class="sh">"</span><span class="p">:</span> <span class="n">sid</span><span class="p">,</span> <span class="sh">"</span><span class="s">$type</span><span class="sh">"</span><span class="p">:</span> <span class="n">obj</span><span class="p">.</span><span class="n">__class__</span><span class="p">.</span><span class="n">__name__</span><span class="p">,</span> <span class="sh">"</span><span class="s">fields</span><span class="sh">"</span><span class="p">:</span>
                    <span class="nf">to_jsonable</span><span class="p">(</span><span class="n">payload</span><span class="p">,</span> <span class="n">seen</span><span class="o">=</span><span class="n">seen</span><span class="p">,</span> <span class="n">max_depth</span><span class="o">=</span><span class="n">max_depth</span><span class="p">,</span> <span class="n">_depth</span><span class="o">=</span><span class="n">_depth</span><span class="o">+</span><span class="mi">1</span><span class="p">)}</span>
        <span class="k">except</span> <span class="nb">Exception</span><span class="p">:</span>
            <span class="k">pass</span>

    <span class="c1"># ì»¤ìŠ¤í…€ ë©”ì„œë“œë“¤
</span>    <span class="k">for</span> <span class="n">meth</span> <span class="ow">in</span> <span class="p">(</span><span class="sh">"</span><span class="s">__json__</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">to_json</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">to_dict</span><span class="sh">"</span><span class="p">):</span>
        <span class="n">fn</span> <span class="o">=</span> <span class="nf">getattr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">meth</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="nf">callable</span><span class="p">(</span><span class="n">fn</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">payload</span> <span class="o">=</span> <span class="nf">fn</span><span class="p">()</span>
                <span class="k">return</span> <span class="p">{</span><span class="sh">"</span><span class="s">$id</span><span class="sh">"</span><span class="p">:</span> <span class="n">sid</span><span class="p">,</span> <span class="sh">"</span><span class="s">$type</span><span class="sh">"</span><span class="p">:</span> <span class="n">obj</span><span class="p">.</span><span class="n">__class__</span><span class="p">.</span><span class="n">__name__</span><span class="p">,</span> <span class="sh">"</span><span class="s">fields</span><span class="sh">"</span><span class="p">:</span>
                        <span class="nf">to_jsonable</span><span class="p">(</span><span class="n">payload</span><span class="p">,</span> <span class="n">seen</span><span class="o">=</span><span class="n">seen</span><span class="p">,</span> <span class="n">max_depth</span><span class="o">=</span><span class="n">max_depth</span><span class="p">,</span> <span class="n">_depth</span><span class="o">=</span><span class="n">_depth</span><span class="o">+</span><span class="mi">1</span><span class="p">)}</span>
            <span class="k">except</span> <span class="nb">Exception</span><span class="p">:</span>
                <span class="k">pass</span>

    <span class="c1"># __getstate__ / __dict__
</span>    <span class="n">state</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="k">if</span> <span class="nf">hasattr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="sh">"</span><span class="s">__getstate__</span><span class="sh">"</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">state</span> <span class="o">=</span> <span class="n">obj</span><span class="p">.</span><span class="nf">__getstate__</span><span class="p">()</span>
        <span class="k">except</span> <span class="nb">Exception</span><span class="p">:</span>
            <span class="n">state</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="k">if</span> <span class="n">state</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span> <span class="nf">hasattr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="sh">"</span><span class="s">__dict__</span><span class="sh">"</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">state</span> <span class="o">=</span> <span class="nf">dict</span><span class="p">(</span><span class="n">obj</span><span class="p">.</span><span class="n">__dict__</span><span class="p">)</span>
        <span class="k">except</span> <span class="nb">Exception</span><span class="p">:</span>
            <span class="n">state</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="k">if</span> <span class="n">state</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span><span class="sh">"</span><span class="s">$id</span><span class="sh">"</span><span class="p">:</span> <span class="n">sid</span><span class="p">,</span> <span class="sh">"</span><span class="s">$type</span><span class="sh">"</span><span class="p">:</span> <span class="n">obj</span><span class="p">.</span><span class="n">__class__</span><span class="p">.</span><span class="n">__name__</span><span class="p">,</span> <span class="sh">"</span><span class="s">state</span><span class="sh">"</span><span class="p">:</span>
                <span class="nf">to_jsonable</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">seen</span><span class="o">=</span><span class="n">seen</span><span class="p">,</span> <span class="n">max_depth</span><span class="o">=</span><span class="n">max_depth</span><span class="p">,</span> <span class="n">_depth</span><span class="o">=</span><span class="n">_depth</span><span class="o">+</span><span class="mi">1</span><span class="p">)}</span>

    <span class="c1"># ë§ˆì§€ë§‰ ì•ˆì „íŒ
</span>    <span class="k">try</span><span class="p">:</span>
        <span class="n">rep</span> <span class="o">=</span> <span class="nf">repr</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
    <span class="k">except</span> <span class="nb">Exception</span><span class="p">:</span>
        <span class="n">rep</span> <span class="o">=</span> <span class="sa">f</span><span class="sh">"</span><span class="s">&lt;unreprable </span><span class="si">{</span><span class="n">obj</span><span class="p">.</span><span class="n">__class__</span><span class="p">.</span><span class="n">__name__</span><span class="si">}</span><span class="s">&gt;</span><span class="sh">"</span>
    <span class="k">return</span> <span class="p">{</span><span class="sh">"</span><span class="s">$id</span><span class="sh">"</span><span class="p">:</span> <span class="n">sid</span><span class="p">,</span> <span class="sh">"</span><span class="s">$type</span><span class="sh">"</span><span class="p">:</span> <span class="n">obj</span><span class="p">.</span><span class="n">__class__</span><span class="p">.</span><span class="n">__name__</span><span class="p">,</span> <span class="sh">"</span><span class="s">repr</span><span class="sh">"</span><span class="p">:</span> <span class="n">rep</span><span class="p">,</span> <span class="sh">"</span><span class="s">$error</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">fallback_repr</span><span class="sh">"</span><span class="p">}</span>

<span class="c1"># ---------- 4) ìµœì¢… ìœ í‹¸ ----------
</span><span class="k">def</span> <span class="nf">pickle_to_json_bytes</span><span class="p">(</span><span class="n">pkl_bytes</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">mode</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="sh">"</span><span class="s">safe</span><span class="sh">"</span><span class="p">,</span> <span class="n">allow</span><span class="p">:</span> <span class="nb">set</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="bp">None</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span>
                         <span class="n">ensure_ascii</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bytes</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">mode</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="sh">"</span><span class="s">safe</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">trusted</span><span class="sh">"</span><span class="p">):</span>
        <span class="k">raise</span> <span class="nc">ValueError</span><span class="p">(</span><span class="sh">"</span><span class="s">mode must be </span><span class="sh">'</span><span class="s">safe</span><span class="sh">'</span><span class="s"> or </span><span class="sh">'</span><span class="s">trusted</span><span class="sh">'"</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">mode</span> <span class="o">==</span> <span class="sh">"</span><span class="s">safe</span><span class="sh">"</span><span class="p">:</span>
        <span class="c1"># ì‚¬ì „ ì ê²€: ì–´ë–¤ í´ë˜ìŠ¤ê°€ í•„ìš”í•œì§€
</span>        <span class="n">needed</span> <span class="o">=</span> <span class="nf">audit_pickle_globals</span><span class="p">(</span><span class="n">pkl_bytes</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">allow</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">allow</span> <span class="o">=</span> <span class="nf">set</span><span class="p">(</span><span class="n">allow</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">allow</span> <span class="o">=</span> <span class="nf">set</span><span class="p">()</span>
        <span class="c1"># numpy/pandas ë“± ìë™ í—ˆìš© (ìˆì„ ë•Œ)
</span>        <span class="k">if</span> <span class="n">np</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">allow</span><span class="p">.</span><span class="nf">update</span><span class="p">({</span><span class="sh">"</span><span class="s">numpy.ndarray</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">numpy.dtype</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">numpy.core.numeric.complexfloating</span><span class="sh">"</span><span class="p">})</span>
        <span class="k">if</span> <span class="n">pd</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">allow</span><span class="p">.</span><span class="nf">update</span><span class="p">({</span><span class="sh">"</span><span class="s">pandas.core.frame.DataFrame</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">pandas.core.series.Series</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">pandas.core.indexes.base.Index</span><span class="sh">"</span><span class="p">})</span>
        <span class="c1"># í•„ìš”í•˜ì§€ë§Œ í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ì— ì—†ëŠ” ê²ƒ ìˆìœ¼ë©´ ê²½ê³ (ì—¬ê¸°ì„  ì˜ˆì™¸ë¡œ ëª…í™•íˆ)
</span>        <span class="n">missing</span> <span class="o">=</span> <span class="n">needed</span> <span class="o">-</span> <span class="n">allow</span> <span class="o">-</span> <span class="p">{</span>
            <span class="c1"># ì¢…ì¢… í”¼í´ ìŠ¤íŠ¸ë¦¼ì— ë“±ì¥í•˜ëŠ” builtins/eval ë³´ì¡°ë“¤ (ì´ë¯¸ Restrictedì—ì„œ ê¸°ë³¸ ê±°ë¦„)
</span>        <span class="p">}</span>
        <span class="c1"># ì‹¤ì œë¡œëŠ” ì‚¬ìš©ìì—ê²Œ ë¦¬ìŠ¤íŠ¸ë¥¼ ë³´ì—¬ì£¼ê³  ìŠ¹ì¸ë°›ëŠ” ê²Œ ê°€ì¥ ì•ˆì „
</span>        <span class="c1"># ì—¬ê¸°ì„œëŠ” 'í—ˆìš© ì•ˆ ëœ ì‹¬ë³¼ì´ ìˆë‹¤'ë©´ ì‹¤íŒ¨ ì²˜ë¦¬
</span>        <span class="k">if</span> <span class="n">missing</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">pickle</span><span class="p">.</span><span class="nc">UnpicklingError</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Unapproved classes in pickle: </span><span class="si">{</span><span class="nf">sorted</span><span class="p">(</span><span class="n">missing</span><span class="p">)</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>

        <span class="n">obj</span> <span class="o">=</span> <span class="nf">restricted_loads</span><span class="p">(</span><span class="n">pkl_bytes</span><span class="p">,</span> <span class="n">allowed</span><span class="o">=</span><span class="n">allow</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># trusted
</span>        <span class="n">obj</span> <span class="o">=</span> <span class="n">pickle</span><span class="p">.</span><span class="nf">loads</span><span class="p">(</span><span class="n">pkl_bytes</span><span class="p">)</span>

    <span class="n">jsonable</span> <span class="o">=</span> <span class="nf">to_jsonable</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
    <span class="n">txt</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="nf">dumps</span><span class="p">(</span><span class="n">jsonable</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="n">ensure_ascii</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="n">indent</span><span class="p">,</span> <span class="n">allow_nan</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
    <span class="c1"># ì—­íŒŒì‹± ê²€ì¦
</span>    <span class="n">json</span><span class="p">.</span><span class="nf">loads</span><span class="p">(</span><span class="n">txt</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">txt</span><span class="p">.</span><span class="nf">encode</span><span class="p">(</span><span class="sh">"</span><span class="s">utf-8</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># ---------- 5) CLI ----------
</span><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="kn">import</span> <span class="n">argparse</span><span class="p">,</span> <span class="n">os</span>
    <span class="n">ap</span> <span class="o">=</span> <span class="n">argparse</span><span class="p">.</span><span class="nc">ArgumentParser</span><span class="p">()</span>
    <span class="n">ap</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span><span class="sh">"</span><span class="s">input</span><span class="sh">"</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="sh">"</span><span class="s">input .pkl file</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">ap</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span><span class="sh">"</span><span class="s">output</span><span class="sh">"</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="sh">"</span><span class="s">output .json file</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">ap</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span><span class="sh">"</span><span class="s">--mode</span><span class="sh">"</span><span class="p">,</span> <span class="n">choices</span><span class="o">=</span><span class="p">[</span><span class="sh">"</span><span class="s">safe</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">trusted</span><span class="sh">"</span><span class="p">],</span> <span class="n">default</span><span class="o">=</span><span class="sh">"</span><span class="s">safe</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">ap</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span><span class="sh">"</span><span class="s">--allow</span><span class="sh">"</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="sh">"</span><span class="s">append</span><span class="sh">"</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="p">[],</span> <span class="n">help</span><span class="o">=</span><span class="sh">"</span><span class="s">extra allowed </span><span class="sh">'</span><span class="s">module.Class</span><span class="sh">'</span><span class="s"> (repeatable)</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">ap</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span><span class="sh">"</span><span class="s">--no-indent</span><span class="sh">"</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="sh">"</span><span class="s">store_true</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">args</span> <span class="o">=</span> <span class="n">ap</span><span class="p">.</span><span class="nf">parse_args</span><span class="p">()</span>

    <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="n">args</span><span class="p">.</span><span class="nb">input</span><span class="p">,</span> <span class="sh">"</span><span class="s">rb</span><span class="sh">"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">pkl</span> <span class="o">=</span> <span class="n">f</span><span class="p">.</span><span class="nf">read</span><span class="p">()</span>

    <span class="n">indent</span> <span class="o">=</span> <span class="bp">None</span> <span class="k">if</span> <span class="n">args</span><span class="p">.</span><span class="n">no_indent</span> <span class="k">else</span> <span class="mi">2</span>
    <span class="n">out</span> <span class="o">=</span> <span class="nf">pickle_to_json_bytes</span><span class="p">(</span><span class="n">pkl</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="n">args</span><span class="p">.</span><span class="n">mode</span><span class="p">,</span> <span class="n">allow</span><span class="o">=</span><span class="nf">set</span><span class="p">(</span><span class="n">args</span><span class="p">.</span><span class="n">allow</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="n">indent</span><span class="p">)</span>

    <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="n">args</span><span class="p">.</span><span class="n">output</span><span class="p">,</span> <span class="sh">"</span><span class="s">wb</span><span class="sh">"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">f</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="n">out</span><span class="p">)</span>

    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Wrote </span><span class="si">{</span><span class="n">args</span><span class="p">.</span><span class="n">output</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="sh">"</span><span class="s">__main__</span><span class="sh">"</span><span class="p">:</span>
    <span class="nf">main</span><span class="p">()</span>
</code></pre></div></div>

<h2 id="ì‚¬ìš©-ì˜ˆ">ì‚¬ìš© ì˜ˆ</h2>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 1) ë¨¼ì € ì–´ë–¤ í´ë˜ìŠ¤ê°€ í•„ìš”í•œì§€ í™•ì¸ë§Œ í•´ë³´ë ¤ë©´ (ìŠ¤í¬ë¦½íŠ¸ ìˆ˜ì • ì—†ì´ ê°„ë‹¨ í™•ì¸)</span>
python <span class="nt">-c</span> <span class="s2">"import sys, pickletools; import pathlib; p=pathlib.Path(sys.argv[1]).read_bytes(); </span><span class="se">\</span><span class="s2">
print({(a.split('</span><span class="se">\n</span><span class="s2">')[0]+'.'+a.split('</span><span class="se">\n</span><span class="s2">')[1]) for (op,a,_) in pickletools.genops(p) if op.name in ('GLOBAL','STACK_GLOBAL')})"</span> mydata.pkl

<span class="c"># 2) ì•ˆì „ ëª¨ë“œì—ì„œ í—ˆìš© í´ë˜ìŠ¤ ì§€ì • í›„ ë³€í™˜</span>
python pickle_to_json.py mydata.pkl mydata.json <span class="nt">--mode</span> safe <span class="nt">--allow</span> mypkg.models.User <span class="nt">--allow</span> mypkg.models.Order

<span class="c"># 3) ì‹ ë¢° ëª¨ë“œ(ì¶œì²˜ê°€ í™•ì‹¤í•  ë•Œë§Œ)</span>
python pickle_to_json.py mydata.pkl mydata.json <span class="nt">--mode</span> trusted
</code></pre></div></div>

<hr />

<h1 id="ì‹¤ë¬´-íŒ-ì—ëŸ¬-ìµœì†Œí™”-í¬ì¸íŠ¸">ì‹¤ë¬´ íŒ (ì—ëŸ¬ ìµœì†Œí™” í¬ì¸íŠ¸)</h1>

<ol>
  <li>
    <p><strong>í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ëŠ” ì ì§„ì ìœ¼ë¡œ ë„“í˜€ë¼</strong><br />
ë¨¼ì € â€œë§‰ê³  â†’ í•„ìš”í•œ ê²ƒë§Œ í—ˆìš©â€ì´ ì•ˆì „í•˜ê³ , ì—ëŸ¬ë„ ì°¾ê¸° ì‰½ë‹¤. í—ˆìš©í•  ë•ŒëŠ” <strong>ì •í™•í•œ í’€ë„¤ì„(module.Class)</strong> ë¡œ.</p>
  </li>
  <li>
    <p><strong>ì»¤ìŠ¤í…€ í´ë˜ìŠ¤ì—<code class="language-plaintext highlighter-rouge">__json__</code> ë˜ëŠ” <code class="language-plaintext highlighter-rouge">to_dict()</code> ì¶”ê°€</strong><br />
í”„ë¡œì íŠ¸ ë‚´ë¶€ í´ë˜ìŠ¤ë¼ë©´ ì—¬ê¸°ì— ì§ë ¬í™” ê·œì¹™ì„ ë„£ì–´ë‘ë©´, ë³€í™˜ê¸°ê°€ ì•Œì•„ì„œ í˜¸ì¶œí•˜ë¯€ë¡œ ì‹¤íŒ¨ìœ¨ì´ í¬ê²Œ ì¤€ë‹¤.</p>
  </li>
  <li>
    <p><strong>ìˆœí™˜ ì°¸ì¡°ê°€ ë§ì€ ê·¸ë˜í”„ëŠ”<code class="language-plaintext highlighter-rouge">$id/$ref</code> ìŠ¤í‚´ í•„ìˆ˜</strong><br />
JSON ìˆœí™˜ì€ ë¶ˆê°€í•˜ë‹ˆ, ìœ„ ìŠ¤í‚´ ê°™ì€ <strong>ì°¸ì¡° í‘œí˜„</strong> ì„ ë°˜ë“œì‹œ ë„ì…í•´ì•¼ ë°ì´í„° ì†ì‹¤/ì˜¤ë¥˜ê°€ ì—†ë‹¤.</p>
  </li>
  <li>
    <p><strong>ê±°ëŒ€í•œ ë°°ì—´/ë°ì´í„°í”„ë ˆì„ì€ ë³„ë„ íŒŒì¼ ê³ ë ¤</strong><br />
JSONì€ ìš©ëŸ‰/ì†ë„ì— ì•½í•˜ë‹¤. ì •ë§ í¬ë©´ <code class="language-plaintext highlighter-rouge">.npy</code>ë‚˜ <code class="language-plaintext highlighter-rouge">.parquet</code>ë¥¼ <strong>ì‚¬ì´ë“œì¹´</strong> ë¡œ ì €ì¥í•˜ê³  JSONì—ëŠ” ë©”íƒ€/ê²½ë¡œë§Œ ë„£ëŠ” ì „ëµì´ ì¢‹ë‹¤.</p>
  </li>
  <li>
    <p><strong>ë¤í”„ ì „ì— ë³€í™˜ë§Œ ë¨¼ì € ì‹¤í–‰í•´ë³´ê¸°</strong><br />
<code class="language-plaintext highlighter-rouge">to_jsonable(obj)</code> ê²°ê³¼ë¥¼ í•œ ë²ˆ ì°ì–´ë³´ë©´ ì–´ë–¤ íƒ€ì…ì´ ì–´ë–»ê²Œ ë‚˜ì˜¤ëŠ”ì§€ ë°”ë¡œ íŒŒì•… ê°€ëŠ¥. ì‹¤íŒ¨ ì§€ì ì´ ë“œëŸ¬ë‚œë‹¤.</p>
  </li>
  <li>
    <p><strong>ë¡œìŠ¤ë¦¬ìŠ¤ê°€ ì¤‘ìš”í•˜ë©´ íƒ€ì… ë©”íƒ€ë¥¼ ê¼­ ë‚¨ê²¨ë¼</strong><br />
<code class="language-plaintext highlighter-rouge">"$type"</code>, <code class="language-plaintext highlighter-rouge">shape</code>, <code class="language-plaintext highlighter-rouge">dtype</code> ê°™ì€ ë©”íƒ€ê°€ ì¬êµ¬ì„±ì— í•„ìˆ˜ë‹¤.</p>
  </li>
  <li>
    <p><strong>í…ŒìŠ¤íŠ¸</strong></p>

    <ul>
      <li>
        <p>ì‘ì€ ìƒ˜í”Œ í”¼í´ë¡œ ì‹œì‘ â†’ ì ì§„ í™•ëŒ€</p>
      </li>
      <li>
        <p><code class="language-plaintext highlighter-rouge">json.loads(dumps(...))</code> ì—­íŒŒì‹± ê²€ì¦</p>
      </li>
      <li>
        <p>ëŒ€í‘œ ì¼€ì´ìŠ¤: set/tuple/bytes/datetime/enum/numpy/pandas/ì»¤ìŠ¤í…€ í´ë˜ìŠ¤ë¥¼ ëª¨ë‘ í¬í•¨í•˜ëŠ” í•©ì„± í…ŒìŠ¤íŠ¸</p>
      </li>
    </ul>
  </li>
</ol>

<hr />

<p>ì›í•˜ë©´ ìœ„ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë„¤ ìƒí™©ì— ë§ê²Œ ë” ìµœì†Œ/ê°„ê²°í™”í•˜ê±°ë‚˜, <code class="language-plaintext highlighter-rouge">jsonpickle</code>ì„ í™œìš©í•œ ì´ˆê°„ë‹¨ ë²„ì „ë„ ë§Œë“¤ì–´ì¤„ê²Œ.</p>

<p class="chat--user">

1. ê·¸ëƒ¥ ëª¨ë“ ê±¸ trustë¡œ í•˜ê³  ì‹¶ì–´. ëª¨ë‘ ë‚´ê°€ ë§Œë“  íŒŒì¼ë“¤ì´ì•¼. 2. ì§ˆë¬¸. íŒŒì´ì¬ ë²„ì „ì€ ìƒê´€ ì—†ì„ê¹Œ? 3. jsonpickleì„ ì‚¬ìš©í•´ì„œ ê°„ë‹¨í•´ì§„ë‹¤ë©´ ê·¸ë ‡ê²Œ í•´ì¤˜

</p>

<p>ì¢‹ì•„! ë„¤ 3ê°€ì§€ ì¡°ê±´(1. ì „ë¶€ trust ëª¨ë“œ, 2. íŒŒì´ì¬ ë²„ì „ ì´ìŠˆ, 3. jsonpickleë¡œ ê°„ë‹¨íˆ) ê¸°ì¤€ìœ¼ë¡œ, ì—ëŸ¬ë¥¼ ìµœì†Œí™”í•˜ëŠ” <strong>ì‹¤ì „ìš© ì ˆì°¨ + ë°”ë¡œ ì“¸ ìˆ˜ ìˆëŠ” ìŠ¤í¬ë¦½íŠ¸</strong> ê¹Œì§€ ì¤€ë¹„í–ˆì–´.</p>

<h1 id="step-by-step">Step by Step</h1>

<h2 id="1-ì „ëµ-ìš”ì•½-trust-ëª¨ë“œ">1) ì „ëµ ìš”ì•½ (Trust ëª¨ë“œ)</h2>

<ul>
  <li>
    <p><strong>ì „ì œ</strong> : í”¼í´ì€ ì „ë¶€ ë„¤ê°€ ë§Œë“  íŒŒì¼ â†’ <code class="language-plaintext highlighter-rouge">pickle.load</code>ë¡œ ê³§ë°”ë¡œ ë¡œë“œí•˜ê³ , ê·¸ ê°ì²´ë¥¼ <strong>jsonpickle</strong> ë¡œ JSON ë³€í™˜.</p>
  </li>
  <li>
    <p><strong>ì´ì </strong> : ì»¤ìŠ¤í…€ í´ë˜ìŠ¤/ìˆœí™˜ ì°¸ì¡°/ê³µìœ  ì°¸ì¡°ë¥¼ jsonpickleì´ ìë™ ì²˜ë¦¬(<code class="language-plaintext highlighter-rouge">py/object</code>, <code class="language-plaintext highlighter-rouge">py/id</code>, <code class="language-plaintext highlighter-rouge">py/ref</code> ë©”íƒ€).</p>
  </li>
  <li>
    <p><strong>ì„ íƒì§€</strong> :</p>

    <ul>
      <li>
        <p>íƒ€ì… ë³µì› ë©”íƒ€ í¬í•¨(ê¸°ë³¸): <code class="language-plaintext highlighter-rouge">unpicklable=True</code> â†’ ë¡œìŠ¤ë¦¬ìŠ¤ì— ê°€ê¹Œìš´ í‘œí˜„.</p>
      </li>
      <li>
        <p><strong>ìˆœìˆ˜ JSONë§Œ</strong>(íƒ€ì… ë©”íƒ€ ì œê±°): <code class="language-plaintext highlighter-rouge">unpicklable=False</code> â†’ ì•„ì£¼ ê¹”ë”í•˜ì§€ë§Œ, íƒ€ì…/ì°¸ì¡° ë³µì› ë¶ˆê°€.</p>
      </li>
    </ul>
  </li>
</ul>

<h2 id="2-íŒŒì´ì¬-ë²„ì „-í˜¸í™˜ì„±-í•„ìˆ˜-ì²´í¬">2) íŒŒì´ì¬ ë²„ì „ í˜¸í™˜ì„± (í•„ìˆ˜ ì²´í¬)</h2>

<ul>
  <li>
    <p><strong>ê°™ê±°ë‚˜ ë” ìƒˆ ë²„ì „ì˜ íŒŒì´ì¬</strong> ì—ì„œ ë¡œë“œí•˜ì. (ì˜ˆ: Py 3.8ì—ì„œ ë§Œë“  í”¼í´ â†’ Py 3.8 ì´ìƒì—ì„œ ë¡œë“œ ê¶Œì¥)</p>
  </li>
  <li>
    <p>í”¼í´ <strong>í”„ë¡œí† ì½œ</strong> ì€ â€œì‹ ë²„ì „ì´ êµ¬ë²„ì „ ì½ê¸° OK, ê·¸ ë°˜ëŒ€ëŠ” ì¢…ì¢… ë¶ˆê°€â€ê°€ ì¼ë°˜ì .</p>
  </li>
  <li>
    <p><strong>í´ë˜ìŠ¤ import ê°€ëŠ¥ì„±</strong> : í”¼í´ ì•ˆì— ì €ì¥ëœ ëª¨ë“ˆ/í´ë˜ìŠ¤ ê²½ë¡œê°€ í˜„ì¬ í™˜ê²½ì—ì„œ <strong>import</strong> ë˜ì–´ì•¼ ì–¸í”¼í´ ì„±ê³µ.</p>

    <ul>
      <li>ì¦‰, í”„ë¡œì íŠ¸ ì½”ë“œê°€ <code class="language-plaintext highlighter-rouge">PYTHONPATH</code> ì— ìˆì–´ì•¼ í•˜ê³ , <strong>ëª¨ë“ˆ/í´ë˜ìŠ¤ ì´ë¦„ì´ ë°”ë€Œì§€ ì•Šì•„ì•¼</strong> í•´.</li>
    </ul>
  </li>
  <li>
    <p>(êµ¬í”¼í´) Python 2ì—ì„œ ë§Œë“  í”¼í´ì´ë¼ë©´ Py3ì—ì„œ <code class="language-plaintext highlighter-rouge">encoding='latin1'</code> ì˜µì…˜ì´ í•„ìš”í•  ìˆ˜ ìˆìŒ.</p>
  </li>
</ul>

<h2 id="3-jsonpickleë¡œ-ê°„ë‹¨íŠ¼íŠ¼í•˜ê²Œ-ë³€í™˜">3) jsonpickleë¡œ ê°„ë‹¨/íŠ¼íŠ¼í•˜ê²Œ ë³€í™˜</h2>

<ul>
  <li>
    <p><strong>í•µì‹¬ í•œ ì¤„</strong> : <code class="language-plaintext highlighter-rouge">jsonpickle.encode(obj, unpicklable=..., make_refs=..., max_depth=...)</code></p>
  </li>
  <li>
    <p><strong>í•¸ë“¤ëŸ¬ ë“±ë¡</strong> : NumPy/Pandasê°€ ìˆë‹¤ë©´ <code class="language-plaintext highlighter-rouge">jsonpickle.ext.numpy.register_handlers()</code>, <code class="language-plaintext highlighter-rouge">jsonpickle.ext.pandas.register_handlers()</code> í˜¸ì¶œë¡œ ë°°ì—´/ë°ì´í„°í”„ë ˆì„ì„ ìì—°ìŠ¤ëŸ½ê²Œ ì§ë ¬í™”.</p>
  </li>
  <li>
    <p><strong>Strict JSON</strong> í•„ìš”í•˜ë©´: <code class="language-plaintext highlighter-rouge">allow_nan=False</code> (NaN/Infinity ê¸ˆì§€) ë¥¼ ë°±ì—”ë“œ ì˜µì…˜ìœ¼ë¡œ ì§€ì •.</p>
  </li>
  <li>
    <p><strong>ëŒ€ìš©ëŸ‰</strong> ì´ë©´: ë“¤ì—¬ì“°ê¸° <code class="language-plaintext highlighter-rouge">None</code>(ì••ì¶•), í•„ìš” ì‹œ <code class="language-plaintext highlighter-rouge">sort_keys=False</code> ìœ ì§€ë¡œ ì„±ëŠ¥/ìš©ëŸ‰ ìµœì†Œí™”.</p>
  </li>
</ul>

<hr />

<h1 id="ë°”ë¡œ-ì‹¤í–‰-ê°€ëŠ¥í•œ-ìŠ¤í¬ë¦½íŠ¸">ë°”ë¡œ ì‹¤í–‰ ê°€ëŠ¥í•œ ìŠ¤í¬ë¦½íŠ¸</h1>

<p>ë‚´ê°€ <strong>trust ëª¨ë“œ ì „ìš© ë³€í™˜ ìŠ¤í¬ë¦½íŠ¸</strong> ë¥¼ ë§Œë“¤ì–´ ë’€ì–´. ì˜µì…˜ìœ¼ë¡œ ìˆœìˆ˜ JSON, ì°¸ì¡° íŠ¸ë˜í‚¹, strict JSON, ë“¤ì—¬ì“°ê¸° ë“± ì„¸ë°€ ì œì–´ê°€ ê°€ëŠ¥í•´.</p>

<p>Download: <code class="language-plaintext highlighter-rouge">pickle_to_json_trusted.py</code></p>

<h2 id="ì‚¬ìš©ë²•-ì˜ˆì‹œ">ì‚¬ìš©ë²• ì˜ˆì‹œ</h2>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 1) ê¸°ë³¸: íƒ€ì…/ì°¸ì¡° ë©”íƒ€ ìœ ì§€ (ê¶Œì¥: ë¡œìŠ¤ë¦¬ìŠ¤ì— ê°€ê¹Œì›€)</span>
python pickle_to_json_trusted.py mydata.pkl mydata.json

<span class="c"># 2) ìˆœìˆ˜ JSON(ë©”íƒ€ ì œê±°) â€” ì‚¬ëŒì´ ì½ê¸°/íƒ€ ì‹œìŠ¤í…œ êµí™˜ì— ì¢‹ìŒ</span>
python pickle_to_json_trusted.py mydata.pkl mydata.json <span class="nt">--pure</span>

<span class="c"># 3) ì‚¬ì´í´ì´ ì—†ê³  ì°¸ì¡° ì¶”ì ì´ ë¶ˆí•„ìš”í•˜ë‹¤ë©´ ì•½ê°„ ë” ë‹¨ìˆœí™”</span>
python pickle_to_json_trusted.py mydata.pkl mydata.json <span class="nt">--no-refs</span>

<span class="c"># 4) Strict JSON (NaN/Infinity ê¸ˆì§€), ì»´íŒ©íŠ¸ ì¶œë ¥</span>
python pickle_to_json_trusted.py mydata.pkl mydata.json <span class="nt">--strict</span> <span class="nt">--no-indent</span>

<span class="c"># 5) NumPy/Pandasê°€ ìˆë‹¤ë©´ ìë™ í•¸ë“¤ëŸ¬ ë“±ë¡ë¨(ë³„ë„ ì˜µì…˜ ë¶ˆí•„ìš”)</span>

<span class="c"># 6) ì •ë³´ ì¶œë ¥(í”„ë¡œí† ì½œ/ê¸€ë¡œë²Œ ì‹¬ë³¼ í›‘ì–´ë³´ê¸°)</span>
python pickle_to_json_trusted.py mydata.pkl mydata.json <span class="nt">--info</span>

<span class="c"># 7) (ë ˆê±°ì‹œ) Python 2ì—ì„œ ë§Œë“  í”¼í´ì´ë¼ë©´</span>
python pickle_to_json_trusted.py mydata.pkl mydata.json <span class="nt">--py2-latin1</span>
</code></pre></div></div>

<p>ì¶œë ¥ ëª¨ë“œì— ë”°ë¥¸ JSON í˜•íƒœëŠ” ëŒ€ëµ ë‹¤ìŒê³¼ ê°™ì•„:</p>

<ul>
  <li>
    <p><strong>ê¸°ë³¸(ë©”íƒ€ í¬í•¨)</strong> : ê° ê°ì²´ì— <code class="language-plaintext highlighter-rouge">py/object</code>, ì°¸ì¡°ì—” <code class="language-plaintext highlighter-rouge">py/id</code>/<code class="language-plaintext highlighter-rouge">py/ref</code>ê°€ ë¶™ìŒ â†’ ë³µì› ì¹œí™”ì .</p>
  </li>
  <li>
    <p><strong>--pure</strong> : í‘œì¤€ JSONë§Œ ë‚¨ê¹€ â†’ ìµœëŒ€ í˜¸í™˜ì„±, ëŒ€ì‹  íƒ€ì…/ì°¸ì¡° ì •ë³´ëŠ” ì‚¬ë¼ì§.</p>
  </li>
</ul>

<hr />

<h1 id="ì—ëŸ¬ë¥¼-ë”-ì¤„ì´ëŠ”-íŒ">ì—ëŸ¬ë¥¼ ë” ì¤„ì´ëŠ” íŒ</h1>

<ol>
  <li>
    <p><strong>ëŸ°íƒ€ì„ ì •í•©ì„±</strong></p>

    <ul>
      <li>
        <p>ì–¸í”¼í´ ì‹œ <code class="language-plaintext highlighter-rouge">ModuleNotFoundError</code>, <code class="language-plaintext highlighter-rouge">AttributeError</code>ê°€ ë‚˜ë©´, í˜„ì¬ í™˜ê²½ì—ì„œ í•„ìš”í•œ ëª¨ë“ˆ/í´ë˜ìŠ¤ê°€ <strong>ê·¸ëŒ€ë¡œ import ê°€ëŠ¥</strong> í•œì§€ í™•ì¸.</p>
      </li>
      <li>
        <p>íŒ¨í‚¤ì§€/ëª¨ë“ˆ ì´ë¦„ ë³€ê²½, í´ë˜ìŠ¤ ì´ë™ì´ ìˆì—ˆë‹¤ë©´ ì„ì‹œ í˜¸í™˜ ë ˆì´ì–´(êµ¬ì´ë¦„ alias) ì¶”ê°€ê°€ í˜„ì‹¤ì .</p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>ë©”ëª¨ë¦¬/ì„±ëŠ¥</strong></p>

    <ul>
      <li>
        <p>ë§¤ìš° í° ë°°ì—´/í”„ë ˆì„ì€ <code class="language-plaintext highlighter-rouge">--no-indent</code>ë¡œ ìš©ëŸ‰ ì¤„ì´ê¸°.</p>
      </li>
      <li>
        <p>ì •ë§ í° ìˆ˜ì¹˜ ë°ì´í„°ëŠ” JSON ëŒ€ì‹  <strong>ì‚¬ì´ë“œì¹´ í¬ë§·</strong>(ì˜ˆ: <code class="language-plaintext highlighter-rouge">.npy</code>/<code class="language-plaintext highlighter-rouge">.parquet</code>) ê³ ë ¤ í›„ JSONì—ëŠ” ë©”íƒ€/ê²½ë¡œë§Œ ë‹´ëŠ” ì „ëµë„ ê°€ëŠ¥.</p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>ì•ˆì „/ì •í•©ì„± ê²€ì¦</strong></p>

    <ul>
      <li>ìƒì„±ëœ JSONì„ í•œ ë²ˆ <code class="language-plaintext highlighter-rouge">json.loads</code>ë¡œ ì—­íŒŒì‹±í•˜ë©´ ë¬¸ë²• ì‹¤ìˆ˜ë¥¼ ì¡°ê¸°ì— ë°œê²¬.</li>
    </ul>
  </li>
</ol>

<hr />

<h1 id="ìš”ì•½-ë‹µë³€">ìš”ì•½ ë‹µë³€</h1>

<ol>
  <li>
    <p><strong>Trustë¡œ ê°€ì</strong> â†’ <code class="language-plaintext highlighter-rouge">pickle.load</code> í›„ <code class="language-plaintext highlighter-rouge">jsonpickle.encode</code> ê°€ ê°€ì¥ ê°„ë‹¨/ë²”ìš©.</p>
  </li>
  <li>
    <p><strong>íŒŒì´ì¬ ë²„ì „</strong> ì€ â€œê°™ê±°ë‚˜ ë” ìµœì‹ â€ì„ ì“°ë©´ ëŒ€ë¶€ë¶„ ì•ˆì „. (íŠ¹íˆ Py â‰¥3.8ì´ë©´ í”„ë¡œí† ì½œ 5 ëŒ€ì‘ OK.) ëª¨ë“ˆ/í´ë˜ìŠ¤ ê²½ë¡œê°€ ë™ì¼í•˜ê²Œ import ê°€ëŠ¥í•´ì•¼ í•¨.</p>
  </li>
  <li>
    <p><strong>jsonpickle ì‚¬ìš©</strong> ì´ ê°€ì¥ ì†ì‰¬ì›€. ìœ„ ìŠ¤í¬ë¦½íŠ¸ë¡œ ë°”ë¡œ ê°€ëŠ¥í•˜ê³ , í•„ìš” ì‹œ <code class="language-plaintext highlighter-rouge">--pure</code>(ë©”íƒ€ ì œê±°), <code class="language-plaintext highlighter-rouge">--strict</code>(NaN ê¸ˆì§€), <code class="language-plaintext highlighter-rouge">--no-indent</code>(ëŒ€ìš©ëŸ‰) ë“± ì˜µì…˜ìœ¼ë¡œ ìƒí™© ë§ì¶¤í™”í•˜ë©´ ë¼.</p>
  </li>
</ol>

<p>ì›í•˜ë©´ <code class="language-plaintext highlighter-rouge">py/object</code> ë©”íƒ€ í¬ë§· ëŒ€ì‹ , ì•„ì˜ˆ <code class="language-plaintext highlighter-rouge">$type</code> ê°™ì€ ì»¤ìŠ¤í…€ ìŠ¤í‚´ìœ¼ë¡œ ë°”ê¾¼ ë¯¸ë‹ˆ ì§ë ¬í™”ê¸°ë„ ë§Œë“¤ì–´ì¤„ ìˆ˜ ìˆì–´.</p>

<p class="chat--user">

ë³¸ë¬¸ì— ê·¸ëƒ¥ ì¨ì£¼ê³ , ì»¤ìŠ¤í…€ í´ë˜ìŠ¤ import ëŠ” ì–´ë–¤ ì‹ìœ¼ë¡œ í•´ì•¼í•´?

</p>

<p>ì¢‹ì•„â€”<strong>trust ëª¨ë“œ + jsonpickle</strong> ë¡œ â€œí”¼í´ â†’ JSONâ€ì„ <strong>ê°„ë‹¨/íŠ¼íŠ¼</strong> í•˜ê²Œ ì²˜ë¦¬í•˜ëŠ” ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë³¸ë¬¸ì— ë°”ë¡œ ë„£ì–´ë‘˜ê²Œ.<br />
ê·¸ë¦¬ê³  <strong>ì»¤ìŠ¤í…€ í´ë˜ìŠ¤ import</strong> ëŠ” ì–´ë–»ê²Œ í•´ì•¼ ì–¸í”¼í´ì´ ì˜ ë˜ëŠ”ì§€, ê°€ì¥ ì‹¤ì „ì ì¸ ë°©ë²•ë“¤ì„ ì•„ë˜ì— ì •ë¦¬í–ˆì–´.</p>

<hr />

<h1 id="step-by-step-1">Step by Step</h1>

<ol>
  <li>
    <p><strong>ì „ì œ</strong> : ì „ë¶€ ë„¤ê°€ ë§Œë“  í”¼í´ â†’ <code class="language-plaintext highlighter-rouge">pickle.load</code>(trust)ë¡œ ë¡œë“œí•´ë„ ë¨.</p>
  </li>
  <li>
    <p><strong>ë²„ì „</strong> : í”¼í´ì„ ë§Œë“  íŒŒì´ì¬ <strong>ë™ì¼ ë˜ëŠ” ë” ìµœì‹  ë²„ì „</strong> ì—ì„œ ë¡œë“œ(íŠ¹íˆ ëª¨ë“ˆ ê²½ë¡œê°€ ë™ì¼í•˜ê²Œ import ê°€ëŠ¥í•´ì•¼ í•¨).</p>
  </li>
  <li>
    <p><strong>í•µì‹¬</strong> : ë¡œë“œí•œ ê°ì²´ë¥¼ <code class="language-plaintext highlighter-rouge">jsonpickle.encode(...)</code>ë¡œ JSON ë³€í™˜.</p>
  </li>
  <li>
    <p><strong>ëŒ€ìš©ëŸ‰/í˜¸í™˜ì„± ì˜µì…˜</strong> :</p>

    <ul>
      <li>
        <p><code class="language-plaintext highlighter-rouge">--pure</code> â†’ íƒ€ì… ë©”íƒ€ ì œê±°(ì•„ì£¼ ê¹”ë”í•œ JSON), ëŒ€ì‹  ë³µì› ë¶ˆê°€.</p>
      </li>
      <li>
        <p><code class="language-plaintext highlighter-rouge">--no-refs</code> â†’ ì°¸ì¡°/ì‚¬ì´í´ ì¶”ì  ë¹„í™œì„±í™”(ê°„ë‹¨í•˜ì§€ë§Œ ê³µìœ ì°¸ì¡° ì •ë³´ ì‚¬ë¼ì§).</p>
      </li>
      <li>
        <p><code class="language-plaintext highlighter-rouge">--strict</code> â†’ NaN/Infinity ê¸ˆì§€(ì •-í‘œì¤€ JSON).</p>
      </li>
      <li>
        <p><code class="language-plaintext highlighter-rouge">--no-indent</code> â†’ ìš©ëŸ‰ ìµœì†Œí™”.</p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>ì»¤ìŠ¤í…€ í´ë˜ìŠ¤ import</strong> ëŠ” â€œí˜„ì¬ í”„ë¡œì„¸ìŠ¤ì—ì„œ í•´ë‹¹ ëª¨ë“ˆì„ <strong>ì •í™•íˆ import ê°€ëŠ¥</strong> â€í•´ì•¼ í•¨. ì•„ë˜ â€œImport ìš”ë ¹â€ ì°¸ê³ .</p>
  </li>
</ol>

<hr />

<h1 id="ì‹ ë¢°-ëª¨ë“œ-ì „ìš©-ìŠ¤í¬ë¦½íŠ¸-jsonpickle-ì‚¬ìš©">ì‹ ë¢° ëª¨ë“œ ì „ìš© ìŠ¤í¬ë¦½íŠ¸ (jsonpickle ì‚¬ìš©)</h1>

<p>ì•„ë˜ ì½”ë“œë¥¼ <code class="language-plaintext highlighter-rouge">pickle_to_json_trusted.py</code>ë¡œ ì €ì¥í•´ì„œ ë°”ë¡œ ì¨.</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#!/usr/bin/env python3
# pickle_to_json_trusted.py
# Trust-mode: loads your own pickle files, then encodes to JSON with jsonpickle.
</span>
<span class="kn">import</span> <span class="n">argparse</span><span class="p">,</span> <span class="n">json</span><span class="p">,</span> <span class="n">pickle</span><span class="p">,</span> <span class="n">sys</span><span class="p">,</span> <span class="n">os</span><span class="p">,</span> <span class="n">traceback</span><span class="p">,</span> <span class="n">importlib</span>
<span class="kn">import</span> <span class="n">pickletools</span>

<span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span> <span class="n">jsonpickle</span>
<span class="k">except</span> <span class="nb">Exception</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">ERROR: jsonpickle is required. Install with: pip install jsonpickle</span><span class="sh">"</span><span class="p">,</span> <span class="nb">file</span><span class="o">=</span><span class="n">sys</span><span class="p">.</span><span class="n">stderr</span><span class="p">)</span>
    <span class="k">raise</span>

<span class="k">def</span> <span class="nf">register_optional_exts</span><span class="p">():</span>
    <span class="c1"># Optional handlers for numpy/pandas if available
</span>    <span class="k">try</span><span class="p">:</span>
        <span class="kn">from</span> <span class="n">jsonpickle.ext</span> <span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">jsonpickle_numpy</span>
        <span class="n">jsonpickle_numpy</span><span class="p">.</span><span class="nf">register_handlers</span><span class="p">()</span>
    <span class="k">except</span> <span class="nb">Exception</span><span class="p">:</span>
        <span class="k">pass</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="kn">from</span> <span class="n">jsonpickle.ext</span> <span class="kn">import</span> <span class="n">pandas</span> <span class="k">as</span> <span class="n">jsonpickle_pandas</span>
        <span class="n">jsonpickle_pandas</span><span class="p">.</span><span class="nf">register_handlers</span><span class="p">()</span>
    <span class="k">except</span> <span class="nb">Exception</span><span class="p">:</span>
        <span class="k">pass</span>

<span class="k">def</span> <span class="nf">peek_protocol</span><span class="p">(</span><span class="n">pkl_bytes</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">op</span><span class="p">,</span> <span class="n">arg</span><span class="p">,</span> <span class="n">pos</span> <span class="ow">in</span> <span class="n">pickletools</span><span class="p">.</span><span class="nf">genops</span><span class="p">(</span><span class="n">pkl_bytes</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">op</span><span class="p">.</span><span class="n">name</span> <span class="o">==</span> <span class="sh">"</span><span class="s">PROTO</span><span class="sh">"</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">arg</span>
    <span class="k">except</span> <span class="nb">Exception</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">None</span>
    <span class="k">return</span> <span class="bp">None</span>

<span class="k">def</span> <span class="nf">scan_globals</span><span class="p">(</span><span class="n">pkl_bytes</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">):</span>
    <span class="n">refs</span> <span class="o">=</span> <span class="nf">set</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">op</span><span class="p">,</span> <span class="n">arg</span><span class="p">,</span> <span class="n">pos</span> <span class="ow">in</span> <span class="n">pickletools</span><span class="p">.</span><span class="nf">genops</span><span class="p">(</span><span class="n">pkl_bytes</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">op</span><span class="p">.</span><span class="n">name</span> <span class="ow">in</span> <span class="p">(</span><span class="sh">"</span><span class="s">GLOBAL</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">STACK_GLOBAL</span><span class="sh">"</span><span class="p">):</span>
                <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">arg</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
                    <span class="n">mod</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="n">arg</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">parts</span> <span class="o">=</span> <span class="nf">str</span><span class="p">(</span><span class="n">arg</span><span class="p">).</span><span class="nf">split</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="sh">"</span><span class="p">)</span>
                    <span class="k">if</span> <span class="nf">len</span><span class="p">(</span><span class="n">parts</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">:</span>
                        <span class="n">mod</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">continue</span>
                <span class="n">refs</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">mod</span><span class="si">}</span><span class="s">.</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="k">except</span> <span class="nb">Exception</span><span class="p">:</span>
        <span class="k">pass</span>
    <span class="k">return</span> <span class="nf">sorted</span><span class="p">(</span><span class="n">refs</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">ap</span> <span class="o">=</span> <span class="n">argparse</span><span class="p">.</span><span class="nc">ArgumentParser</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="sh">"</span><span class="s">Trust-mode: Convert a Python pickle to JSON using jsonpickle.</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">ap</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span><span class="sh">"</span><span class="s">input</span><span class="sh">"</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="sh">"</span><span class="s">Input .pkl file path</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">ap</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span><span class="sh">"</span><span class="s">output</span><span class="sh">"</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="sh">"</span><span class="s">Output .json file path</span><span class="sh">"</span><span class="p">)</span>
    <span class="c1"># JSON shape options
</span>    <span class="n">ap</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span><span class="sh">"</span><span class="s">--pure</span><span class="sh">"</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="sh">"</span><span class="s">store_true</span><span class="sh">"</span><span class="p">,</span>
                    <span class="n">help</span><span class="o">=</span><span class="sh">"</span><span class="s">Emit plain JSON (unpicklable=False) without py/object metadata.</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">ap</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span><span class="sh">"</span><span class="s">--no-refs</span><span class="sh">"</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="sh">"</span><span class="s">store_true</span><span class="sh">"</span><span class="p">,</span>
                    <span class="n">help</span><span class="o">=</span><span class="sh">"</span><span class="s">Do not track object references/cycles (make_refs=False).</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">ap</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span><span class="sh">"</span><span class="s">--max-depth</span><span class="sh">"</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                    <span class="n">help</span><span class="o">=</span><span class="sh">"</span><span class="s">Limit traversal depth (None = unlimited).</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">ap</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span><span class="sh">"</span><span class="s">--indent</span><span class="sh">"</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                    <span class="n">help</span><span class="o">=</span><span class="sh">"</span><span class="s">Pretty-print indent (use 0 or --no-indent for compact).</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">ap</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span><span class="sh">"</span><span class="s">--no-indent</span><span class="sh">"</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="sh">"</span><span class="s">store_true</span><span class="sh">"</span><span class="p">,</span>
                    <span class="n">help</span><span class="o">=</span><span class="sh">"</span><span class="s">Compact JSON (indent=None).</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">ap</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span><span class="sh">"</span><span class="s">--ensure-ascii</span><span class="sh">"</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="sh">"</span><span class="s">store_true</span><span class="sh">"</span><span class="p">,</span>
                    <span class="n">help</span><span class="o">=</span><span class="sh">"</span><span class="s">Escape non-ASCII characters.</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">ap</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span><span class="sh">"</span><span class="s">--strict</span><span class="sh">"</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="sh">"</span><span class="s">store_true</span><span class="sh">"</span><span class="p">,</span>
                    <span class="n">help</span><span class="o">=</span><span class="sh">"</span><span class="s">Disallow NaN/Infinity (allow_nan=False).</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">ap</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span><span class="sh">"</span><span class="s">--sort-keys</span><span class="sh">"</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="sh">"</span><span class="s">store_true</span><span class="sh">"</span><span class="p">,</span>
                    <span class="n">help</span><span class="o">=</span><span class="sh">"</span><span class="s">Sort JSON object keys.</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">ap</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span><span class="sh">"</span><span class="s">--info</span><span class="sh">"</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="sh">"</span><span class="s">store_true</span><span class="sh">"</span><span class="p">,</span>
                    <span class="n">help</span><span class="o">=</span><span class="sh">"</span><span class="s">Print pickle protocol &amp; referenced globals before converting.</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">ap</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span><span class="sh">"</span><span class="s">--py2-latin1</span><span class="sh">"</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="sh">"</span><span class="s">store_true</span><span class="sh">"</span><span class="p">,</span>
                    <span class="n">help</span><span class="o">=</span><span class="sh">"</span><span class="s">If the pickle came from Python 2, try encoding=</span><span class="sh">'</span><span class="s">latin1</span><span class="sh">'</span><span class="s">.</span><span class="sh">"</span><span class="p">)</span>

    <span class="c1"># Import help (for custom classes)
</span>    <span class="n">ap</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span><span class="sh">"</span><span class="s">--sys-path</span><span class="sh">"</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="sh">"</span><span class="s">append</span><span class="sh">"</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="p">[],</span>
                    <span class="n">help</span><span class="o">=</span><span class="sh">"</span><span class="s">Prepend a path to sys.path (repeatable).</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">ap</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span><span class="sh">"</span><span class="s">--preload</span><span class="sh">"</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="sh">"</span><span class="s">append</span><span class="sh">"</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="p">[],</span>
                    <span class="n">help</span><span class="o">=</span><span class="sh">"</span><span class="s">Import module(s) before unpickling, e.g. mypkg.models (repeatable).</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">ap</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span><span class="sh">"</span><span class="s">--alias</span><span class="sh">"</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="sh">"</span><span class="s">append</span><span class="sh">"</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="p">[],</span>
                    <span class="n">help</span><span class="o">=</span><span class="sh">"</span><span class="s">Module alias mapping OLD=NEW (repeatable).</span><span class="sh">"</span><span class="p">)</span>

    <span class="n">args</span> <span class="o">=</span> <span class="n">ap</span><span class="p">.</span><span class="nf">parse_args</span><span class="p">()</span>

    <span class="c1"># sys.path adjustments for project importability
</span>    <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">args</span><span class="p">.</span><span class="n">sys_path</span><span class="p">:</span>
        <span class="n">sys</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">abspath</span><span class="p">(</span><span class="n">p</span><span class="p">))</span>

    <span class="c1"># module aliasing (module path changed)
</span>    <span class="k">for</span> <span class="n">pair</span> <span class="ow">in</span> <span class="n">args</span><span class="p">.</span><span class="n">alias</span><span class="p">:</span>
        <span class="k">if</span> <span class="sh">"</span><span class="s">=</span><span class="sh">"</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">pair</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">WARNING: --alias expects OLD=NEW, got </span><span class="si">{</span><span class="n">pair</span><span class="si">}</span><span class="sh">"</span><span class="p">,</span> <span class="nb">file</span><span class="o">=</span><span class="n">sys</span><span class="p">.</span><span class="n">stderr</span><span class="p">)</span>
            <span class="k">continue</span>
        <span class="n">old</span><span class="p">,</span> <span class="n">new</span> <span class="o">=</span> <span class="n">pair</span><span class="p">.</span><span class="nf">split</span><span class="p">(</span><span class="sh">"</span><span class="s">=</span><span class="sh">"</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">new_mod</span> <span class="o">=</span> <span class="n">importlib</span><span class="p">.</span><span class="nf">import_module</span><span class="p">(</span><span class="n">new</span><span class="p">)</span>
        <span class="n">sys</span><span class="p">.</span><span class="n">modules</span><span class="p">[</span><span class="n">old</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_mod</span>

    <span class="c1"># preload modules so that pickle can resolve classes
</span>    <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">args</span><span class="p">.</span><span class="n">preload</span><span class="p">:</span>
        <span class="n">importlib</span><span class="p">.</span><span class="nf">import_module</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>

    <span class="c1"># read pickle bytes
</span>    <span class="k">try</span><span class="p">:</span>
        <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="n">args</span><span class="p">.</span><span class="nb">input</span><span class="p">,</span> <span class="sh">"</span><span class="s">rb</span><span class="sh">"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">pkl_bytes</span> <span class="o">=</span> <span class="n">f</span><span class="p">.</span><span class="nf">read</span><span class="p">()</span>
    <span class="k">except</span> <span class="nb">FileNotFoundError</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">ERROR: file not found: </span><span class="si">{</span><span class="n">args</span><span class="p">.</span><span class="nb">input</span><span class="si">}</span><span class="sh">"</span><span class="p">,</span> <span class="nb">file</span><span class="o">=</span><span class="n">sys</span><span class="p">.</span><span class="n">stderr</span><span class="p">)</span>
        <span class="n">sys</span><span class="p">.</span><span class="nf">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">args</span><span class="p">.</span><span class="n">info</span><span class="p">:</span>
        <span class="n">proto</span> <span class="o">=</span> <span class="nf">peek_protocol</span><span class="p">(</span><span class="n">pkl_bytes</span><span class="p">)</span>
        <span class="n">globs</span> <span class="o">=</span> <span class="nf">scan_globals</span><span class="p">(</span><span class="n">pkl_bytes</span><span class="p">)</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">[info] protocol: </span><span class="si">{</span><span class="n">proto</span> <span class="k">if</span> <span class="n">proto</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="k">else</span> <span class="sh">'</span><span class="s">unknown</span><span class="sh">'</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">globs</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">[info] referenced globals (</span><span class="si">{</span><span class="nf">len</span><span class="p">(</span><span class="n">globs</span><span class="p">)</span><span class="si">}</span><span class="s">):</span><span class="sh">"</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">globs</span><span class="p">:</span>
                <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">  - </span><span class="si">{</span><span class="n">g</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">[info] referenced globals: (none found)</span><span class="sh">"</span><span class="p">)</span>

    <span class="c1"># jsonpickle backend setup
</span>    <span class="nf">register_optional_exts</span><span class="p">()</span>
    <span class="n">jsonpickle</span><span class="p">.</span><span class="nf">set_preferred_backend</span><span class="p">(</span><span class="sh">'</span><span class="s">json</span><span class="sh">'</span><span class="p">)</span>
    <span class="n">indent</span> <span class="o">=</span> <span class="bp">None</span> <span class="k">if</span> <span class="n">args</span><span class="p">.</span><span class="n">no_indent</span> <span class="k">else</span> <span class="n">args</span><span class="p">.</span><span class="n">indent</span>
    <span class="c1"># encoder opts
</span>    <span class="k">try</span><span class="p">:</span>
        <span class="n">jsonpickle</span><span class="p">.</span><span class="nf">set_encoder_options</span><span class="p">(</span>
            <span class="sh">'</span><span class="s">json</span><span class="sh">'</span><span class="p">,</span>
            <span class="n">ensure_ascii</span><span class="o">=</span><span class="n">args</span><span class="p">.</span><span class="n">ensure_ascii</span><span class="p">,</span>
            <span class="n">allow_nan</span><span class="o">=</span><span class="ow">not</span> <span class="n">args</span><span class="p">.</span><span class="n">strict</span><span class="p">,</span>
            <span class="n">indent</span><span class="o">=</span><span class="n">indent</span><span class="p">,</span>
            <span class="n">sort_keys</span><span class="o">=</span><span class="n">args</span><span class="p">.</span><span class="n">sort_keys</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="nb">TypeError</span><span class="p">:</span>
        <span class="n">jsonpickle</span><span class="p">.</span><span class="nf">set_encoder_options</span><span class="p">(</span><span class="sh">'</span><span class="s">json</span><span class="sh">'</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="n">args</span><span class="p">.</span><span class="n">ensure_ascii</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="n">indent</span><span class="p">)</span>

    <span class="c1"># unpickle (TRUST)
</span>    <span class="k">try</span><span class="p">:</span>
        <span class="kn">import</span> <span class="n">io</span>
        <span class="n">bio</span> <span class="o">=</span> <span class="n">io</span><span class="p">.</span><span class="nc">BytesIO</span><span class="p">(</span><span class="n">pkl_bytes</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">args</span><span class="p">.</span><span class="n">py2_latin1</span><span class="p">:</span>
            <span class="n">obj</span> <span class="o">=</span> <span class="n">pickle</span><span class="p">.</span><span class="nf">load</span><span class="p">(</span><span class="n">bio</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="sh">'</span><span class="s">latin1</span><span class="sh">'</span><span class="p">,</span> <span class="n">fix_imports</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">obj</span> <span class="o">=</span> <span class="n">pickle</span><span class="p">.</span><span class="nf">load</span><span class="p">(</span><span class="n">bio</span><span class="p">)</span>
    <span class="k">except</span> <span class="nb">ModuleNotFoundError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">ERROR: Required module isn</span><span class="sh">'</span><span class="s">t importable.</span><span class="sh">"</span><span class="p">,</span> <span class="nb">file</span><span class="o">=</span><span class="n">sys</span><span class="p">.</span><span class="n">stderr</span><span class="p">)</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Detail: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="sh">"</span><span class="p">,</span> <span class="nb">file</span><span class="o">=</span><span class="n">sys</span><span class="p">.</span><span class="n">stderr</span><span class="p">)</span>
        <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Tip: Use --sys-path/--preload/--alias or set PYTHONPATH.</span><span class="sh">"</span><span class="p">,</span> <span class="nb">file</span><span class="o">=</span><span class="n">sys</span><span class="p">.</span><span class="n">stderr</span><span class="p">)</span>
        <span class="n">sys</span><span class="p">.</span><span class="nf">exit</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="k">except</span> <span class="nb">AttributeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">ERROR: Class/attribute moved or renamed.</span><span class="sh">"</span><span class="p">,</span> <span class="nb">file</span><span class="o">=</span><span class="n">sys</span><span class="p">.</span><span class="n">stderr</span><span class="p">)</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Detail: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="sh">"</span><span class="p">,</span> <span class="nb">file</span><span class="o">=</span><span class="n">sys</span><span class="p">.</span><span class="n">stderr</span><span class="p">)</span>
        <span class="n">sys</span><span class="p">.</span><span class="nf">exit</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="k">except</span> <span class="nb">Exception</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">ERROR: Unpickling failed.</span><span class="sh">"</span><span class="p">,</span> <span class="nb">file</span><span class="o">=</span><span class="n">sys</span><span class="p">.</span><span class="n">stderr</span><span class="p">)</span>
        <span class="n">traceback</span><span class="p">.</span><span class="nf">print_exc</span><span class="p">()</span>
        <span class="n">sys</span><span class="p">.</span><span class="nf">exit</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

    <span class="c1"># encode with jsonpickle
</span>    <span class="k">try</span><span class="p">:</span>
        <span class="n">json_str</span> <span class="o">=</span> <span class="n">jsonpickle</span><span class="p">.</span><span class="nf">encode</span><span class="p">(</span>
            <span class="n">obj</span><span class="p">,</span>
            <span class="n">unpicklable</span><span class="o">=</span><span class="ow">not</span> <span class="n">args</span><span class="p">.</span><span class="n">pure</span><span class="p">,</span>
            <span class="n">make_refs</span><span class="o">=</span><span class="ow">not</span> <span class="n">args</span><span class="p">.</span><span class="n">no_refs</span><span class="p">,</span>
            <span class="n">max_depth</span><span class="o">=</span><span class="n">args</span><span class="p">.</span><span class="n">max_depth</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="nb">Exception</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">ERROR: jsonpickle encoding failed.</span><span class="sh">"</span><span class="p">,</span> <span class="nb">file</span><span class="o">=</span><span class="n">sys</span><span class="p">.</span><span class="n">stderr</span><span class="p">)</span>
        <span class="n">traceback</span><span class="p">.</span><span class="nf">print_exc</span><span class="p">()</span>
        <span class="n">sys</span><span class="p">.</span><span class="nf">exit</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>

    <span class="c1"># write
</span>    <span class="k">try</span><span class="p">:</span>
        <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="n">args</span><span class="p">.</span><span class="n">output</span><span class="p">,</span> <span class="sh">"</span><span class="s">w</span><span class="sh">"</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="sh">"</span><span class="s">utf-8</span><span class="sh">"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">f</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="n">json_str</span><span class="p">)</span>
    <span class="k">except</span> <span class="nb">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">ERROR: writing output failed: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="sh">"</span><span class="p">,</span> <span class="nb">file</span><span class="o">=</span><span class="n">sys</span><span class="p">.</span><span class="n">stderr</span><span class="p">)</span>
        <span class="n">sys</span><span class="p">.</span><span class="nf">exit</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>

    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Wrote </span><span class="si">{</span><span class="n">args</span><span class="p">.</span><span class="n">output</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="sh">"</span><span class="s">__main__</span><span class="sh">"</span><span class="p">:</span>
    <span class="nf">main</span><span class="p">()</span>
</code></pre></div></div>

<h3 id="ì‹¤í–‰-ì˜ˆ">ì‹¤í–‰ ì˜ˆ</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># (ê°€ì¥ ê¸°ë³¸) íƒ€ì…/ì°¸ì¡° ë©”íƒ€ ìœ ì§€: ë³µì› ì¹œí™”ì </span>
python pickle_to_json_trusted.py data.pkl data.json

<span class="c"># ìˆœìˆ˜ JSON (ë©”íƒ€ ì œê±°)</span>
python pickle_to_json_trusted.py data.pkl data.json <span class="nt">--pure</span>

<span class="c"># ì‚¬ì´í´/ì°¸ì¡° ì¶”ì  ë„ê¸° + ì»´íŒ©íŠ¸ + Strict JSON</span>
python pickle_to_json_trusted.py data.pkl data.json <span class="nt">--no-refs</span> <span class="nt">--no-indent</span> <span class="nt">--strict</span>

<span class="c"># í”¼í´ ì •ë³´(í”„ë¡œí† ì½œ/ê¸€ë¡œë²Œ): ë””ë²„ê¹…ìš©</span>
python pickle_to_json_trusted.py data.pkl data.json <span class="nt">--info</span>
</code></pre></div></div>

<hr />

<h1 id="ì»¤ìŠ¤í…€-í´ë˜ìŠ¤-import--ì´ë ‡ê²Œ-í•˜ë©´-ëœë‹¤-ì‹¤ì „-ë ˆì‹œí”¼">ì»¤ìŠ¤í…€ í´ë˜ìŠ¤ import â€” ì´ë ‡ê²Œ í•˜ë©´ ëœë‹¤ (ì‹¤ì „ ë ˆì‹œí”¼)</h1>

<p>ì–¸í”¼í´ì´ ì»¤ìŠ¤í…€ í´ë˜ìŠ¤ë¥¼ ë³µì›í•˜ë ¤ë©´, <strong>í”¼í´ì— ê¸°ë¡ëœ â€œëª¨ë“ˆ.í´ë˜ìŠ¤â€ê°€ í˜„ì¬ ëŸ°íƒ€ì„ì—ì„œ import ê°€ëŠ¥</strong> í•´ì•¼ í•´.</p>

<h2 id="1-ê°€ì¥-ê¹”ë”-í”„ë¡œì íŠ¸ë¥¼-íŒ¨í‚¤ì§€ë¡œ-ì„¤ì¹˜">1) ê°€ì¥ ê¹”ë”: í”„ë¡œì íŠ¸ë¥¼ íŒ¨í‚¤ì§€ë¡œ ì„¤ì¹˜</h2>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># í”„ë¡œì íŠ¸ ë£¨íŠ¸ì—ì„œ</span>
pip <span class="nb">install</span> <span class="nt">-e</span> <span class="nb">.</span>
<span class="c"># ë˜ëŠ” PYTHONPATHë¡œ ì„ì‹œ ë“±ë¡</span>
<span class="nv">PYTHONPATH</span><span class="o">=</span>/path/to/project python pickle_to_json_trusted.py data.pkl out.json
</code></pre></div></div>

<ul>
  <li>ì´ëŸ¬ë©´ <code class="language-plaintext highlighter-rouge">mypkg.models.User</code> ê°™ì€ ê²½ë¡œë¥¼ íŒŒì´ì¬ì´ ìì—°ìŠ¤ëŸ½ê²Œ ì°¾ìŒ.</li>
</ul>

<h2 id="2-ê²½ë¡œë§Œ-ì¶”ê°€í•´ì„œ-import-ê°€ëŠ¥í•˜ê²Œ-ìŠ¤í¬ë¦½íŠ¸-ì˜µì…˜">2) ê²½ë¡œë§Œ ì¶”ê°€í•´ì„œ import ê°€ëŠ¥í•˜ê²Œ (ìŠ¤í¬ë¦½íŠ¸ ì˜µì…˜)</h2>

<p>í”„ë¡œì íŠ¸ ë£¨íŠ¸ë¥¼ <code class="language-plaintext highlighter-rouge">sys.path</code> ì•ì— ì¶”ê°€:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python pickle_to_json_trusted.py data.pkl out.json <span class="se">\</span>
  <span class="nt">--sys-path</span> /absolute/path/to/project_root <span class="se">\</span>
  <span class="nt">--preload</span> mypkg.models
</code></pre></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">--preload</code>ëŠ” í•´ë‹¹ ëª¨ë“ˆì„ ë¯¸ë¦¬ importí•´ì„œ í´ë˜ìŠ¤ ë“±ë¡ì„ í™•ì‹¤íˆ í•´ì¤˜.</li>
</ul>

<h2 id="3-ëª¨ë“ˆ-ê²½ë¡œê°€-ë°”ë€-ê²½ìš°ë¦¬íŒ©í„°ë§--ëª¨ë“ˆ-alias">3) ëª¨ë“ˆ ê²½ë¡œê°€ ë°”ë€ ê²½ìš°(ë¦¬íŒ©í„°ë§) â†’ <strong>ëª¨ë“ˆ alias</strong></h2>

<p>ì˜ˆ: ì˜ˆì „ì—ëŠ” <code class="language-plaintext highlighter-rouge">oldpkg.models</code>ì˜€ëŠ”ë° ì§€ê¸ˆì€ <code class="language-plaintext highlighter-rouge">newpkg.models</code>ë¡œ ì´ë™í–ˆë‹¤ë©´:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python pickle_to_json_trusted.py data.pkl out.json <span class="se">\</span>
  <span class="nt">--sys-path</span> /path/to/project <span class="se">\</span>
  <span class="nt">--alias</span> oldpkg.models<span class="o">=</span>newpkg.models <span class="se">\</span>
  <span class="nt">--preload</span> newpkg.models
</code></pre></div></div>

<ul>
  <li>ì´ëŸ¬ë©´ <code class="language-plaintext highlighter-rouge">pickle.load</code>ê°€ <code class="language-plaintext highlighter-rouge">oldpkg.models</code>ë¥¼ ì°¾ìœ¼ë ¤ í•  ë•Œ, ë‚´ë¶€ì ìœ¼ë¡œ <code class="language-plaintext highlighter-rouge">newpkg.models</code>ë¥¼ ëŒ€ì‹  ì‚¬ìš©.</li>
</ul>

<h2 id="4-í´ë˜ìŠ¤ê°€-ë‹¤ë¥¸-ëª¨ë“ˆë¡œ-ì´ë™í–ˆë‹¤ë©´--ëŸ°íƒ€ì„-shimê°„ë‹¨-ì˜ˆ">4) í´ë˜ìŠ¤ê°€ ë‹¤ë¥¸ ëª¨ë“ˆë¡œ ì´ë™í–ˆë‹¤ë©´ â†’ <strong>ëŸ°íƒ€ì„ shim(ê°„ë‹¨ ì˜ˆ)</strong></h2>

<p>ëª¨ë“ˆ aliasë§Œìœ¼ë¡œ ë¶€ì¡±í•  ë•Œ(í´ë˜ìŠ¤ ì´ë¦„ë„ ë°”ë€Œì—ˆê±°ë‚˜ ì„¸ë¶€ êµ¬ì¡°ê°€ ë°”ë€ ê²½ìš°), ì–¸í”¼í´ ì „ì— <strong>ì„ì‹œ shim ëª¨ë“ˆ</strong> ì„ ë§Œë“¤ì–´ ë§¤í•‘í•´ ì¤„ ìˆ˜ ìˆì–´:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># ì˜ˆ: OldClassê°€ oldpkg.models â†’ newpkg.models.NewClass ë¡œ ì´ë™/ê°œëª…ëœ ê²½ìš°
</span><span class="kn">import</span> <span class="n">types</span><span class="p">,</span> <span class="n">sys</span>
<span class="kn">import</span> <span class="n">newpkg.models</span> <span class="k">as</span> <span class="n">newmod</span>

<span class="n">shim</span> <span class="o">=</span> <span class="n">types</span><span class="p">.</span><span class="nc">ModuleType</span><span class="p">(</span><span class="sh">"</span><span class="s">oldpkg.models</span><span class="sh">"</span><span class="p">)</span>
<span class="c1"># ì˜ˆì „ ì´ë¦„ì„ ìƒˆ í´ë˜ìŠ¤ì— ë§¤í•‘
</span><span class="n">shim</span><span class="p">.</span><span class="n">OldClass</span> <span class="o">=</span> <span class="n">newmod</span><span class="p">.</span><span class="n">NewClass</span>
<span class="c1"># ì–¸í”¼í´ì´ ì°¾ì•„ì“°ë„ë¡ sys.modules ë“±ë¡
</span><span class="n">sys</span><span class="p">.</span><span class="n">modules</span><span class="p">[</span><span class="sh">"</span><span class="s">oldpkg.models</span><span class="sh">"</span><span class="p">]</span> <span class="o">=</span> <span class="n">shim</span>

<span class="c1"># ì´ì œ pickle.loadë¥¼ í˜¸ì¶œ
</span></code></pre></div></div>

<blockquote>
  <p>ìœ„ shim ì½”ë“œëŠ” <strong>ìŠ¤í¬ë¦½íŠ¸ ìµœìƒë‹¨(ì–¸í”¼í´ ì§ì „)</strong>ì— ë„£ìœ¼ë©´ ë˜ê³ , ê²½ìš°ì— ë”°ë¼ ì—¬ëŸ¬ í´ë˜ìŠ¤ë¥¼ ë„£ì–´ ë§¤í•‘í•˜ë©´ ëœë‹¤.</p>
</blockquote>

<h2 id="5-python-2--3-í”¼í´ì¼-ë•Œ">5) Python 2 â†’ 3 í”¼í´ì¼ ë•Œ</h2>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python pickle_to_json_trusted.py data.pkl out.json <span class="nt">--py2-latin1</span>
</code></pre></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">encoding='latin1'</code>, <code class="language-plaintext highlighter-rouge">fix_imports=True</code>ë¡œ ê³¼ê±° í”¼í´ í˜¸í™˜ì„ ì‹œë„.</li>
</ul>

<hr />

<h1 id="ì‘ê²Œ-ìš”ì•½">ì‘ê²Œ ìš”ì•½</h1>

<ul>
  <li>
    <p><strong>Trust OK</strong> â†’ <code class="language-plaintext highlighter-rouge">pickle.load</code> + <code class="language-plaintext highlighter-rouge">jsonpickle.encode</code>ê°€ ê°€ì¥ ê°„ë‹¨.</p>
  </li>
  <li>
    <p><strong>ë²„ì „</strong> ì€ â€œê°™ê±°ë‚˜ ìµœì‹ â€ ê¶Œì¥ + ëª¨ë“ˆ/í´ë˜ìŠ¤ ê²½ë¡œê°€ í˜„ì¬ í™˜ê²½ì—ì„œ ê·¸ëŒ€ë¡œ import ê°€ëŠ¥í•´ì•¼ í•¨.</p>
  </li>
  <li>
    <p><strong>ì»¤ìŠ¤í…€ í´ë˜ìŠ¤ import</strong> ëŠ”</p>

    <ol>
      <li>
        <p>íŒ¨í‚¤ì§€ë¡œ ì„¤ì¹˜(ë˜ëŠ” PYTHONPATH),</p>
      </li>
      <li>
        <p><code class="language-plaintext highlighter-rouge">--sys-path</code> / <code class="language-plaintext highlighter-rouge">--preload</code>,</p>
      </li>
      <li>
        <p><code class="language-plaintext highlighter-rouge">--alias ì˜¬ë“œ=ë‰´</code>(ëª¨ë“ˆ ê²½ë¡œ ë³€ê²½),</p>
      </li>
      <li>
        <p>í•„ìš” ì‹œ <strong>shim ëª¨ë“ˆ</strong> ë¡œ í´ë˜ìŠ¤ ë ˆë²¨ ë§¤í•‘.</p>
      </li>
    </ol>
  </li>
</ul>

<p>ì›í•˜ë©´ shimì„ ì˜µì…˜í™”í•´ì„œ ìŠ¤í¬ë¦½íŠ¸ì— ë°”ë¡œ ë„£ëŠ” ë²„ì „(ì˜ˆ: <code class="language-plaintext highlighter-rouge">--shim oldpkg.models:OldClass=newpkg.models:NewClass</code>)ë„ ë§Œë“¤ì–´ì¤„ê²Œ.</p>]]></content><author><name>hvppyarchive</name></author><category term="python" /><summary type="html"><![CDATA[]]></summary></entry><entry><title type="html">md í•œì˜ ë³‘ê¸° í‘œê¸° ë Œë”ë§</title><link href="https://hvppyarchive.github.io/markdown/markdown-multilanguage/" rel="alternate" type="text/html" title="md í•œì˜ ë³‘ê¸° í‘œê¸° ë Œë”ë§" /><published>2025-09-13T11:23:46+09:00</published><updated>2025-09-13T11:23:46+09:00</updated><id>https://hvppyarchive.github.io/markdown/markdown-multilanguage</id><content type="html" xml:base="https://hvppyarchive.github.io/markdown/markdown-multilanguage/"><![CDATA[<p class="chat--user">

mkdocs-materialì—ì„œ md íŒŒì¼ ê¸€ì— ëŒ€í•´ í•œ/ì˜ ë³‘ê¸°ë¥¼ í•˜ê³  ì‹¶ì–´. ì•ˆë…•í•˜ì„¸ìš”. Hello. Everyone. ì´ëŸ° ì‹ìœ¼ë¡œ ë§ì´ì•¼. ì´ ë•Œ ì˜ì–´ëŠ” ì¢€ ì—°í•˜ê³  ì‘ê²Œ í‘œê¸°í•˜ê³  ì‹¶ì€ë°, ì´ê±¸ mdì— ì–´ë–¤ ë§ˆí¬ë¥¼ ì¶”ê°€í•´ì„œ ìë™ìœ¼ë¡œ ê·¸ë ‡ê²Œ ë Œë”ë§ í•´ì¤¬ìœ¼ë©´ ì¢‹ê² ì–´. ì•ˆë…•í•˜ì„¸ìš”. <en>Hello. Everyone</en> ì´ëŸ° ì‹ìœ¼ë¡œ ë§ì´ì•¼. ì´ê±´ ë‚´ê°€ ìƒê°í•œ ì˜ˆì‹œë‹ˆê¹Œ ë” ì¢‹ì€ ë°©ì•ˆì´ ìˆìœ¼ë©´ ì¶”ì²œí•´ë„ ì¢‹ì•„.

</p>

<p>ì¢‹ì•„ìš”! â€œí•œêµ­ì–´ ì›ë¬¸ + ì—°í•˜ê³  ì‘ì€ ì˜ì–´ ë²ˆì—­â€ì€ <strong>ë§ˆí¬ë‹¤ìš´ ì†ì„± ë¦¬ìŠ¤íŠ¸(attr_list)</strong> ë¥¼ ì“°ëŠ” ë°©ë²•ì´ ê°€ì¥ ê°„ë‹¨í•˜ê³ , ì›í•˜ì‹œë©´ <code class="language-plaintext highlighter-rouge">&lt;en&gt;</code> ê°™ì€ ì»¤ìŠ¤í…€ íƒœê·¸ë¡œë„ ê°€ëŠ¥í•©ë‹ˆë‹¤. ë‘ ê°€ì§€ë¥¼ ëª¨ë‘ ë³´ì—¬ë“œë¦´ê²Œìš”.</p>

<hr />

<h1 id="ë°©ë²•-a-ê°€ì¥-ê°„ë‹¨--ë¬¸ë‹¨ì—-í´ë˜ìŠ¤-ë¶™ì´ê¸°-attr_list">ë°©ë²• A: ê°€ì¥ ê°„ë‹¨ â€” ë¬¸ë‹¨ì— í´ë˜ìŠ¤ ë¶™ì´ê¸° (attr_list)</h1>

<h2 id="1-mkdocsyml-ì„¤ì •">1) <code class="language-plaintext highlighter-rouge">mkdocs.yml</code> ì„¤ì •</h2>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">theme</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">material</span>

<span class="na">markdown_extensions</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">attr_list</span>          <span class="c1"># â† ì´ ì¤„ ì¶”ê°€</span>

<span class="na">extra_css</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">stylesheets/translation.css</span>   <span class="c1"># â† ì»¤ìŠ¤í…€ CSS ë“±ë¡</span>
</code></pre></div></div>

<h2 id="2-docsstylesheetstranslationcss-ì‘ì„±">2) <code class="language-plaintext highlighter-rouge">docs/stylesheets/translation.css</code> ì‘ì„±</h2>
<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">/* ì˜ì–´ ë²ˆì—­ ê³µí†µ ìŠ¤íƒ€ì¼ */</span>
<span class="nc">.md-typeset</span> <span class="nc">.en</span> <span class="p">{</span>
  <span class="nl">font-size</span><span class="p">:</span> <span class="m">0.85em</span><span class="p">;</span>   <span class="c">/* ì¡°ê¸ˆ ì‘ê²Œ */</span>
  <span class="nl">opacity</span><span class="p">:</span> <span class="m">0.65</span><span class="p">;</span>       <span class="c">/* ì—°í•˜ê²Œ */</span>
<span class="p">}</span>

<span class="c">/* í•œêµ­ì–´ ë¬¸ë‹¨ ë°”ë¡œ ë‹¤ìŒì— ì˜¤ëŠ” ì˜ì–´ ë²ˆì—­ì€ ê°„ê²©ì„ ì¡°ê¸ˆë§Œ */</span>
<span class="nc">.md-typeset</span> <span class="nt">p</span> <span class="o">+</span> <span class="nt">p</span><span class="nc">.en</span> <span class="p">{</span>
  <span class="nl">margin-top</span><span class="p">:</span> <span class="m">0.25em</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="3-ë§ˆí¬ë‹¤ìš´ì—ì„œ-ì‚¬ìš©">3) ë§ˆí¬ë‹¤ìš´ì—ì„œ ì‚¬ìš©</h2>
<div class="language-md highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ì•ˆë…•í•˜ì„¸ìš”.
Hello. Everyone. {.en}
</code></pre></div></div>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">Helloâ€¦ {.en}</code> ì²˜ëŸ¼ <strong>ë¬¸ì¥ ëì—<code class="language-plaintext highlighter-rouge">{.en}</code></strong> ì„ ë¶™ì´ë©´, ë Œë”ë§ ì‹œ <code class="language-plaintext highlighter-rouge">&lt;p class="en"&gt;â€¦&lt;/p&gt;</code>ê°€ ë˜ì–´ ìœ„ CSSê°€ ì ìš©ë©ë‹ˆë‹¤.</p>
  </li>
  <li>
    <p>ë¬¸ì¥ ì¤‘ê°„ <strong>ì¸ë¼ì¸</strong> ìœ¼ë¡œ ì“°ê³  ì‹¶ìœ¼ë©´:</p>
    <div class="language-md highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ì•ˆë…•í•˜ì„¸ìš”. <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"en"</span><span class="nt">&gt;</span>Hello. Everyone.<span class="nt">&lt;/span&gt;</span>
</code></pre></div>    </div>
  </li>
</ul>

<hr />

<h1 id="ë°©ë²•-b-ì»¤ìŠ¤í…€-íƒœê·¸-en-ê·¸ëŒ€ë¡œ-ì“°ê¸°">ë°©ë²• B: ì»¤ìŠ¤í…€ íƒœê·¸ <code class="language-plaintext highlighter-rouge">&lt;en&gt;</code> ê·¸ëŒ€ë¡œ ì“°ê¸°</h1>

<p>ì›í•˜ì‹  í‘œê¸°ëŒ€ë¡œ ì¨ë„ ë©ë‹ˆë‹¤. Python-Markdownì€ ê¸°ë³¸ì ìœ¼ë¡œ <strong>ì¸ë¼ì¸ HTML í†µê³¼</strong> ë¥¼ í—ˆìš©í•˜ë¯€ë¡œ ì•„ë˜ì²˜ëŸ¼ ì‘ì„±í•˜ê³  CSSì—ì„œ <code class="language-plaintext highlighter-rouge">&lt;en&gt;</code>ì„ ìŠ¤íƒ€ì¼ë§í•˜ì„¸ìš”.</p>

<h2 id="1-ë§ˆí¬ë‹¤ìš´">1) ë§ˆí¬ë‹¤ìš´</h2>
<div class="language-md highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ì•ˆë…•í•˜ì„¸ìš”.
<span class="nt">&lt;en&gt;</span>Hello. Everyone.<span class="nt">&lt;/en&gt;</span>
</code></pre></div></div>

<h2 id="2-translationcss">2) <code class="language-plaintext highlighter-rouge">translation.css</code></h2>
<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">/* ì•Œ ìˆ˜ ì—†ëŠ” íƒœê·¸ë„ CSSì—ì„œ ê·¸ëŒ€ë¡œ ì„ íƒ ê°€ëŠ¥ */</span>
<span class="nc">.md-typeset</span> <span class="nt">en</span> <span class="p">{</span>
  <span class="nl">font-size</span><span class="p">:</span> <span class="m">0.85em</span><span class="p">;</span>
  <span class="nl">opacity</span><span class="p">:</span> <span class="m">0.65</span><span class="p">;</span>
  <span class="nl">display</span><span class="p">:</span> <span class="nb">block</span><span class="p">;</span>           <span class="c">/* ì¤„ë°”ê¿ˆ í˜•íƒœë¼ë©´ blockì´ ë³´ê¸° ì¢‹ìŒ */</span>
  <span class="nl">margin-top</span><span class="p">:</span> <span class="m">0.25em</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<blockquote>
  <p>ì°¸ê³ : HTML í‘œì¤€ìƒ â€œì»¤ìŠ¤í…€ ìš”ì†Œâ€ëŠ” ë³´í†µ ì´ë¦„ì— í•˜ì´í”ˆì´ ë“¤ì–´ê°‘ë‹ˆë‹¤(<code class="language-plaintext highlighter-rouge">&lt;en-text&gt;</code> ë“±). êµ³ì´ í‘œì¤€ì„ ë”°ë¥´ë ¤ë©´ <code class="language-plaintext highlighter-rouge">&lt;en-text&gt;</code>ë¡œ ì“°ê³  CSSë„ <code class="language-plaintext highlighter-rouge">en-text</code>ë¡œ ì§€ì •í•´ë„ ë©ë‹ˆë‹¤. ë‹¤ë§Œ ì‹¤ì œ ë™ì‘ì€ <code class="language-plaintext highlighter-rouge">&lt;en&gt;</code>ë„ ë¬¸ì œì—†ìŠµë‹ˆë‹¤.</p>
</blockquote>

<hr />

<h1 id="ì„ íƒ-ì ‘ê·¼ì„±ê¹Œì§€-ê³ ë ¤í•œ-ë²„ì „">(ì„ íƒ) ì ‘ê·¼ì„±ê¹Œì§€ ê³ ë ¤í•œ ë²„ì „</h1>

<p>ë²ˆì—­ í…ìŠ¤íŠ¸ì— <code class="language-plaintext highlighter-rouge">lang="en"</code>ì„ ë”í•´ì£¼ë©´ ìŠ¤í¬ë¦°ë¦¬ë”ê°€ ì–¸ì–´ ì „í™˜ì„ ì¸ì§€í•©ë‹ˆë‹¤.</p>
<div class="language-md highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Hello. Everyone. { .en lang=en }
</code></pre></div></div>

<p>CSSëŠ” ê·¸ëŒ€ë¡œ <code class="language-plaintext highlighter-rouge">.en</code>ì— ê±¸ë ¤ì„œ ì‹œê° ìŠ¤íƒ€ì¼ì€ ìœ ì§€ë˜ê³ , ë³´ì¡°ê³µí•™ ì¹œí™”ì„±ë§Œ ì˜¬ë¼ê°‘ë‹ˆë‹¤.</p>

<hr />

<h1 id="ì–´ë–¤-ë°©ë²•ì„-ì“°ë©´-ì¢‹ì„ê¹Œ">ì–´ë–¤ ë°©ë²•ì„ ì“°ë©´ ì¢‹ì„ê¹Œ?</h1>

<ul>
  <li>
    <p><strong>ê°€ì¥ ê¶Œì¥:</strong> ë°©ë²• A (attr_list)</p>

    <ul>
      <li>ë§ˆí¬ë‹¤ìš´ ë¬¸ë²•ì„ ìœ ì§€í•˜ë©´ì„œë„ ê¹”ë”í•˜ê²Œ í´ë˜ìŠ¤ë§Œ ë¶€ì—¬ â†’ ê´€ë¦¬ ì‰¬ì›€</li>
    </ul>
  </li>
  <li>
    <p><strong>ì›í•˜ì‹  í‘œê¸°ë¥¼ ê·¸ëŒ€ë¡œ ì“°ê³  ì‹¶ë‹¤ë©´:</strong> ë°©ë²• B (<code class="language-plaintext highlighter-rouge">&lt;en&gt;â€¦&lt;/en&gt;</code>)</p>

    <ul>
      <li>ì·¨í–¥/ê°€ë…ì„± ë©´ì—ì„œ ì„ í˜¸í•˜ë©´ ì‚¬ìš©, ë‹¤ë§Œ HTML íƒœê·¸ë¥¼ ì§ì ‘ ì“°ëŠ” ì ë§Œ ìœ ì˜</li>
    </ul>
  </li>
</ul>

<p>ë‘˜ ì¤‘ í•˜ë‚˜ë§Œ ì±„íƒí•˜ì…”ë„ ë˜ê³ , <strong>ë¬¸ë‹¨ì€<code class="language-plaintext highlighter-rouge">{.en}</code></strong>, <strong>ì¸ë¼ì¸ì€ <code class="language-plaintext highlighter-rouge">&lt;span class="en"&gt;â€¦&lt;/span&gt;</code></strong>ì²˜ëŸ¼ í˜¼ìš©í•´ë„ ê¹”ë”í•˜ê²Œ ê´€ë¦¬ë©ë‹ˆë‹¤.</p>

<p>í•„ìš”í•˜ì‹œë©´ ëª©ë¡/í‘œ/ì¸ìš©ë¬¸ ë“±ì—ì„œì˜ ë¯¸ì„¸ ê°„ê²© ì¡°ì •ìš© CSSë„ ì´ì–´ì„œ ë§Œë“¤ì–´ ë“œë¦´ê²Œìš”.</p>

<p class="chat--user">

ì•ˆ ë˜ëŠ”ë° ë„ì–´ì“°ê¸°ë‚˜ ì¤„ë°”ê¿ˆ ê°™ì€ê±¸ ì˜ í•´ì•¼í•˜ë‚˜?

</p>

<p>ê°€ëŠ¥í•´! ì£¼ë¡œ <strong>ë„ì–´ì“°ê¸°/ì¤„ë°”ê¿ˆ</strong> ê³¼ <strong>ì„¤ì • ë¡œë”©</strong> ì—ì„œ ìì£¼ ë¯¸ë„ëŸ¬ì ¸ìš”. ì•„ë˜ ìˆœì„œëŒ€ë¡œ í•œ ë²ˆë§Œ ì ê²€í•´ë³´ì£ . (ë³µë¶™ìš© ìµœì†Œ ì˜ˆì œë„ ë§¨ ì•„ë˜ì— ë„£ì—ˆì–´ìš”.)</p>

<hr />

<h2 id="1-ì„¤ì •ì´-ì§„ì§œ-ì¼œì¡ŒëŠ”ì§€-í™•ì¸">1) ì„¤ì •ì´ ì§„ì§œ ì¼œì¡ŒëŠ”ì§€ í™•ì¸</h2>

<ul>
  <li><code class="language-plaintext highlighter-rouge">mkdocs.yml</code>ì— <strong>ì •í™•íˆ</strong> ë‹¤ìŒì´ ìˆì–´ì•¼ í•´ìš”.
    <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">theme</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">material</span>
    
<span class="na">markdown_extensions</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">attr_list</span>        <span class="c1"># â† ì´ê²Œ ìˆì–´ì•¼ {.en}ì´ ë¨¹ìŠµë‹ˆë‹¤.</span>
    
<span class="na">extra_css</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">stylesheets/translation.css</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">docs/stylesheets/translation.css</code> íŒŒì¼ì´ ì‹¤ì œë¡œ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸.</p>
  </li>
  <li><code class="language-plaintext highlighter-rouge">mkdocs serve</code>ë¥¼ ëŒë¦¬ëŠ” ì¤‘ì— <code class="language-plaintext highlighter-rouge">extra_css</code>ë¥¼ ì¶”ê°€í–ˆë‹¤ë©´, <strong>ì„œë²„ë¥¼ í•œ ë²ˆ ì¬ì‹œì‘</strong> í•´ ì£¼ì„¸ìš”. (ê°€ë” ìƒˆ CSSë¥¼ ëª» ì½ê³  ìˆìŠµë‹ˆë‹¤.)</li>
</ul>

<hr />

<h2 id="2-ì¤„ë°”ê¿ˆ-ê·œì¹™-ì´í•´-ì—¬ê¸°ì„œ-ë§ì´-í‹€ì–´ì§‘ë‹ˆë‹¤">2) ì¤„ë°”ê¿ˆ ê·œì¹™ ì´í•´ (ì—¬ê¸°ì„œ ë§ì´ í‹€ì–´ì§‘ë‹ˆë‹¤)</h2>

<p>ë§ˆí¬ë‹¤ìš´ì—ì„œ:</p>

<ul>
  <li>
    <p><strong>ë¹ˆ ì¤„(ê³µë°± ì¤„)</strong> = ìƒˆ ë¬¸ë‹¨(<code class="language-plaintext highlighter-rouge">&lt;p&gt;â€¦&lt;/p&gt;</code>)</p>
  </li>
  <li>
    <p><strong>ê·¸ëƒ¥ ì¤„ë°”ê¿ˆ í•˜ë‚˜</strong> = ê°™ì€ ë¬¸ë‹¨ ì•ˆì—ì„œ <strong>ê³µë°± í•˜ë‚˜</strong>(ì¤„ë°”ê¿ˆì´ ì‚¬ë¼ì§)</p>
  </li>
  <li>
    <p><strong>ì¤„ ëì— ê³µë°± ë‘ ì¹¸ + ì—”í„°</strong> = <strong>ê°•ì œ ì¤„ë°”ê¿ˆ(<code class="language-plaintext highlighter-rouge">&lt;br&gt;</code>)</strong></p>
  </li>
</ul>

<p>ì›í•˜ëŠ” í˜•íƒœê°€ â€œí•œêµ­ì–´ í•œ ì¤„ + (ì¡°ê¸ˆ ì—°í•˜ê³  ì‘ì€) ì˜ì–´ í•œ ì¤„â€ì´ë¼ë©´,</p>

<ul>
  <li>
    <p><strong>ë¬¸ë‹¨ì„ ë¶„ë¦¬</strong> í•˜ê±°ë‚˜(<strong>ë¹ˆ ì¤„ 1ê°œ</strong>),</p>
  </li>
  <li>
    <p><strong>ê°•ì œ ì¤„ë°”ê¿ˆ</strong> ì„ ì“°ê±°ë‚˜(í•œêµ­ì–´ ì¤„ ë <strong>ë‘ ì¹¸</strong> + ì—”í„°)<br />
ë‘˜ ì¤‘ í•˜ë‚˜ë¥¼ ë°˜ë“œì‹œ í•´ ì£¼ì„¸ìš”.</p>
  </li>
</ul>

<hr />

<h2 id="3-ì‹¤ì œ-ì‘ì„±-ì˜ˆì œ-3ê°€ì§€">3) ì‹¤ì œ ì‘ì„± ì˜ˆì œ 3ê°€ì§€</h2>

<h3 id="a-ê°€ì¥-ê°„ë‹¨-ë¬¸ë‹¨-ë¶„ë¦¬--en">A. ê°€ì¥ ê°„ë‹¨: ë¬¸ë‹¨ ë¶„ë¦¬ + <code class="language-plaintext highlighter-rouge">{.en}</code></h3>
<div class="language-md highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ì•ˆë…•í•˜ì„¸ìš”.

Hello. Everyone. {.en}
</code></pre></div></div>

<blockquote>
  <p>í¬ì¸íŠ¸: <strong>í•œêµ­ì–´ì™€ ì˜ì–´ ì‚¬ì´ì— ë¹ˆ ì¤„</strong> ì´ ìˆì–´ì•¼ ì˜ì–´ê°€ <strong>ë³„ë„ ë¬¸ë‹¨</strong> ì´ ë˜ê³ , <code class="language-plaintext highlighter-rouge">{.en}</code>ì´ ê·¸ ë¬¸ë‹¨ì— ì ìš©ë©ë‹ˆë‹¤.</p>
</blockquote>

<h3 id="b-ê°™ì€-ë¬¸ë‹¨-ì•ˆì—ì„œ-ì¤„ë§Œ-ë°”ê¾¸ê³ -ì‹¶ì„-ë•Œ-ê°„ê²©-ë”-ì´˜ì´˜">B. ê°™ì€ ë¬¸ë‹¨ ì•ˆì—ì„œ ì¤„ë§Œ ë°”ê¾¸ê³  ì‹¶ì„ ë•Œ (ê°„ê²© ë” ì´˜ì´˜)</h3>
<div class="language-md highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ì•ˆë…•í•˜ì„¸ìš”.Â·Â·
<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"en"</span><span class="nt">&gt;</span>Hello. Everyone.<span class="nt">&lt;/span&gt;</span>
</code></pre></div></div>

<blockquote>
  <p>í•œêµ­ì–´ ì¤„ ëì˜ <code class="language-plaintext highlighter-rouge">Â·Â·</code>(ê³µë°± ë‘ ì¹¸)ê°€ <strong>ê°•ì œ ì¤„ë°”ê¿ˆ</strong> ì…ë‹ˆë‹¤.<br />
 <code class="language-plaintext highlighter-rouge">&lt;span&gt;</code>ì€ HTMLì´ë¯€ë¡œ ì¤„ë°”ê¿ˆì„ ìœ„í•´ <code class="language-plaintext highlighter-rouge">&lt;br&gt;</code>ë¥¼ ì¨ë„ ë©ë‹ˆë‹¤:</p>
  <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>md

ì•ˆë…•í•˜ì„¸ìš”.&lt;br&gt;
&lt;span class="en"&gt;Hello. Everyone.&lt;/span&gt;

</code></pre></div>  </div>
</blockquote>

<h3 id="c-ì»¤ìŠ¤í…€-íƒœê·¸-en-ê·¸ëŒ€ë¡œ">C. ì»¤ìŠ¤í…€ íƒœê·¸ <code class="language-plaintext highlighter-rouge">&lt;en&gt;</code> ê·¸ëŒ€ë¡œ</h3>
<div class="language-md highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ì•ˆë…•í•˜ì„¸ìš”.
<span class="nt">&lt;en&gt;</span>Hello. Everyone.<span class="nt">&lt;/en&gt;</span>
</code></pre></div></div>

<blockquote>
  <p>ì¸ë¼ì¸ HTMLì€ ê¸°ë³¸ í—ˆìš©ì´ë¼ ë³„ë„ í™•ì¥ í•„ìš” ì—†ìŠµë‹ˆë‹¤. (ë¸”ë¡ HTMLë¡œ ê°ì‹¸ ë³µì¡í•˜ê²Œ ì“°ëŠ” ê²½ìš°ì—ë§Œ <code class="language-plaintext highlighter-rouge">md_in_html</code>ì´ í•„ìš”)</p>
</blockquote>

<hr />

<h2 id="4-css-material-í…Œë§ˆ-ê¸°ì¤€-ë³µë¶™">4) CSS (Material í…Œë§ˆ ê¸°ì¤€, ë³µë¶™)</h2>

<p><code class="language-plaintext highlighter-rouge">docs/stylesheets/translation.css</code></p>
<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">/* ì˜ì–´ ë²ˆì—­ ê³µí†µ ìŠ¤íƒ€ì¼ */</span>
<span class="nc">.md-typeset</span> <span class="nc">.en</span><span class="o">,</span>
<span class="nc">.md-typeset</span> <span class="nt">en</span><span class="o">,</span>
<span class="nc">.md-typeset</span> <span class="nt">span</span><span class="nc">.en</span> <span class="p">{</span>
  <span class="nl">font-size</span><span class="p">:</span> <span class="m">0.85em</span><span class="p">;</span>   <span class="c">/* ì¡°ê¸ˆ ì‘ê²Œ */</span>
  <span class="nl">opacity</span><span class="p">:</span> <span class="m">0.65</span><span class="p">;</span>       <span class="c">/* ì—°í•˜ê²Œ */</span>
<span class="p">}</span>

<span class="c">/* ë¬¸ë‹¨ìœ¼ë¡œ ë¶„ë¦¬í•œ ê²½ìš°: í•œêµ­ì–´ ë¬¸ë‹¨ ë°”ë¡œ ë’¤ ì˜ì–´ ë¬¸ë‹¨ì˜ ìœ„ ì—¬ë°± ì¤„ì´ê¸° */</span>
<span class="nc">.md-typeset</span> <span class="nt">p</span> <span class="o">+</span> <span class="nt">p</span><span class="nc">.en</span> <span class="p">{</span>
  <span class="nl">margin-top</span><span class="p">:</span> <span class="m">0.25em</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* ì¤„ë°”ê¿ˆ(ë¸Œë ˆì´í¬) ë’¤ì— ì˜¤ëŠ” ì¸ë¼ì¸ ë²ˆì—­ì„ 'í•œ ì¤„'ì²˜ëŸ¼ ë³´ì´ê²Œ */</span>
<span class="nc">.md-typeset</span> <span class="nt">span</span><span class="nc">.en</span> <span class="p">{</span>
  <span class="nl">display</span><span class="p">:</span> <span class="nb">inline-block</span><span class="p">;</span>   <span class="c">/* &lt;br&gt; ë‹¤ìŒì— ë‚´ë ¤ì˜¤ë©´ í•œ ì¤„ë¡œ ë–¨ì–´ì ¸ ë³´ì„ */</span>
  <span class="nl">margin-top</span><span class="p">:</span> <span class="m">0.25em</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* ì»¤ìŠ¤í…€ íƒœê·¸ &lt;en&gt;ì„ ë¸”ë¡ì²˜ëŸ¼ ì“°ê³  ì‹¶ë‹¤ë©´ */</span>
<span class="nc">.md-typeset</span> <span class="nt">en</span> <span class="p">{</span>
  <span class="nl">display</span><span class="p">:</span> <span class="nb">block</span><span class="p">;</span>
  <span class="nl">margin-top</span><span class="p">:</span> <span class="m">0.25em</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<hr />

<h2 id="5-ì²´í¬ë¦¬ìŠ¤íŠ¸ë¬¸ì œ-ê³„ì†ë˜ë©´-ì—¬ê¸°ì„œ-ì¡í™ë‹ˆë‹¤">5) ì²´í¬ë¦¬ìŠ¤íŠ¸(ë¬¸ì œ ê³„ì†ë˜ë©´ ì—¬ê¸°ì„œ ì¡í™ë‹ˆë‹¤)</h2>

<ol>
  <li>
    <p><code class="language-plaintext highlighter-rouge">mkdocs.yml</code>ì— <code class="language-plaintext highlighter-rouge">attr_list</code>ê°€ <strong>ì •í™•íˆ</strong> ë“¤ì–´ê°€ ìˆë‹¤. (ì˜¤íƒˆì, ë“¤ì—¬ì“°ê¸° ì£¼ì˜)</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">extra_css</code> ê²½ë¡œê°€ ì‹¤ì œ íŒŒì¼ ìœ„ì¹˜ì™€ <strong>ì¼ì¹˜</strong> í•œë‹¤. (<code class="language-plaintext highlighter-rouge">docs/stylesheets/translation.css</code>)</p>
  </li>
  <li>
    <p><strong>ì„œë²„ ì¬ì‹œì‘</strong> í›„ ìƒˆ CSSê°€ ë¡œë“œëœë‹¤.</p>
  </li>
  <li>
    <p>ë§ˆí¬ë‹¤ìš´ì—ì„œ ì˜ì–´ ì¤„ì„ <strong>ë³„ë„ ë¬¸ë‹¨</strong> ìœ¼ë¡œ ë§Œë“¤ë ¤ë©´ <strong>ë¹ˆ ì¤„ 1ê°œ</strong> ,<br />
ê°™ì€ ë¬¸ë‹¨ ì•ˆ <strong>ì¤„ë°”ê¿ˆ</strong> ì´ë©´ í•œêµ­ì–´ ì¤„ ëì— <strong>ê³µë°± 2ì¹¸</strong> ë˜ëŠ” <code class="language-plaintext highlighter-rouge">&lt;br&gt;</code>.</p>
  </li>
  <li>
    <p>ê°œë°œìë„êµ¬ì—ì„œ <code class="language-plaintext highlighter-rouge">.en</code> ê·œì¹™ì´ <strong>ì‹¤ì œë¡œ ì ìš©</strong> ë˜ëŠ”ì§€ í™•ì¸í•œë‹¤. (ì„ íƒì ì•ì— <code class="language-plaintext highlighter-rouge">.md-typeset</code>ë¥¼ ë¶™ì´ë©´ ìš°ì„ ìˆœìœ„ ë¬¸ì œë¥¼ ëŒ€ë¶€ë¶„ ì´ê¹ë‹ˆë‹¤.)</p>
  </li>
</ol>

<hr />

<h2 id="6-ë³µë¶™ìš©-ì™„ì „-ìµœì†Œ-ì˜ˆì œ">6) ë³µë¶™ìš© â€œì™„ì „ ìµœì†Œ ì˜ˆì œâ€</h2>

<p><strong>mkdocs.yml</strong></p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">site_name</span><span class="pi">:</span> <span class="s">demo</span>
<span class="na">theme</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">material</span>
<span class="na">markdown_extensions</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">attr_list</span>
<span class="na">extra_css</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">stylesheets/translation.css</span>
</code></pre></div></div>

<p><strong>docs/stylesheets/translation.css</strong> â†’ ìœ„ CSS ê·¸ëŒ€ë¡œ</p>

<p><strong>docs/index.md</strong></p>
<div class="language-md highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh"># ë°ëª¨</span>

ì•ˆë…•í•˜ì„¸ìš”.

Hello. Everyone. {.en}
<span class="p">
---
</span>
ì•ˆë…•í•˜ì„¸ìš”.Â·Â·
<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"en"</span><span class="nt">&gt;</span>Hello. Everyone.<span class="nt">&lt;/span&gt;</span>
<span class="p">
---
</span>
ì•ˆë…•í•˜ì„¸ìš”.
<span class="nt">&lt;en&gt;</span>Hello. Everyone.<span class="nt">&lt;/en&gt;</span>
</code></pre></div></div>

<p>ì´ëŒ€ë¡œ í•˜ë©´ 3ê°€ì§€ ë°©ì‹ ëª¨ë‘ â€œì—°í•˜ê³  ì‘ê²Œâ€ ë‚˜ì˜µë‹ˆë‹¤.<br />
ê·¸ë˜ë„ ì•ˆ ë˜ë©´, ì‚¬ìš©í•˜ì‹  <code class="language-plaintext highlighter-rouge">mkdocs.yml</code>ê³¼ í•œë‘ ì¤„ì˜ <code class="language-plaintext highlighter-rouge">md</code> ì˜ˆì œë¥¼ ë¶™ì—¬ì£¼ì‹œë©´ ë°”ë¡œ ì›ì¸ pinpoint í•´ë“œë¦´ê²Œìš”!</p>

<p class="chat--user">

ë‹¤ìŒ ì¤„ì—ë‹¤ê°€ {: .en}ì„ ì“°ë‹ˆê¹Œ ë˜ë„¤ ì•ˆë…•í•˜ì„¸ìš”. (ê³µë°± ë‘ê°œ) Hello. Everyone. {: .en} ì´ëŸ° ì‹ìœ¼ë¡œ ë§ì´ì•¼. ê·¼ë° ë¬¸ì œëŠ” í•œê¸€ê¹Œì§€ ê°™ì´ ì—°í•˜ê²Œ ë³€í•´ë²„ë ¤.

</p>

<p>ë§ì•„ìš”â€”ê·¸ ì¦ìƒì€ <strong><code class="language-plaintext highlighter-rouge">{: .en}</code>ì´ â€œì´ì „ ë¸”ë¡ ì „ì²´â€ì— ë¶™ì–´ì„œ</strong> ê·¸ë˜ìš”.<br />
ì§€ê¸ˆ ì“°ì‹  í˜•íƒœëŠ” <code class="language-plaintext highlighter-rouge">ì•ˆë…•í•˜ì„¸ìš”.</code> ë’¤ì˜ <strong>ê³µë°± ë‘ ì¹¸</strong> ë•Œë¬¸ì— í•œêµ­ì–´+ì˜ì–´ê°€ <strong>ê°™ì€ ë¬¸ë‹¨(<code class="language-plaintext highlighter-rouge">&lt;p&gt;â€¦&lt;/p&gt;</code>)</strong> ì•ˆì— ë“¤ì–´ê°‘ë‹ˆë‹¤. ê·¸ëŸ¬ë©´ <code class="language-plaintext highlighter-rouge">{: .en}</code>ì´ ê·¸ <strong>ë¬¸ë‹¨ ì „ì²´</strong> ì— ì ìš©ë˜ì–´ í•œê¸€ê¹Œì§€ ì—°í•´ì ¸ìš”.</p>

<p>ì•„ë˜ ì…‹ ì¤‘ í•˜ë‚˜ë¡œ ê³ ì¹˜ë©´ ë”± í•´ê²°ë©ë‹ˆë‹¤.</p>

<hr />

<h3 id="-ë°©ë²•-1-ë¬¸ë‹¨ì„-ë¶„ë¦¬-í•˜ê³ -ì˜ì–´-ì¤„ì—ë§Œ-í´ë˜ìŠ¤-ë¶™ì´ê¸°-ê°€ì¥-ê¹”ë”">âœ… ë°©ë²• 1: <strong>ë¬¸ë‹¨ì„ ë¶„ë¦¬</strong> í•˜ê³  ì˜ì–´ ì¤„ì—ë§Œ í´ë˜ìŠ¤ ë¶™ì´ê¸° (ê°€ì¥ ê¹”ë”)</h3>
<div class="language-md highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ì•ˆë…•í•˜ì„¸ìš”.

Hello. Everyone. {.en}
</code></pre></div></div>

<ul>
  <li><strong>í¬ì¸íŠ¸:</strong> í•œêµ­ì–´ì™€ ì˜ì–´ ì‚¬ì´ì— <strong>ë¹ˆ ì¤„ 1ê°œ</strong> â†’ ì„œë¡œ ë‹¤ë¥¸ ë¬¸ë‹¨ì´ ë˜ë©´ì„œ <code class="language-plaintext highlighter-rouge">.en</code>ì€ ì˜ì–´ ë¬¸ë‹¨ì—ë§Œ ì ìš©.</li>
</ul>

<hr />

<h3 id="-ë°©ë²•-2-ì•ì¤„ì—-ì†ì„±-ë°°ì¹˜-í•´ì„œ-ë‹¤ìŒ-ë¸”ë¡ì—ë§Œ-ì ìš©">âœ… ë°©ë²• 2: <strong>ì•ì¤„ì— ì†ì„± ë°°ì¹˜</strong> í•´ì„œ â€œë‹¤ìŒ ë¸”ë¡â€ì—ë§Œ ì ìš©</h3>
<div class="language-md highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ì•ˆë…•í•˜ì„¸ìš”.

{:.en lang=en}
Hello. Everyone.
</code></pre></div></div>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">{: .en}</code>ì„ <strong>ì˜ì–´ ë¬¸ë‹¨ ì•ì¤„</strong> ì— ë‘ë©´, ë°”ë¡œ <strong>ì•„ë˜ ë¸”ë¡(ì˜ì–´ ë¬¸ë‹¨)</strong> ì—ë§Œ ì ìš©ë©ë‹ˆë‹¤.</p>
  </li>
  <li>
    <p>ì ‘ê·¼ì„±ê¹Œì§€ ì±™ê¸°ë ¤ë©´ <code class="language-plaintext highlighter-rouge">lang=en</code>ë„ ê°™ì´ ë‘ì„¸ìš”.</p>
  </li>
</ul>

<hr />

<h3 id="-ë°©ë²•-3-ê°™ì€-ë¬¸ë‹¨ì„-ìœ ì§€-í•˜ë ¤ë©´-br--ì¸ë¼ì¸-span">âœ… ë°©ë²• 3: <strong>ê°™ì€ ë¬¸ë‹¨ì„ ìœ ì§€</strong> í•˜ë ¤ë©´ <code class="language-plaintext highlighter-rouge">&lt;br&gt;</code> + ì¸ë¼ì¸ span</h3>
<div class="language-md highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ì•ˆë…•í•˜ì„¸ìš”.<span class="nt">&lt;br&gt;</span>
<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"en"</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>Hello. Everyone.<span class="nt">&lt;/span&gt;</span>
</code></pre></div></div>

<ul>
  <li>í•œêµ­ì–´ ì¤„ ë <strong>ê³µë°± ë‘ ì¹¸</strong> ëŒ€ì‹  <code class="language-plaintext highlighter-rouge">&lt;br&gt;</code>ë¡œ ì¤„ë°”ê¿ˆí•˜ê³ , ì˜ì–´ë§Œ <code class="language-plaintext highlighter-rouge">&lt;span class="en"&gt;â€¦&lt;/span&gt;</code>ë¡œ ê°ì‹¸ë©´ ë©ë‹ˆë‹¤.</li>
</ul>

<hr />

<h3 id="ì™œ-ì´ëŸ°ê°€ìš”-í•µì‹¬-ì •ë¦¬">ì™œ ì´ëŸ°ê°€ìš”? (í•µì‹¬ ì •ë¦¬)</h3>

<ul>
  <li>
    <p><strong>ê³µë°± ë‘ ì¹¸ + ì—”í„°</strong> = ê°™ì€ ë¬¸ë‹¨ ì•ˆì˜ <code class="language-plaintext highlighter-rouge">&lt;br&gt;</code></p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">{: .en}</code> (ë‹¨ë… ì¤„) = <strong>ë°”ë¡œ ì• ë¸”ë¡</strong> ì— ë¶™ìŒ â†’ ê°™ì€ ë¬¸ë‹¨ì´ë©´ <strong>í•œê¸€+ì˜ì–´ ëª¨ë‘</strong> ì— ì ìš©ë¨</p>
  </li>
  <li>
    <p>í•´ê²°ì±…ì€ <strong>ë¸”ë¡ì„ ë‚˜ëˆ„ê±°ë‚˜</strong>(ë°©ë²• 1/2), <strong>ì¸ë¼ì¸ë§Œ ê°ì‹¸ê¸°</strong>(ë°©ë²• 3)ì…ë‹ˆë‹¤.</p>
  </li>
</ul>

<p>í•„ìš”í•˜ë©´, ì§€ê¸ˆ ì“°ì‹œëŠ” ì‹¤ì œ í•œë‘ ì¤„ì„ ë¶™ì—¬ ì£¼ì‹œë©´ ê·¸ í˜•íƒœì— ë§ì¶° ê°€ì¥ ê°„ë‹¨í•œ ë¬¸ë²•ìœ¼ë¡œ ë”± ë§ì¶° ë“œë¦´ê²Œìš”!</p>

<p class="chat--user">

ì•„ë‹ˆ ì™œ ìê¾¸ {.en}ì´ë¼ê³  í•˜ëŠ”ê±´ë°, ì´ê±° ë™ì‘í•˜ëŠ”ê±°ì•¼?

</p>

<p>ë§ì•„ìš”, í—·ê°ˆë¦´ ë§Œí•´ìš”. ì •ë¦¬í•˜ë©´:</p>

<ol>
  <li><strong><code class="language-plaintext highlighter-rouge">{.en}</code> = <code class="language-plaintext highlighter-rouge">{:.en}</code></strong></li>
</ol>

<ul>
  <li>
    <p>ë‘˜ ë‹¤ <strong>attr_list</strong> í™•ì¥ ë¬¸ë²•ì…ë‹ˆë‹¤. (ì½œë¡ ì€ ì„ íƒ)</p>
  </li>
  <li>
    <p><strong>ë™ì‘ ì¡°ê±´:</strong> <code class="language-plaintext highlighter-rouge">mkdocs.yml</code>ì— <code class="language-plaintext highlighter-rouge">markdown_extensions: - attr_list</code>ê°€ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.</p>
  </li>
</ul>

<ol>
  <li><strong>ë¶™ëŠ” ìœ„ì¹˜ ê·œì¹™(í•µì‹¬)</strong></li>
</ol>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">{: .en}</code> ê°™ì€ <strong>ì†ì„± ì¤„ì€ â€œë°”ë¡œ ì• ë¸”ë¡â€</strong>ì— ë¶™ìŠµë‹ˆë‹¤.</p>
  </li>
  <li>
    <p>í•œê¸€ ì¤„ ëì— ê³µë°± ë‘ ê°œë¥¼ ë„£ìœ¼ë©´ <strong>í•œê¸€+ì˜ì–´ê°€ í•œ ë¬¸ë‹¨(ê°™ì€ ë¸”ë¡)</strong> ì´ë¼ì„œ, <code class="language-plaintext highlighter-rouge">{: .en}</code>ì´ ë‘˜ ë‹¤ì— ì ìš©ë¼ìš” â†’ ê·¸ë˜ì„œ í•œê¸€ê¹Œì§€ ì—°í•´ì§„ ê²ƒ.</p>
  </li>
</ul>

<ol>
  <li><strong>ì›í•˜ëŠ” íš¨ê³¼(ì˜ì–´ë§Œ ì—°í•˜ê²Œ) ë§Œë“œëŠ” ë²• â€“ 3ê°€ì§€ ì¤‘ í•˜ë‚˜ ì„ íƒ</strong></li>
</ol>

<ul>
  <li>âœ… <strong>ë¬¸ë‹¨ ë¶„ë¦¬ + ì˜ì–´ì—ë§Œ í´ë˜ìŠ¤</strong> (ê°€ì¥ ê°„ë‹¨)
    <div class="language-md highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ì•ˆë…•í•˜ì„¸ìš”.
    
Hello. Everyone. {.en}
</code></pre></div>    </div>
  </li>
</ul>

<p>ë˜ëŠ”
    ```md
    ì•ˆë…•í•˜ì„¸ìš”.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Hello. Everyone.
{:.en}
```
</code></pre></div></div>

<blockquote>
  <p>ë¹ˆ ì¤„ í•˜ë‚˜ë¡œ ì˜ì–´ë¥¼ <strong>ë³„ë„ ë¬¸ë‹¨</strong> ìœ¼ë¡œ ë§Œë“¤ë©´ <code class="language-plaintext highlighter-rouge">.en</code>ì´ ì˜ì–´ ë¬¸ë‹¨ì—ë§Œ ì ìš©ë©ë‹ˆë‹¤.</p>
</blockquote>

<ul>
  <li>âœ… <strong>ê°™ì€ ë¬¸ë‹¨ì„ ìœ ì§€í•´ì•¼ í•œë‹¤ë©´</strong> â†’ ì¤„ë°”ê¿ˆì€ <code class="language-plaintext highlighter-rouge">&lt;br&gt;</code>ë¡œ, ì˜ì–´ë§Œ ê°ì‹¸ê¸°
    <div class="language-md highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ì•ˆë…•í•˜ì„¸ìš”.<span class="nt">&lt;br&gt;</span>
<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"en"</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>Hello. Everyone.<span class="nt">&lt;/span&gt;</span>
</code></pre></div>    </div>
  </li>
  <li>âœ… <strong>ì»¤ìŠ¤í…€ íƒœê·¸ ì„ í˜¸ ì‹œ</strong>
    <div class="language-md highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ì•ˆë…•í•˜ì„¸ìš”.
<span class="nt">&lt;en</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>Hello. Everyone.<span class="nt">&lt;/en&gt;</span>
</code></pre></div>    </div>
  </li>
</ul>

<ol>
  <li><strong>CSS ì˜ˆì‹œ(Material í…Œë§ˆ ê¸°ì¤€)</strong></li>
</ol>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">/* ì˜ì–´ ë²ˆì—­ì„ ì‘ê³  ì—°í•˜ê²Œ */</span>
<span class="nc">.md-typeset</span> <span class="nc">.en</span><span class="o">,</span>
<span class="nc">.md-typeset</span> <span class="nt">en</span> <span class="p">{</span>
  <span class="nl">font-size</span><span class="p">:</span> <span class="m">0.85em</span><span class="p">;</span>
  <span class="nl">opacity</span><span class="p">:</span> <span class="m">0.65</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* í•œêµ­ì–´ ë¬¸ë‹¨ ë°”ë¡œ ë‹¤ìŒ ì˜ì–´ ë¬¸ë‹¨ ê°„ê²© ë‹¤ë“¬ê¸° */</span>
<span class="nc">.md-typeset</span> <span class="nt">p</span> <span class="o">+</span> <span class="nt">p</span><span class="nc">.en</span> <span class="p">{</span> <span class="nl">margin-top</span><span class="p">:</span> <span class="m">0.25em</span><span class="p">;</span> <span class="p">}</span>

<span class="c">/* &lt;en&gt;ì„ ì¤„ë°”ê¿ˆ í˜•íƒœë¡œ ì“°ë ¤ë©´ */</span>
<span class="nc">.md-typeset</span> <span class="nt">en</span> <span class="p">{</span> <span class="nl">display</span><span class="p">:</span> <span class="nb">block</span><span class="p">;</span> <span class="nl">margin-top</span><span class="p">:</span> <span class="m">0.25em</span><span class="p">;</span> <span class="p">}</span>
</code></pre></div></div>

<ol>
  <li><strong>ë¹ ë¥¸ ì²´í¬ë¦¬ìŠ¤íŠ¸</strong></li>
</ol>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">mkdocs.yml</code>ì— <code class="language-plaintext highlighter-rouge">- attr_list</code>ê°€ ìˆìŒ?</p>
  </li>
  <li>
    <p>CSSê°€ <code class="language-plaintext highlighter-rouge">extra_css</code>ë¡œ ë¡œë“œë¨?</p>
  </li>
  <li>
    <p>í•œê¸€ ì¤„ ë <strong>ê³µë°± ë‘ ê°œ</strong> ë¡œ ì¤„ë°”ê¿ˆì„ ë§Œë“¤ê³  ìˆì§€ëŠ” ì•ŠìŒ? (ê·¸ëŸ¼ ê°™ì€ ë¬¸ë‹¨ì´ ë©ë‹ˆë‹¤)</p>
  </li>
  <li>
    <p>ì˜ì–´ë¥¼ <strong>ë³„ë„ ë¬¸ë‹¨</strong> ìœ¼ë¡œ ë§Œë“¤ì—ˆëŠ”ì§€, ì•„ë‹ˆë©´ <code class="language-plaintext highlighter-rouge">&lt;span class="en"&gt;â€¦&lt;/span&gt;</code>ë¡œ <strong>ì¸ë¼ì¸ë§Œ</strong> ê°ìŒŒëŠ”ì§€</p>
  </li>
</ul>

<p>ìš”ì•½: <code class="language-plaintext highlighter-rouge">{.en}</code>/<strong><code class="language-plaintext highlighter-rouge">{:.en}</code>ì€ ì œëŒ€ë¡œ ë™ì‘</strong>í•©ë‹ˆë‹¤. ë‹¤ë§Œ â€œì†ì„±ì€ <strong>ë°”ë¡œ ì• ë¸”ë¡ ì „ì²´</strong> ì— ë¶™ëŠ”ë‹¤â€ëŠ” ê·œì¹™ ë•Œë¬¸ì—, ì˜ì–´ë§Œ ìŠ¤íƒ€ì¼ë§í•˜ë ¤ë©´ <strong>ì˜ì–´ë¥¼ ë³„ë„ ë¸”ë¡ìœ¼ë¡œ ë¶„ë¦¬</strong> í•˜ê±°ë‚˜ <strong>ì˜ì–´ë§Œ ì¸ë¼ì¸ìœ¼ë¡œ ê°ì‹¸ì•¼</strong> í•©ë‹ˆë‹¤.</p>

<p class="chat--user">

ì•„ë‹ˆ ê·¸ëƒ¥ Hello. Everyone. {.en} ì´ë ‡ê²Œ ìµœì¢… ë Œë”ë§ ë˜ëŠ”ë°

</p>

<p>ì•„í•˜, ê·¸ëŸ¼ ìƒí™©ì´ í™•ì‹¤í•´ìš”.<br />
<strong><code class="language-plaintext highlighter-rouge">Hello. Everyone. {.en}</code>ê°€ ê·¸ëŒ€ë¡œ ê¸€ìë¡œ ë³´ì´ëŠ” ê±´ MkDocs(=Python-Markdown)</strong>ì—ì„œëŠ” <strong>ë¬¸ë‹¨(paragraph) ëì—<code class="language-plaintext highlighter-rouge">{.en}</code>ì„ ë¶™ì´ëŠ” ë¬¸ë²•ì´ ë™ì‘í•˜ì§€ ì•Šê¸° ë•Œë¬¸</strong>ì…ë‹ˆë‹¤. ê·¸ê±´ ì£¼ë¡œ <strong>Kramdown(Jekyll)</strong> ìª½ ë¬¸ë²•ì´ê³ , MkDocsì—ì„œëŠ” <strong>ë‹¨ë… ì¤„ì˜ ì†ì„± ë¸”ë¡</strong> ì„ ì¨ì•¼ í•´ìš”.</p>

<p>ì•„ë˜ì²˜ëŸ¼ ê³ ì¹˜ë©´ ë©ë‹ˆë‹¤â€”ì°¨ê·¼ì°¨ê·¼:</p>

<h2 id="1-ê²°ë¡ ë¶€í„°-ì´ë ‡ê²Œ-ì“°ì„¸ìš”">1) ê²°ë¡ ë¶€í„°: ì´ë ‡ê²Œ ì“°ì„¸ìš”</h2>
<div class="language-md highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ì•ˆë…•í•˜ì„¸ìš”.

{:.en lang=en}
Hello. Everyone.
</code></pre></div></div>

<ul>
  <li>
    <p>í¬ì¸íŠ¸ 1: <strong>í•œêµ­ì–´ì™€ ì˜ì–´ ì‚¬ì´ì— ë¹ˆ ì¤„ 1ê°œ</strong> â†’ ì„œë¡œ <strong>ë‹¤ë¥¸ ë¬¸ë‹¨</strong> ì´ ë©ë‹ˆë‹¤.</p>
  </li>
  <li>
    <p>í¬ì¸íŠ¸ 2: <code class="language-plaintext highlighter-rouge">{: .en}</code>ì€ <strong>â€œë°”ë¡œ ì•„ë˜ ë¸”ë¡(ì˜ì–´ ë¬¸ë‹¨)â€</strong> ì—ë§Œ ë¶™ê²Œ ì•ì¤„ì— ë‘¡ë‹ˆë‹¤.</p>
  </li>
  <li>
    <p>í¬ì¸íŠ¸ 3: ì ‘ê·¼ì„±ìš©ìœ¼ë¡œ <code class="language-plaintext highlighter-rouge">lang=en</code>ë„ ê°™ì´ ë‹¬ì•„ì£¼ë©´ ì¢‹ì•„ìš”.</p>
  </li>
</ul>

<h2 id="2-ì™œ-hello-everyone-enê°€-ì•ˆ-ë¨¹ë‚˜">2) ì™œ <code class="language-plaintext highlighter-rouge">Hello. Everyone. {.en}</code>ê°€ ì•ˆ ë¨¹ë‚˜?</h2>

<ul>
  <li>
    <p>MkDocsì˜ <strong>attr_list</strong> ëŠ” â€œ<strong>ë‹¨ë… ì¤„</strong> ì˜ ì†ì„± ë¸”ë¡â€ì´ë‚˜ â€œ<strong>íŠ¹ì • ìš”ì†Œ ë°”ë¡œ ë’¤</strong>(ì˜ˆ: ì´ë¯¸ì§€, ë§í¬, í—¤ë” ë“±)â€ì—ì„œ ì£¼ë¡œ ì‘ë™í•©ë‹ˆë‹¤.</p>
  </li>
  <li>
    <p><strong>í‰ë²”í•œ ë¬¸ë‹¨ í…ìŠ¤íŠ¸</strong> ë’¤ì— ê°™ì€ ì¤„ë¡œ <code class="language-plaintext highlighter-rouge">{.en}</code>ì„ ë¶™ì´ëŠ” ë°©ì‹ì€ <strong>ì§€ì›í•˜ì§€ ì•Šì•„ì„œ</strong> ê·¸ëŒ€ë¡œ ë Œë”ë§ë¼ìš”.</p>
  </li>
</ul>

<h2 id="3-ê³µë°±-ë‘-ì¹¸ì—”í„°-ì“°ë©´-ì™œ-í•œê¸€ê¹Œì§€-íë ¤ì§€ë‚˜">3) ê³µë°± ë‘ ì¹¸(+ì—”í„°) ì“°ë©´ ì™œ í•œê¸€ê¹Œì§€ íë ¤ì§€ë‚˜?</h2>

<ul>
  <li>
    <p>ì¤„ ë <strong>ê³µë°± ë‘ ì¹¸</strong> ì€ <strong>ê°™ì€ ë¬¸ë‹¨ ì•ˆ <code class="language-plaintext highlighter-rouge">&lt;br&gt;</code></strong>ë§Œ ë§Œë“¤ì–´ìš”.</p>
  </li>
  <li>
    <p>ê·¸ë˜ì„œ â€œì•ˆë…•í•˜ì„¸ìš” + <code class="language-plaintext highlighter-rouge">&lt;br&gt;</code> + Hello â€¦â€ê°€ <strong>í•œ ë¬¸ë‹¨</strong> ì´ ë˜ê³ ,<br />
ë’¤ì¤„ì˜ <code class="language-plaintext highlighter-rouge">{: .en}</code>ì„ ì“°ë©´ <strong>ê·¸ í•œ ë¬¸ë‹¨ ì „ì²´</strong> ì— í´ë˜ìŠ¤ê°€ ë¶™ì–´ <strong>í•œê¸€ê¹Œì§€ ì—°í•´ì§‘ë‹ˆë‹¤.</strong></p>
  </li>
  <li>
    <p>í•´ê²°: ê³µë°± ë‘ ì¹¸ì„ <strong>ì§€ìš°ê³  ë¹ˆ ì¤„</strong> ë¡œ <strong>ë¬¸ë‹¨ ë¶„ë¦¬</strong> í•˜ê±°ë‚˜, ê°™ì€ ë¬¸ë‹¨ì„ ìœ ì§€í•˜ê³  ì‹¶ë‹¤ë©´ <strong>ì˜ì–´ë§Œ ì¸ë¼ì¸ìœ¼ë¡œ ê°ì‹¸ê¸°</strong> ğŸ‘‡</p>
  </li>
</ul>

<div class="language-md highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ì•ˆë…•í•˜ì„¸ìš”.<span class="nt">&lt;br&gt;</span>
<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"en"</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>Hello. Everyone.<span class="nt">&lt;/span&gt;</span>
</code></pre></div></div>

<h2 id="4-cssê·¸ëŒ€ë¡œ-ì“°ì…”ë„-ë©ë‹ˆë‹¤">4) CSS(ê·¸ëŒ€ë¡œ ì“°ì…”ë„ ë©ë‹ˆë‹¤)</h2>
<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">/* ì˜ì–´ ë²ˆì—­: ì¡°ê¸ˆ ì‘ê³  ì—°í•˜ê²Œ */</span>
<span class="nc">.md-typeset</span> <span class="nc">.en</span><span class="o">,</span>
<span class="nc">.md-typeset</span> <span class="nt">en</span> <span class="p">{</span>
  <span class="nl">font-size</span><span class="p">:</span> <span class="m">0.85em</span><span class="p">;</span>
  <span class="nl">opacity</span><span class="p">:</span> <span class="m">0.65</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* &lt;en&gt; ì»¤ìŠ¤í…€ íƒœê·¸ë¥¼ ë¸”ë¡ì²˜ëŸ¼ ì“¸ ë•Œ */</span>
<span class="nc">.md-typeset</span> <span class="nt">en</span> <span class="p">{</span>
  <span class="nl">display</span><span class="p">:</span> <span class="nb">block</span><span class="p">;</span>
  <span class="nl">margin-top</span><span class="p">:</span> <span class="m">0.25em</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* ë¬¸ë‹¨ ë¶„ë¦¬ ì¼€ì´ìŠ¤: í•œê¸€ ë¬¸ë‹¨ ë°”ë¡œ ë’¤ ì˜ì–´ ë¬¸ë‹¨ì˜ ê°„ê²© */</span>
<span class="nc">.md-typeset</span> <span class="nt">p</span> <span class="o">+</span> <span class="nt">p</span><span class="nc">.en</span> <span class="p">{</span> <span class="nl">margin-top</span><span class="p">:</span> <span class="m">0.25em</span><span class="p">;</span> <span class="p">}</span>
</code></pre></div></div>

<h2 id="5-ë¹ ë¥¸-ì²´í¬">5) ë¹ ë¥¸ ì²´í¬</h2>

<ol>
  <li>
    <p><code class="language-plaintext highlighter-rouge">mkdocs.yml</code> â†’ <code class="language-plaintext highlighter-rouge">markdown_extensions: - attr_list</code> ë“¤ì–´ê°€ ìˆë‚˜ìš”?</p>
  </li>
  <li>
    <p>í•œêµ­ì–´ ì¤„ ë <strong>ê³µë°± ë‘ ì¹¸</strong> ì œê±°í•˜ê³  <strong>ë¹ˆ ì¤„</strong> ë¡œ ë¬¸ë‹¨ ë¶„ë¦¬í–ˆë‚˜ìš”?</p>
  </li>
  <li>
    <p>ì˜ì–´ ë¬¸ë‹¨ <strong>ì•ì¤„</strong> ì— <code class="language-plaintext highlighter-rouge">{: .en}</code>ì„ ë’€ë‚˜ìš”? (ë’¤ì¤„Ã—, ê°™ì€ ì¤„Ã—)</p>
  </li>
</ol>

<p>ì›í•˜ì‹œë©´ ì§€ê¸ˆ ë¬¸ì œ ë‚˜ëŠ” ì‹¤ì œ 3~4ì¤„ ë¶™ì—¬ ì£¼ì‹œë©´, ê·¸ í˜•íƒœì— ë”± ë§ì¶° â€œí•œ ì¤„ ìˆ˜ì •â€ ë²„ì „ìœ¼ë¡œ ë°”ë¡œ ê³ ì³ë“œë¦´ê²Œìš”!</p>

<p class="chat--user">

markdown íŒ¨í‚¤ì§€ë§Œ ê°€ì§€ê³  í•œ ë²ˆ í…ŒìŠ¤íŠ¸ í•´ë³´ê³  ì‹¶ì–´. ì¥¬í”¼í„° ë…¸íŠ¸ë¶ ì˜ˆì‹œ ë§Œë“¤ì–´ì¤˜

</p>

<p>ì¢‹ì•„! <strong>Python-Markdownë§Œ</strong> ìœ¼ë¡œ í…ŒìŠ¤íŠ¸í•´ë³¼ ìˆ˜ ìˆëŠ” ì¥¬í”¼í„° ë…¸íŠ¸ë¶ì„ ë§Œë“¤ì–´ ë†¨ì–´.<br />
ì—¬ê¸°ì„œ ë‚´ë ¤ë°›ì•„ ë¡œì»¬ì—ì„œ ì‹¤í–‰í•´ ë³´ì„¸ìš”:</p>

<p>Download the Jupyter Notebook</p>

<h3 id="ë…¸íŠ¸ë¶ì—-ë“¤ì–´ìˆëŠ”-ê²ƒ-step-by-step">ë…¸íŠ¸ë¶ì— ë“¤ì–´ìˆëŠ” ê²ƒ (step-by-step)</h3>

<ol>
  <li>
    <p><code class="language-plaintext highlighter-rouge">!pip install markdown</code> â€” Python-Markdown ì„¤ì¹˜</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">attr_list</code> í™•ì¥ ì¼  ë Œë” í•¨ìˆ˜ + CSS</p>
  </li>
  <li>
    <p>ì¼€ì´ìŠ¤ë³„ ë¯¸ë¦¬ë³´ê¸°:</p>

    <ul>
      <li>
        <p><strong>A</strong> : <code class="language-plaintext highlighter-rouge">Hello. Everyone. {.en}</code> â†’ <em>ë™ì‘ ì•ˆ í•˜ëŠ”</em> ì˜ˆì‹œë¥¼ ëˆˆìœ¼ë¡œ í™•ì¸</p>
      </li>
      <li>
        <p><strong>B</strong> : <code class="language-plaintext highlighter-rouge">{: .en}</code> ì¤„ì„ <strong>ì•</strong> ì— ë‘ë©´ <strong>ë‹¤ìŒ ë¸”ë¡</strong> ì— ì ìš©</p>
      </li>
      <li>
        <p><strong>C</strong> : <code class="language-plaintext highlighter-rouge">{: .en}</code> ì¤„ì„ <strong>ë’¤</strong> ì— ë‘ë©´ <strong>ì´ì „ ë¸”ë¡</strong> ì— ì ìš©</p>
      </li>
      <li>
        <p><strong>D</strong> : ë¹ˆ ì¤„ë¡œ ë¬¸ë‹¨ ë¶„ë¦¬ í›„ ì˜ì–´ ë¬¸ë‹¨ì—ë§Œ <code class="language-plaintext highlighter-rouge">{:.en}</code> ì ìš©</p>
      </li>
      <li>
        <p><strong>E</strong> : ê°™ì€ ë¬¸ë‹¨ ìœ ì§€ â†’ <code class="language-plaintext highlighter-rouge">&lt;br&gt;</code> + <code class="language-plaintext highlighter-rouge">&lt;span class="en"&gt;â€¦&lt;/span&gt;</code></p>
      </li>
      <li>
        <p><strong>F</strong> : <code class="language-plaintext highlighter-rouge">&lt;en&gt;â€¦&lt;/en&gt;</code> ì»¤ìŠ¤í…€ íƒœê·¸</p>
      </li>
    </ul>
  </li>
</ol>

<h3 id="ì‚¬ìš©-íŒ-í•µì‹¬ë§Œ">ì‚¬ìš© íŒ (í•µì‹¬ë§Œ)</h3>

<ul>
  <li>
    <p><strong>ë¬¸ë‹¨ í…ìŠ¤íŠ¸ ê°™ì€ ì¤„ ëì˜<code class="language-plaintext highlighter-rouge">{.en}</code></strong> ëŠ” ë³´í†µ <strong>ë¬¸ë‹¨ì—ëŠ” ì ìš©ë˜ì§€ ì•ŠìŒ</strong> â†’ A ì¼€ì´ìŠ¤ë¡œ í™•ì¸ ê°€ëŠ¥</p>
  </li>
  <li>
    <p>ë¬¸ë‹¨ì— í´ë˜ìŠ¤ ì£¼ë ¤ë©´ <strong>ì†ì„±ë§Œ ìˆëŠ” ì¤„</strong>(<code class="language-plaintext highlighter-rouge">{:.en}</code>)ì„ <strong>ì• ë˜ëŠ” ë’¤</strong> ì— ë‘¬ì„œ <strong>ê·¸ ë¸”ë¡ì— ë¶™ì´ê¸°</strong>(B/C)</p>
  </li>
  <li>
    <p>í•œêµ­ì–´/ì˜ì–´ë¥¼ <strong>ë‹¤ë¥¸ ë¬¸ë‹¨</strong> ìœ¼ë¡œ ë¶„ë¦¬í•˜ë©´(D) ì œì–´ê°€ ê°€ì¥ ê¹”ë”</p>
  </li>
  <li>
    <p>í•œ ë¬¸ë‹¨ ë‚´ ì¤„ë°”ê¿ˆì´ë©´(E) ì˜ì–´ë§Œ <code class="language-plaintext highlighter-rouge">&lt;span class="en"&gt;</code>ë¡œ ê°ì‹¸ê¸°</p>
  </li>
</ul>

<p>ë…¸íŠ¸ë¶ ëŒë ¤ë³´ì‹œê³ , í˜¹ì‹œ íŠ¹ì • ì¼€ì´ìŠ¤ê°€ ê¸°ëŒ€ì™€ ë‹¤ë¥´ê²Œ ë‚˜ì˜¤ë©´ ê·¸ ì…€ ì¶œë ¥ ìº¡ì²˜ë‚˜ ì›ë¬¸ì„ ë¶™ì—¬ì¤˜â€”ì›ì¸ ë”± ì§‘ì–´ì„œ ê³ ì³ë“œë¦´ê²Œ!</p>

<p class="chat--user">

ë³´ê¸° í˜ë“¤ì–´ ê·¸ëƒ¥ ë³¸ë¬¸ì— ì¨ì¤˜

</p>

<p>ì˜¤ì¼€ì´â€”ë…¸íŠ¸ë¶ íŒŒì¼ ë§ê³ , <strong>ê·¸ëŒ€ë¡œ ë³µë¶™í•´ì„œ ëŒë¦´ ìˆ˜ ìˆëŠ” ì…€</strong> ì„ ë³¸ë¬¸ì— ì”ë‹ˆë‹¤.<br />
ì•„ë˜ ë‘ ì…€ë§Œ Jupyterì— ìˆœì„œëŒ€ë¡œ ë¶™ì—¬ë„£ê³  ì‹¤í–‰í•˜ì„¸ìš”. (ì²« ì…€ì€ ì„¤ì¹˜, ë‘ ë²ˆì§¸ ì…€ì€ ì¼€ì´ìŠ¤ A~Fë¥¼ í•œ ë²ˆì— ë Œë”/ë¯¸ë¦¬ë³´ê¸°)</p>

<hr />

<h3 id="ì…€-1--ì„¤ì¹˜">ì…€ 1 â€” ì„¤ì¹˜</h3>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">!</span><span class="n">pip</span> <span class="o">-</span><span class="n">q</span> <span class="n">install</span> <span class="n">markdown</span>
</code></pre></div></div>

<h3 id="ì…€-2--ë Œë”-ë„ìš°ë¯¸--ì¼€ì´ìŠ¤-af-ë¯¸ë¦¬ë³´ê¸°">ì…€ 2 â€” ë Œë” ë„ìš°ë¯¸ + ì¼€ì´ìŠ¤ A~F ë¯¸ë¦¬ë³´ê¸°</h3>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">IPython.display</span> <span class="kn">import</span> <span class="n">HTML</span><span class="p">,</span> <span class="n">display</span>
<span class="kn">import</span> <span class="n">markdown</span>

<span class="n">CSS</span> <span class="o">=</span> <span class="sh">'''</span><span class="s">
.md-typeset .en,
.md-typeset en {
  font-size: 0.85em;
  opacity: 0.65;
}
.md-typeset en {
  display: block;
  margin-top: 0.25em;
}
.md-typeset p + p.en {  /* í•œêµ­ì–´ ë¬¸ë‹¨ ë°”ë¡œ ë‹¤ìŒ ì˜ì–´ ë¬¸ë‹¨ ê°„ê²© */
  margin-top: 0.25em;
}
/* ë³´ê¸° í¸í•˜ë„ë¡ í…Œë‘ë¦¬ */
.demo {
  border: 1px solid #ddd;
  padding: 12px;
  margin: 8px 0 24px 0;
  border-radius: 6px;
  background: #fafafa;
}
</span><span class="sh">'''</span>

<span class="k">def</span> <span class="nf">render_md</span><span class="p">(</span><span class="n">md_text</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="sh">""</span><span class="p">):</span>
    <span class="n">html</span> <span class="o">=</span> <span class="n">markdown</span><span class="p">.</span><span class="nf">markdown</span><span class="p">(</span>
        <span class="n">md_text</span><span class="p">,</span>
        <span class="n">extensions</span><span class="o">=</span><span class="p">[</span>
            <span class="sh">"</span><span class="s">attr_list</span><span class="sh">"</span><span class="p">,</span>   <span class="c1"># í•µì‹¬ í™•ì¥
</span>            <span class="c1"># "extra",     # ì›í•˜ë©´ ì¶”ê°€(ì—¬ê¸°ì—ë„ attr_list í¬í•¨ë¨)
</span>            <span class="c1"># "md_in_html" # ë³µì¡í•œ HTML ë¸”ë¡ ë‚´ ë§ˆí¬ë‹¤ìš´ì´ í•„ìš”í•  ë•Œ
</span>        <span class="p">]</span>
    <span class="p">)</span>
    <span class="n">wrapped</span> <span class="o">=</span> <span class="sa">f</span><span class="sh">"""</span><span class="s">
    &lt;style&gt;</span><span class="si">{</span><span class="n">CSS</span><span class="si">}</span><span class="s">&lt;/style&gt;
    &lt;div class=</span><span class="sh">"</span><span class="s">demo</span><span class="sh">"</span><span class="s">&gt;
      &lt;div&gt;&lt;strong&gt;Markdown ì›ë¬¸&lt;/strong&gt;&lt;/div&gt;
      &lt;pre style=</span><span class="sh">"</span><span class="s">white-space:pre-wrap</span><span class="sh">"</span><span class="s">&gt;</span><span class="si">{</span><span class="n">md_text</span><span class="si">}</span><span class="s">&lt;/pre&gt;
      &lt;div style=</span><span class="sh">"</span><span class="s">margin-top:8px</span><span class="sh">"</span><span class="s">&gt;&lt;strong&gt;ë Œë” ê²°ê³¼&lt;/strong&gt;&lt;/div&gt;
      &lt;div class=</span><span class="sh">"</span><span class="s">md-typeset</span><span class="sh">"</span><span class="s">&gt;</span><span class="si">{</span><span class="n">html</span><span class="si">}</span><span class="s">&lt;/div&gt;
    &lt;/div&gt;
    </span><span class="sh">"""</span>
    <span class="nf">display</span><span class="p">(</span><span class="nc">HTML</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">&lt;h3&gt;</span><span class="si">{</span><span class="n">title</span><span class="si">}</span><span class="s">&lt;/h3&gt;</span><span class="sh">"</span> <span class="o">+</span> <span class="n">wrapped</span><span class="p">))</span>

<span class="c1"># â”€â”€â”€â”€â”€â”€â”€â”€â”€ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ â”€â”€â”€â”€â”€â”€â”€â”€â”€
</span>
<span class="c1"># A) ê°™ì€ ì¤„ ëì— {.en} â†’ ì¼ë°˜ ë¬¸ë‹¨ì—ì„œëŠ” ë³´í†µ "ë™ì‘ ì•ˆ í•¨" (ê·¸ëŒ€ë¡œ í…ìŠ¤íŠ¸ë¡œ ë³´ì„)
</span><span class="n">case_A</span> <span class="o">=</span> <span class="sh">"""</span><span class="s">Hello. Everyone. {.en}</span><span class="sh">"""</span>

<span class="c1"># B) ì†ì„± ì¤„ì„ 'ì•'ì— ë‘ë©´ â†’ "ë‹¤ìŒ ë¸”ë¡"ì— ì ìš©
</span><span class="n">case_B</span> <span class="o">=</span> <span class="sh">"""</span><span class="s">{:.en lang=en}
Hello. Everyone.</span><span class="sh">"""</span>

<span class="c1"># C) ì†ì„± ì¤„ì„ 'ë’¤'ì— ë‘ë©´ â†’ "ì´ì „ ë¸”ë¡"ì— ì ìš©
</span><span class="n">case_C</span> <span class="o">=</span> <span class="sh">"""</span><span class="s">Hello. Everyone.
{:.en lang=en}</span><span class="sh">"""</span>

<span class="c1"># D) ë¬¸ë‹¨ ë¶„ë¦¬(ë¹ˆ ì¤„) í›„ ì˜ì–´ ë¬¸ë‹¨ì—ë§Œ ì ìš©
</span><span class="n">case_D</span> <span class="o">=</span> <span class="sh">"""</span><span class="s">ì•ˆë…•í•˜ì„¸ìš”.

Hello. Everyone.
{:.en}</span><span class="sh">"""</span>

<span class="c1"># E) ê°™ì€ ë¬¸ë‹¨ ìœ ì§€: ì¤„ë°”ê¿ˆì€ &lt;br&gt;, ì˜ì–´ë§Œ ì¸ë¼ì¸ìœ¼ë¡œ ê°ì‹¸ê¸°
</span><span class="n">case_E</span> <span class="o">=</span> <span class="sh">"""</span><span class="s">ì•ˆë…•í•˜ì„¸ìš”.&lt;br&gt;
&lt;span class=</span><span class="sh">"</span><span class="s">en</span><span class="sh">"</span><span class="s"> lang=</span><span class="sh">"</span><span class="s">en</span><span class="sh">"</span><span class="s">&gt;Hello. Everyone.&lt;/span&gt;</span><span class="sh">"""</span>

<span class="c1"># F) ì»¤ìŠ¤í…€ íƒœê·¸ &lt;en&gt;
</span><span class="n">case_F</span> <span class="o">=</span> <span class="sh">"""</span><span class="s">ì•ˆë…•í•˜ì„¸ìš”.
&lt;en lang=</span><span class="sh">"</span><span class="s">en</span><span class="sh">"</span><span class="s">&gt;Hello. Everyone.&lt;/en&gt;</span><span class="sh">"""</span>

<span class="c1"># ë Œë”
</span><span class="nf">render_md</span><span class="p">(</span><span class="n">case_A</span><span class="p">,</span> <span class="sh">"</span><span class="s">A) same-line `{.en}` (ë¬¸ë‹¨ì—ëŠ” ë³´í†µ ì ìš© ì•ˆ ë¨)</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">render_md</span><span class="p">(</span><span class="n">case_B</span><span class="p">,</span> <span class="sh">"</span><span class="s">B) attr ì¤„ì„ ì•ì— â†’ ë‹¤ìŒ ë¸”ë¡ì— ì ìš©</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">render_md</span><span class="p">(</span><span class="n">case_C</span><span class="p">,</span> <span class="sh">"</span><span class="s">C) attr ì¤„ì„ ë’¤ì— â†’ ì´ì „ ë¸”ë¡ì— ì ìš©</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">render_md</span><span class="p">(</span><span class="n">case_D</span><span class="p">,</span> <span class="sh">"</span><span class="s">D) ë¬¸ë‹¨ ë¶„ë¦¬ + ì˜ì–´ ë¬¸ë‹¨ë§Œ ìŠ¤íƒ€ì¼</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">render_md</span><span class="p">(</span><span class="n">case_E</span><span class="p">,</span> <span class="sh">"</span><span class="s">E) ê°™ì€ ë¬¸ë‹¨ ìœ ì§€: &lt;br&gt; + &lt;span class=</span><span class="sh">'</span><span class="s">en</span><span class="sh">'</span><span class="s">&gt;</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">render_md</span><span class="p">(</span><span class="n">case_F</span><span class="p">,</span> <span class="sh">"</span><span class="s">F) ì»¤ìŠ¤í…€ íƒœê·¸ &lt;en&gt;</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<hr />

<h2 id="ë¬´ì—‡ì´-ë³´ì´ë©´-ì •ìƒì¸ê°€-ì²´í¬-í¬ì¸íŠ¸">ë¬´ì—‡ì´ ë³´ì´ë©´ ì •ìƒì¸ê°€ (ì²´í¬ í¬ì¸íŠ¸)</h2>

<ul>
  <li>
    <p><strong>A</strong> : <code class="language-plaintext highlighter-rouge">Hello. Everyone. {.en}</code> ê°€ <strong>ê·¸ëŒ€ë¡œ ê¸€ì</strong> ë¡œ ë³´ì„ â†’ ì¼ë°˜ ë¬¸ë‹¨ì—ì„œëŠ” ê°™ì€ ì¤„ ë <code class="language-plaintext highlighter-rouge">{.en}</code>ì´ <strong>ì•ˆ ë¨¹ëŠ”ë‹¤</strong> ëŠ” ì¦ê±°.</p>
  </li>
  <li>
    <p><strong>B</strong> : ì˜ì–´ ì¤„ì´ <strong>ì‘ê³  ì—°í•˜ê²Œ</strong> ë³´ì„ â†’ <code class="language-plaintext highlighter-rouge">{:.en}</code> (ì†ì„±ë§Œ ìˆëŠ” ì¤„)ì´ <strong>ì•„ë˜ ë¸”ë¡(ë‹¤ìŒ ë¬¸ë‹¨)</strong> ì— ì ìš©.</p>
  </li>
  <li>
    <p><strong>C</strong> : ì˜ì–´ ì¤„ì´ <strong>ì‘ê³  ì—°í•˜ê²Œ</strong> ë³´ì„ â†’ <code class="language-plaintext highlighter-rouge">{:.en}</code>ì´ <strong>ìœ„ ë¸”ë¡(ì´ì „ ë¬¸ë‹¨)</strong> ì— ì ìš©.</p>
  </li>
  <li>
    <p><strong>D</strong> : í•œêµ­ì–´/ì˜ì–´ê°€ <strong>ì„œë¡œ ë‹¤ë¥¸ ë¬¸ë‹¨</strong> ì´ë©°, <strong>ì˜ì–´ë§Œ</strong> ì‘ê³  ì—°í•¨.</p>
  </li>
  <li>
    <p><strong>E</strong> : í•œ ë¬¸ë‹¨ìœ¼ë¡œ ë³´ì´ë˜, <code class="language-plaintext highlighter-rouge">&lt;br&gt;</code> ë‹¤ìŒ ì¤„ì˜ ì˜ì–´ë§Œ <strong>ì‘ê³  ì—°í•¨</strong>.</p>
  </li>
  <li>
    <p><strong>F</strong> : <code class="language-plaintext highlighter-rouge">&lt;en&gt;â€¦&lt;/en&gt;</code>ë„ <strong>ì‘ê³  ì—°í•¨</strong>. (ì»¤ìŠ¤í…€ íƒœê·¸ë¥¼ CSSì—ì„œ ì„ íƒìë¡œ ì¡ìŒ)</p>
  </li>
</ul>

<blockquote>
  <p>ê²°ë¡ : <strong>ë¬¸ë‹¨ í…ìŠ¤íŠ¸ ê°™ì€ ì¤„ ëì˜<code class="language-plaintext highlighter-rouge">{.en}</code>ì€ ê¸°ëŒ€ëŒ€ë¡œ ë™ì‘í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</strong><br />
 ë¬¸ë‹¨ì— í´ë˜ìŠ¤ë¥¼ ì£¼ë ¤ë©´ <strong>ì†ì„±ë§Œ ìˆëŠ” ì¤„(<code class="language-plaintext highlighter-rouge">{:.en}</code>)</strong> ì„ <strong>ì•/ë’¤</strong> ì— ë‘ê±°ë‚˜,<br />
 ê°™ì€ ë¬¸ë‹¨ì„ ìœ ì§€í•˜ë ¤ë©´ <strong><code class="language-plaintext highlighter-rouge">&lt;br&gt;</code> + <code class="language-plaintext highlighter-rouge">&lt;span class="en"&gt;â€¦&lt;/span&gt;</code></strong> ë°©ì‹ì´ ê°€ì¥ í™•ì‹¤í•©ë‹ˆë‹¤.</p>
</blockquote>

<p>ì›í•˜ì‹œë©´ ì´ ì¼€ì´ìŠ¤ ì¤‘ ë”± ë§ëŠ” íŒ¨í„´ì„ ê³¨ë¼ MkDocsì— ê·¸ëŒ€ë¡œ ì´ì‹í•˜ëŠ” ì˜ˆì‹œë„ ë°”ë¡œ ì ì–´ë“œë¦´ê²Œìš”.</p>

<p class="chat--user">

ì•„ë¬´ë¦¬ í•´ë„ ê·¸ëƒ¥ ì• ë’¤ ì¤„ ë„ì›Œì•¼í•¨

</p>

<p>ë§ì•„ìš”. <strong>ê²°ë¡  = ë¸”ë¡ ì†ì„± ì¤„(<code class="language-plaintext highlighter-rouge">{: .en}</code>)ì€ â€œë…ë¦½ ë¸”ë¡â€ì´ì–´ì•¼ í•´ì„œ ì•ë’¤ë¡œ ë¹ˆ ì¤„ì„ ë‘¬ì„œ â€˜ì™„ì „íˆ ë¶„ë¦¬â€™í•˜ë©´ ê°€ì¥ ì•ˆì „</strong>í•©ë‹ˆë‹¤. íŠ¹íˆ Python-Markdown/MkDocs ì¡°í•©ì—ì„œëŠ” ì´ ê·œì¹™ì´ ê¹Œë‹¤ë¡œì›Œì„œ, ì‹¤ì „ì—ì„œëŠ” â€œì•Â·ë’¤ ì¤„ ë„ìš°ê¸°â€ê°€ ì‚¬ì‹¤ìƒ ì •ì„ì´ì—ìš”.</p>

<p>ì•„ë˜ 3ê°€ì§€ <strong>í•­ìƒ ì˜ ë¨¹ëŠ” íŒ¨í„´</strong> ë§Œ ì¨ì£¼ì„¸ìš”.</p>

<hr />

<h2 id="1-ì´ì „-ë¬¸ë‹¨ì˜ì–´ì—-ì ìš©--ê°€ì¥-ì¶”ì²œ">1) â€œì´ì „ ë¬¸ë‹¨(ì˜ì–´)â€ì— ì ìš© â€” ê°€ì¥ ì¶”ì²œ</h2>
<div class="language-md highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ì•ˆë…•í•˜ì„¸ìš”.

Hello. Everyone.

{: .en lang=en}
</code></pre></div></div>

<ul>
  <li>í¬ì¸íŠ¸: <code class="language-plaintext highlighter-rouge">{: .en}</code> <strong>ìœ„Â·ì•„ë˜ ëª¨ë‘ ë¹ˆ ì¤„</strong> â†’ ì†ì„± ì¤„ì´ ì™„ì „íˆ ë…ë¦½ëœ ë‹¨ë½ì´ ë˜ì–´ <strong>ë°”ë¡œ ìœ„ ë¬¸ë‹¨(ì˜ì–´)</strong> ì—ë§Œ ë¶™ìŠµë‹ˆë‹¤.</li>
</ul>

<hr />

<h2 id="2-ë‹¤ìŒ-ë¬¸ë‹¨ì˜ì–´ì—-ì ìš©">2) â€œë‹¤ìŒ ë¬¸ë‹¨(ì˜ì–´)â€ì— ì ìš©</h2>
<div class="language-md highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ì•ˆë…•í•˜ì„¸ìš”.

{: .en lang=en}

Hello. Everyone.
</code></pre></div></div>

<ul>
  <li>í¬ì¸íŠ¸: ë§ˆì°¬ê°€ì§€ë¡œ ì†ì„± ì¤„ <strong>ì•Â·ë’¤ ë¹ˆ ì¤„</strong> â†’ <strong>ë°”ë¡œ ì•„ë˜ ë¬¸ë‹¨(ì˜ì–´)</strong> ì—ë§Œ ë¶™ìŠµë‹ˆë‹¤.</li>
</ul>

<hr />

<h2 id="3-ê°™ì€-ë¬¸ë‹¨ì„-ìœ ì§€í•´ì•¼-í• -ë•Œì¤„ë°”ê¿ˆë§Œ--ì¸ë¼ì¸-ë°©ì‹">3) ê°™ì€ ë¬¸ë‹¨ì„ ìœ ì§€í•´ì•¼ í•  ë•Œ(ì¤„ë°”ê¿ˆë§Œ) â€” ì¸ë¼ì¸ ë°©ì‹</h2>
<div class="language-md highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ì•ˆë…•í•˜ì„¸ìš”.<span class="nt">&lt;br&gt;</span>
<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"en"</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>Hello. Everyone.<span class="nt">&lt;/span&gt;</span>
</code></pre></div></div>

<ul>
  <li>ë¸”ë¡ ì†ì„± ê·œì¹™ì„ ê±´ë“œë¦¬ì§€ ì•Šì•„ì„œ í™˜ê²½ ì°¨ì´ì— ëœ ë¯¼ê°í•©ë‹ˆë‹¤.</li>
</ul>

<hr />

<h2 id="css-material-ê¸°ì¤€-ê³µí†µ">CSS (Material ê¸°ì¤€, ê³µí†µ)</h2>
<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">.md-typeset</span> <span class="nc">.en</span><span class="o">,</span> <span class="nc">.md-typeset</span> <span class="nt">en</span> <span class="p">{</span>
  <span class="nl">font-size</span><span class="p">:</span> <span class="m">0.85em</span><span class="p">;</span>   <span class="c">/* ì‘ê²Œ */</span>
  <span class="nl">opacity</span><span class="p">:</span> <span class="m">0.65</span><span class="p">;</span>       <span class="c">/* ì—°í•˜ê²Œ */</span>
<span class="p">}</span>
<span class="nc">.md-typeset</span> <span class="nt">en</span> <span class="p">{</span>        <span class="c">/* &lt;en&gt;ì„ ë¸”ë¡ì²˜ëŸ¼ ì“°ê³  ì‹¶ì„ ë•Œ */</span>
  <span class="nl">display</span><span class="p">:</span> <span class="nb">block</span><span class="p">;</span>
  <span class="nl">margin-top</span><span class="p">:</span> <span class="m">0.25em</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.md-typeset</span> <span class="nt">p</span> <span class="o">+</span> <span class="nt">p</span><span class="nc">.en</span> <span class="p">{</span>  <span class="c">/* í•œê¸€ ë¬¸ë‹¨ ë°”ë¡œ ë’¤ ì˜ì–´ ë¬¸ë‹¨ ê°„ê²© ë‹¤ë“¬ê¸° */</span>
  <span class="nl">margin-top</span><span class="p">:</span> <span class="m">0.25em</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<hr />

<h3 id="ì™œ-ì´ë ‡ê²Œ-í•´ì•¼-í•˜ë‚˜-ì§§ê²Œ">ì™œ ì´ë ‡ê²Œ í•´ì•¼ í•˜ë‚˜? (ì§§ê²Œ)</h3>

<ul>
  <li>
    <p>ì†ì„± ì¤„ì€ <strong>ê·¸ ìì²´ê°€ í•˜ë‚˜ì˜ â€œë‹¨ë½(block)â€</strong>ì´ì–´ì•¼ ì¸ì‹ë©ë‹ˆë‹¤.</p>
  </li>
  <li>
    <p>ë¹ˆ ì¤„ì´ ì—†ìœ¼ë©´ íŒŒì„œê°€ â€œê°™ì€ ë¬¸ë‹¨ì˜ ì¼ë°˜ í…ìŠ¤íŠ¸â€ë¡œ ì˜¤í•´í•´ì„œ <code class="language-plaintext highlighter-rouge">{:.en}</code>ì´ <strong>ê·¸ëŒ€ë¡œ ê¸€ì</strong> ë¡œ ë³´ì´ê±°ë‚˜, í•œ ë¬¸ë‹¨ ì „ì²´(í•œê¸€+ì˜ì–´)ì— ì ìš©ë˜ëŠ” ì¼ì´ ìƒê¹ë‹ˆë‹¤.</p>
  </li>
  <li>
    <p>ê·¸ë˜ì„œ <strong>ì†ì„± ì¤„ì„ ìœ„/ì•„ë˜ ë¹ˆ ì¤„ë¡œ ê³ ë¦½</strong> ì‹œí‚¤ëŠ” ìŠµê´€ì„ ë“¤ì´ë©´ ì–´ë””ì„œë“  ì•ˆì •ì ìœ¼ë¡œ ë™ì‘í•©ë‹ˆë‹¤.</p>
  </li>
</ul>

<p>ì›í•˜ì‹œë©´ ì§€ê¸ˆ ì‘ì„±í•˜ì‹  ì‹¤ì œ ëª‡ ì¤„ì„ ë³´ë‚´ ì£¼ì‹œë©´, ìœ„ íŒ¨í„´ìœ¼ë¡œ <strong>ìµœì†Œ ìˆ˜ì •</strong> ë²„ì „ì„ ë°”ë¡œ ì¡ì•„ë“œë¦´ê²Œìš”.</p>

<p class="chat--user">

pymdownxì˜ caret ì²˜ëŸ¼ ê°„ë‹¨íˆ ê°€ë§Œì˜ <span class="en"> </span>ì„ ì¶”ê°€í•  ìˆ˜ ì—†ì„ê¹Œ

</p>

<p>ì¢‹ì•„, <strong>caret(ì˜ˆ:<code class="language-plaintext highlighter-rouge">^^text^^</code>)ì²˜ëŸ¼</strong> ê°„ë‹¨í•œ ê¸°í˜¸ë¡œ<br />
<code class="language-plaintext highlighter-rouge">&lt;span class="en"&gt;â€¦&lt;/span&gt;</code>ì„ ìë™ìœ¼ë¡œ ë„£ê³  ì‹¶ë‹¤ë©´ <strong>ì‘ì€ ì»¤ìŠ¤í…€ Markdown í™•ì¥</strong> ì„ í•˜ë‚˜ ì¶”ê°€í•˜ë©´ ë”± í•´ê²°ë¼ìš”.<br />
ì•„ë˜ëŒ€ë¡œ í•˜ë©´ <code class="language-plaintext highlighter-rouge">%%ì˜ë¬¸%%</code>ì²˜ëŸ¼ ì“°ê¸°ë§Œ í•´ë„ <code class="language-plaintext highlighter-rouge">&lt;span class="en" lang="en"&gt;ì˜ë¬¸&lt;/span&gt;</code>ìœ¼ë¡œ ë Œë”ë©ë‹ˆë‹¤.</p>

<hr />

<h1 id="1-íŒŒì´ì¬-í™•ì¥-íŒŒì¼-ë§Œë“¤ê¸°-510ì¤„ì§œë¦¬-í•µì‹¬">1) íŒŒì´ì¬ í™•ì¥ íŒŒì¼ ë§Œë“¤ê¸° (5~10ì¤„ì§œë¦¬ í•µì‹¬)</h1>

<p>í”„ë¡œì íŠ¸ ë£¨íŠ¸(ë³´í†µ <code class="language-plaintext highlighter-rouge">mkdocs.yml</code> ì˜†)ì— <code class="language-plaintext highlighter-rouge">en_span.py</code> íŒŒì¼ì„ ë§Œë“¤ê³  ì•„ë˜ë¥¼ ë³µë¶™í•˜ì„¸ìš”.</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># en_span.py
</span><span class="kn">import</span> <span class="n">re</span>
<span class="kn">from</span> <span class="n">markdown.extensions</span> <span class="kn">import</span> <span class="n">Extension</span>
<span class="kn">from</span> <span class="n">markdown.inlinepatterns</span> <span class="kn">import</span> <span class="n">InlineProcessor</span>
<span class="kn">from</span> <span class="n">xml.etree</span> <span class="kn">import</span> <span class="n">ElementTree</span> <span class="k">as</span> <span class="n">etree</span>

<span class="k">class</span> <span class="nc">EnSpanInline</span><span class="p">(</span><span class="n">InlineProcessor</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">pattern</span><span class="p">,</span> <span class="n">md</span><span class="p">,</span> <span class="n">klass</span><span class="o">=</span><span class="sh">"</span><span class="s">en</span><span class="sh">"</span><span class="p">,</span> <span class="n">lang</span><span class="o">=</span><span class="sh">"</span><span class="s">en</span><span class="sh">"</span><span class="p">):</span>
        <span class="nf">super</span><span class="p">().</span><span class="nf">__init__</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">md</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">klass</span> <span class="o">=</span> <span class="n">klass</span>
        <span class="n">self</span><span class="p">.</span><span class="n">lang</span> <span class="o">=</span> <span class="n">lang</span>

    <span class="k">def</span> <span class="nf">handleMatch</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="n">text</span> <span class="o">=</span> <span class="n">m</span><span class="p">.</span><span class="nf">group</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="nf">replace</span><span class="p">(</span><span class="sa">r</span><span class="sh">'</span><span class="s">\%%</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">%%</span><span class="sh">'</span><span class="p">)</span>  <span class="c1"># \%% â†’ %
</span>        <span class="n">el</span> <span class="o">=</span> <span class="n">etree</span><span class="p">.</span><span class="nc">Element</span><span class="p">(</span><span class="sh">"</span><span class="s">span</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">el</span><span class="p">.</span><span class="nf">set</span><span class="p">(</span><span class="sh">"</span><span class="s">class</span><span class="sh">"</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">klass</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">self</span><span class="p">.</span><span class="n">lang</span><span class="p">:</span>
            <span class="n">el</span><span class="p">.</span><span class="nf">set</span><span class="p">(</span><span class="sh">"</span><span class="s">lang</span><span class="sh">"</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">lang</span><span class="p">)</span>
        <span class="n">el</span><span class="p">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">text</span>
        <span class="k">return</span> <span class="n">el</span><span class="p">,</span> <span class="n">m</span><span class="p">.</span><span class="nf">start</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">m</span><span class="p">.</span><span class="nf">end</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">EnSpanExtension</span><span class="p">(</span><span class="n">Extension</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">config</span> <span class="o">=</span> <span class="p">{</span>
            <span class="sh">"</span><span class="s">delim</span><span class="sh">"</span><span class="p">:</span> <span class="p">[</span><span class="sh">"</span><span class="s">%%</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">Inline delimiter, e.g. %%, ^^, !!</span><span class="sh">"</span><span class="p">],</span>
            <span class="sh">"</span><span class="s">class</span><span class="sh">"</span><span class="p">:</span> <span class="p">[</span><span class="sh">"</span><span class="s">en</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">CSS class name</span><span class="sh">"</span><span class="p">],</span>
            <span class="sh">"</span><span class="s">lang</span><span class="sh">"</span><span class="p">:</span>  <span class="p">[</span><span class="sh">"</span><span class="s">en</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">lang attribute (</span><span class="sh">''</span><span class="s"> to disable)</span><span class="sh">"</span><span class="p">],</span>
        <span class="p">}</span>
        <span class="nf">super</span><span class="p">().</span><span class="nf">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">extendMarkdown</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">md</span><span class="p">):</span>
        <span class="n">delim</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="nf">getConfig</span><span class="p">(</span><span class="sh">"</span><span class="s">delim</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">pattern</span> <span class="o">=</span> <span class="sa">rf</span><span class="sh">"</span><span class="s">(?&lt;!\\)</span><span class="si">{</span><span class="n">re</span><span class="p">.</span><span class="nf">escape</span><span class="p">(</span><span class="n">delim</span><span class="p">)</span><span class="si">}</span><span class="s">(.+?)(?&lt;!\\)</span><span class="si">{</span><span class="n">re</span><span class="p">.</span><span class="nf">escape</span><span class="p">(</span><span class="n">delim</span><span class="p">)</span><span class="si">}</span><span class="sh">"</span>
        <span class="n">proc</span> <span class="o">=</span> <span class="nc">EnSpanInline</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">md</span><span class="p">,</span>
                            <span class="n">klass</span><span class="o">=</span><span class="n">self</span><span class="p">.</span><span class="nf">getConfig</span><span class="p">(</span><span class="sh">"</span><span class="s">class</span><span class="sh">"</span><span class="p">),</span>
                            <span class="n">lang</span><span class="o">=</span><span class="n">self</span><span class="p">.</span><span class="nf">getConfig</span><span class="p">(</span><span class="sh">"</span><span class="s">lang</span><span class="sh">"</span><span class="p">))</span>
        <span class="c1"># 175: em/strong(EMPHASIS)ë³´ë‹¤ ì‚´ì§ ì•ì„œë„ë¡ ë“±ë¡
</span>        <span class="n">md</span><span class="p">.</span><span class="n">inlinePatterns</span><span class="p">.</span><span class="nf">register</span><span class="p">(</span><span class="n">proc</span><span class="p">,</span> <span class="sh">"</span><span class="s">en-span</span><span class="sh">"</span><span class="p">,</span> <span class="mi">175</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">makeExtension</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nc">EnSpanExtension</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div></div>

<ul>
  <li>
    <p>ê¸°ë³¸ êµ¬ë¶„ìëŠ” <code class="language-plaintext highlighter-rouge">%%â€¦%%</code> ì…ë‹ˆë‹¤.</p>
  </li>
  <li>
    <p>í…ìŠ¤íŠ¸ ì•ˆì—ì„œ <code class="language-plaintext highlighter-rouge">%%</code>ë¥¼ <strong>ë¬¸ì ê·¸ëŒ€ë¡œ ì“°ê³  ì‹¶ìœ¼ë©´</strong> <code class="language-plaintext highlighter-rouge">\%%</code>ë¡œ ì´ìŠ¤ì¼€ì´í”„í•˜ì„¸ìš”.</p>
  </li>
  <li>
    <p>ì´ë¯¸ <code class="language-plaintext highlighter-rouge">pymdownx.caret</code>(^^)ì„ ì“°ê³  ìˆë‹¤ë©´, ì¶©ëŒ ì—†ì´ <code class="language-plaintext highlighter-rouge">%%</code>ë§Œ ì“°ë©´ ë©ë‹ˆë‹¤. (ì›í•˜ë©´ <code class="language-plaintext highlighter-rouge">delim: "^^"</code>ë¡œ ë°”ê¿€ ìˆ˜ ìˆì–´ìš”)</p>
  </li>
</ul>

<hr />

<h1 id="2-mkdocsymlì—-í™•ì¥-ë“±ë¡">2) <code class="language-plaintext highlighter-rouge">mkdocs.yml</code>ì— í™•ì¥ ë“±ë¡</h1>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">theme</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">material</span>

<span class="na">markdown_extensions</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">attr_list</span>
  <span class="pi">-</span> <span class="s1">'</span><span class="s">en_span:EnSpanExtension'</span>   <span class="c1"># ë˜ëŠ” ê·¸ëƒ¥ - en_span  (makeExtensionê°€ ìˆìœ¼ë¯€ë¡œ)</span>
  <span class="c1"># ì˜µì…˜ì„ ë°”ê¾¸ê³  ì‹¶ë‹¤ë©´:</span>
  <span class="c1"># - en_span:</span>
  <span class="c1">#     delim: "%%"   # ë°”ê¾¸ë ¤ë©´ "^^" ë“±</span>
  <span class="c1">#     class: "en"</span>
  <span class="c1">#     lang: "en"</span>

<span class="na">extra_css</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">stylesheets/translation.css</span>
</code></pre></div></div>

<blockquote>
  <p><strong>ì£¼ì˜:</strong> MkDocsê°€ ì´ ëª¨ë“ˆì„ importí•  ìˆ˜ ìˆì–´ì•¼ í•´ìš”.<br />
 ê°€ì¥ ê°„ë‹¨íˆëŠ” <strong>MkDocs ì‹¤í–‰í•  ë•Œ</strong> í”„ë¡œì íŠ¸ ë£¨íŠ¸ë¥¼ íŒŒì´ì¬ ê²½ë¡œì— ì¶”ê°€í•˜ì„¸ìš”.</p>

  <ul>
    <li>
      <p>macOS/Linux: <code class="language-plaintext highlighter-rouge">PYTHONPATH=. mkdocs serve</code></p>
    </li>
    <li>
      <p>Windows(PowerShell): <code class="language-plaintext highlighter-rouge">$env:PYTHONPATH="."; mkdocs serve</code></p>
    </li>
  </ul>

</blockquote>

<p>(í˜¹ì€ <code class="language-plaintext highlighter-rouge">en_span.py</code>ë¥¼ íŒ¨í‚¤ì§€ë¡œ ì„¤ì¹˜í•˜ê±°ë‚˜, venvì˜ <code class="language-plaintext highlighter-rouge">site-packages</code>ì— ë„£ì–´ë„ ë©ë‹ˆë‹¤.)</p>

<hr />

<h1 id="3-css-material-ê¸°ì¤€">3) CSS (Material ê¸°ì¤€)</h1>

<p><code class="language-plaintext highlighter-rouge">docs/stylesheets/translation.css</code>:</p>
<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">.md-typeset</span> <span class="nc">.en</span> <span class="p">{</span>
  <span class="nl">font-size</span><span class="p">:</span> <span class="m">0.85em</span><span class="p">;</span>   <span class="c">/* ì¡°ê¸ˆ ì‘ê²Œ */</span>
  <span class="nl">opacity</span><span class="p">:</span> <span class="m">0.65</span><span class="p">;</span>       <span class="c">/* ì—°í•˜ê²Œ */</span>
<span class="p">}</span>
</code></pre></div></div>

<p>ì›í•˜ë©´ ì¤„ ê°„ê²© ì¡°ì •, ìƒ‰ìƒ ë“±ë„ ì—¬ê¸°ì„œ ì»¤ìŠ¤í…€í•˜ë©´ ë©ë‹ˆë‹¤.</p>

<hr />

<h1 id="4-ì‚¬ìš©ë²•">4) ì‚¬ìš©ë²•</h1>

<p>ê·¸ëƒ¥ ë³¸ë¬¸ì— ì´ë ‡ê²Œ ì“°ë©´ ë:</p>
<div class="language-md highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ì•ˆë…•í•˜ì„¸ìš”. %%Hello. Everyone.%%
</code></pre></div></div>

<p>ë Œë”ë§ ê²°ê³¼(í•µì‹¬ë§Œ):</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;p&gt;</span>ì•ˆë…•í•˜ì„¸ìš”. <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"en"</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>Hello. Everyone.<span class="nt">&lt;/span&gt;&lt;/p&gt;</span>
</code></pre></div></div>

<ul>
  <li>
    <p><strong>ë¸”ë¡ìœ¼ë¡œ</strong> ì“°ê³  ì‹¶ìœ¼ë©´ ê¸°ì¡´ëŒ€ë¡œ <code class="language-plaintext highlighter-rouge">{:.en}</code>ì„ ì“°ê±°ë‚˜, <code class="language-plaintext highlighter-rouge">&lt;en&gt;â€¦&lt;/en&gt;</code>ë¥¼ ì“°ì„¸ìš”(ì´ë¯¸ í•´ë‘ì‹  CSSë¡œ ìŠ¤íƒ€ì¼ ì ìš© ê°€ëŠ¥).</p>
  </li>
  <li>
    <p><strong>ê°™ì€ ë¬¸ë‹¨ì—ì„œ ì¤„ì„ ë°”ê¾¸ê³  ì‹¶ë‹¤ë©´</strong> ì—¬ì „íˆ <code class="language-plaintext highlighter-rouge">&lt;br&gt;</code>ì„ ì“°ëŠ” ê²Œ ê°€ì¥ í™•ì‹¤í•©ë‹ˆë‹¤:</p>
    <div class="language-md highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ì•ˆë…•í•˜ì„¸ìš”.<span class="nt">&lt;br&gt;</span>%%Hello. Everyone.%%
</code></pre></div>    </div>
  </li>
</ul>

<hr />

<h1 id="5-ëŒ€ì•ˆí”ŒëŸ¬ê·¸ì¸-ì—†ì´-ê°€ëŠ¥í•œ-ê¼¼ìˆ˜">5) ëŒ€ì•ˆ(í”ŒëŸ¬ê·¸ì¸ ì—†ì´ ê°€ëŠ¥í•œ ê¼¼ìˆ˜)</h1>

<p>í”ŒëŸ¬ê·¸ì¸ì„ ì „í˜€ ì“°ê¸° ì‹«ë‹¤ë©´, ì•„ë˜ ê¼¼ìˆ˜ë„ ê°€ëŠ¥ì€ í•©ë‹ˆë‹¤.</p>
<div class="language-md highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="ge">*Hello. Everyone.*</span>{.en}
</code></pre></div></div>

<p>CSSë¡œ ê¸°ìš¸ì„ì„ ì œê±°:</p>
<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">.md-typeset</span> <span class="nt">em</span><span class="nc">.en</span> <span class="p">{</span> <span class="nl">font-style</span><span class="p">:</span> <span class="nb">normal</span><span class="p">;</span> <span class="p">}</span>
</code></pre></div></div>

<p>ì´ë ‡ê²Œ í•˜ë©´ <code class="language-plaintext highlighter-rouge">&lt;em class="en"&gt;â€¦&lt;/em&gt;</code>ì´ ë˜ëŠ”ë°, ì‹œë§¨í‹±ì´ ì‚´ì§ ì–´ê¸‹ë‚˜ë¯€ë¡œ <strong>ê¶Œì¥ë„ëŠ” ë‚®ê³ </strong> ,<br />
ê°€ëŠ¥í•˜ë©´ ìœ„ì˜ <strong>ì»¤ìŠ¤í…€ í™•ì¥(%%â€¦%%)</strong> ë°©ì‹ì„ ì¶”ì²œí•©ë‹ˆë‹¤.</p>

<hr />

<p>í•„ìš”í•˜ë©´ <strong>êµ¬ë¶„ì</strong> ë¥¼ <code class="language-plaintext highlighter-rouge">^^</code>ë‚˜ <code class="language-plaintext highlighter-rouge">!!</code> ë“±ìœ¼ë¡œ ë°”ê¾¼ ë²„ì „ë„ ë°”ë¡œ ë§Œë“¤ì–´ ë“œë¦´ê²Œìš”. (ì˜µì…˜ í•œ ì¤„ë§Œ ë°”ê¾¸ë©´ ë©ë‹ˆë‹¤)</p>

<p class="chat--user">

No module names 'en_span' íŒŒì¼ì„ ì—¬ê¸° ë„£ëŠ”ê±° ë§ì•„?

</p>

<p>ë§ì•„ìš”, ê·¸ ì—ëŸ¬ëŠ” <strong>MkDocsê°€<code class="language-plaintext highlighter-rouge">en_span</code> ëª¨ë“ˆì„ import ëª» í•´ì„œ</strong> ë‚˜ëŠ” ê±°ì˜ˆìš”.<br />
í•µì‹¬ì€ <strong>íŒŒì¼ ìœ„ì¹˜ + ì‹¤í–‰ ìœ„ì¹˜ + íŒŒì´ì¬ ê²½ë¡œ(PYTHONPATH)</strong> ì…ë‹ˆë‹¤. ì•„ë˜ëŒ€ë¡œ ì°¨ê·¼ì°¨ê·¼ í•´ë³´ì„¸ìš”.</p>

<hr />

<h2 id="0-ì˜¬ë°”ë¥¸-í´ë”-êµ¬ì¡°-ê°€ì¥-ë‹¨ìˆœí•œ-í˜•íƒœ">0) ì˜¬ë°”ë¥¸ í´ë” êµ¬ì¡° (ê°€ì¥ ë‹¨ìˆœí•œ í˜•íƒœ)</h2>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pgsql

your-project/
â”œâ”€ mkdocs.yml
â”œâ”€ en_span.py          â† ì—¬ê¸°!
â””â”€ docs/
   â”œâ”€ index.md
   â””â”€ stylesheets/
      â””â”€ translation.css
</code></pre></div></div>

<blockquote>
  <p><strong>ì¤‘ìš”:</strong> <code class="language-plaintext highlighter-rouge">en_span.py</code>ëŠ” <code class="language-plaintext highlighter-rouge">docs/</code> ì•ˆì´ ì•„ë‹ˆë¼ <strong><code class="language-plaintext highlighter-rouge">mkdocs.yml</code>ê³¼ ê°™ì€ ë””ë ‰í„°ë¦¬(í”„ë¡œì íŠ¸ ë£¨íŠ¸)</strong> ì— ë‘ì„¸ìš”.</p>
</blockquote>

<hr />

<h2 id="1-mkdocsyml-ì„¤ì •-1">1) <code class="language-plaintext highlighter-rouge">mkdocs.yml</code> ì„¤ì •</h2>

<p>ê°€ì¥ ê¸°ë³¸:</p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">markdown_extensions</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">en_span</span>
</code></pre></div></div>

<p>ì˜µì…˜ì„ ì“°ê³  ì‹¶ë‹¤ë©´:</p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">markdown_extensions</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">en_span</span><span class="pi">:</span>
      <span class="na">delim</span><span class="pi">:</span> <span class="s2">"</span><span class="s">%%"</span>
      <span class="na">class</span><span class="pi">:</span> <span class="s2">"</span><span class="s">en"</span>
      <span class="na">lang</span><span class="pi">:</span> <span class="s2">"</span><span class="s">en"</span>
</code></pre></div></div>

<p>ë˜ëŠ” í´ë˜ìŠ¤ ê²½ë¡œë¡œë„ ê°€ëŠ¥:</p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">markdown_extensions</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s1">'</span><span class="s">en_span:EnSpanExtension'</span>
</code></pre></div></div>

<hr />

<h2 id="2-ì˜¬ë°”ë¥¸-ì‹¤í–‰-ìœ„ì¹˜ì—ì„œ-ì„œë²„-ì‹œì‘">2) ì˜¬ë°”ë¥¸ ì‹¤í–‰ ìœ„ì¹˜ì—ì„œ ì„œë²„ ì‹œì‘</h2>

<p>ë°˜ë“œì‹œ <strong>í”„ë¡œì íŠ¸ ë£¨íŠ¸(=<code class="language-plaintext highlighter-rouge">mkdocs.yml</code>ì´ ìˆëŠ” ìœ„ì¹˜)</strong> ë¡œ ì´ë™í•´ì„œ ì‹¤í–‰í•˜ì„¸ìš”.</p>

<ul>
  <li>macOS / Linux
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd </span>your-project
<span class="nv">PYTHONPATH</span><span class="o">=</span><span class="nb">.</span> mkdocs serve
</code></pre></div>    </div>
  </li>
  <li>Windows PowerShell
    <div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">cd</span><span class="w"> </span><span class="nx">your-project</span><span class="w">
</span><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">PYTHONPATH</span><span class="o">=</span><span class="s2">"."</span><span class="p">;</span><span class="w"> </span><span class="n">mkdocs</span><span class="w"> </span><span class="nx">serve</span><span class="w">
</span></code></pre></div>    </div>
  </li>
  <li>Windows CMD
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bat
    
cd your-project
set PYTHONPATH=.
mkdocs serve
</code></pre></div>    </div>
  </li>
</ul>

<blockquote>
  <p>ì™œ? MkDocsê°€ í™•ì¥ ëª¨ë“ˆì„ <strong>í˜„ì¬ íŒŒì´ì¬ ê²½ë¡œ</strong> ì—ì„œ ì°¾ëŠ”ë°, í™˜ê²½/ì‹¤í–‰ ë°©ë²•ì— ë”°ë¼ í˜„ì¬ ë””ë ‰í„°ë¦¬ê°€ ê²½ë¡œì— ì•ˆ ì¡í ìˆ˜ ìˆìŠµë‹ˆë‹¤. <code class="language-plaintext highlighter-rouge">PYTHONPATH=.</code> ë¡œ í”„ë¡œì íŠ¸ ë£¨íŠ¸ë¥¼ í™•ì‹¤íˆ ë„£ì–´ì£¼ë©´ import ì—ëŸ¬ê°€ ì‚¬ë¼ì§‘ë‹ˆë‹¤.</p>
</blockquote>

<hr />

<h2 id="3-ë¹ ë¥¸-ìê°€-ì ê²€-ë¬¸ì œ-ê³„ì†ë˜ë©´-ì—¬ê¸°ì„œ-ì¡í™ë‹ˆë‹¤">3) ë¹ ë¥¸ ìê°€ ì ê²€ (ë¬¸ì œ ê³„ì†ë˜ë©´ ì—¬ê¸°ì„œ ì¡í™ë‹ˆë‹¤)</h2>

<ol>
  <li>
    <p><strong>íŒŒì¼ëª…</strong> ì´ ì •í™•íˆ <code class="language-plaintext highlighter-rouge">en_span.py</code> ì¸ê°€ìš”? (<code class="language-plaintext highlighter-rouge">en-span.py</code> Ã—)</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">en_span.py</code> ì•ˆì— <strong><code class="language-plaintext highlighter-rouge">makeExtension(**kwargs)</code></strong> í•¨ìˆ˜ê°€ ì¡´ì¬í•˜ë‚˜ìš”? (í•„ìˆ˜)</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">mkdocs serve</code>ë¥¼ <strong>í”„ë¡œì íŠ¸ ë£¨íŠ¸</strong> ì—ì„œ ì‹¤í–‰í–ˆë‚˜ìš”? (ë‹¤ë¥¸ í´ë”ì—ì„œ ì‹¤í–‰ Ã—)</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">mkdocs.yml</code>ì— <code class="language-plaintext highlighter-rouge">markdown_extensions: - en_span</code> ì´ ë“¤ì–´ê°”ë‚˜ìš”? (ì˜¤íƒˆì Ã—)</p>
  </li>
  <li>ê·¸ë˜ë„ ì•ˆ ë˜ë©´, <strong>ì™„ì „í•œ ëª¨ë“ˆ ê²½ë¡œ</strong> ë¡œ ì‹œë„:
```yaml
markdown_extensions:
    <ul>
      <li>'en_span:EnSpanExtension'
```</li>
    </ul>
  </li>
  <li>ì—¬ì „íˆ ì•ˆ ë˜ë©´, <strong>íŒ¨í‚¤ì§€ í´ë”ë¡œ ê°ì‹¸ê¸°</strong> :
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>your-project/
â”œâ”€ mkdocs.yml
â”œâ”€ local_ext/
â”‚  â”œâ”€ __init__.py
â”‚  â””â”€ en_span.py
â””â”€ docs/...
</code></pre></div>    </div>
  </li>
</ol>

<p>ê·¸ë¦¬ê³  <code class="language-plaintext highlighter-rouge">mkdocs.yml</code>:
     <code class="language-plaintext highlighter-rouge">yaml
     markdown_extensions:
       - local_ext.en_span
    </code></p>

<p>(ì´ë•Œë„ <code class="language-plaintext highlighter-rouge">PYTHONPATH=.</code> ê¶Œì¥)</p>

<hr />

<h2 id="4-ë™ì‘-í™•ì¸ìš©-ìµœì†Œ-ì˜ˆì œ">4) ë™ì‘ í™•ì¸ìš© ìµœì†Œ ì˜ˆì œ</h2>

<p><strong><code class="language-plaintext highlighter-rouge">docs/index.md</code></strong></p>
<div class="language-md highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ì•ˆë…•í•˜ì„¸ìš”. %%Hello. Everyone.%%
</code></pre></div></div>

<p><strong><code class="language-plaintext highlighter-rouge">en_span.py</code></strong> (í•µì‹¬ ë¶€ë¶„ë§Œ ì¬í™•ì¸)</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">re</span>
<span class="kn">from</span> <span class="n">markdown.extensions</span> <span class="kn">import</span> <span class="n">Extension</span>
<span class="kn">from</span> <span class="n">markdown.inlinepatterns</span> <span class="kn">import</span> <span class="n">InlineProcessor</span>
<span class="kn">from</span> <span class="n">xml.etree</span> <span class="kn">import</span> <span class="n">ElementTree</span> <span class="k">as</span> <span class="n">etree</span>

<span class="k">class</span> <span class="nc">EnSpanInline</span><span class="p">(</span><span class="n">InlineProcessor</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">pattern</span><span class="p">,</span> <span class="n">md</span><span class="p">,</span> <span class="n">klass</span><span class="o">=</span><span class="sh">"</span><span class="s">en</span><span class="sh">"</span><span class="p">,</span> <span class="n">lang</span><span class="o">=</span><span class="sh">"</span><span class="s">en</span><span class="sh">"</span><span class="p">):</span>
        <span class="nf">super</span><span class="p">().</span><span class="nf">__init__</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">md</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">klass</span> <span class="o">=</span> <span class="n">klass</span>
        <span class="n">self</span><span class="p">.</span><span class="n">lang</span> <span class="o">=</span> <span class="n">lang</span>
    <span class="k">def</span> <span class="nf">handleMatch</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="n">text</span> <span class="o">=</span> <span class="n">m</span><span class="p">.</span><span class="nf">group</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="nf">replace</span><span class="p">(</span><span class="sa">r</span><span class="sh">'</span><span class="s">\%%</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">%%</span><span class="sh">'</span><span class="p">)</span>
        <span class="n">el</span> <span class="o">=</span> <span class="n">etree</span><span class="p">.</span><span class="nc">Element</span><span class="p">(</span><span class="sh">"</span><span class="s">span</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">el</span><span class="p">.</span><span class="nf">set</span><span class="p">(</span><span class="sh">"</span><span class="s">class</span><span class="sh">"</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">klass</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">self</span><span class="p">.</span><span class="n">lang</span><span class="p">:</span>
            <span class="n">el</span><span class="p">.</span><span class="nf">set</span><span class="p">(</span><span class="sh">"</span><span class="s">lang</span><span class="sh">"</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">lang</span><span class="p">)</span>
        <span class="n">el</span><span class="p">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">text</span>
        <span class="k">return</span> <span class="n">el</span><span class="p">,</span> <span class="n">m</span><span class="p">.</span><span class="nf">start</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">m</span><span class="p">.</span><span class="nf">end</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">EnSpanExtension</span><span class="p">(</span><span class="n">Extension</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">config</span> <span class="o">=</span> <span class="p">{</span>
            <span class="sh">"</span><span class="s">delim</span><span class="sh">"</span><span class="p">:</span> <span class="p">[</span><span class="sh">"</span><span class="s">%%</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">Inline delimiter</span><span class="sh">"</span><span class="p">],</span>
            <span class="sh">"</span><span class="s">class</span><span class="sh">"</span><span class="p">:</span> <span class="p">[</span><span class="sh">"</span><span class="s">en</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">CSS class</span><span class="sh">"</span><span class="p">],</span>
            <span class="sh">"</span><span class="s">lang</span><span class="sh">"</span><span class="p">:</span>  <span class="p">[</span><span class="sh">"</span><span class="s">en</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">lang attribute</span><span class="sh">"</span><span class="p">],</span>
        <span class="p">}</span>
        <span class="nf">super</span><span class="p">().</span><span class="nf">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">extendMarkdown</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">md</span><span class="p">):</span>
        <span class="n">delim</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="nf">getConfig</span><span class="p">(</span><span class="sh">"</span><span class="s">delim</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">pattern</span> <span class="o">=</span> <span class="sa">rf</span><span class="sh">"</span><span class="s">(?&lt;!\\)</span><span class="si">{</span><span class="n">re</span><span class="p">.</span><span class="nf">escape</span><span class="p">(</span><span class="n">delim</span><span class="p">)</span><span class="si">}</span><span class="s">(.+?)(?&lt;!\\)</span><span class="si">{</span><span class="n">re</span><span class="p">.</span><span class="nf">escape</span><span class="p">(</span><span class="n">delim</span><span class="p">)</span><span class="si">}</span><span class="sh">"</span>
        <span class="n">md</span><span class="p">.</span><span class="n">inlinePatterns</span><span class="p">.</span><span class="nf">register</span><span class="p">(</span>
            <span class="nc">EnSpanInline</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">md</span><span class="p">,</span>
                         <span class="n">klass</span><span class="o">=</span><span class="n">self</span><span class="p">.</span><span class="nf">getConfig</span><span class="p">(</span><span class="sh">"</span><span class="s">class</span><span class="sh">"</span><span class="p">),</span>
                         <span class="n">lang</span><span class="o">=</span><span class="n">self</span><span class="p">.</span><span class="nf">getConfig</span><span class="p">(</span><span class="sh">"</span><span class="s">lang</span><span class="sh">"</span><span class="p">)),</span>
            <span class="sh">"</span><span class="s">en-span</span><span class="sh">"</span><span class="p">,</span> <span class="mi">175</span>
        <span class="p">)</span>

<span class="k">def</span> <span class="nf">makeExtension</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nc">EnSpanExtension</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div></div>

<hr />

<h2 id="5-ê·¸ë˜ë„-ê°™ì€-ì—ëŸ¬ë©´">5) ê·¸ë˜ë„ ê°™ì€ ì—ëŸ¬ë©´?</h2>

<ul>
  <li>
    <p>ì½˜ì†”ì—ì„œ í•œ ë²ˆ ì§ì ‘ import í•´ë³´ì„¸ìš”:</p>

    <ul>
      <li>macOS/Linux:
        <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd </span>your-project
<span class="nv">PYTHONPATH</span><span class="o">=</span><span class="nb">.</span> python <span class="nt">-c</span> <span class="s2">"import en_span; print(en_span)"</span>
</code></pre></div>        </div>
      </li>
      <li>Windows PowerShell:
        <div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">cd</span><span class="w"> </span><span class="nx">your-project</span><span class="w">
</span><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">PYTHONPATH</span><span class="o">=</span><span class="s2">"."</span><span class="p">;</span><span class="w"> </span><span class="n">python</span><span class="w"> </span><span class="nt">-c</span><span class="w"> </span><span class="s2">"import en_span; print(en_span)"</span><span class="w">
</span></code></pre></div>        </div>
      </li>
    </ul>
  </li>
</ul>

<p>ì´ê²Œ ì‹¤íŒ¨í•˜ë©´ <strong>ê²½ë¡œ ë¬¸ì œ</strong> ê°€ í™•ì‹¤í•©ë‹ˆë‹¤. ìœ„ 2)ë²ˆ(ì‹¤í–‰ ìœ„ì¹˜)ê³¼ 3)ë²ˆ(íŒ¨í‚¤ì§€ í´ë”) ë°©ë²•ìœ¼ë¡œ ì •ë¦¬í•˜ë©´ í•´ê²°ë©ë‹ˆë‹¤.</p>

<hr />

<p>ì›í•˜ì‹œë©´ ì§€ê¸ˆ í”„ë¡œì íŠ¸ íŠ¸ë¦¬(ëŒ€ì¶© <code class="language-plaintext highlighter-rouge">tree</code> ê²°ê³¼ë‚˜ ìŠ¤í¬ë¦°ìƒ·)ì™€ <code class="language-plaintext highlighter-rouge">mkdocs.yml</code>ì˜ í•´ë‹¹ ë¶€ë¶„ì„ ë³´ë‚´ ì£¼ì„¸ìš”. ê·¸ëŒ€ë¡œ ë§ì¶°ì„œ <strong>í•œ ì¤„ë„ í—·ê°ˆë¦¬ì§€ ì•Šê²Œ</strong> ìˆ˜ì •ë³¸ ë§Œë“¤ì–´ ë“œë¦´ê²Œìš”.</p>

<p class="chat--user">

ê·¸ëƒ¥ íŒ¨í‚¤ì§€ ì„¤ì¹˜ë¥¼ í•´ë²„ë ¤ì•¼ê² ì–´. markdown_en_span ì´ë¼ëŠ” íŒ¨í‚¤ì§€ë¡œ ë§Œë“¤ì–´ì£¼ê³  src í´ë”ì™€ pyproject.tomlì„ ì—¬ê¸°ì— í¬í•¨ì‹œì¼œì„œ ì„¤ì¹˜í•  ìˆ˜ ìˆê²Œ í•´ì¤˜

</p>

<p>ì¢‹ì•„â€”<strong>ë¡œì»¬ì—ì„œ ë°”ë¡œ ì„¤ì¹˜ ê°€ëŠ¥í•œ íŒ¨í‚¤ì§€</strong> ë¡œ ë§Œë“¤ì–´ ë“œë¦´ê²Œìš”.<br />
íŒ¨í‚¤ì§€ëª…ì€ ìš”ì²­í•˜ì‹  ëŒ€ë¡œ <code class="language-plaintext highlighter-rouge">markdown_en_span</code>, <strong>src ë ˆì´ì•„ì›ƒ</strong> + <code class="language-plaintext highlighter-rouge">pyproject.toml</code> í¬í•¨ì…ë‹ˆë‹¤.</p>

<hr />

<h1 id="1-ë””ë ‰í„°ë¦¬-êµ¬ì¡°-ë§Œë“¤ê¸°">1) ë””ë ‰í„°ë¦¬ êµ¬ì¡° ë§Œë“¤ê¸°</h1>
<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">your-project</span><span class="o">/</span>
<span class="err">â”œâ”€</span> <span class="nt">pyproject</span><span class="nc">.toml</span>
<span class="err">â””â”€</span> <span class="nt">src</span><span class="o">/</span>
   <span class="err">â””â”€</span> <span class="nt">markdown_en_span</span><span class="o">/</span>
      <span class="err">â””â”€</span> <span class="nt">__init__</span><span class="nc">.py</span>
</code></pre></div></div>

<hr />

<h1 id="2-pyprojecttoml">2) <code class="language-plaintext highlighter-rouge">pyproject.toml</code></h1>
<div class="language-toml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">[build-system]</span>
<span class="py">requires</span> <span class="p">=</span> <span class="py">["hatchling&gt;</span><span class="p">=</span><span class="mf">1.18</span><span class="s">"]</span><span class="err">
</span><span class="py">build-backend</span> <span class="p">=</span> <span class="s">"hatchling.build"</span>

<span class="nn">[project]</span>
<span class="py">name</span> <span class="p">=</span> <span class="s">"markdown_en_span"</span>
<span class="py">version</span> <span class="p">=</span> <span class="s">"0.1.0"</span>
<span class="py">description</span> <span class="p">=</span> <span class="s">"Python-Markdown inline extension to wrap %%text%% as &lt;span class='en' lang='en'&gt;text&lt;/span&gt;."</span>
<span class="py">readme</span> <span class="p">=</span> <span class="s">"README.md"</span>
<span class="py">requires-python</span> <span class="p">=</span> <span class="py">"&gt;</span><span class="p">=</span><span class="mf">3.8</span><span class="s">"</span><span class="err">
</span><span class="py">authors</span> <span class="p">=</span> <span class="py">[{name</span> <span class="p">=</span> <span class="s">"Your Name"</span><span class="err">}]</span>
<span class="py">dependencies</span> <span class="p">=</span> <span class="py">["Markdown&gt;</span><span class="p">=</span><span class="mf">3.3</span><span class="s">"]</span><span class="err">
</span>
<span class="nn">[project.urls]</span>
<span class="py">Homepage</span> <span class="p">=</span> <span class="s">"https://example.com/markdown_en_span"</span>

<span class="c"># Python-Markdownì´ ì´ í™•ì¥ì„ 'en_span' ì´ë¦„ìœ¼ë¡œ ì¸ì‹í•˜ê²Œ í•˜ëŠ” ì—”íŠ¸ë¦¬í¬ì¸íŠ¸</span>
<span class="nn">[project.entry-points."markdown.extensions"]</span>
<span class="py">en_span</span> <span class="p">=</span> <span class="s">"markdown_en_span:makeExtension"</span>
</code></pre></div></div>

<blockquote>
  <p>í¬ì¸íŠ¸</p>

  <ul>
    <li>
      <p><strong>ì—”íŠ¸ë¦¬í¬ì¸íŠ¸</strong> ë•ë¶„ì— <code class="language-plaintext highlighter-rouge">mkdocs.yml</code>ì—ì„œ <code class="language-plaintext highlighter-rouge">markdown_extensions: - en_span</code>ì²˜ëŸ¼ <strong>ì§§ì€ ì´ë¦„</strong> ìœ¼ë¡œ ì“¸ ìˆ˜ ìˆì–´ìš”.</p>
    </li>
    <li>
      <p>ë°°í¬ëª…(<code class="language-plaintext highlighter-rouge">name</code>)ê³¼ ëª¨ë“ˆëª…(í´ë”)ì€ ë‘˜ ë‹¤ <code class="language-plaintext highlighter-rouge">markdown_en_span</code>ë¡œ í†µì¼.</p>
    </li>
  </ul>

</blockquote>

<hr />

<h1 id="3-srcmarkdown_en_span__init__py">3) <code class="language-plaintext highlighter-rouge">src/markdown_en_span/__init__.py</code></h1>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">re</span>
<span class="kn">from</span> <span class="n">markdown.extensions</span> <span class="kn">import</span> <span class="n">Extension</span>
<span class="kn">from</span> <span class="n">markdown.inlinepatterns</span> <span class="kn">import</span> <span class="n">InlineProcessor</span>
<span class="kn">from</span> <span class="n">xml.etree</span> <span class="kn">import</span> <span class="n">ElementTree</span> <span class="k">as</span> <span class="n">etree</span>

<span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span><span class="sh">"</span><span class="s">EnSpanExtension</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">makeExtension</span><span class="sh">"</span><span class="p">]</span>
<span class="n">__version__</span> <span class="o">=</span> <span class="sh">"</span><span class="s">0.1.0</span><span class="sh">"</span>

<span class="k">class</span> <span class="nc">EnSpanInline</span><span class="p">(</span><span class="n">InlineProcessor</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">
    Wraps %%text%% (ê¸°ë³¸) â†’ &lt;span class=</span><span class="sh">"</span><span class="s">en</span><span class="sh">"</span><span class="s"> lang=</span><span class="sh">"</span><span class="s">en</span><span class="sh">"</span><span class="s">&gt;text&lt;/span&gt;
    - êµ¬ë¶„ìëŠ” ì˜µì…˜ìœ¼ë¡œ ë³€ê²½ ê°€ëŠ¥ (ì˜ˆ: ^^ ë˜ëŠ” !!)
    - \%% ì²˜ëŸ¼ ë°±ìŠ¬ë˜ì‹œë¡œ ì´ìŠ¤ì¼€ì´í”„í•˜ë©´ ë¦¬í„°ëŸ´ %% ì¶œë ¥
    </span><span class="sh">"""</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">delim</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">md</span><span class="p">,</span> <span class="n">css_class</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="sh">"</span><span class="s">en</span><span class="sh">"</span><span class="p">,</span> <span class="n">lang</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="sh">"</span><span class="s">en</span><span class="sh">"</span><span class="p">):</span>
        <span class="c1"># DOTALL í™œì„±í™”: í•„ìš” ì‹œ ì—¬ëŸ¬ ì¤„ë„ ë§¤ì¹­
</span>        <span class="n">pattern</span> <span class="o">=</span> <span class="sa">rf</span><span class="sh">"</span><span class="s">(?s)(?&lt;!\\)</span><span class="si">{</span><span class="n">re</span><span class="p">.</span><span class="nf">escape</span><span class="p">(</span><span class="n">delim</span><span class="p">)</span><span class="si">}</span><span class="s">(.+?)(?&lt;!\\)</span><span class="si">{</span><span class="n">re</span><span class="p">.</span><span class="nf">escape</span><span class="p">(</span><span class="n">delim</span><span class="p">)</span><span class="si">}</span><span class="sh">"</span>
        <span class="nf">super</span><span class="p">().</span><span class="nf">__init__</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">md</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">delim</span> <span class="o">=</span> <span class="n">delim</span>
        <span class="n">self</span><span class="p">.</span><span class="n">css_class</span> <span class="o">=</span> <span class="n">css_class</span>
        <span class="n">self</span><span class="p">.</span><span class="n">lang</span> <span class="o">=</span> <span class="n">lang</span>

    <span class="k">def</span> <span class="nf">handleMatch</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="c1"># ë³¸ë¬¸ í…ìŠ¤íŠ¸
</span>        <span class="n">text</span> <span class="o">=</span> <span class="n">m</span><span class="p">.</span><span class="nf">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="c1"># \%% â†’ %% (ì‚¬ìš©ìê°€ ë¦¬í„°ëŸ´ êµ¬ë¶„ìë¥¼ ë„£ê³  ì‹¶ì„ ë•Œ)
</span>        <span class="n">text</span> <span class="o">=</span> <span class="n">text</span><span class="p">.</span><span class="nf">replace</span><span class="p">(</span><span class="sh">"</span><span class="se">\\</span><span class="sh">"</span> <span class="o">+</span> <span class="n">self</span><span class="p">.</span><span class="n">delim</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">delim</span><span class="p">)</span>

        <span class="n">el</span> <span class="o">=</span> <span class="n">etree</span><span class="p">.</span><span class="nc">Element</span><span class="p">(</span><span class="sh">"</span><span class="s">span</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">el</span><span class="p">.</span><span class="nf">set</span><span class="p">(</span><span class="sh">"</span><span class="s">class</span><span class="sh">"</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">css_class</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">self</span><span class="p">.</span><span class="n">lang</span><span class="p">:</span>
            <span class="n">el</span><span class="p">.</span><span class="nf">set</span><span class="p">(</span><span class="sh">"</span><span class="s">lang</span><span class="sh">"</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">lang</span><span class="p">)</span>
        <span class="n">el</span><span class="p">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">text</span>
        <span class="k">return</span> <span class="n">el</span><span class="p">,</span> <span class="n">m</span><span class="p">.</span><span class="nf">start</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">m</span><span class="p">.</span><span class="nf">end</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">EnSpanExtension</span><span class="p">(</span><span class="n">Extension</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">
    í™•ì¥ ì˜µì…˜:
      - delim: ê¸°ë³¸ </span><span class="sh">"</span><span class="s">%%</span><span class="sh">"</span><span class="s">
      - class: ê¸°ë³¸ </span><span class="sh">"</span><span class="s">en</span><span class="sh">"</span><span class="s">
      - lang:  ê¸°ë³¸ </span><span class="sh">"</span><span class="s">en</span><span class="sh">"</span><span class="s"> (ë¹ˆ ë¬¸ìì—´ì´ë©´ lang ì†ì„± ìƒëµ)
    </span><span class="sh">"""</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">config</span> <span class="o">=</span> <span class="p">{</span>
            <span class="sh">"</span><span class="s">delim</span><span class="sh">"</span><span class="p">:</span> <span class="p">[</span><span class="sh">"</span><span class="s">%%</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">Inline delimiter, e.g. %%, ^^, !!</span><span class="sh">"</span><span class="p">],</span>
            <span class="sh">"</span><span class="s">class</span><span class="sh">"</span><span class="p">:</span> <span class="p">[</span><span class="sh">"</span><span class="s">en</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">CSS class name to set on &lt;span&gt;</span><span class="sh">"</span><span class="p">],</span>
            <span class="sh">"</span><span class="s">lang</span><span class="sh">"</span><span class="p">:</span>  <span class="p">[</span><span class="sh">"</span><span class="s">en</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">lang attribute value (</span><span class="sh">''</span><span class="s"> to disable)</span><span class="sh">"</span><span class="p">],</span>
        <span class="p">}</span>
        <span class="nf">super</span><span class="p">().</span><span class="nf">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">extendMarkdown</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">md</span><span class="p">):</span>
        <span class="n">delim</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="nf">getConfig</span><span class="p">(</span><span class="sh">"</span><span class="s">delim</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">css_class</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="nf">getConfig</span><span class="p">(</span><span class="sh">"</span><span class="s">class</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">lang</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="nf">getConfig</span><span class="p">(</span><span class="sh">"</span><span class="s">lang</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">proc</span> <span class="o">=</span> <span class="nc">EnSpanInline</span><span class="p">(</span><span class="n">delim</span><span class="o">=</span><span class="n">delim</span><span class="p">,</span> <span class="n">md</span><span class="o">=</span><span class="n">md</span><span class="p">,</span> <span class="n">css_class</span><span class="o">=</span><span class="n">css_class</span><span class="p">,</span> <span class="n">lang</span><span class="o">=</span><span class="n">lang</span><span class="p">)</span>
        <span class="c1"># emphasis(EMPHASIS=170)ë³´ë‹¤ ì•½ê°„ ì•ì„œë„ë¡ ë“±ë¡
</span>        <span class="n">md</span><span class="p">.</span><span class="n">inlinePatterns</span><span class="p">.</span><span class="nf">register</span><span class="p">(</span><span class="n">proc</span><span class="p">,</span> <span class="sh">"</span><span class="s">en-span</span><span class="sh">"</span><span class="p">,</span> <span class="mi">175</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">makeExtension</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nc">EnSpanExtension</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div></div>

<hr />

<h1 id="4-ì„¤ì¹˜-ë¡œì»¬">4) ì„¤ì¹˜ (ë¡œì»¬)</h1>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># í”„ë¡œì íŠ¸ ë£¨íŠ¸(= pyproject.toml ìˆëŠ” ê³³)ì—ì„œ</span>
pip <span class="nb">install</span> <span class="nt">-e</span> <span class="nb">.</span>
<span class="c"># ë˜ëŠ”</span>
pip <span class="nb">install</span> <span class="nb">.</span>
</code></pre></div></div>

<blockquote>
  <p><code class="language-plaintext highlighter-rouge">-e</code>ëŠ” ê°œë°œ ì¤‘ ìˆ˜ì •ì‚¬í•­ì´ ë°”ë¡œ ë°˜ì˜ë˜ëŠ” <strong>editable</strong> ì„¤ì¹˜.</p>
</blockquote>

<hr />

<h1 id="5-mkdocs-ì‚¬ìš©-ì˜ˆì‹œ">5) MkDocs ì‚¬ìš© ì˜ˆì‹œ</h1>

<h2 id="mkdocsyml"><code class="language-plaintext highlighter-rouge">mkdocs.yml</code></h2>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">theme</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">material</span>

<span class="na">markdown_extensions</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">en_span</span>            <span class="c1"># â† ë°©ê¸ˆ ë§Œë“  í™•ì¥ (ì—”íŠ¸ë¦¬í¬ì¸íŠ¸ë¡œ ì¸ì‹)</span>
  <span class="c1"># - attr_list        # (ì„ íƒ) ë‹¤ë¥¸ ìš©ë„ í•„ìš” ì‹œ</span>
  <span class="c1"># - en_span:</span>
  <span class="c1">#     delim: "^^"    # êµ¬ë¶„ì ë°”ê¾¸ê³  ì‹¶ì„ ë•Œ</span>
  <span class="c1">#     class: "en"</span>
  <span class="c1">#     lang: "en"</span>

<span class="na">extra_css</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">stylesheets/translation.css</span>
</code></pre></div></div>

<h2 id="docsstylesheetstranslationcss"><code class="language-plaintext highlighter-rouge">docs/stylesheets/translation.css</code></h2>
<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">.md-typeset</span> <span class="nc">.en</span> <span class="p">{</span>
  <span class="nl">font-size</span><span class="p">:</span> <span class="m">0.85em</span><span class="p">;</span>
  <span class="nl">opacity</span><span class="p">:</span> <span class="m">0.65</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="docsindexmd"><code class="language-plaintext highlighter-rouge">docs/index.md</code></h2>
<div class="language-md highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ì•ˆë…•í•˜ì„¸ìš”. %%Hello. Everyone.%%
</code></pre></div></div>

<p>â†’ ë Œë”ë§:</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;p&gt;</span>ì•ˆë…•í•˜ì„¸ìš”. <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"en"</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>Hello. Everyone.<span class="nt">&lt;/span&gt;&lt;/p&gt;</span>
</code></pre></div></div>

<hr />

<h1 id="6-íŒ--íŠ¸ëŸ¬ë¸”ìŠˆíŒ…">6) íŒ &amp; íŠ¸ëŸ¬ë¸”ìŠˆíŒ…</h1>

<ul>
  <li><strong>êµ¬ë¶„ì ë°”ê¾¸ê¸°</strong> : <code class="language-plaintext highlighter-rouge">mkdocs.yml</code>ì—
```yaml
markdown_extensions:
    <ul>
      <li>en_span:
  delim: "^^"
  class: "en"
  lang: "en"
```</li>
    </ul>
  </li>
</ul>

<p>â†’ <code class="language-plaintext highlighter-rouge">ì•ˆë…•í•˜ì„¸ìš”. ^^Hello. Everyone.^^</code></p>

<ul>
  <li>
    <p><strong>ë¦¬í„°ëŸ´ë¡œ<code class="language-plaintext highlighter-rouge">%%</code> ì¶œë ¥</strong>: <code class="language-plaintext highlighter-rouge">\%%</code> ì²˜ëŸ¼ ì´ìŠ¤ì¼€ì´í”„<br />
ì˜ˆ) <code class="language-plaintext highlighter-rouge">ê°€ê²©ì€ \%%20 í• ì¸</code> â†’ ì‹¤ì œ ë¬¸ì„œì— <code class="language-plaintext highlighter-rouge">%%20</code> ì¶œë ¥</p>
  </li>
  <li><strong>í™•ì¥ ë¡œë”© í™•ì¸</strong> (MkDocs ì™¸ì— ìˆœìˆ˜ íŒŒì´ì¬ì—ì„œ)
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">markdown</span>
<span class="n">html</span> <span class="o">=</span> <span class="n">markdown</span><span class="p">.</span><span class="nf">markdown</span><span class="p">(</span><span class="sh">"</span><span class="s">ì•ˆë…• %%Hello%%</span><span class="sh">"</span><span class="p">,</span> <span class="n">extensions</span><span class="o">=</span><span class="p">[</span><span class="sh">"</span><span class="s">en_span</span><span class="sh">"</span><span class="p">])</span>
<span class="nf">print</span><span class="p">(</span><span class="n">html</span><span class="p">)</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p><strong>ì—¬ì „íˆ ì¸ì‹ ì•ˆ ë˜ë©´</strong></p>

    <ul>
      <li>
        <p>ì„¤ì¹˜ ê²½ë¡œ í™•ì¸: <code class="language-plaintext highlighter-rouge">pip show markdown_en_span</code></p>
      </li>
      <li>
        <p>ê°€ìƒí™˜ê²½ ì¬ì‹œì‘ / MkDocs ì¬ì‹œì‘</p>
      </li>
      <li>
        <p>Markdown ë²„ì „ í™•ì¸: <code class="language-plaintext highlighter-rouge">python -c "import markdown, sys; print(markdown.__version__)"</code> (3.3 ì´ìƒ ê¶Œì¥)</p>
      </li>
    </ul>
  </li>
</ul>

<hr />

<p>í•„ìš”í•˜ë©´ <code class="language-plaintext highlighter-rouge">README.md</code>/<code class="language-plaintext highlighter-rouge">LICENSE</code> ê³¨ê²©ë„ ì¶”ê°€í•´ ë“œë¦´ê²Œìš”. ì›í•˜ì‹œëŠ” êµ¬ë¶„ì(ì˜ˆ: <code class="language-plaintext highlighter-rouge">||</code>), ê¸°ë³¸ í´ë˜ìŠ¤ëª… ë³€ê²½ ë“± ì»¤ìŠ¤í„°ë§ˆì´ì¦ˆ ë²„ì „ë„ ë°”ë¡œ ë§Œë“¤ì–´ ì¤„ ìˆ˜ ìˆì–´ìš”.</p>

<p class="chat--user">

mkdocs ë£¨íŠ¸ í´ë” ë°‘ì— ë„ˆê°€ ë§Œë“¤ì–´ì¤€ íŒ¨í‚¤ì§€ë¥¼ ìœ„ì¹˜ ì‹œí‚¬ê±°ì•¼. requirements.txtì— ìƒëŒ€ê²½ë¡œë¡œ ì¸ìŠ¤í†¨ ì¶”ê°€í•  ìˆ˜ ìˆì–´?

</p>

<p>ê°€ëŠ¥í•´! <strong>requirements.txt</strong> ì—ì„œ <strong>ìƒëŒ€ê²½ë¡œ</strong> ë¡œ ë¡œì»¬ íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•  ìˆ˜ ìˆì–´ìš”.<br />
ìš”ì²­í•˜ì‹  êµ¬ì¡°(íŒ¨í‚¤ì§€ë¥¼ MkDocs ë£¨íŠ¸ ë°”ë¡œ ì•„ë˜)ì— ë§ì¶° <strong>í•œ ë²ˆì— ë˜ëŠ”</strong> ì ˆì°¨ë¥¼ step-by-stepìœ¼ë¡œ ì •ë¦¬í• ê²Œìš”.</p>

<hr />

<h1 id="0-í´ë”-êµ¬ì¡°ì˜ˆì‹œ">0) í´ë” êµ¬ì¡°(ì˜ˆì‹œ)</h1>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>your-project/
â”œâ”€ mkdocs.yml
â”œâ”€ requirements.txt
â”œâ”€ markdown_en_span/           <span class="c"># â† ì—¬ê¸° í´ë”ê°€ â€œíŒ¨í‚¤ì§€ ë£¨íŠ¸â€</span>
â”‚  â”œâ”€ pyproject.toml
â”‚  â””â”€ src/
â”‚     â””â”€ markdown_en_span/
â”‚        â””â”€ __init__.py
â””â”€ docs/
   â””â”€ stylesheets/translation.css
</code></pre></div></div>

<blockquote>
  <p>ì¤‘ìš”: <strong><code class="language-plaintext highlighter-rouge">pyproject.toml</code>ì´ ë“¤ì–´ìˆëŠ” ë””ë ‰í„°ë¦¬</strong>(ì—¬ê¸°ì„œëŠ” <code class="language-plaintext highlighter-rouge">./markdown_en_span</code>)ê°€ pipê°€ ì¸ì‹í•˜ëŠ” â€œíŒ¨í‚¤ì§€ ë£¨íŠ¸â€ì˜ˆìš”.</p>
</blockquote>

<hr />

<h1 id="1-requirementstxt-ì‘ì„±">1) requirements.txt ì‘ì„±</h1>

<h2 id="a-ê°œë°œ-ì¤‘-ìˆ˜ì •ì‚¬í•­ì„-ë°”ë¡œ-ë°˜ì˜í•˜ê³ -ì‹¶ì„-ë•Œ-editable">(A) ê°œë°œ ì¤‘ ìˆ˜ì •ì‚¬í•­ì„ ë°”ë¡œ ë°˜ì˜í•˜ê³  ì‹¶ì„ ë•Œ (editable)</h2>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># MkDocs(ì›í•˜ë©´ ë²„ì „ ê³ ì •)</span>
mkdocs&gt;<span class="o">=</span>1.6
mkdocs-material&gt;<span class="o">=</span>9.5

<span class="c"># ë¡œì»¬ í™•ì¥ íŒ¨í‚¤ì§€(ìƒëŒ€ê²½ë¡œ, editable ëª¨ë“œ)</span>
<span class="nt">-e</span> ./markdown_en_span
</code></pre></div></div>

<h2 id="b-ê³ ì •-ì„¤ì¹˜ìˆ˜ì •-ì¦‰ì‹œ-ë°˜ì˜-í•„ìš”-ì—†ì„-ë•Œ">(B) ê³ ì • ì„¤ì¹˜(ìˆ˜ì • ì¦‰ì‹œ ë°˜ì˜ í•„ìš” ì—†ì„ ë•Œ)</h2>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mkdocs&gt;<span class="o">=</span>1.6
mkdocs-material&gt;<span class="o">=</span>9.5

./markdown_en_span
</code></pre></div></div>

<blockquote>
  <p>ë‘ ê²½ìš° ëª¨ë‘ <strong>ìƒëŒ€ê²½ë¡œëŠ” requirements.txt íŒŒì¼ì´ ìˆëŠ” ìœ„ì¹˜ ê¸°ì¤€</strong> ìœ¼ë¡œ í•´ì„ë©ë‹ˆë‹¤.</p>
</blockquote>

<hr />

<h1 id="2-ì„¤ì¹˜">2) ì„¤ì¹˜</h1>

<p>í”„ë¡œì íŠ¸ ë£¨íŠ¸ì—ì„œ:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python <span class="nt">-m</span> pip <span class="nb">install</span> <span class="nt">-U</span> pip          <span class="c"># ê¶Œì¥: ìµœì‹  pip (PEP 660 editable ì§€ì›)</span>
pip <span class="nb">install</span> <span class="nt">-r</span> requirements.txt
</code></pre></div></div>

<blockquote>
  <p><strong>editable(-e)</strong> ì„¤ì¹˜ê°€ ì œëŒ€ë¡œ ë˜ë ¤ë©´ pipê°€ <strong>PEP 660</strong> ì„ ì§€ì›í•´ì•¼ í•©ë‹ˆë‹¤(ëŒ€ë¶€ë¶„ ìµœì‹  pip OK).</p>
</blockquote>

<hr />

<h1 id="3-mkdocsyml-ì„¤ì •">3) mkdocs.yml ì„¤ì •</h1>

<p>ì—”íŠ¸ë¦¬í¬ì¸íŠ¸ë¥¼ ë“±ë¡í•´ë‘” ìƒíƒœë¼ë©´(ì œê°€ ì¤€ <code class="language-plaintext highlighter-rouge">pyproject.toml</code> ê¸°ì¤€) ì•„ë˜ì²˜ëŸ¼ ê°„ë‹¨íˆ ì‚¬ìš© ê°€ëŠ¥:</p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">theme</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">material</span>

<span class="na">markdown_extensions</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">en_span</span>               <span class="c1"># â† ë°©ê¸ˆ ì„¤ì¹˜í•œ í™•ì¥</span>
  <span class="c1"># - en_span:</span>
  <span class="c1">#     delim: "^^"       # êµ¬ë¶„ì ë°”ê¾¸ê³  ì‹¶ìœ¼ë©´ ì˜µì…˜ìœ¼ë¡œ</span>
  <span class="c1">#     class: "en"</span>
  <span class="c1">#     lang: "en"</span>

<span class="na">extra_css</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">stylesheets/translation.css</span>
</code></pre></div></div>

<hr />

<h1 id="4-ì‚¬ìš©-ì˜ˆì‹œ">4) ì‚¬ìš© ì˜ˆì‹œ</h1>

<p><code class="language-plaintext highlighter-rouge">docs/index.md</code></p>
<div class="language-md highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ì•ˆë…•í•˜ì„¸ìš”. %%Hello. Everyone.%%
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">docs/stylesheets/translation.css</code></p>
<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">.md-typeset</span> <span class="nc">.en</span> <span class="p">{</span>
  <span class="nl">font-size</span><span class="p">:</span> <span class="m">0.85em</span><span class="p">;</span>
  <span class="nl">opacity</span><span class="p">:</span> <span class="m">0.65</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<hr />

<h1 id="5-ìì£¼-ìƒê¸°ëŠ”-ì´ìŠˆ--ì²´í¬ë¦¬ìŠ¤íŠ¸">5) ìì£¼ ìƒê¸°ëŠ” ì´ìŠˆ &amp; ì²´í¬ë¦¬ìŠ¤íŠ¸</h1>

<ul>
  <li>
    <p><strong>ì„¤ì¹˜ê°€ ì•ˆ ëœë‹¤ë©´</strong></p>

    <ul>
      <li>
        <p><code class="language-plaintext highlighter-rouge">pip --version</code>ìœ¼ë¡œ ìµœì‹ ì¸ì§€ í™•ì¸(ê°€ëŠ¥í•˜ë©´ 21.3+).</p>
      </li>
      <li>
        <p>í”„ë¡œì íŠ¸ ë£¨íŠ¸ì—ì„œ <code class="language-plaintext highlighter-rouge">pip install -r requirements.txt</code> ì‹¤í–‰í–ˆëŠ”ì§€ í™•ì¸.</p>
      </li>
      <li>
        <p><code class="language-plaintext highlighter-rouge">markdown_en_span/pyproject.toml</code> íŒŒì¼ì´ ì‹¤ì œë¡œ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸.</p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>MkDocsê°€ í™•ì¥ì„ ëª» ì°¾ëŠ”ë‹¤ë©´</strong></p>

    <ul>
      <li>
        <p>ì„¤ì¹˜ ì„±ê³µ ì—¬ë¶€: <code class="language-plaintext highlighter-rouge">pip show markdown_en_span</code></p>
      </li>
      <li>
        <p><code class="language-plaintext highlighter-rouge">mkdocs.yml</code>ì˜ <code class="language-plaintext highlighter-rouge">markdown_extensions:</code>ì— <code class="language-plaintext highlighter-rouge">en_span</code>ì´ ë“¤ì–´ìˆëŠ”ì§€ í™•ì¸.</p>
      </li>
      <li>
        <p>ì„œë²„ ì¬ì‹œì‘: <code class="language-plaintext highlighter-rouge">mkdocs serve</code> ë‹¤ì‹œ ì‹¤í–‰.</p>
      </li>
    </ul>
  </li>
</ul>

<hr />

<p>ì›í•˜ì‹œë©´ ì œê°€ ì œê³µí–ˆë˜ <code class="language-plaintext highlighter-rouge">pyproject.toml</code>/<code class="language-plaintext highlighter-rouge">__init__.py</code> ìƒ˜í”Œì„ ê·¸ëŒ€ë¡œ ë¶™ì—¬ë“œë¦´ê²Œìš”(íŒŒì¼ ë‚´ìš© ë‹¤ì‹œ í•„ìš”í•˜ë©´ ë§í•´ì¤˜!).</p>]]></content><author><name>hvppyarchive</name></author><category term="markdown" /><summary type="html"><![CDATA[]]></summary></entry><entry><title type="html">PySide6 ì›¹ ë¸Œë¼ìš°ì € ë§Œë“¤ê¸°</title><link href="https://hvppyarchive.github.io/python/pyside6-browser/" rel="alternate" type="text/html" title="PySide6 ì›¹ ë¸Œë¼ìš°ì € ë§Œë“¤ê¸°" /><published>2025-09-08T11:39:22+09:00</published><updated>2025-09-08T11:39:22+09:00</updated><id>https://hvppyarchive.github.io/python/pyside6-browser</id><content type="html" xml:base="https://hvppyarchive.github.io/python/pyside6-browser/"><![CDATA[<p class="chat--user">

PySide6 ê¸°ë°˜ìœ¼ë¡œ ê°€ì¥ ê°„ë‹¨í•œ ê¸°ëŠ¥ë§Œ ìˆëŠ” ê°€ë²¼ìš´ ì›¹ ë¸Œë¼ìš°ì €ë¥¼ ë§Œë“¤ê³  ì‹¶ì–´. ì£¼ìš” ê¸°ëŠ¥ì€ ì•/ë’¤ ì´ë™, íƒ­ ê´€ë¦¬, ì£¼ì†Œì°½, ìƒˆ íƒ­ìœ¼ë¡œ ì—´ê¸°(Ctrl í´ë¦­ ì‹œ), íƒ­ ê°„ ì´ë™ ë‹¨ì¶•í‚¤ ë“±ë“± ê¸°ì´ˆì ì¸ ê¸°ëŠ¥ë§Œ ìˆìœ¼ë©´ ë¼.

</p>

<p>ì¢‹ì•„! PySide6(Qt WebEngine)ë¡œ â€œê°€ì¥ ê¸°ë³¸ ê¸°ëŠ¥ë§Œâ€ ê°–ì¶˜ ê°€ë²¼ìš´ íƒ­í˜• ì›¹ ë¸Œë¼ìš°ì € ì˜ˆì œë¥¼ í•œ íŒŒì¼ë¡œ ê¹”ë”í•˜ê²Œ ì¤€ë¹„í–ˆì–´.<br />
ì•„ë˜ ìŠ¤í¬ë¦½íŠ¸ í•˜ë‚˜ë¡œ ë‹¤ìŒì´ ë™ì‘í•´:</p>

<ul>
  <li>
    <p>ë’¤ë¡œ/ì•ìœ¼ë¡œ, ìƒˆë¡œê³ ì¹¨/ì •ì§€, í™ˆ, ì£¼ì†Œì°½</p>
  </li>
  <li>
    <p>íƒ­ ì—´ê¸°/ë‹«ê¸°/ì´ë™(ë“œë˜ê·¸ ê°€ëŠ¥)</p>
  </li>
  <li>
    <p><strong>Ctrl+í´ë¦­ ì‹œ ë§í¬ë¥¼ ìƒˆ íƒ­ìœ¼ë¡œ ì—´ê¸°</strong></p>
  </li>
  <li>
    <p>ë‹¨ì¶•í‚¤:</p>

    <ul>
      <li>
        <p>ìƒˆ íƒ­ <code class="language-plaintext highlighter-rouge">Ctrl+T</code>, íƒ­ ë‹«ê¸° <code class="language-plaintext highlighter-rouge">Ctrl+W</code></p>
      </li>
      <li>
        <p>íƒ­ ìˆœí™˜ <code class="language-plaintext highlighter-rouge">Ctrl+Tab</code> / <code class="language-plaintext highlighter-rouge">Ctrl+Shift+Tab</code></p>
      </li>
      <li>
        <p>íƒ­ ë²ˆí˜¸ë¡œ ì´ë™ <code class="language-plaintext highlighter-rouge">Ctrl+1..8</code>, ë§ˆì§€ë§‰ íƒ­ <code class="language-plaintext highlighter-rouge">Ctrl+9</code></p>
      </li>
      <li>
        <p>ì£¼ì†Œì°½ í¬ì»¤ìŠ¤ <code class="language-plaintext highlighter-rouge">Ctrl+L</code></p>
      </li>
      <li>
        <p>ë’¤ë¡œ/ì•ìœ¼ë¡œ <code class="language-plaintext highlighter-rouge">Alt+â†/â†’</code></p>
      </li>
      <li>
        <p>ìƒˆë¡œê³ ì¹¨ <code class="language-plaintext highlighter-rouge">Ctrl+R</code> ë˜ëŠ” <code class="language-plaintext highlighter-rouge">F5</code></p>
      </li>
    </ul>
  </li>
</ul>

<hr />

<h1 id="ì„¤ì¹˜">ì„¤ì¹˜</h1>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip <span class="nb">install </span>PySide6
</code></pre></div></div>

<blockquote>
  <p>ì°¸ê³ : PySide6ì—ëŠ” Qt WebEngineì´ í¬í•¨ë˜ì–´ ìˆì–´ìš”(ì¼ë¶€ ë¦¬ëˆ…ìŠ¤ì—ì„  <code class="language-plaintext highlighter-rouge">qtwebengine</code> ê´€ë ¨ ì‹œìŠ¤í…œ íŒ¨í‚¤ì§€ê°€ í•„ìš”í•  ìˆ˜ ìˆìŒ).</p>
</blockquote>

<hr />

<h1 id="ì‹¤í–‰">ì‹¤í–‰</h1>

<p>ì•„ë˜ ì½”ë“œë¥¼ <code class="language-plaintext highlighter-rouge">mini_browser.py</code>ë¡œ ì €ì¥ í›„:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python mini_browser.py
</code></pre></div></div>

<hr />

<h1 id="ì½”ë“œ-ë‹¨ì¼-íŒŒì¼">ì½”ë“œ (ë‹¨ì¼ íŒŒì¼)</h1>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#!/usr/bin/env python3
# mini_browser.py
</span><span class="kn">from</span> <span class="n">__future__</span> <span class="kn">import</span> <span class="n">annotations</span>

<span class="kn">import</span> <span class="n">sys</span>
<span class="kn">import</span> <span class="n">re</span>
<span class="kn">from</span> <span class="n">urllib.parse</span> <span class="kn">import</span> <span class="n">quote</span>

<span class="kn">from</span> <span class="n">PySide6.QtCore</span> <span class="kn">import</span> <span class="n">QUrl</span><span class="p">,</span> <span class="n">Qt</span><span class="p">,</span> <span class="n">Slot</span>
<span class="kn">from</span> <span class="n">PySide6.QtGui</span> <span class="kn">import</span> <span class="n">QAction</span><span class="p">,</span> <span class="n">QKeySequence</span><span class="p">,</span> <span class="n">QIcon</span><span class="p">,</span> <span class="n">QCloseEvent</span><span class="p">,</span> <span class="n">QGuiApplication</span>
<span class="kn">from</span> <span class="n">PySide6.QtWidgets</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">QApplication</span><span class="p">,</span> <span class="n">QMainWindow</span><span class="p">,</span> <span class="n">QToolBar</span><span class="p">,</span> <span class="n">QLineEdit</span><span class="p">,</span>
    <span class="n">QTabWidget</span><span class="p">,</span> <span class="n">QWidget</span><span class="p">,</span> <span class="n">QVBoxLayout</span><span class="p">,</span> <span class="n">QStyle</span><span class="p">,</span> <span class="n">QShortcut</span><span class="p">,</span> <span class="n">QMessageBox</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="n">PySide6.QtWebEngineWidgets</span> <span class="kn">import</span> <span class="n">QWebEngineView</span><span class="p">,</span> <span class="n">QWebEnginePage</span>

<span class="n">DEFAULT_HOME</span> <span class="o">=</span> <span class="sh">"</span><span class="s">https://duckduckgo.com/</span><span class="sh">"</span>
<span class="n">DEFAULT_SEARCH</span> <span class="o">=</span> <span class="sh">"</span><span class="s">https://duckduckgo.com/?q=</span><span class="sh">"</span>

<span class="k">def</span> <span class="nf">is_probably_url</span><span class="p">(</span><span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="n">t</span> <span class="o">=</span> <span class="n">text</span><span class="p">.</span><span class="nf">strip</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">re</span><span class="p">.</span><span class="nf">match</span><span class="p">(</span><span class="sa">r</span><span class="sh">"</span><span class="s">^[a-zA-Z]+://</span><span class="sh">"</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">True</span>
    <span class="c1"># domain-like without scheme (no spaces, has a dot)
</span>    <span class="nf">return </span><span class="p">(</span><span class="sh">"</span><span class="s"> </span><span class="sh">"</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">t</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="sh">"</span><span class="s">.</span><span class="sh">"</span> <span class="ow">in</span> <span class="n">t</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">BrowserPage</span><span class="p">(</span><span class="n">QWebEnginePage</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">ë§í¬ Ctrl+í´ë¦­ì„ ê°€ë¡œì±„ ìƒˆ íƒ­ìœ¼ë¡œ ì—´ê¸° ìœ„í•´ í˜ì´ì§€ë¥¼ ì‚´ì§ ì»¤ìŠ¤í„°ë§ˆì´ì¦ˆ.</span><span class="sh">"""</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">on_open_new_tab</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="nf">super</span><span class="p">().</span><span class="nf">__init__</span><span class="p">(</span><span class="n">parent</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_on_open_new_tab</span> <span class="o">=</span> <span class="n">on_open_new_tab</span>

    <span class="k">def</span> <span class="nf">acceptNavigationRequest</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="n">QUrl</span><span class="p">,</span> <span class="n">nav_type</span><span class="p">:</span> <span class="n">QWebEnginePage</span><span class="p">.</span><span class="n">NavigationType</span><span class="p">,</span> <span class="n">isMainFrame</span><span class="p">:</span> <span class="nb">bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">nav_type</span> <span class="o">==</span> <span class="n">QWebEnginePage</span><span class="p">.</span><span class="n">NavigationTypeLinkClicked</span><span class="p">:</span>
            <span class="n">mods</span> <span class="o">=</span> <span class="n">QApplication</span><span class="p">.</span><span class="nf">keyboardModifiers</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">mods</span> <span class="o">&amp;</span> <span class="n">Qt</span><span class="p">.</span><span class="n">ControlModifier</span><span class="p">:</span>
                <span class="c1"># Ctrl+í´ë¦­: ìƒˆ íƒ­ìœ¼ë¡œ ì—´ê³  í˜„ì¬ íƒ­ì€ ê·¸ëŒ€ë¡œ ìœ ì§€
</span>                <span class="k">if</span> <span class="n">self</span><span class="p">.</span><span class="n">_on_open_new_tab</span><span class="p">:</span>
                    <span class="n">self</span><span class="p">.</span><span class="nf">_on_open_new_tab</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">switch_to</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
                <span class="k">return</span> <span class="bp">False</span>  <span class="c1"># í˜„ì¬ ë·°ì—ì„  ë„¤ë¹„ê²Œì´ì…˜ ì·¨ì†Œ
</span>        <span class="k">return</span> <span class="nf">super</span><span class="p">().</span><span class="nf">acceptNavigationRequest</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">nav_type</span><span class="p">,</span> <span class="n">isMainFrame</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">BrowserView</span><span class="p">(</span><span class="n">QWebEngineView</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">target=_blank ë˜ëŠ” window.open()ì„ íƒ­ìœ¼ë¡œ ì—´ë„ë¡ createWindow ì˜¤ë²„ë¼ì´ë“œ.</span><span class="sh">"""</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">main_window</span><span class="p">:</span> <span class="sh">"</span><span class="s">MainWindow</span><span class="sh">"</span><span class="p">):</span>
        <span class="nf">super</span><span class="p">().</span><span class="nf">__init__</span><span class="p">(</span><span class="n">main_window</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_mw</span> <span class="o">=</span> <span class="n">main_window</span>

    <span class="k">def</span> <span class="nf">createWindow</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">_type</span><span class="p">):</span>
        <span class="c1"># ìƒˆ íƒ­ì„ ë§Œë“¤ê³  ê·¸ íƒ­ì˜ QWebEngineViewë¥¼ ë°˜í™˜
</span>        <span class="n">view</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">_mw</span><span class="p">.</span><span class="nf">_create_tab_view</span><span class="p">(</span><span class="n">switch_to</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">view</span>

<span class="k">class</span> <span class="nc">BrowserTab</span><span class="p">(</span><span class="n">QWidget</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">íƒ­ í•˜ë‚˜ = QWebEngineView í•˜ë‚˜(íˆ´ë°”ëŠ” ë©”ì¸ ìœˆë„ìš° ê³µìš©).</span><span class="sh">"""</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">main_window</span><span class="p">:</span> <span class="sh">"</span><span class="s">MainWindow</span><span class="sh">"</span><span class="p">):</span>
        <span class="nf">super</span><span class="p">().</span><span class="nf">__init__</span><span class="p">(</span><span class="n">main_window</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">view</span> <span class="o">=</span> <span class="nc">BrowserView</span><span class="p">(</span><span class="n">main_window</span><span class="p">)</span>
        <span class="c1"># ì»¤ìŠ¤í…€ í˜ì´ì§€ ë¶€ì°© (Ctrl+í´ë¦­ ìƒˆ íƒ­ìš©)
</span>        <span class="n">self</span><span class="p">.</span><span class="n">view</span><span class="p">.</span><span class="nf">setPage</span><span class="p">(</span><span class="nc">BrowserPage</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">view</span><span class="p">,</span> <span class="n">on_open_new_tab</span><span class="o">=</span><span class="n">main_window</span><span class="p">.</span><span class="n">open_in_new_tab</span><span class="p">))</span>

        <span class="n">lay</span> <span class="o">=</span> <span class="nc">QVBoxLayout</span><span class="p">(</span><span class="n">self</span><span class="p">)</span>
        <span class="n">lay</span><span class="p">.</span><span class="nf">setContentsMargins</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">lay</span><span class="p">.</span><span class="nf">addWidget</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">view</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">MainWindow</span><span class="p">(</span><span class="n">QMainWindow</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="nf">super</span><span class="p">().</span><span class="nf">__init__</span><span class="p">()</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">setWindowTitle</span><span class="p">(</span><span class="sh">"</span><span class="s">Mini Browser (PySide6)</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">resize</span><span class="p">(</span><span class="mi">1100</span><span class="p">,</span> <span class="mi">800</span><span class="p">)</span>

        <span class="c1"># íƒ­ ìœ„ì ¯
</span>        <span class="n">self</span><span class="p">.</span><span class="n">tabs</span> <span class="o">=</span> <span class="nc">QTabWidget</span><span class="p">(</span><span class="n">self</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">tabs</span><span class="p">.</span><span class="nf">setTabsClosable</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">tabs</span><span class="p">.</span><span class="nf">setMovable</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">tabs</span><span class="p">.</span><span class="n">currentChanged</span><span class="p">.</span><span class="nf">connect</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">_on_current_tab_changed</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">tabs</span><span class="p">.</span><span class="n">tabCloseRequested</span><span class="p">.</span><span class="nf">connect</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">_close_tab_by_index</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">setCentralWidget</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">tabs</span><span class="p">)</span>

        <span class="c1"># íˆ´ë°” + ì£¼ì†Œì°½
</span>        <span class="n">self</span><span class="p">.</span><span class="nf">_build_toolbar</span><span class="p">()</span>

        <span class="c1"># ë‹¨ì¶•í‚¤
</span>        <span class="n">self</span><span class="p">.</span><span class="nf">_setup_shortcuts</span><span class="p">()</span>

        <span class="c1"># ì‹œì‘ íƒ­
</span>        <span class="n">self</span><span class="p">.</span><span class="nf">new_tab</span><span class="p">(</span><span class="nc">QUrl</span><span class="p">(</span><span class="n">DEFAULT_HOME</span><span class="p">),</span> <span class="n">switch_to</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

    <span class="c1"># ---------- UI êµ¬ì„± ----------
</span>
    <span class="k">def</span> <span class="nf">_build_toolbar</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="n">tb</span> <span class="o">=</span> <span class="nc">QToolBar</span><span class="p">(</span><span class="sh">"</span><span class="s">Navigation</span><span class="sh">"</span><span class="p">,</span> <span class="n">self</span><span class="p">)</span>
        <span class="n">tb</span><span class="p">.</span><span class="nf">setMovable</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">addToolBar</span><span class="p">(</span><span class="n">tb</span><span class="p">)</span>

        <span class="n">style</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="nf">style</span><span class="p">()</span>

        <span class="n">self</span><span class="p">.</span><span class="n">act_back</span> <span class="o">=</span> <span class="nc">QAction</span><span class="p">(</span><span class="n">style</span><span class="p">.</span><span class="nf">standardIcon</span><span class="p">(</span><span class="n">QStyle</span><span class="p">.</span><span class="n">SP_ArrowBack</span><span class="p">),</span> <span class="sh">"</span><span class="s">ë’¤ë¡œ</span><span class="sh">"</span><span class="p">,</span> <span class="n">self</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">act_back</span><span class="p">.</span><span class="n">triggered</span><span class="p">.</span><span class="nf">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">self</span><span class="p">.</span><span class="nf">_current_view</span><span class="p">().</span><span class="nf">back</span><span class="p">())</span>
        <span class="n">self</span><span class="p">.</span><span class="n">act_forward</span> <span class="o">=</span> <span class="nc">QAction</span><span class="p">(</span><span class="n">style</span><span class="p">.</span><span class="nf">standardIcon</span><span class="p">(</span><span class="n">QStyle</span><span class="p">.</span><span class="n">SP_ArrowForward</span><span class="p">),</span> <span class="sh">"</span><span class="s">ì•ìœ¼ë¡œ</span><span class="sh">"</span><span class="p">,</span> <span class="n">self</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">act_forward</span><span class="p">.</span><span class="n">triggered</span><span class="p">.</span><span class="nf">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">self</span><span class="p">.</span><span class="nf">_current_view</span><span class="p">().</span><span class="nf">forward</span><span class="p">())</span>
        <span class="n">self</span><span class="p">.</span><span class="n">act_reload</span> <span class="o">=</span> <span class="nc">QAction</span><span class="p">(</span><span class="n">style</span><span class="p">.</span><span class="nf">standardIcon</span><span class="p">(</span><span class="n">QStyle</span><span class="p">.</span><span class="n">SP_BrowserReload</span><span class="p">),</span> <span class="sh">"</span><span class="s">ìƒˆë¡œê³ ì¹¨</span><span class="sh">"</span><span class="p">,</span> <span class="n">self</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">act_reload</span><span class="p">.</span><span class="n">triggered</span><span class="p">.</span><span class="nf">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">self</span><span class="p">.</span><span class="nf">_current_view</span><span class="p">().</span><span class="nf">reload</span><span class="p">())</span>
        <span class="n">self</span><span class="p">.</span><span class="n">act_stop</span> <span class="o">=</span> <span class="nc">QAction</span><span class="p">(</span><span class="n">style</span><span class="p">.</span><span class="nf">standardIcon</span><span class="p">(</span><span class="n">QStyle</span><span class="p">.</span><span class="n">SP_BrowserStop</span><span class="p">),</span> <span class="sh">"</span><span class="s">ì •ì§€</span><span class="sh">"</span><span class="p">,</span> <span class="n">self</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">act_stop</span><span class="p">.</span><span class="n">triggered</span><span class="p">.</span><span class="nf">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">self</span><span class="p">.</span><span class="nf">_current_view</span><span class="p">().</span><span class="nf">stop</span><span class="p">())</span>
        <span class="n">self</span><span class="p">.</span><span class="n">act_home</span> <span class="o">=</span> <span class="nc">QAction</span><span class="p">(</span><span class="n">style</span><span class="p">.</span><span class="nf">standardIcon</span><span class="p">(</span><span class="n">QStyle</span><span class="p">.</span><span class="n">SP_DirHomeIcon</span><span class="p">),</span> <span class="sh">"</span><span class="s">í™ˆ</span><span class="sh">"</span><span class="p">,</span> <span class="n">self</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">act_home</span><span class="p">.</span><span class="n">triggered</span><span class="p">.</span><span class="nf">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">self</span><span class="p">.</span><span class="nf">navigate_to</span><span class="p">(</span><span class="nc">QUrl</span><span class="p">(</span><span class="n">DEFAULT_HOME</span><span class="p">)))</span>

        <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">act_back</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">act_forward</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">act_reload</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">act_stop</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">act_home</span><span class="p">):</span>
            <span class="n">tb</span><span class="p">.</span><span class="nf">addAction</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>

        <span class="n">self</span><span class="p">.</span><span class="n">urlbar</span> <span class="o">=</span> <span class="nc">QLineEdit</span><span class="p">(</span><span class="n">self</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">urlbar</span><span class="p">.</span><span class="nf">setPlaceholderText</span><span class="p">(</span><span class="sh">"</span><span class="s">ì£¼ì†Œ ë˜ëŠ” ê²€ìƒ‰ì–´ ì…ë ¥â€¦</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">urlbar</span><span class="p">.</span><span class="n">returnPressed</span><span class="p">.</span><span class="nf">connect</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">_on_return_pressed</span><span class="p">)</span>
        <span class="n">tb</span><span class="p">.</span><span class="nf">addWidget</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">urlbar</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_setup_shortcuts</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="c1"># ì£¼ì†Œì°½ í¬ì»¤ìŠ¤
</span>        <span class="nc">QShortcut</span><span class="p">(</span><span class="nc">QKeySequence</span><span class="p">(</span><span class="sh">"</span><span class="s">Ctrl+L</span><span class="sh">"</span><span class="p">),</span> <span class="n">self</span><span class="p">,</span> <span class="n">activated</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">urlbar</span><span class="p">.</span><span class="nf">setFocus</span><span class="p">(),</span> <span class="n">self</span><span class="p">.</span><span class="n">urlbar</span><span class="p">.</span><span class="nf">selectAll</span><span class="p">()))</span>
        <span class="c1"># ìƒˆ íƒ­ / ë‹«ê¸°
</span>        <span class="nc">QShortcut</span><span class="p">(</span><span class="nc">QKeySequence</span><span class="p">(</span><span class="sh">"</span><span class="s">Ctrl+T</span><span class="sh">"</span><span class="p">),</span> <span class="n">self</span><span class="p">,</span> <span class="n">activated</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="n">self</span><span class="p">.</span><span class="nf">new_tab</span><span class="p">())</span>
        <span class="nc">QShortcut</span><span class="p">(</span><span class="nc">QKeySequence</span><span class="p">(</span><span class="sh">"</span><span class="s">Ctrl+W</span><span class="sh">"</span><span class="p">),</span> <span class="n">self</span><span class="p">,</span> <span class="n">activated</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="n">self</span><span class="p">.</span><span class="nf">_close_tab_by_index</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">tabs</span><span class="p">.</span><span class="nf">currentIndex</span><span class="p">()))</span>
        <span class="c1"># íƒ­ ìˆœí™˜
</span>        <span class="nc">QShortcut</span><span class="p">(</span><span class="nc">QKeySequence</span><span class="p">(</span><span class="sh">"</span><span class="s">Ctrl+Tab</span><span class="sh">"</span><span class="p">),</span> <span class="n">self</span><span class="p">,</span> <span class="n">activated</span><span class="o">=</span><span class="n">self</span><span class="p">.</span><span class="n">_next_tab</span><span class="p">)</span>
        <span class="nc">QShortcut</span><span class="p">(</span><span class="nc">QKeySequence</span><span class="p">(</span><span class="sh">"</span><span class="s">Ctrl+Shift+Tab</span><span class="sh">"</span><span class="p">),</span> <span class="n">self</span><span class="p">,</span> <span class="n">activated</span><span class="o">=</span><span class="n">self</span><span class="p">.</span><span class="n">_prev_tab</span><span class="p">)</span>
        <span class="c1"># ë’¤/ì•
</span>        <span class="nc">QShortcut</span><span class="p">(</span><span class="nc">QKeySequence</span><span class="p">(</span><span class="sh">"</span><span class="s">Alt+Left</span><span class="sh">"</span><span class="p">),</span> <span class="n">self</span><span class="p">,</span> <span class="n">activated</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="n">self</span><span class="p">.</span><span class="nf">_current_view</span><span class="p">().</span><span class="nf">back</span><span class="p">())</span>
        <span class="nc">QShortcut</span><span class="p">(</span><span class="nc">QKeySequence</span><span class="p">(</span><span class="sh">"</span><span class="s">Alt+Right</span><span class="sh">"</span><span class="p">),</span> <span class="n">self</span><span class="p">,</span> <span class="n">activated</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="n">self</span><span class="p">.</span><span class="nf">_current_view</span><span class="p">().</span><span class="nf">forward</span><span class="p">())</span>
        <span class="c1"># ìƒˆë¡œê³ ì¹¨
</span>        <span class="nc">QShortcut</span><span class="p">(</span><span class="nc">QKeySequence</span><span class="p">(</span><span class="sh">"</span><span class="s">Ctrl+R</span><span class="sh">"</span><span class="p">),</span> <span class="n">self</span><span class="p">,</span> <span class="n">activated</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="n">self</span><span class="p">.</span><span class="nf">_current_view</span><span class="p">().</span><span class="nf">reload</span><span class="p">())</span>
        <span class="nc">QShortcut</span><span class="p">(</span><span class="nc">QKeySequence</span><span class="p">(</span><span class="sh">"</span><span class="s">F5</span><span class="sh">"</span><span class="p">),</span> <span class="n">self</span><span class="p">,</span> <span class="n">activated</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="n">self</span><span class="p">.</span><span class="nf">_current_view</span><span class="p">().</span><span class="nf">reload</span><span class="p">())</span>
        <span class="c1"># ë²ˆí˜¸ë¡œ íƒ­ ì „í™˜
</span>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">):</span>
            <span class="n">key</span> <span class="o">=</span> <span class="sa">f</span><span class="sh">"</span><span class="s">Ctrl+</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="sh">"</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">9</span><span class="p">:</span>
                <span class="nc">QShortcut</span><span class="p">(</span><span class="nc">QKeySequence</span><span class="p">(</span><span class="n">key</span><span class="p">),</span> <span class="n">self</span><span class="p">,</span> <span class="n">activated</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="n">self</span><span class="p">.</span><span class="n">tabs</span><span class="p">.</span><span class="nf">setCurrentIndex</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">tabs</span><span class="p">.</span><span class="nf">count</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nc">QShortcut</span><span class="p">(</span><span class="nc">QKeySequence</span><span class="p">(</span><span class="n">key</span><span class="p">),</span> <span class="n">self</span><span class="p">,</span> <span class="n">activated</span><span class="o">=</span><span class="k">lambda</span> <span class="n">idx</span><span class="o">=</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span> <span class="n">self</span><span class="p">.</span><span class="nf">_goto_tab</span><span class="p">(</span><span class="n">idx</span><span class="p">))</span>

    <span class="c1"># ---------- íƒ­ ê´€ë¦¬ ----------
</span>
    <span class="k">def</span> <span class="nf">_create_tab_view</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">switch_to</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">QWebEngineView</span><span class="p">:</span>
        <span class="n">tab</span> <span class="o">=</span> <span class="nc">BrowserTab</span><span class="p">(</span><span class="n">self</span><span class="p">)</span>
        <span class="n">idx</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">tabs</span><span class="p">.</span><span class="nf">addTab</span><span class="p">(</span><span class="n">tab</span><span class="p">,</span> <span class="sh">"</span><span class="s">New Tab</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">switch_to</span><span class="p">:</span>
            <span class="n">self</span><span class="p">.</span><span class="n">tabs</span><span class="p">.</span><span class="nf">setCurrentIndex</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span>

        <span class="n">view</span> <span class="o">=</span> <span class="n">tab</span><span class="p">.</span><span class="n">view</span>
        <span class="c1"># ì‹œê·¸ë„ ì—°ê²°: íƒ€ì´í‹€/URL ë³€ê²½ ì‹œ íƒ­ ì œëª©/ì£¼ì†Œì°½ ê°±ì‹ 
</span>        <span class="n">view</span><span class="p">.</span><span class="n">titleChanged</span><span class="p">.</span><span class="nf">connect</span><span class="p">(</span><span class="k">lambda</span> <span class="n">title</span><span class="p">,</span> <span class="n">v</span><span class="o">=</span><span class="n">view</span><span class="p">:</span> <span class="n">self</span><span class="p">.</span><span class="nf">_update_tab_title</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">title</span><span class="p">))</span>
        <span class="n">view</span><span class="p">.</span><span class="n">urlChanged</span><span class="p">.</span><span class="nf">connect</span><span class="p">(</span><span class="k">lambda</span> <span class="n">url</span><span class="p">,</span> <span class="n">v</span><span class="o">=</span><span class="n">view</span><span class="p">:</span> <span class="n">self</span><span class="p">.</span><span class="nf">_maybe_update_urlbar</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">url</span><span class="p">))</span>
        <span class="c1"># ì´ˆê¸° ë„¤ë¹„ê²Œì´ì…˜ ë²„íŠ¼ ìƒíƒœ ê°±ì‹ 
</span>        <span class="n">view</span><span class="p">.</span><span class="n">loadFinished</span><span class="p">.</span><span class="nf">connect</span><span class="p">(</span><span class="k">lambda</span> <span class="n">_ok</span><span class="p">,</span> <span class="n">v</span><span class="o">=</span><span class="n">view</span><span class="p">:</span> <span class="n">self</span><span class="p">.</span><span class="nf">_update_nav_buttons</span><span class="p">(</span><span class="n">v</span><span class="p">))</span>
        <span class="n">view</span><span class="p">.</span><span class="nf">history</span><span class="p">().</span><span class="n">changed</span><span class="p">.</span><span class="nf">connect</span><span class="p">(</span><span class="k">lambda</span> <span class="n">v</span><span class="o">=</span><span class="n">view</span><span class="p">:</span> <span class="n">self</span><span class="p">.</span><span class="nf">_update_nav_buttons</span><span class="p">(</span><span class="n">v</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">view</span>

    <span class="k">def</span> <span class="nf">new_tab</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="n">QUrl</span> <span class="o">|</span> <span class="bp">None</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span> <span class="n">switch_to</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="bp">True</span><span class="p">):</span>
        <span class="n">view</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="nf">_create_tab_view</span><span class="p">(</span><span class="n">switch_to</span><span class="o">=</span><span class="n">switch_to</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">url</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">url</span> <span class="o">=</span> <span class="nc">QUrl</span><span class="p">(</span><span class="n">DEFAULT_HOME</span><span class="p">)</span>
        <span class="n">view</span><span class="p">.</span><span class="nf">setUrl</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_close_tab_by_index</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">index</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">self</span><span class="p">.</span><span class="n">tabs</span><span class="p">.</span><span class="nf">count</span><span class="p">()</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="c1"># ë§ˆì§€ë§‰ íƒ­ì„ ë‹«ìœ¼ë ¤ í•˜ë©´ ìƒˆ ë¹ˆ íƒ­ì„ ì—´ì–´ ì¼ê´€ì„± ìœ ì§€
</span>            <span class="n">self</span><span class="p">.</span><span class="nf">new_tab</span><span class="p">(</span><span class="nc">QUrl</span><span class="p">(</span><span class="n">DEFAULT_HOME</span><span class="p">),</span> <span class="n">switch_to</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
            <span class="n">self</span><span class="p">.</span><span class="n">tabs</span><span class="p">.</span><span class="nf">removeTab</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="n">self</span><span class="p">.</span><span class="n">tabs</span><span class="p">.</span><span class="nf">removeTab</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_on_current_tab_changed</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">_index</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
        <span class="n">v</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="nf">_current_view</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">v</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">_maybe_update_urlbar</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">v</span><span class="p">.</span><span class="nf">url</span><span class="p">())</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">_update_nav_buttons</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_update_tab_title</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">view</span><span class="p">:</span> <span class="n">QWebEngineView</span><span class="p">,</span> <span class="n">title</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="c1"># í•´ë‹¹ viewê°€ í¬í•¨ëœ íƒ­ì˜ ì œëª©ì„ ê°±ì‹ 
</span>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">tabs</span><span class="p">.</span><span class="nf">count</span><span class="p">()):</span>
            <span class="n">tab</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">tabs</span><span class="p">.</span><span class="nf">widget</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">tab</span><span class="p">,</span> <span class="n">BrowserTab</span><span class="p">)</span> <span class="ow">and</span> <span class="n">tab</span><span class="p">.</span><span class="n">view</span> <span class="ow">is</span> <span class="n">view</span><span class="p">:</span>
                <span class="n">self</span><span class="p">.</span><span class="n">tabs</span><span class="p">.</span><span class="nf">setTabText</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">title</span> <span class="k">if</span> <span class="n">title</span> <span class="k">else</span> <span class="sh">"</span><span class="s">New Tab</span><span class="sh">"</span><span class="p">)</span>
                <span class="n">self</span><span class="p">.</span><span class="n">tabs</span><span class="p">.</span><span class="nf">setTabToolTip</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">title</span><span class="p">)</span>
                <span class="k">break</span>

    <span class="k">def</span> <span class="nf">_maybe_update_urlbar</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">view</span><span class="p">:</span> <span class="n">QWebEngineView</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="n">QUrl</span><span class="p">):</span>
        <span class="c1"># í˜„ì¬ íƒ­ì¼ ë•Œë§Œ ì£¼ì†Œì°½ ë™ê¸°í™”
</span>        <span class="n">current</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">tabs</span><span class="p">.</span><span class="nf">currentWidget</span><span class="p">()</span>
        <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">current</span><span class="p">,</span> <span class="n">BrowserTab</span><span class="p">)</span> <span class="ow">and</span> <span class="n">current</span><span class="p">.</span><span class="n">view</span> <span class="ow">is</span> <span class="n">view</span><span class="p">:</span>
            <span class="n">self</span><span class="p">.</span><span class="n">urlbar</span><span class="p">.</span><span class="nf">blockSignals</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
            <span class="n">self</span><span class="p">.</span><span class="n">urlbar</span><span class="p">.</span><span class="nf">setText</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">toString</span><span class="p">())</span>
            <span class="n">self</span><span class="p">.</span><span class="n">urlbar</span><span class="p">.</span><span class="nf">blockSignals</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
            <span class="n">self</span><span class="p">.</span><span class="nf">_update_nav_buttons</span><span class="p">(</span><span class="n">view</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_update_nav_buttons</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">view</span><span class="p">:</span> <span class="n">QWebEngineView</span><span class="p">):</span>
        <span class="n">hist</span> <span class="o">=</span> <span class="n">view</span><span class="p">.</span><span class="nf">history</span><span class="p">()</span>
        <span class="n">self</span><span class="p">.</span><span class="n">act_back</span><span class="p">.</span><span class="nf">setEnabled</span><span class="p">(</span><span class="n">hist</span><span class="p">.</span><span class="nf">canGoBack</span><span class="p">())</span>
        <span class="n">self</span><span class="p">.</span><span class="n">act_forward</span><span class="p">.</span><span class="nf">setEnabled</span><span class="p">(</span><span class="n">hist</span><span class="p">.</span><span class="nf">canGoForward</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">_current_view</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">QWebEngineView</span><span class="p">:</span>
        <span class="n">tab</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">tabs</span><span class="p">.</span><span class="nf">currentWidget</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">tab</span><span class="p">.</span><span class="n">view</span> <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">tab</span><span class="p">,</span> <span class="n">BrowserTab</span><span class="p">)</span> <span class="k">else</span> <span class="bp">None</span>

    <span class="k">def</span> <span class="nf">_next_tab</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">self</span><span class="p">.</span><span class="n">tabs</span><span class="p">.</span><span class="nf">count</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">self</span><span class="p">.</span><span class="n">tabs</span><span class="p">.</span><span class="nf">setCurrentIndex</span><span class="p">((</span><span class="n">self</span><span class="p">.</span><span class="n">tabs</span><span class="p">.</span><span class="nf">currentIndex</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="n">self</span><span class="p">.</span><span class="n">tabs</span><span class="p">.</span><span class="nf">count</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">_prev_tab</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">self</span><span class="p">.</span><span class="n">tabs</span><span class="p">.</span><span class="nf">count</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">self</span><span class="p">.</span><span class="n">tabs</span><span class="p">.</span><span class="nf">setCurrentIndex</span><span class="p">((</span><span class="n">self</span><span class="p">.</span><span class="n">tabs</span><span class="p">.</span><span class="nf">currentIndex</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="n">self</span><span class="p">.</span><span class="n">tabs</span><span class="p">.</span><span class="nf">count</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">_goto_tab</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">idx</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
        <span class="k">if</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">idx</span> <span class="o">&lt;</span> <span class="n">self</span><span class="p">.</span><span class="n">tabs</span><span class="p">.</span><span class="nf">count</span><span class="p">():</span>
            <span class="n">self</span><span class="p">.</span><span class="n">tabs</span><span class="p">.</span><span class="nf">setCurrentIndex</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span>

    <span class="c1"># ---------- ë‚´ë¹„ê²Œì´ì…˜ ----------
</span>
    <span class="k">def</span> <span class="nf">_on_return_pressed</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="n">text</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">urlbar</span><span class="p">.</span><span class="nf">text</span><span class="p">().</span><span class="nf">strip</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">text</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">if</span> <span class="nf">is_probably_url</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
            <span class="n">qurl</span> <span class="o">=</span> <span class="n">QUrl</span><span class="p">.</span><span class="nf">fromUserInput</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">qurl</span> <span class="o">=</span> <span class="nc">QUrl</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">DEFAULT_SEARCH</span><span class="si">}{</span><span class="nf">quote</span><span class="p">(</span><span class="n">text</span><span class="p">)</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">navigate_to</span><span class="p">(</span><span class="n">qurl</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">navigate_to</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="n">QUrl</span><span class="p">):</span>
        <span class="n">v</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="nf">_current_view</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">v</span><span class="p">:</span>
            <span class="n">v</span><span class="p">.</span><span class="nf">setUrl</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>

    <span class="c1"># Ctrl+í´ë¦­ ìƒˆ íƒ­ìš© ì½œë°±
</span>    <span class="k">def</span> <span class="nf">open_in_new_tab</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="n">QUrl</span><span class="p">,</span> <span class="n">switch_to</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="bp">True</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">new_tab</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">switch_to</span><span class="o">=</span><span class="n">switch_to</span><span class="p">)</span>

    <span class="c1"># ì°½ ë‹«í˜ í™•ì¸(ì„ íƒ ì‚¬í•­)
</span>    <span class="k">def</span> <span class="nf">closeEvent</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">e</span><span class="p">:</span> <span class="n">QCloseEvent</span><span class="p">):</span>
        <span class="n">e</span><span class="p">.</span><span class="nf">accept</span><span class="p">()</span>  <span class="c1"># í•„ìš” ì‹œ í™•ì¸ ëŒ€í™”ìƒì ì¶”ê°€ ê°€ëŠ¥
</span>
<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">app</span> <span class="o">=</span> <span class="nc">QApplication</span><span class="p">(</span><span class="n">sys</span><span class="p">.</span><span class="n">argv</span><span class="p">)</span>
    <span class="c1"># í•˜ì´ DPI í™˜ê²½ì—ì„œ í°íŠ¸/ìŠ¤ì¼€ì¼ ìë™ ì¡°ì •
</span>    <span class="n">QGuiApplication</span><span class="p">.</span><span class="nf">setHighDpiScaleFactorRoundingPolicy</span><span class="p">(</span>
        <span class="n">Qt</span><span class="p">.</span><span class="n">HighDpiScaleFactorRoundingPolicy</span><span class="p">.</span><span class="n">PassThrough</span>
    <span class="p">)</span>
    <span class="n">w</span> <span class="o">=</span> <span class="nc">MainWindow</span><span class="p">()</span>
    <span class="n">w</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span>
    <span class="n">sys</span><span class="p">.</span><span class="nf">exit</span><span class="p">(</span><span class="n">app</span><span class="p">.</span><span class="nf">exec</span><span class="p">())</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="sh">"</span><span class="s">__main__</span><span class="sh">"</span><span class="p">:</span>
    <span class="nf">main</span><span class="p">()</span>
</code></pre></div></div>

<hr />

<h1 id="ì‘ë™-ì›ë¦¬-ì§§ê³ -ë‹¨ê³„ì ìœ¼ë¡œ">ì‘ë™ ì›ë¦¬ (ì§§ê³  ë‹¨ê³„ì ìœ¼ë¡œ)</h1>

<ol>
  <li>
    <p><strong>QMainWindow + QTabWidget</strong><br />
ì¤‘ì•™ì— <code class="language-plaintext highlighter-rouge">QTabWidget</code>ì„ ë‘ê³  ê° íƒ­ì€ <code class="language-plaintext highlighter-rouge">BrowserTab</code>(= <code class="language-plaintext highlighter-rouge">QWebEngineView</code>) í•˜ë‚˜ë¡œ êµ¬ì„±.</p>
  </li>
  <li>
    <p><strong>íˆ´ë°”/ì£¼ì†Œì°½</strong><br />
ë’¤Â·ì•Â·ìƒˆë¡œê³ ì¹¨Â·ì •ì§€Â·í™ˆ ì•¡ì…˜ê³¼ <code class="language-plaintext highlighter-rouge">QLineEdit</code>(ì£¼ì†Œì°½)ì„ í•˜ë‚˜ì˜ íˆ´ë°”ì— ë°°ì¹˜.<br />
ì£¼ì†Œì°½ Enter â†’ URL íŒë³„(ìŠ¤í‚´/ë„ë©”ì¸) â†’ ì•„ë‹ˆë©´ ê²€ìƒ‰ì–´ë¡œ DuckDuckGo ê²€ìƒ‰.</p>
  </li>
  <li>
    <p><strong>íƒ­ ìƒì„±/ì œê±°/ì´ë™</strong><br />
<code class="language-plaintext highlighter-rouge">new_tab()</code>ì´ ìƒˆ íƒ­ì„ ë§Œë“¤ê³  URLì„ ë¡œë“œ. íƒ­ì€ ë‹«ê¸° ë²„íŠ¼ìœ¼ë¡œ ì œê±°, ë“œë˜ê·¸ë¡œ ìˆœì„œ ë³€ê²½.</p>
  </li>
  <li>
    <p><strong>target=_blank &amp; Ctrl+í´ë¦­</strong></p>

    <ul>
      <li>
        <p><code class="language-plaintext highlighter-rouge">BrowserView.createWindow()</code>ë¥¼ ì˜¤ë²„ë¼ì´ë“œí•´ì„œ <code class="language-plaintext highlighter-rouge">target="_blank"</code>/<code class="language-plaintext highlighter-rouge">window.open()</code>ì€ í•­ìƒ <strong>ìƒˆ íƒ­</strong> ìœ¼ë¡œ.</p>
      </li>
      <li>
        <p><code class="language-plaintext highlighter-rouge">BrowserPage.acceptNavigationRequest()</code>ì—ì„œ <strong>ë§í¬ í´ë¦­ ì‹œ</strong> <code class="language-plaintext highlighter-rouge">QApplication.keyboardModifiers()</code>ë¡œ <code class="language-plaintext highlighter-rouge">Ctrl</code> ê°ì§€ â†’ <strong>ìƒˆ íƒ­ìœ¼ë¡œ ì—´ê¸°</strong> í›„ ê¸°ì¡´ íƒ­ ë„¤ë¹„ê²Œì´ì…˜ì€ ì·¨ì†Œ.</p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>ì£¼ì†Œ/ì œëª© ë™ê¸°í™”</strong><br />
<code class="language-plaintext highlighter-rouge">urlChanged</code>/<code class="language-plaintext highlighter-rouge">titleChanged</code> ì‹œê·¸ë„ì„ íƒ­ê³¼ ì£¼ì†Œì°½ì— ë°˜ì˜. í˜„ì¬ íƒ­ ë³€ê²½ ì‹œì—ë„ ë™ê¸°í™”.</p>
  </li>
  <li>
    <p><strong>ë‹¨ì¶•í‚¤</strong><br />
í‘œì¤€ ë¸Œë¼ìš°ì €ì²˜ëŸ¼ <code class="language-plaintext highlighter-rouge">Ctrl+T/W/L</code>, <code class="language-plaintext highlighter-rouge">Ctrl+Tab/Shift+Tab</code>, <code class="language-plaintext highlighter-rouge">Ctrl+1..9</code>, <code class="language-plaintext highlighter-rouge">Alt+â†/â†’</code>, <code class="language-plaintext highlighter-rouge">Ctrl+R</code>/<code class="language-plaintext highlighter-rouge">F5</code>ë¥¼ ì—°ê²°.</p>
  </li>
</ol>

<hr />

<p>ì›í•˜ëŠ” ìµœì†Œ ê¸°ëŠ¥ë§Œ ë‹´ì•˜ê³ , íŒŒì¼ í•˜ë‚˜ë¡œ ë°”ë¡œ ëŒë¦´ ìˆ˜ ìˆê²Œ í–ˆì–´.<br />
ì¶”ê°€ë¡œ ì›í•˜ë©´ ë‹¤ìŒë„ ê¸ˆë°© ë¶™ì¼ ìˆ˜ ìˆì–´:</p>

<ul>
  <li>
    <p>ë‹¤ìš´ë¡œë“œ ë§¤ë‹ˆì €/ì €ì¥ ìœ„ì¹˜ ì§€ì •</p>
  </li>
  <li>
    <p>ê°„ë‹¨í•œ íˆìŠ¤í† ë¦¬/ì¦ê²¨ì°¾ê¸° ì €ì¥</p>
  </li>
  <li>
    <p>í”„ë¼ì´ë¹— ëª¨ë“œ(ì„ì‹œ í”„ë¡œí•„)</p>
  </li>
  <li>
    <p>ë‹¤í¬ ëª¨ë“œ/ì•„ì´ì½˜ êµì²´</p>
  </li>
</ul>

<p>í•„ìš”í•œ ì¶”ê°€ ê¸°ëŠ¥ ìˆìœ¼ë©´ ë°”ë¡œ ì–¹ì–´ì„œ ë§Œë“¤ì–´ ì¤„ê²Œ!</p>]]></content><author><name>hvppyarchive</name></author><category term="python" /><summary type="html"><![CDATA[]]></summary></entry><entry><title type="html">LangChain LangGraph ì„¤ì¹˜</title><link href="https://hvppyarchive.github.io/linux/redhat-langgraph-installation/" rel="alternate" type="text/html" title="LangChain LangGraph ì„¤ì¹˜" /><published>2025-09-03T12:34:30+09:00</published><updated>2025-09-03T12:34:30+09:00</updated><id>https://hvppyarchive.github.io/linux/redhat-langgraph-installation</id><content type="html" xml:base="https://hvppyarchive.github.io/linux/redhat-langgraph-installation/"><![CDATA[<p class="chat--user">

langchain &amp; langgraph(+langgraph studio) ì„¤ì¹˜í•˜ëŠ” ë°©ë²• ì•Œë ¤ì¤˜. í™˜ê²½ OS: redhat 8.x íŠ¹ì´ ì‚¬í•­: - sudo ê¶Œí•œ ì—†ìŒ - offline í™˜ê²½ (windowsë‚˜ dockerì—ì„œ íŒŒì¼ ë°›ì•„ ì „ì†¡ì€ ê°€ëŠ¥) - ë‹¨, pipì™€ npmì€ ë°©í™”ë²½ì„ ëš«ì–´ë†”ì„œ ê°€ëŠ¥í•¨

</p>

<p>ì¢‹ì•„ìš”. ì•„ë˜ëŠ” <strong>RHEL 8.x + sudo ì—†ìŒ + (ëŒ€ë¶€ë¶„) ì˜¤í”„ë¼ì¸</strong> ì „ì œì—ì„œ <strong>LangChain / LangGraph / LangGraph Studio</strong> ë¥¼ ì„¤ì¹˜Â·êµ¬ë™í•˜ëŠ” ë°©ë²•ì„ <strong>í•œ ë²ˆì— ëë‚´ëŠ”</strong> ë‹¨ê³„ë³„ ê°€ì´ë“œì…ë‹ˆë‹¤.<br />
(<em>pip/npm íŠ¸ë˜í”½ì€ í—ˆìš©ëœë‹¤ê³  í•˜ì…¨ìœ¼ë‹ˆ ê·¸ ê²½ë¡œë¥¼ ê¸°ë³¸ìœ¼ë¡œ, ì™„ì „ ì˜¤í”„ë¼ì¸ ëŒ€ë¹„ì±…ë„ í•¨ê»˜ ì ì–´ë‘˜ê²Œìš”.</em>)</p>

<hr />

<h1 id="0-ì‚¬ì „-ì ê²€-í•„ìˆ˜">0) ì‚¬ì „ ì ê²€ (í•„ìˆ˜)</h1>

<ol>
  <li><strong>Python ë²„ì „</strong></li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python3 <span class="nt">-V</span>
</code></pre></div></div>

<ul>
  <li>LangChain / LangGraph ëª¨ë‘ <strong>Python â‰¥ 3.9</strong> í•„ìš”(ê¶Œì¥ 3.11+). <a href="https://pypi.org/project/langchain/?utm_source=chatgpt.com">PyPI+1</a></li>
</ul>

<ol>
  <li><strong>Node/npm (ì„ íƒ)</strong><br />
Studio ì›¹ UI ì—°ê²°ë§Œ ì“°ë©´ ê¼­ í•„ìš”í•˜ì§„ ì•Šì§€ë§Œ, JS SDKë‚˜ UI ë¡œì»¬ ë¹Œë“œê°€ í•„ìš”í•  ë• <strong>Node 18/20+</strong> ê¶Œì¥.</li>
</ol>

<hr />

<h1 id="1-ê°€ìƒí™˜ê²½-ë§Œë“¤ê¸°-sudo-ë¶ˆí•„ìš”">1) ê°€ìƒí™˜ê²½ ë§Œë“¤ê¸° (sudo ë¶ˆí•„ìš”)</h1>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># ì›í•˜ëŠ” ê²½ë¡œì— ê°€ìƒí™˜ê²½ ìƒì„±</span>
python3 <span class="nt">-m</span> venv ~/venvs/langgraph
<span class="nb">source</span> ~/venvs/langgraph/bin/activate

<span class="c"># pip ìµœì‹ í™”</span>
python <span class="nt">-m</span> pip <span class="nb">install</span> <span class="nt">--upgrade</span> pip
</code></pre></div></div>

<blockquote>
  <p>ì°¸ê³ : ì‚¬ìš©ì í™ˆì— ì„¤ì¹˜/ì‹¤í–‰í•˜ëŠ” í‘œì¤€ ë°©ë²•ì…ë‹ˆë‹¤(ì‹œìŠ¤í…œ PATH ì˜¤ì—¼ í”¼í•¨). ì‚¬ìš©ì ì„¤ì¹˜ ê²½ë¡œ ì•ˆë‚´ëŠ” ê³µì‹ ë¬¸ì„œì— ìš”ì•½ë˜ì–´ ìˆì–´ìš”. <a href="https://packaging.python.org/tutorials/installing-packages/?utm_source=chatgpt.com">packaging.python.org</a></p>
</blockquote>

<hr />

<h1 id="2-langchain--langgraph-ì„¤ì¹˜">2) LangChain &amp; LangGraph ì„¤ì¹˜</h1>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># í•„ìˆ˜</span>
pip <span class="nb">install</span> <span class="nt">-U</span> langchain langgraph

<span class="c"># (ì˜µì…˜) í”„ë¡œë°”ì´ë” íŒ¨í‚¤ì§€ ì˜ˆì‹œ - OpenAI ì‚¬ìš© ì‹œ</span>
pip <span class="nb">install</span> <span class="nt">-U</span> langchain-openai
</code></pre></div></div>

<ul>
  <li>
    <p>LangChainì˜ Python ì§€ì› ë²„ì „: <strong>&gt; =3.9,&lt;4.0</strong>. <a href="https://pypi.org/project/langchain/?utm_source=chatgpt.com">PyPI</a></p>
  </li>
  <li>
    <p>LangGraphì˜ Python ì§€ì› ë²„ì „: <strong>&gt; =3.9</strong>. <a href="https://pypi.org/project/langgraph/?utm_source=chatgpt.com">PyPI</a></p>
  </li>
  <li>
    <p>OpenAI ì—°ë™ íŒ¨í‚¤ì§€(<code class="language-plaintext highlighter-rouge">langchain-openai</code>)ëŠ” ë³„ë„ì´ë©° Python â‰¥3.9. <a href="https://pypi.org/project/langchain-openai/?utm_source=chatgpt.com">PyPI</a></p>
  </li>
</ul>

<hr />

<h1 id="3-langgraph-cli--ë¡œì»¬-ì„œë²„-dockersudo-ì—†ì´-dev-ëª¨ë“œ">3) LangGraph CLI + ë¡œì»¬ ì„œë²„ (DockerÂ·sudo ì—†ì´ â€œdev ëª¨ë“œâ€)</h1>

<p><strong>Studioë¥¼ ì“°ë ¤ë©´ ì„œë²„ê°€ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.</strong> <code class="language-plaintext highlighter-rouge">langgraph-cli</code>ì˜ <strong>dev ëª¨ë“œ</strong> ëŠ” Docker ì—†ì´ ë¡œì»¬ì—ì„œ ë°”ë¡œ ë„ìš¸ ìˆ˜ ìˆì–´ìš”(ê°œë°œìš©). <a href="https://docs.langchain.com/langgraph-platform/cli">docs.langchain.com</a></p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># dev ëª¨ë“œì— í•„ìš”í•œ extra í¬í•¨ ì„¤ì¹˜</span>
pip <span class="nb">install</span> <span class="nt">-U</span> <span class="s2">"langgraph-cli[inmem]"</span>

<span class="c"># ìƒˆ ì•± í…œí”Œë¦¿ìœ¼ë¡œ í”„ë¡œì íŠ¸ ìƒì„± (íŒŒì´ì¬ ë²„ì „ 3.11+ ê¶Œì¥)</span>
langgraph new myapp <span class="nt">--template</span> new-langgraph-project-python
<span class="nb">cd </span>myapp

<span class="c"># í…œí”Œë¦¿ì´ ë§Œë“  ìš”êµ¬ì‚¬í•­ ì„¤ì¹˜(ìˆë‹¤ë©´)</span>
pip <span class="nb">install</span> <span class="nt">-r</span> requirements.txt

<span class="c"># ë¡œì»¬ API ì„œë²„ êµ¬ë™ (ê¸°ë³¸: 127.0.0.1:2024)</span>
langgraph dev
</code></pre></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">langgraph dev</code> ëŠ” <strong>Docker ë¶ˆí•„ìš”</strong> , ê°œë°œ/í…ŒìŠ¤íŠ¸ ìš© ê²½ëŸ‰ ì„œë²„ì´ë©° <strong>Python â‰¥ 3.11</strong> ì—ì„œ ì§€ì›ë©ë‹ˆë‹¤. ê¸°ë³¸ í¬íŠ¸ <strong>2024</strong>. <a href="https://docs.langchain.com/langgraph-platform/cli">docs.langchain.com</a></li>
</ul>

<hr />

<h1 id="4-langgraph-studio-ì—°ê²°">4) LangGraph <strong>Studio</strong> ì—°ê²°</h1>

<p>StudioëŠ” â€œLangGraph Serverâ€ì— ë¶™ëŠ” ì›¹ UIì…ë‹ˆë‹¤. ë¡œì»¬ì—ì„œ <code class="language-plaintext highlighter-rouge">langgraph dev</code>ë¥¼ ë„ìš°ë©´, ë¸Œë¼ìš°ì €ì—ì„œ <strong>ì•„ë˜ URL</strong> ë¡œ ì ‘ì†í•´ Studioë¥¼ ë°”ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ìš”:</p>
<div class="language-perl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">https:</span><span class="sr">//smi</span><span class="nv">th</span><span class="o">.</span><span class="nv">langchain</span><span class="o">.</span><span class="nv">com</span><span class="sr">/studio/</span><span class="p">?</span><span class="nv">baseUrl</span><span class="o">=</span><span class="nv">http:</span><span class="sr">//</span><span class="mf">127.0.0.1</span><span class="p">:</span><span class="mi">2024</span>
</code></pre></div></div>

<ul>
  <li>
    <p>ë‹¤ë¥¸ í˜¸ìŠ¤íŠ¸/í¬íŠ¸ë¥¼ ì¼ë‹¤ë©´ <code class="language-plaintext highlighter-rouge">baseUrl</code>ë§Œ ë°”ê¿”ì£¼ì„¸ìš”. <a href="https://docs.langchain.com/langgraph-platform/quick-start-studio?utm_source=chatgpt.com">docs.langchain.com</a><a href="https://langchain-ai.github.io/langgraph/tutorials/langgraph-platform/local-server/?utm_source=chatgpt.com">langchain-ai.github.io</a></p>
  </li>
  <li>
    <p><strong>ê°œë°œ í™˜ê²½ì´ ì˜¤í”„ë¼ì¸</strong> ì´ë¼ ìœ„ ë„ë©”ì¸ ì ‘ê·¼ì´ ë§‰í˜€ ìˆìœ¼ë©´ ì•„ë˜ ëŒ€ì•ˆì„ ì°¸ê³ í•˜ì„¸ìš”.</p>
  </li>
</ul>

<hr />

<h1 id="5-ì˜¤í”„ë¼ì¸íì‡„ë§-ëŒ€ì•ˆ-studio-ì ‘ê·¼-ëŒ€ì•ˆ">5) (ì˜¤í”„ë¼ì¸/íì‡„ë§ ëŒ€ì•ˆ) Studio ì ‘ê·¼ ëŒ€ì•ˆ</h1>

<p>A) <strong>ë°ìŠ¤í¬í†± ì•±(êµ¬ ë²„ì „, í˜„ì¬ëŠ” deprecated)</strong></p>

<ul>
  <li>ì˜ˆì „ â€œLangGraph Studio Desktopâ€ì€ ë” ì´ìƒ ì£¼ìš” ê²½ë¡œê°€ ì•„ë‹ˆê³  ì €ì¥ì†Œê°€ <strong>ì•„ì¹´ì´ë¸Œ</strong> ìƒíƒœì…ë‹ˆë‹¤. ëŒ€ì‹  CLI(+Web Studio) ì‚¬ìš©ì„ ê¶Œì¥í•©ë‹ˆë‹¤. ê·¸ë˜ë„ í•„ìš”í•˜ë©´ GitHub ë¦´ë¦¬ìŠ¤ì—ì„œ ë°”ì´ë„ˆë¦¬ ë°›ì•„ì„œ ì˜®ê²¨ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤(ì§€ì› ì¤‘ë‹¨ ê³µì§€ í¬í•¨). <a href="https://github.com/langchain-ai/langgraph-studio">GitHub+1</a></li>
</ul>

<p>B) <strong>ë¡œì»¬/ì‚¬ì„¤ UI êµ¬ì„± (JS)</strong></p>

<ul>
  <li>
    <p>JS SDKë¡œ ê°„ë‹¨í•œ <strong>Agent Chat UI</strong> ë¥¼ ì§ì ‘ ë„ìš°ëŠ” ì„ íƒì§€ë„ ìˆìŠµë‹ˆë‹¤. (LangGraph API ì„œë²„ì— ë¶™ëŠ” ì±„íŒ… UIë¥¼ ë¡œì»¬ë¡œ ê°œë°œ/ì‹¤í–‰) <a href="https://docs.langchain.com/oss/javascript/langgraph/ui?utm_source=chatgpt.com">docs.langchain.com</a></p>
  </li>
  <li>
    <p>JS ì„¤ì¹˜ ì˜ˆì‹œ:</p>
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># ìƒˆ ë””ë ‰í† ë¦¬ì—ì„œ</span>
npm init <span class="nt">-y</span>
npm <span class="nb">install</span> @langchain/langgraph @langchain/core
</code></pre></div>    </div>
  </li>
</ul>

<p>(LangGraph JS íŒ¨í‚¤ì§€ ìµœì‹  ì„¤ì¹˜ë²• Â· ë²„ì „ ì°¸ê³ ) <a href="https://docs.langchain.com/oss/javascript/langgraph/installation?utm_source=chatgpt.com">docs.langchain.com</a><a href="https://www.npmjs.com/package/%40langchain/langgraph?utm_source=chatgpt.com">npm</a></p>

<hr />

<h1 id="6-ì„ íƒ-ì™„ì „-ì˜¤í”„ë¼ì¸-ëŒ€ë¹„--íŒ¨í‚¤ì§€-ë¯¸ë¦¬-ëª¨ì•„ì„œ-ì˜®ê¸°ê¸°">6) (ì„ íƒ) ì™„ì „ ì˜¤í”„ë¼ì¸ ëŒ€ë¹„ â€” íŒ¨í‚¤ì§€ ë¯¸ë¦¬ ëª¨ì•„ì„œ ì˜®ê¸°ê¸°</h1>

<h2 id="6-1-pip-íœ -ìºì‹œwheelhouse-ë§Œë“¤ê¸°">6-1) pip íœ  ìºì‹œ(â€œwheelhouseâ€) ë§Œë“¤ê¸°</h2>

<p><strong>ì˜¨ë¼ì¸ì´ ë˜ëŠ” PC/ì»¨í…Œì´ë„ˆ</strong> ì—ì„œ:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python <span class="nt">-m</span> venv wheelenv <span class="o">&amp;&amp;</span> <span class="nb">source </span>wheelenv/bin/activate
pip <span class="nb">install</span> <span class="nt">--upgrade</span> pip
pip download <span class="nt">-d</span> wheelhouse <span class="se">\</span>
  <span class="s2">"langgraph-cli[inmem]"</span> langgraph langchain langchain-openai
<span class="c"># wheelhouse/ ì•„ë˜ì— ëª¨ë“  ì˜ì¡´ íœ ì´ ëª¨ì…ë‹ˆë‹¤.</span>
</code></pre></div></div>

<p><strong>RHEL ì„œë²„(ì˜¤í”„ë¼ì¸)</strong>ì—ì„œ:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">source</span> ~/venvs/langgraph/bin/activate
pip <span class="nb">install</span> <span class="nt">--no-index</span> <span class="nt">--find-links</span> /path/to/wheelhouse <span class="se">\</span>
  <span class="s2">"langgraph-cli[inmem]"</span> langgraph langchain langchain-openai
</code></pre></div></div>

<blockquote>
  <p>pipì˜ ì‚¬ìš©ì/ì˜¤í”„ë¼ì¸ ì„¤ì¹˜ ë™ì‘ê³¼ ê²½ë¡œ ê°œë…ì€ ê³µì‹ íŒ¨í‚¤ì§• ê°€ì´ë“œì— ì˜ ì •ë¦¬ë¼ ìˆìŠµë‹ˆë‹¤. <a href="https://packaging.python.org/tutorials/installing-packages/?utm_source=chatgpt.com">packaging.python.org</a></p>
</blockquote>

<h2 id="6-2-npm-íŒ¨í‚¤ì§€-ë¬¶ê¸°">6-2) npm íŒ¨í‚¤ì§€ ë¬¶ê¸°</h2>

<p><strong>ì˜¨ë¼ì¸ ë¨¸ì‹ </strong> ì—ì„œ í•„ìš”í•œ íŒ¨í‚¤ì§€ tarball ìƒì„±:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">mkdir </span>npm_bundles <span class="o">&amp;&amp;</span> <span class="nb">cd </span>npm_bundles
npm pack @langchain/langgraph @langchain/core
<span class="c"># =&gt; .tgz íŒŒì¼ë“¤ì´ ìƒì„±ë¨</span>
</code></pre></div></div>

<p><strong>ì˜¤í”„ë¼ì¸ ë¨¸ì‹ </strong> ì—ì„œ tarballë¡œ ì„¤ì¹˜:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ ë‚´ì—ì„œ</span>
npm <span class="nb">install</span> ./@langchain-langgraph-<span class="k">*</span>.tgz ./@langchain-core-<span class="k">*</span>.tgz
</code></pre></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">npm pack</code>/ë¡œì»¬ tgz ì„¤ì¹˜ëŠ” npm ê³µì‹ ë¬¸ì„œì— ìˆëŠ” í‘œì¤€ íë¦„ì…ë‹ˆë‹¤. <a href="https://docs.npmjs.com/cli/v7/commands/npm-pack/?utm_source=chatgpt.com">docs.npmjs.com+1</a></li>
</ul>

<hr />

<h1 id="7-ìì£¼-ë§‰íˆëŠ”-í¬ì¸íŠ¸--í•´ê²°">7) ìì£¼ ë§‰íˆëŠ” í¬ì¸íŠ¸ &amp; í•´ê²°</h1>

<ul>
  <li>
    <p><strong>Python ë²„ì „ ë¶€ì¡±(â‰¤3.8)</strong></p>

    <ul>
      <li>RHEL 8 ê¸°ë³¸ Pythonì´ ë‚®ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‹œìŠ¤í…œ Python ê±´ë“œë¦¬ì§€ ë§ê³ , <strong>ë…ë¦½ ì‹¤í–‰í˜• Python ë°°í¬ë³¸</strong>(python-build-standalone)ì„ ë°›ì•„ í™ˆ ë””ë ‰í„°ë¦¬ì— í’€ì–´ ì“°ëŠ” ë°©ë²•ì´ ìˆìŠµë‹ˆë‹¤(ë£¨íŠ¸ ë¶ˆí•„ìš”). <a href="https://gregoryszorc.com/docs/python-build-standalone/main/?utm_source=chatgpt.com">gregoryszorc.com</a><a href="https://github.com/astral-sh/python-build-standalone/releases?utm_source=chatgpt.com">GitHub</a></li>
    </ul>
  </li>
  <li>
    <p><strong>Docker í•„ìš” ì—¬ë¶€</strong></p>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">langgraph up</code> ë“± í”Œë«í¼ ì „ìš© ëª…ë ¹ì€ Dockerê°€ í•„ìš”í•˜ì§€ë§Œ, <strong>ê°œë°œìš©<code class="language-plaintext highlighter-rouge">langgraph dev</code>ëŠ” Docker ì—†ì´ ë™ì‘</strong>í•©ë‹ˆë‹¤(ìœ„ 3ë²ˆ ë‹¨ê³„). <a href="https://docs.langchain.com/langgraph-platform/cli">docs.langchain.com</a></li>
    </ul>
  </li>
  <li>
    <p><strong>Studio ì ‘ê·¼ ì°¨ë‹¨</strong></p>

    <ul>
      <li>ì‚¬ë‚´ ë°©í™”ë²½ì´ <code class="language-plaintext highlighter-rouge">smith.langchain.com</code>ì„ ë§‰ìœ¼ë©´ A/B ëŒ€ì•ˆì„ ì‚¬ìš©í•˜ì„¸ìš”(5ë²ˆ). Studio ì›¹ì€ LangGraph Serverì— <strong>í”„ëŸ°íŠ¸</strong> ë¡œ ë¶™ëŠ” í˜•íƒœì…ë‹ˆë‹¤. <a href="https://docs.langchain.com/langgraph-platform/langgraph-studio?utm_source=chatgpt.com">docs.langchain.com</a></li>
    </ul>
  </li>
  <li>
    <p><strong>ê¸°ë³¸ í¬íŠ¸ ì¶©ëŒ</strong></p>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">langgraph dev --port 8080</code>ì²˜ëŸ¼ í¬íŠ¸ë¥¼ ë°”ê¾¸ë©´ ë©ë‹ˆë‹¤(ê¸°ë³¸ 2024). <a href="https://docs.langchain.com/langgraph-platform/cli">docs.langchain.com</a></li>
    </ul>
  </li>
</ul>

<hr />

<h2 id="ê²€ì¦ìš©-ì„¤ì¹˜-í›„-ë¹ ë¥¸-ì ê²€">(ê²€ì¦ìš©) ì„¤ì¹˜ í›„ ë¹ ë¥¸ ì ê²€</h2>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># íŒŒì´ì¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ import í™•ì¸</span>
python - <span class="o">&lt;&lt;</span><span class="sh">'</span><span class="no">PY</span><span class="sh">'
import langchain, langgraph
print("OK:", langchain.__version__, langgraph.__version__)
</span><span class="no">PY

</span><span class="c"># CLI í™•ì¸</span>
langgraph <span class="nt">--help</span>
<span class="c"># ì„œë²„ ê¸°ë™</span>
langgraph dev  <span class="c"># =&gt; 127.0.0.1:2024</span>
</code></pre></div></div>

<p>ê·¸ ë‹¤ìŒ ë¸Œë¼ìš°ì €ì—ì„œ<br />
<code class="language-plaintext highlighter-rouge">https://smith.langchain.com/studio/?baseUrl=http://127.0.0.1:2024</code> ì ‘ì† â†’ ê·¸ë˜í”„/ìŠ¤ë ˆë“œ/ì‹¤í–‰ ê³¼ì •ì„ ì‹œê°í™”í•˜ë©° í…ŒìŠ¤íŠ¸í•˜ì„¸ìš”. <a href="https://langchain-ai.github.io/langgraph/tutorials/langgraph-platform/local-server/?utm_source=chatgpt.com">langchain-ai.github.io</a></p>

<hr />

<p>í•„ìš”í•˜ì‹œë©´, <strong>ì™„ì „ ì˜¤í”„ë¼ì¸(ë‚´ë¶€ ë ˆì§€ìŠ¤íŠ¸ë¦¬/ë¯¸ëŸ¬ êµ¬ì¶•)</strong> ì‹œë‚˜ë¦¬ì˜¤(ì˜ˆ: ì‚¬ì„¤ PyPI, Verdaccio ë“±)ê¹Œì§€ í¬í•¨í•œ ë°°í¬ ì²´í¬ë¦¬ìŠ¤íŠ¸ë„ ì •ë¦¬í•´ ë“œë¦´ê²Œìš”.</p>]]></content><author><name>hvppyarchive</name></author><category term="linux" /><summary type="html"><![CDATA[]]></summary></entry><entry><title type="html">tcsh ë©”ì‹œì§€ ìƒ‰ ì§€ì •</title><link href="https://hvppyarchive.github.io/linux/tcsh-term-color/" rel="alternate" type="text/html" title="tcsh ë©”ì‹œì§€ ìƒ‰ ì§€ì •" /><published>2025-09-03T12:31:52+09:00</published><updated>2025-09-03T12:31:52+09:00</updated><id>https://hvppyarchive.github.io/linux/tcsh-term-color</id><content type="html" xml:base="https://hvppyarchive.github.io/linux/tcsh-term-color/"><![CDATA[<p class="chat--user">

tcshì—ì„œ ë©”ì‹œì§€ ì¶œë ¥í•  ë•Œ color ì§€ì •í•˜ëŠ” ë°©ë²• ì´ ì •ë¦¬í•´ì¤˜.

</p>

<p>ì¢‹ì•„ìš”! tcshì—ì„œ â€œë©”ì‹œì§€ ì¶œë ¥í•  ë•Œ ìƒ‰ì„ ì§€ì •í•˜ëŠ”â€ ë°©ë²•ì„ ê°€ì¥ ì•ˆì •ì ì´ê³  íœ´ëŒ€ì„± ìˆê²Œ ì •ë¦¬í•´ë“œë¦´ê²Œìš”. (í„°ë¯¸ë„ì´ ìƒ‰ì„ ì§€ì›í•´ì•¼ í•©ë‹ˆë‹¤. ë³´í†µ <code class="language-plaintext highlighter-rouge">TERM=xterm-256color</code>ë©´ OK)</p>

<h1 id="1-ê¸°ë³¸-ì›ë¦¬-ansi-sgr-ì½”ë“œ">1) ê¸°ë³¸ ì›ë¦¬ (ANSI SGR ì½”ë“œ)</h1>

<ul>
  <li>
    <p>ìƒ‰/ìŠ¤íƒ€ì¼ì€ <strong>ESC[<code class="language-plaintext highlighter-rouge">[</code>] + ì½”ë“œ + <code class="language-plaintext highlighter-rouge">m</code></strong> ìœ¼ë¡œ ì¼­ë‹ˆë‹¤. ëë‚˜ë©´ <strong><code class="language-plaintext highlighter-rouge">ESC[0m</code></strong> ë¡œ ë¦¬ì…‹.</p>
  </li>
  <li>
    <p>ì˜ˆ: ë¹¨ê°• ê¸€ì â†’ <code class="language-plaintext highlighter-rouge">ESC[31m</code>, êµµê²Œ â†’ <code class="language-plaintext highlighter-rouge">ESC[1m</code>, ë°‘ì¤„ â†’ <code class="language-plaintext highlighter-rouge">ESC[4m</code></p>
  </li>
  <li>
    <p>ì—¬ëŸ¬ ê°œë¥¼ ë™ì‹œì—: <code class="language-plaintext highlighter-rouge">ESC[1;31m</code> (êµµê²Œ+ë¹¨ê°•)</p>
  </li>
</ul>

<h2 id="ìì£¼-ì“°ëŠ”-ì½”ë“œ">ìì£¼ ì“°ëŠ” ì½”ë“œ</h2>

<table>
  <thead>
    <tr>
      <th>ì˜ë¯¸</th>
      <th>ì½”ë“œ</th>
      <th>ì˜ë¯¸</th>
      <th>ì½”ë“œ</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>ë¦¬ì…‹</td>
      <td>0</td>
      <td>êµµê²Œ</td>
      <td>1</td>
    </tr>
    <tr>
      <td>ë°‘ì¤„</td>
      <td>4</td>
      <td>ë°˜ì „</td>
      <td>7</td>
    </tr>
    <tr>
      <td>ì „ê²½ìƒ‰(ê¸°ë³¸)</td>
      <td>30~37</td>
      <td>ë°°ê²½ìƒ‰(ê¸°ë³¸)</td>
      <td>40~47</td>
    </tr>
    <tr>
      <td>ì „ê²½ìƒ‰(ë°ê²Œ)</td>
      <td>90~97</td>
      <td>ë°°ê²½ìƒ‰(ë°ê²Œ)</td>
      <td>100~107</td>
    </tr>
  </tbody>
</table>

<ul>
  <li>8ìƒ‰ ë²ˆí˜¸: 30/40=ê²€ì •, 31/41=ë¹¨ê°•, 32/42=ì´ˆë¡, 33/43=ë…¸ë‘, 34/44=íŒŒë‘, 35/45=ë§ˆì  íƒ€, 36/46=ì‹œì•ˆ, 37/47=í°ìƒ‰</li>
</ul>

<h1 id="2-tcshì—ì„œ-ì¶œë ¥í•˜ëŠ”-ì‹¤ì „-ë°©ë²•-3ê°€ì§€">2) tcshì—ì„œ ì¶œë ¥í•˜ëŠ” â€œì‹¤ì „â€ ë°©ë²• 3ê°€ì§€</h1>

<h2 id="a-printf-ì‚¬ìš©-ê°€ì¥-ê¶Œì¥">A. <code class="language-plaintext highlighter-rouge">printf</code> ì‚¬ìš© (ê°€ì¥ ê¶Œì¥)</h2>

<p>tcsh ë‚´ì¥ <code class="language-plaintext highlighter-rouge">echo</code>ëŠ” ë°±ìŠ¬ë˜ì‹œ í•´ì„ì´ ë“¤ì­‰ë‚ ì­‰í•©ë‹ˆë‹¤. <strong>ì™¸ë¶€<code class="language-plaintext highlighter-rouge">printf</code></strong> ê°€ ê°€ì¥ ì´ì‹ì„±ì´ ì¢‹ì•„ìš”.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh

# ë¹¨ê°•ìœ¼ë¡œ "ERROR" ì¶œë ¥
/bin/printf '\033[31m%s\033[0m\n' "ERROR"

# êµµê³  ë…¸ë€ ê²½ê³ 
/bin/printf '\033[1;33m%s\033[0m\n' "WARNING: Low disk space"
</code></pre></div></div>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">\033</code> = ESC</p>
  </li>
  <li>
    <p>ê°€ë…ì„±ì„ ìœ„í•´ í•­ìƒ ëì— <code class="language-plaintext highlighter-rouge">\033[0m</code>(ë¦¬ì…‹) ë¶™ì´ì„¸ìš”.</p>
  </li>
</ul>

<h2 id="b-tput-ì‚¬ìš©-í„°ë¯¸ë„-ëŠ¥ë ¥-dbterminfo-ê¸°ë°˜">B. <code class="language-plaintext highlighter-rouge">tput</code> ì‚¬ìš© (í„°ë¯¸ë„ ëŠ¥ë ¥ DB(terminfo) ê¸°ë°˜)</h2>

<p>í„°ë¯¸ë„ë§ˆë‹¤ ë§ëŠ” ì½”ë“œë¡œ ë³€í™˜í•´ ì£¼ë¯€ë¡œ <strong>íœ´ëŒ€ì„± ìµœê³ </strong> ì…ë‹ˆë‹¤.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh

# ìƒ‰/ë¦¬ì…‹ ì‹œí€€ìŠ¤ë¥¼ ë³€ìˆ˜ì— ë‹´ê¸° (ëª…ë ¹ì¹˜í™˜ì€ ë°±í‹± `)
set c_red   = "`tput setaf 1`"   # ì „ê²½ ë¹¨ê°•
set c_green = "`tput setaf 2`"
set c_yel   = "`tput setaf 3`"
set c_reset = "`tput sgr0`"

# ì¶œë ¥ (printf ê¶Œì¥)
printf "%s%s%s\n" "$c_red" "ERROR" "$c_reset"

# echo -në¡œë„ ê°€ëŠ¥
echo -n "$c_yel"; echo "building..."; echo -n "$c_reset"
</code></pre></div></div>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">setaf N</code> ì „ê²½ìƒ‰, <code class="language-plaintext highlighter-rouge">setab N</code> ë°°ê²½ìƒ‰ (<code class="language-plaintext highlighter-rouge">N=0~7</code>)</p>
  </li>
  <li>
    <p>ë¦¬ì…‹ì€ <code class="language-plaintext highlighter-rouge">sgr0</code></p>
  </li>
</ul>

<h2 id="c-binecho--e-ê¶Œì¥-x-í™˜ê²½-ì˜ì¡´">C. <code class="language-plaintext highlighter-rouge">/bin/echo -e</code> (ê¶Œì¥ X, í™˜ê²½ ì˜ì¡´)</h2>

<p>/bin/echoê°€ <code class="language-plaintext highlighter-rouge">-e</code>ë¥¼ ì§€ì›í•˜ëŠ” í™˜ê²½ì—ì„œë§Œ ë™ì‘í•©ë‹ˆë‹¤. ê¸°ëŒ€ì¹˜ ëª» ë¯¸ì¹  ìˆ˜ ìˆìŒ.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh

/bin/echo -e "\033[34mblue text\033[0m"
</code></pre></div></div>

<p>ê°€ëŠ¥í•˜ë©´ A ë˜ëŠ” Bë¥¼ ì“°ì„¸ìš”.</p>

<h1 id="3-256ìƒ‰--truecolor24ë¹„íŠ¸ë„-ê°€ëŠ¥">3) 256ìƒ‰ &amp; TrueColor(24ë¹„íŠ¸)ë„ ê°€ëŠ¥</h1>

<p>í„°ë¯¸ë„ì´ ì§€ì›í•˜ë©´ ë” í’ë¶€í•œ ìƒ‰ì„ ì“¸ ìˆ˜ ìˆì–´ìš”.</p>

<h2 id="256ìƒ‰">256ìƒ‰</h2>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh

# ì „ê²½ 256ìƒ‰: 38;5;&lt;n&gt;   (n=0~255)
# ë°°ê²½ 256ìƒ‰: 48;5;&lt;n&gt;
/bin/printf '\033[38;5;202m%s\033[0m\n' "Tangerine"
/bin/printf '\033[48;5;24m\033[97m%s\033[0m\n' "White on deep blue bg"
</code></pre></div></div>

<h2 id="truecolor24ë¹„íŠ¸">TrueColor(24ë¹„íŠ¸)</h2>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh

# ì „ê²½: 38;2;R;G;B   ë°°ê²½: 48;2;R;G;B
/bin/printf '\033[38;2;255;105;180m%s\033[0m\n' "Hot Pink"
/bin/printf '\033[48;2;30;30;30m\033[38;2;200;200;200m%s\033[0m\n' "Grey on dark bg"
</code></pre></div></div>

<h1 id="4-ë§¤ë²ˆ-ì¹˜ê¸°-ê·€ì°®ë‹¤ë©´-aliasë¡œ-ì»¬ëŸ¬-echo-ë§Œë“¤ê¸°">4) ë§¤ë²ˆ ì¹˜ê¸° ê·€ì°®ë‹¤ë©´: aliasë¡œ â€œì»¬ëŸ¬ echoâ€ ë§Œë“¤ê¸°</h1>

<h3 id="ê³ ì •ìƒ‰-ë‹¨ì¶•í‚¤">ê³ ì •ìƒ‰ ë‹¨ì¶•í‚¤</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh

# ì¸ì ì „ì²´(\!*)ë¥¼ ë¹¨ê°•ìœ¼ë¡œ
alias red    '/bin/printf "\033[31m%s\033[0m\n" \!*'
alias green  '/bin/printf "\033[32m%s\033[0m\n" \!*'
alias yellow '/bin/printf "\033[33m%s\033[0m\n" \!*'
alias blue   '/bin/printf "\033[34m%s\033[0m\n" \!*'
alias bold   '/bin/printf "\033[1m%s\033[0m\n" \!*'

# ì‚¬ìš© ì˜ˆ
red "ERROR: something went wrong"
bold "=== build start ==="
</code></pre></div></div>

<h3 id="ì„ì˜-ì½”ë“œ--ë©”ì‹œì§€ë‘-ì¸ì--ë²”ìš©-í•¨ìˆ˜í˜•">ì„ì˜ ì½”ë“œ + ë©”ì‹œì§€(ë‘ ì¸ì) â†’ ë²”ìš© í•¨ìˆ˜í˜•</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh

# ì²« ì¸ì: SGR ì½”ë“œ(ì˜ˆ: 1;31), ë‚˜ë¨¸ì§€: ë©”ì‹œì§€
alias cecho  '/bin/printf "\033[%sm%s\033[0m\n" \!:1 \!:2*'

# ì‚¬ìš© ì˜ˆ
cecho 1;31 "FATAL"
cecho 4;36 "Underlined Cyan"
</code></pre></div></div>

<h3 id="tput-ê¸°ë°˜-alias-í™˜ê²½-íœ´ëŒ€ì„±-">tput ê¸°ë°˜ alias (í™˜ê²½ íœ´ëŒ€ì„± â†‘)</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh

alias rmsg 'set c="`tput setaf 1`"; set z="`tput sgr0`"; /bin/printf "%s%s%s\n" "$c" \!* "$z"'
rmsg "RED via terminfo"
</code></pre></div></div>

<h1 id="5-ìŠ¤í¬ë¦½íŠ¸-ì•ˆì—ì„œ-ì“°ê¸°-tcsh-shebang">5) ìŠ¤í¬ë¦½íŠ¸ ì•ˆì—ì„œ ì“°ê¸° (tcsh shebang)</h1>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh

#!/bin/tcsh

set RED   = '\033[31m'
set BOLD  = '\033[1m'
set RESET = '\033[0m'

# \033 ê°™ì€ ë°±ìŠ¬ë˜ì‹œëŠ” printfì˜ %bë¡œ í•´ì„ì‹œí‚¤ê±°ë‚˜ ë¦¬í„°ëŸ´ë¡œ ì¨ì•¼ í•©ë‹ˆë‹¤.
# ê°€ì¥ ê°„ë‹¨: ë¦¬í„°ëŸ´ ì‹œí€€ìŠ¤ë¥¼ ë”°ì˜´í‘œì— ë„£ê³  printfë¡œ ì¶œë ¥.
# (tcshì˜ echoëŠ” ì´ìŠ¤ì¼€ì´í”„ í•´ì„ì´ ë“¤ì­‰ë‚ ì­‰)
printf "%b%s%b\n" "$BOLD$RED" "Building..." "$RESET"
</code></pre></div></div>

<blockquote>
  <p>ì°¸ê³ : ë³€ìˆ˜ì— <code class="language-plaintext highlighter-rouge">\033</code>ë¥¼ ë„£ì—ˆì„ ë•ŒëŠ” <strong>printfì˜<code class="language-plaintext highlighter-rouge">%b</code></strong> í˜•ì‹ì„ ì“°ë©´ ë°±ìŠ¬ë˜ì‹œ ì´ìŠ¤ì¼€ì´í”„ê°€ í•´ì„ë©ë‹ˆë‹¤. ë‹¨ìˆœ <code class="language-plaintext highlighter-rouge">echo</code>ëŠ” ê¸°ëŒ€ëŒ€ë¡œ ë™ì‘í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
</blockquote>

<h1 id="6-ìì£¼-ì“°ëŠ”-ë ˆì‹œí”¼-ëª¨ìŒ">6) ìì£¼ ì“°ëŠ” ë ˆì‹œí”¼ ëª¨ìŒ</h1>

<ul>
  <li>ë¹¨ê°• ì—ëŸ¬ í•œ ì¤„:
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh
    
/bin/printf '\033[31mERROR:\033[0m %s\n' "file not found"
</code></pre></div>    </div>
  </li>
  <li>ì„±ê³µ(ì´ˆë¡) + êµµê²Œ:
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh
    
/bin/printf '\033[1;32m%s\033[0m\n' "OK"
</code></pre></div>    </div>
  </li>
  <li>ìƒíƒœ í‘œì‹œ(ë…¸ë‘) â†’ ì‘ì—… â†’ ë¦¬ì…‹:
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh
    
/bin/printf '\033[33m%s\033[0m\n' "building..."
</code></pre></div>    </div>
  </li>
  <li>256ìƒ‰ íŒ”ë ˆíŠ¸ í…ŒìŠ¤íŠ¸:
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh
    
@ i = 0
while ( $i &lt; 256 )
  /bin/printf '\033[38;5;%dm%3d ' $i $i
  @ i++
  if ( $i % 16 == 0 ) echo ""
end
/bin/printf '\033[0m'
</code></pre></div>    </div>
  </li>
</ul>

<h1 id="7-í”„ë¡¬í”„íŠ¸ëŠ”-ë³„ë„-ê·œì¹™ì°¸ê³ ">7) í”„ë¡¬í”„íŠ¸ëŠ” ë³„ë„ ê·œì¹™(ì°¸ê³ )</h1>

<p>ë©”ì‹œì§€ ì¶œë ¥ê³¼ ë‹¬ë¦¬ <strong>í”„ë¡¬í”„íŠ¸</strong>(<code class="language-plaintext highlighter-rouge">set prompt</code>)ì— ìƒ‰ì„ ë„£ì„ ë• <strong><code class="language-plaintext highlighter-rouge">%{ â€¦ %}</code></strong> ë¡œ <em>ë„“ì´ ê³„ì‚° ì œì™¸</em> êµ¬ê°„ì„ ê°ì‹¸ì•¼ ì¤„ë°”ê¿ˆ/ì»¤ì„œ ì–´ê¸‹ë‚¨ì´ ì—†ìŠµë‹ˆë‹¤.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh

# ì˜ˆ) êµµì€ íŒŒë‘ ì‚¬ìš©ìëª… + í°ìƒ‰ ë””ë ‰í„°ë¦¬
set prompt = "%{\033[1;34m%}%n%{\033[0m%}:%{\033[97m%}%~%{\033[0m%}%# "
</code></pre></div></div>

<h1 id="8-íŒ--í•¨ì •">8) íŒ &amp; í•¨ì •</h1>

<ul>
  <li>
    <p><strong>ë¦¬ì…‹(<code class="language-plaintext highlighter-rouge">\033[0m</code>)ì„ ê¼­ ë¶™ì´ê¸°</strong>: ë‹¤ìŒ ì¶œë ¥ì— ìƒ‰ì´ ë²ˆì§€ì§€ ì•Šê²Œ.</p>
  </li>
  <li>
    <p><strong><code class="language-plaintext highlighter-rouge">/bin/printf</code> ì„ í˜¸</strong>: <code class="language-plaintext highlighter-rouge">echo -e</code>ëŠ” í™˜ê²½ë§ˆë‹¤ ë™ì‘ ë‹¬ë¼ â€œì´ì •ë¦¬â€ ê´€ì ì—ì„  ë¹„ê¶Œì¥.</p>
  </li>
  <li>
    <p><strong>í„°ë¯¸ë„ ì§€ì› ì—¬ë¶€</strong> : 24ë¹„íŠ¸ í˜¹ì€ 256ìƒ‰ì€ í„°ë¯¸ë„ ì˜µì…˜(ì˜ˆ: iTerm2, Windows Terminal)ê³¼ <code class="language-plaintext highlighter-rouge">TERM</code> ì„¤ì •ì— ì¢Œìš°ë©ë‹ˆë‹¤. ì¼ë°˜ì ìœ¼ë¡œ <code class="language-plaintext highlighter-rouge">xterm-256color</code> ê¶Œì¥.</p>
  </li>
  <li>
    <p><strong>ìŠ¤í¬ë¦½íŠ¸ ì´ì‹ì„±</strong> : ë„ˆë¬´ íŠ¹ì • í„°ë¯¸ë„ì— ì˜ì¡´í•˜ëŠ” ìƒ‰ì€ ì œí•œì ìœ¼ë¡œ.</p>
  </li>
</ul>

<p>í•„ìš”í•˜ì‹œë©´, ì›í´ë¦­ìš© <strong>ì»¬ëŸ¬ alias ë²ˆë“¤</strong>(.tcshrcì— ë¶™ì—¬ë„£ê¸°)ë„ ê¹”ë”í•˜ê²Œ ë§Œë“¤ì–´ ë“œë¦´ê²Œìš”.</p>]]></content><author><name>hvppyarchive</name></author><category term="linux" /><summary type="html"><![CDATA[]]></summary></entry><entry><title type="html">ì‘ì—… í´ë” êµ¬ì„± ì¶”ì²œ</title><link href="https://hvppyarchive.github.io/misc/work-directory-structure/" rel="alternate" type="text/html" title="ì‘ì—… í´ë” êµ¬ì„± ì¶”ì²œ" /><published>2025-09-01T18:41:28+09:00</published><updated>2025-09-01T18:41:28+09:00</updated><id>https://hvppyarchive.github.io/misc/work-directory-structure</id><content type="html" xml:base="https://hvppyarchive.github.io/misc/work-directory-structure/"><![CDATA[<p class="chat--user">

íšŒì‚¬ì—ì„œ ì‘ì—… í´ë” êµ¬ì„±ì„ ë„ì™€ì¤˜. ë­”ê°€ ì‘ì—… í´ë”ë¥¼ ê¾¸ë¯¸ëŠ” ê²ƒì— ëŒ€í•œ ì¼ë°˜ì ì¸ ì¶”ì²œ ê°™ì€ê²Œ ìˆì„ê¹Œ?

</p>

<p>ì¢‹ì•„â€”íšŒì‚¬ì—ì„œ ì“¸ â€œì‘ì—… í´ë”â€ëŠ” í•œ ë²ˆ ì˜ ì§œë‘ë©´ íŒ€ ìƒì‚°ì„±ì´ í™• ë‹¬ë¼ì ¸ìš”. ì•„ë˜ì²˜ëŸ¼ <strong>ë‹¨ê³„ë³„ë¡œ</strong> ë§Œë“¤ë©´ ì‹¤íŒ¨ í™•ë¥ ì´ ë‚®ìŠµë‹ˆë‹¤.</p>

<h1 id="1-ë¨¼ì €-ì›ì¹™ë¶€í„°-ì •í•˜ê¸°-ì§§ê³ -ê°•ë ¥í•œ-ë£°-8ê°€ì§€">1) ë¨¼ì € ì›ì¹™ë¶€í„° ì •í•˜ê¸° (ì§§ê³  ê°•ë ¥í•œ ë£° 8ê°€ì§€)</h1>

<ol>
  <li>
    <p><strong>ìµœëŒ€ ê¹Šì´ 3ë‹¨ê³„</strong> : <code class="language-plaintext highlighter-rouge">íŒ€ â†’ í”„ë¡œì íŠ¸ â†’ ì‘ì—…ë¬¼</code>ê¹Œì§€ë§Œ. (ê¹Šì–´ì§ˆìˆ˜ë¡ ì°¾ê¸°Â·ê¶Œí•œ ê´€ë¦¬ê°€ ì–´ë ¤ì›Œì ¸ìš”)</p>
  </li>
  <li>
    <p><strong>ì •ë ¬ë˜ëŠ” ì´ë¦„</strong> : ì ‘ë‘ ë²ˆí˜¸(<code class="language-plaintext highlighter-rouge">00,10,20â€¦</code>) + í•œê¸€/ì˜ë¬¸ í‚¤ì›Œë“œ.</p>
  </li>
  <li>
    <p><strong>ë‚ ì§œ í˜•ì‹ ê³ ì •</strong> : <code class="language-plaintext highlighter-rouge">YYYY-MM-DD</code> (ì˜ˆ: <code class="language-plaintext highlighter-rouge">2025-08-26_íšŒì˜ë¡.md</code>)</p>
  </li>
  <li>
    <p><strong>ë²„ì „ ê·œì¹™</strong> : ìµœì¢…ë³¸ ê¸ˆì§€. <code class="language-plaintext highlighter-rouge">v001, v002â€¦</code> ë˜ëŠ” <code class="language-plaintext highlighter-rouge">draft/approved</code> ë‘ íŠ¸ë™.</p>
  </li>
  <li>
    <p><strong>ì›ë³¸ vs ì‚°ì¶œë¬¼ ë¶„ë¦¬</strong> : <code class="language-plaintext highlighter-rouge">source</code>(í¸ì§‘íŒŒì¼) / <code class="language-plaintext highlighter-rouge">export</code>(ë°°í¬íŒŒì¼).</p>
  </li>
  <li>
    <p><strong>ê¶Œí•œ ë ˆë²¨ ë¶„ë¦¬</strong> : <code class="language-plaintext highlighter-rouge">Shared</code>(ê³µìœ ) / <code class="language-plaintext highlighter-rouge">Restricted</code>(ë¯¼ê°Â·ì„ì›ìš©) / <code class="language-plaintext highlighter-rouge">Private</code>(ê°œì¸).</p>
  </li>
  <li>
    <p><strong>ë©”íƒ€ì •ë³´ëŠ” READMEì—</strong> : í´ë”ë§ˆë‹¤ <code class="language-plaintext highlighter-rouge">README.md</code>ë¡œ ëª©ì Â·ë‹´ë‹¹Â·íƒœê·¸ ê¸°ë¡.</p>
  </li>
  <li>
    <p><strong>ì•„ì¹´ì´ë¸Œ ì£¼ê¸°</strong> : ì™„ë£Œ 30ì¼ í›„ <code class="language-plaintext highlighter-rouge">Archive/</code>ë¡œ ì´ë™, 1ë…„ í›„ ì¥ê¸°ë³´ê´€.</p>
  </li>
</ol>

<h1 id="2-ìƒìœ„-êµ¬ì¡°-ì„ íƒ-3ê°€ì§€-ì¤‘-íƒ1-ë˜ëŠ”-í•˜ì´ë¸Œë¦¬ë“œ">2) ìƒìœ„ êµ¬ì¡° ì„ íƒ (3ê°€ì§€ ì¤‘ íƒ1 ë˜ëŠ” í•˜ì´ë¸Œë¦¬ë“œ)</h1>

<ul>
  <li>
    <p><strong>í”„ë¡œì íŠ¸ ì¤‘ì‹¬(ê¶Œì¥: í”„ë¡œì íŠ¸í˜• ì¡°ì§)</strong><br />
<code class="language-plaintext highlighter-rouge">10_Projects/PRJ-ì½”ë“œ_ì´ë¦„</code> ì•„ë˜ì— í‘œì¤€ í•˜ìœ„ í´ë”.</p>
  </li>
  <li>
    <p><strong>ê¸°ëŠ¥ ì¤‘ì‹¬(ê¶Œì¥: ê¸°ëŠ¥ë³„ íŒ€ì¡°ì§)</strong><br />
<code class="language-plaintext highlighter-rouge">20_Product, 30_Design, 40_Engineeringâ€¦</code> ì•„ë˜ì— ì—°ê°„/ë¶„ê¸° í´ë”.</p>
  </li>
  <li>
    <p><strong>ê°œì¸ ì‘ì—…ê³µê°„ + ê³µìœ  í—ˆë¸Œ(í˜¼í•©í˜•)</strong><br />
<code class="language-plaintext highlighter-rouge">90_People/í™ê¸¸ë™/workspace</code>ëŠ” ììœ ë¡­ê²Œ, ì‚°ì¶œë¬¼ë§Œ ê³µìœ  í´ë”ë¡œ ìŠ¹ê²©.</p>
  </li>
</ul>

<h1 id="3-ë°”ë¡œ-ì“°ëŠ”-í‘œì¤€-í…œí”Œë¦¿">3) ë°”ë¡œ ì“°ëŠ” í‘œì¤€ í…œí”Œë¦¿</h1>

<p>ì•„ë˜ íŠ¸ë¦¬ëŠ” <strong>ëŒ€ë¶€ë¶„ íšŒì‚¬ì—ì„œ ë°”ë¡œ ì ìš©</strong> ê°€ëŠ¥í•œ ìµœì†ŒÂ·í‘œì¤€ êµ¬ì„±ì…ë‹ˆë‹¤.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/Company
â”œâ”€ 00_Admin
â”‚  â”œâ”€ 01_Policies
â”‚  â””â”€ 02_Templates   â† ë¬¸ì„œ/ìŠ¬ë¼ì´ë“œ/íšŒì˜ë¡ í…œí”Œë¦¿
â”œâ”€ 10_Projects
â”‚  â””â”€ PRJ-2025-012_ì‹ ì œí’ˆì¶œì‹œ
â”‚     â”œâ”€ 01_Plan        â† ì¼ì •/OKR/ì˜ˆì‚°
â”‚     â”œâ”€ 02_Research    â† ë¦¬ì„œì¹˜, ê²½ìŸ/ê³ ê° ì¸í„°ë·°
â”‚     â”œâ”€ 03_Design
â”‚     â”‚  â”œâ”€ source
â”‚     â”‚  â””â”€ export
â”‚     â”œâ”€ 04_Build
â”‚     â”œâ”€ 05_Test
â”‚     â”œâ”€ 06_Release
â”‚     â”œâ”€ 80_Meetings    â† 2025-08-26_í‚¥ì˜¤í”„_ë©”ëª¨.md
â”‚     â”œâ”€ 90_Archive
â”‚     â””â”€ README.md
â”œâ”€ 20_Product
â”œâ”€ 30_SalesMarketing
â”œâ”€ 40_Engineering
â”œâ”€ 50_Data
â”‚  â”œâ”€ 01_Raw
â”‚  â”œâ”€ 02_Processed
â”‚  â””â”€ 03_Reports
â”œâ”€ 60_SharedAssets     â† ë¡œê³ , í°íŠ¸, ì»¬ëŸ¬ê°€ì´ë“œ ë“± ê³µìš©
â”œâ”€ 70_Restricted       â† ê³„ì•½ì„œ/ê¸‰ì—¬/ë²•ë¬´(ê¶Œí•œ ì œí•œ)
â”œâ”€ 90_People
â”‚  â””â”€ í™ê¸¸ë™
â”‚     â”œâ”€ workspace
â”‚     â””â”€ handover      â† ì¸ìˆ˜ì¸ê³„ìš©
â””â”€ 99_Archive
</code></pre></div></div>

<h1 id="4-íŒŒì¼í´ë”-ë„¤ì´ë°-ê·œì¹™-ë³µë¶™í•´ì„œ-íŒ€-ê·œì¹™ìœ¼ë¡œ">4) íŒŒì¼Â·í´ë” ë„¤ì´ë° ê·œì¹™ (ë³µë¶™í•´ì„œ íŒ€ ê·œì¹™ìœ¼ë¡œ)</h1>

<ul>
  <li>
    <p><strong>í´ë”</strong> : <code class="language-plaintext highlighter-rouge">10_Projects</code>, <code class="language-plaintext highlighter-rouge">PRJ-2025-012_ì‹ ì œí’ˆì¶œì‹œ</code></p>
  </li>
  <li>
    <p><strong>ë¬¸ì„œ</strong> : <code class="language-plaintext highlighter-rouge">2025-08-26_í”„ë¡œì íŠ¸í‚¥ì˜¤í”„_íšŒì˜ë¡_v001.md</code></p>
  </li>
  <li>
    <p><strong>ë””ìì¸</strong> :</p>

    <ul>
      <li>
        <p>ì›ë³¸: <code class="language-plaintext highlighter-rouge">í™ˆí˜ì´ì§€KV_v003_source.psd</code></p>
      </li>
      <li>
        <p>ì‚°ì¶œ: <code class="language-plaintext highlighter-rouge">í™ˆí˜ì´ì§€KV_v003_1080x1080_export.png</code></p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>ë°ì´í„°</strong> : <code class="language-plaintext highlighter-rouge">2025-08-ì›”ê°„DAU_v004_approved.csv</code></p>
  </li>
</ul>

<h1 id="5-í´ë”ë³„-readme-í…œí”Œë¦¿-ë³µë¶™">5) í´ë”ë³„ README í…œí”Œë¦¿ (ë³µë¶™)</h1>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># í´ë” ëª©ì 
- ì‹ ì œí’ˆ ì¶œì‹œ í”„ë¡œì íŠ¸ ì‚°ì¶œë¬¼ ì¤‘ì•™ ì €ì¥ì†Œ

# ë‹´ë‹¹/ê¶Œí•œ
- ì˜¤ë„ˆ: í™ê¸¸ë™(@id) / í¸ì§‘ ê¶Œí•œ: PMíŒ€, ë””ìì¸íŒ€ / ì—´ëŒ: ì „ì‚¬

# êµ¬ì¡°
- 01_Plan: ì¼ì •Â·OKRÂ·ì˜ˆì‚°
- 02_Research: ê³ ê°/ê²½ìŸ ë¦¬ì„œì¹˜
- 03_Design: source/export ë¶„ë¦¬
...

# ê³µí†µ ê·œì¹™
- íŒŒì¼ëª…: YYYY-MM-DD_ì œëª©_v### (source/export êµ¬ë¶„)
- ì™„ë£Œ 30ì¼ í›„ 90_Archiveë¡œ ì´ë™
- ì˜ì‚¬ê²°ì •ì€ /01_Plan/ADRì— ê¸°ë¡
</code></pre></div></div>

<h1 id="6-í˜‘ì—…ìš´ì˜-ìŠµê´€-ì‹¤ë¬´-íŒ-8ê°€ì§€">6) í˜‘ì—…Â·ìš´ì˜ ìŠµê´€ (ì‹¤ë¬´ íŒ 8ê°€ì§€)</h1>

<ol>
  <li>
    <p><strong>ê²°ì • ê¸°ë¡(ADR)</strong> : ì¤‘ìš”í•œ ê²°ì •ì€ <code class="language-plaintext highlighter-rouge">/01_Plan/ADR/2025-08-26_ê²°ì •_ìš”ì•½.md</code>.</p>
  </li>
  <li>
    <p><strong>íšŒì˜ë¡ í‘œì¤€í™”</strong> : <code class="language-plaintext highlighter-rouge">íšŒì˜ ëª©ì  Â· ì°¸ì„ì Â· ìš”ì•½ Â· ì•¡ì…˜ì•„ì´í…œ(ë‹´ë‹¹/ê¸°í•œ)</code> ì„¹ì…˜ ê³ ì •.</p>
  </li>
  <li>
    <p><strong>ì•¡ì…˜ ì•„ì´í…œì€ ë„êµ¬ë¡œ ì´ê´€</strong> : íšŒì˜ë¡ ë‚´ ì²´í¬ë¦¬ìŠ¤íŠ¸ëŠ” JIRA/Asanaë¡œ ë°”ë¡œ ë§í¬.</p>
  </li>
  <li>
    <p><strong>ë§í¬ë§Œ ì €ì¥</strong> : SaaS ì‚°ì¶œë¬¼(Google Docs ë“±)ì€ ë§í¬ íŒŒì¼ <code class="language-plaintext highlighter-rouge">.url</code>ë¡œ ë‘ë˜, <strong>ìµœì¢… PDF</strong> ë„ í•¨ê»˜ ë³´ê´€.</p>
  </li>
  <li>
    <p><strong>ë¯¼ê°ì •ë³´ ë¶„ë¦¬</strong> : ê³„ì•½/ê¸‰ì—¬/ê°œì¸ì •ë³´ëŠ” <code class="language-plaintext highlighter-rouge">70_Restricted</code>ë¡œë§Œ. ì ‘ê·¼ ë¡œê·¸ ê´€ë¦¬.</p>
  </li>
  <li>
    <p><strong>ì•„ì¹´ì´ë¸Œ ì˜ì‹í™”</strong> : ë§¤ì›” ë§ â€œí´ë” ë‹¤ì´ì–´íŠ¸â€ 30ë¶„â€”<code class="language-plaintext highlighter-rouge">Archive</code>ë¡œ ì´ë™ + README ê°±ì‹ .</p>
  </li>
  <li>
    <p><strong>í…œí”Œë¦¿ ë¨¼ì €</strong> : ìƒˆ í”„ë¡œì íŠ¸ ì‹œì‘ ì‹œ <code class="language-plaintext highlighter-rouge">02_Templates</code>ì—ì„œ ë³µì œí•´ ì‹œì‘.</p>
  </li>
  <li>
    <p><strong>ê²€ìƒ‰ ì¹œí™” íƒœê·¸</strong> : íŒŒì¼ ì²« ì¤„ì— <code class="language-plaintext highlighter-rouge">#íƒœê·¸</code>(ì˜ˆ: <code class="language-plaintext highlighter-rouge">#ëŸ°ì¹­ #ê´‘ê³  #DAU</code>)ë¥¼ ë„£ì–´ ê²€ìƒ‰ í’ˆì§ˆâ†‘.</p>
  </li>
</ol>

<h1 id="7-ì—­í• ë³„-ë¯¸ì„¸íŠœë‹">7) ì—­í• ë³„ ë¯¸ì„¸íŠœë‹</h1>

<ul>
  <li>
    <p><strong>PM/ê¸°íš</strong> : <code class="language-plaintext highlighter-rouge">/01_Plan</code>ì— <code class="language-plaintext highlighter-rouge">Roadmap.xlsx, KPI_Dashboard.pdf, ADR/</code> ê³ ì • í´ë”.</p>
  </li>
  <li>
    <p><strong>ë””ìì¸</strong> : <code class="language-plaintext highlighter-rouge">source/export</code>, <code class="language-plaintext highlighter-rouge">fonts/brand/refs</code> 3ë¶„ë¦¬, ë‚´ë³´ë‚´ê¸° ê·œê²© í”„ë¦¬ì…‹ ê°™ì´ ì €ì¥.</p>
  </li>
  <li>
    <p><strong>ê°œë°œ</strong> : ì½”ë“œ ì €ì¥ì†Œì™€ ì‚°ì¶œë¬¼ í´ë”ëŠ” ë§í¬ë¡œ ì—°ê²°(<code class="language-plaintext highlighter-rouge">docs/</code>, <code class="language-plaintext highlighter-rouge">release_notes/</code>). ë¹Œë“œ ì‚°ì¶œë¬¼ì€ <code class="language-plaintext highlighter-rouge">06_Release</code>.</p>
  </li>
  <li>
    <p><strong>ì„¸ì¼ì¦ˆ/ë§ˆì¼€íŒ…</strong> : <code class="language-plaintext highlighter-rouge">campaigns/YYYY-QN/ìº í˜ì¸ëª…/</code>ë¡œ ë¶„ê¸° ê´€ë¦¬, ëª¨ë“  í¬ë¦¬ì—ì´í‹°ë¸ŒëŠ” <code class="language-plaintext highlighter-rouge">export</code>ì—ë§Œ ë°°í¬.</p>
  </li>
</ul>

<hr />

<p>ì›í•˜ë©´, <strong>ë‹¹ì‹  íŒ€ì˜ ì—…ì¢…/íˆ´ ì²´ì¸(ì˜ˆ: Google Drive/OneDrive, Notion, Jira, Figma)</strong>ì— ë§ì¶° ìœ„ êµ¬ì¡°ë¥¼ 1:1ë¡œ ì»¤ìŠ¤í„°ë§ˆì´ì¦ˆí•´ì„œ ë“œë¦´ê²Œìš”. â€œíŒ€ êµ¬ì„±/ì—…ë¬´ ìœ í˜•/ë¯¼ê°ìë£Œ ë²”ìœ„â€ë§Œ ì•Œë ¤ì£¼ë©´ ê³§ë°”ë¡œ ë§ì¶¤ íŠ¸ë¦¬ ë§Œë“¤ì–´ì¤„ê²Œìš”.</p>

<p class="chat--user">

ë‚˜ í˜¼ì ì“°ëŠ” ê±°ê¸´ í•´

</p>

<p>ì¢‹ì•„, â€œí˜¼ì ì“°ëŠ” íšŒì‚¬ ì‘ì—… í´ë”â€ë¼ë©´ <strong>ë¹ ë¥¸ ìº¡ì²˜ â†’ ì‰½ê²Œ ì°¾ê¸° â†’ ê°€ë²¼ìš´ ìœ ì§€ë³´ìˆ˜</strong> ë§Œ ì˜ ë˜ë©´ ëì´ì—ìš”. ì•„ë˜ëŒ€ë¡œ <strong>ë‹¨ê³„ë³„</strong> ë¡œ ì„¸íŒ…í•´ë³´ì„¸ìš”.</p>

<h1 id="1-ëª©í‘œ-3ê°€ì§€-ë¨¼ì €-ì •ë¦¬">1) ëª©í‘œ 3ê°€ì§€ ë¨¼ì € ì •ë¦¬</h1>

<ol>
  <li>
    <p><strong>ìº¡ì²˜ ì†ë„</strong> : ìƒê°/íŒŒì¼ì„ ì¦‰ì‹œ ë˜ì ¸ë†“ì„ ê³³ì´ ìˆì–´ì•¼ í•¨(= <code class="language-plaintext highlighter-rouge">00_Inbox</code>).</p>
  </li>
  <li>
    <p><strong>ê²€ìƒ‰ ìš©ì´</strong> : ê·œì¹™ì  ë„¤ì´ë° + ì–•ì€ ê¹Šì´(ìµœëŒ€ 3ë‹¨).</p>
  </li>
  <li>
    <p><strong>ê´€ë¦¬ ìµœì†Œí™”</strong> : ì£¼ 1íšŒ ì•„ì¹´ì´ë¸Œë§Œ í•˜ë©´ ë²„í‹¸ êµ¬ì¡°.</p>
  </li>
</ol>

<h1 id="2-ì¶”ì²œ-ìƒìœ„-êµ¬ì¡°-parasolo">2) ì¶”ì²œ ìƒìœ„ êµ¬ì¡° (PARA+Solo)</h1>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/Work (ë£¨íŠ¸ í´ë”)
â”œâ”€ 00_Inbox           â† ê¸‰í•˜ê²Œ ë˜ì ¸ë‘ëŠ” ì„ì‹œí•¨ (ë§¤ì¼/ê²©ì¼ ë¹„ìš°ê¸°)
â”œâ”€ 10_Today           â† ì˜¤ëŠ˜ ì§‘ì¤‘: WIP, ì„ì‹œ ë…¸íŠ¸
â”œâ”€ 20_Projects        â† ëë‚˜ë©´ Archiveë¡œ ì´ë™
â”œâ”€ 30_Areas           â† ì—­í• /ì§€ì†ì—…ë¬´(ì˜ˆ: ë¦¬í¬íŠ¸, ìš´ì˜)
â”œâ”€ 40_Resources       â† ì°¸ê³ ìë£Œ(ë§¤ë‰´ì–¼, ê·œì •, ë ˆí¼ëŸ°ìŠ¤)
â”œâ”€ 50_Snippets        â† í…ìŠ¤íŠ¸ ìŠ¤ë‹ˆí«/ìŠ¤í¬ë¦½íŠ¸/ì¿¼ë¦¬ ëª¨ìŒ
â”œâ”€ 60_Assets          â† ë¡œê³ /í…œí”Œë¦¿/ë¸Œëœë“œ ë¦¬ì†ŒìŠ¤
â”œâ”€ 70_Exports         â† ì™¸ë¶€ ì „ë‹¬ë³¸(PDF, PPT, ì´ë¯¸ì§€)
â””â”€ 99_Archive         â† ì™„ë£Œ í”„ë¡œì íŠ¸Â·ì˜› ì°¸ê³ ìë£Œ
</code></pre></div></div>

<ul>
  <li><strong>ê°œë…</strong> : Projects(ìœ í•œ), Areas(ì§€ì†), Resources(ì°¸ê³ ), Archive(ë³´ê´€) + í˜¼ìì“°ëŠ” ë§›ì„ ìœ„í•œ <code class="language-plaintext highlighter-rouge">Today/Inbox/Snippets/Exports</code>.</li>
</ul>

<h1 id="3-ë„¤ì´ë°-ê·œì¹™ì§§ê³ -ê°•ë ¥">3) ë„¤ì´ë° ê·œì¹™(ì§§ê³  ê°•ë ¥)</h1>

<ul>
  <li>
    <p><strong>ë‚ ì§œ</strong> : <code class="language-plaintext highlighter-rouge">YYYY-MM-DD</code> (ì˜ˆ: <code class="language-plaintext highlighter-rouge">2025-08-26_ì£¼ê°„ë¦¬í¬íŠ¸.md</code>)</p>
  </li>
  <li>
    <p><strong>ë²„ì „</strong> : <code class="language-plaintext highlighter-rouge">_v001, v002â€¦</code> (ìµœì¢…ë³¸ ê¸ˆì§€)</p>
  </li>
  <li>
    <p><strong>í”„ë¡œì íŠ¸ í´ë”</strong> : <code class="language-plaintext highlighter-rouge">PRJ-YYYY-ë²ˆí˜¸_ì§§ì€ì´ë¦„</code> (ì˜ˆ: <code class="language-plaintext highlighter-rouge">PRJ-2025-012_ëŸ°ì¹­ì¤€ë¹„</code>)</p>
  </li>
  <li>
    <p><strong>ì •ë ¬ìš© ì ‘ë‘</strong> : í´ë”ëŠ” <code class="language-plaintext highlighter-rouge">00,10,20â€¦</code> ì‚¬ìš© (ì´ë¯¸ ë°˜ì˜)</p>
  </li>
</ul>

<h1 id="4-í”„ë¡œì íŠ¸-í´ë”-í…œí”Œë¦¿ë³µë¶™">4) í”„ë¡œì íŠ¸ í´ë” í…œí”Œë¦¿(ë³µë¶™)</h1>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/20_Projects/PRJ-2025-012_ëŸ°ì¹­ì¤€ë¹„
â”œâ”€ 01_Plan        â† ëª©í‘œ/íƒ€ì„ë¼ì¸/OKR
â”œâ”€ 02_Work        â† ì‹¤ì‘ì—…(ë¬¸ì„œ, ìŠ¤í”„ë ˆë“œì‹œíŠ¸ ë“±)
â”œâ”€ 03_Meetings    â† íšŒì˜ë…¸íŠ¸(ë‚ ì§œ_ì œëª©.md)
â”œâ”€ 04_Refs        â† ë§í¬ëª¨ìŒ/ì—°êµ¬ìë£Œ(ìš”ì•½ í•„ìˆ˜)
â”œâ”€ export         â† ëŒ€ì™¸ê³µìœ ë³¸(PDF/ì´ë¯¸ì§€)
â””â”€ README.md
</code></pre></div></div>

<p><strong>README.md í…œí”Œë¦¿</strong></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># ëª©ì 
- (í•œ ì¤„ ìš”ì•½) ëŸ°ì¹­ ì¤€ë¹„ ì „ ê³¼ì • ê´€ë¦¬

# ë²”ìœ„/ì™„ë£Œì¡°ê±´
- (ì˜ˆ) 9/30ê¹Œì§€ ê´‘ê³ Â·CSÂ·ë¦´ë¦¬ì¦ˆ ë…¸íŠ¸ í™•ì •

# ë§í¬
- ê¸°íš ë¬¸ì„œ: ...
- ëŒ€ì‹œë³´ë“œ: ...

# ì§„í–‰ í˜„í™©(ìš”ì•½)
- 2025-08-26: í‚¥ì˜¤í”„ ì™„ë£Œ, ë©”ì‹œì§€ í”„ë ˆì„ í™•ì •

# ë‹¤ìŒ ì•¡ì…˜(ë‹´ë‹¹/ê¸°í•œ)
- ë°°ë„ˆ ì‹œì•ˆ v002 (ë‚˜ / 08-28)
</code></pre></div></div>

<h1 id="5-ê°œì¸-ì‘ì—…-ë£¨í‹´í•˜ë£¨ì£¼ê°„ì›”ê°„">5) ê°œì¸ ì‘ì—… ë£¨í‹´(í•˜ë£¨Â·ì£¼ê°„Â·ì›”ê°„)</h1>

<p><strong>ë§¤ì¼</strong></p>

<ol>
  <li>
    <p><strong>ìº¡ì²˜</strong> : ëª¨ë“  íŒŒì¼/ë©”ëª¨ëŠ” <code class="language-plaintext highlighter-rouge">00_Inbox</code>ì— ë˜ì§€ê¸°.</p>
  </li>
  <li>
    <p><strong>ì§‘ì¤‘ ê³µê°„</strong> : ë‹¹ì¼ ì‘ì—…ì€ <code class="language-plaintext highlighter-rouge">10_Today</code>ì—ì„œ ì²˜ë¦¬(ì™„ë£Œ/ì¤‘ê°„ì‚°ì¶œë¬¼ì€ í•´ë‹¹ í”„ë¡œì íŠ¸ë¡œ ì´ë™).</p>
  </li>
  <li>
    <p><strong>ë¡œê·¸</strong> : <code class="language-plaintext highlighter-rouge">30_Areas/worklog/2025/2025-08/2025-08-26.md</code>ì— 5ì¤„ ìš”ì•½.</p>
  </li>
</ol>

<p><strong>ì£¼ 1íšŒ(ê¸ˆìš”ì¼ 15ë¶„)</strong></p>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">00_Inbox</code> ë¹„ìš°ê¸° â†’ <code class="language-plaintext highlighter-rouge">20_Projects</code> ë˜ëŠ” <code class="language-plaintext highlighter-rouge">40_Resources</code>ë¡œ ë¶„ë¥˜.</p>
  </li>
  <li>
    <p>ëë‚œ í”„ë¡œì íŠ¸ëŠ” <code class="language-plaintext highlighter-rouge">99_Archive</code>ë¡œ ì´ë™.</p>
  </li>
</ul>

<p><strong>ì›” 1íšŒ(ì²« ì˜ì—…ì¼ 20ë¶„)</strong></p>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">40_Resources</code> ì¤‘ êµ¬ì‹ ìë£ŒëŠ” ì•„ì¹´ì´ë¸Œ.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">50_Snippets</code> ì •ë¦¬(ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì œëª©ìœ¼ë¡œ ë³€ê²½).</p>
  </li>
</ul>

<h1 id="6-ìì£¼-ì“°ëŠ”-ë…¸íŠ¸-í…œí”Œë¦¿-2ì¢…">6) ìì£¼ ì“°ëŠ” ë…¸íŠ¸ í…œí”Œë¦¿ 2ì¢…</h1>

<p><strong>íšŒì˜ ë…¸íŠ¸</strong> (<code class="language-plaintext highlighter-rouge">03_Meetings/2025-08-26_íŒŒíŠ¸ë„ˆ_ì½œ.md</code>)</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># ëª©ì 
# ìš”ì•½(3ì¤„)
# ê²°ì •ì‚¬í•­
# ì•¡ì…˜(ë‹´ë‹¹/ê¸°í•œ)
# ì°¸ê³  ë§í¬
</code></pre></div></div>

<p><strong>ì¼ì¼ ì‘ì—…ë¡œê·¸</strong> (<code class="language-plaintext highlighter-rouge">worklog/2025/2025-08/2025-08-26.md</code>)</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>## ì˜¤ëŠ˜ 3ì¤„ ìš”ì•½
- 
## ì§‘ì¤‘ ì‘ì—…(ë§í¬)
- 
## ë°°ìš´ ì  / ì´ìŠˆ
- 
## ë‚´ì¼ ì²« íƒœìŠ¤í¬
- 
</code></pre></div></div>

<h1 id="7-ë‹¨ë…-ì‚¬ìš©ì—-ë”±-ë§ëŠ”-íŒ">7) ë‹¨ë… ì‚¬ìš©ì— ë”± ë§ëŠ” íŒ</h1>

<ul>
  <li>
    <p><strong>ë§í¬ë§Œ ë‘ì§€ ë§ê³  â€œìµœì¢… PDFâ€ë„ í•¨ê»˜</strong> <code class="language-plaintext highlighter-rouge">export</code>ì— ì €ì¥(ë‚˜ì¤‘ì— ê¶Œí•œ ë¬¸ì œ ë°©ì§€).</p>
  </li>
  <li>
    <p><strong>ê²€ìƒ‰ í‚¤ì›Œë“œ</strong> ë¥¼ ë¬¸ì„œ ì²« ì¤„ì— ë„£ê¸°: <code class="language-plaintext highlighter-rouge">tags: #ëŸ°ì¹­ #ê´‘ê³  #ëŒ€ì‹œë³´ë“œ</code>.</p>
  </li>
  <li>
    <p><strong>ìŠ¤ë‹ˆí« ê´€ë¦¬</strong> : <code class="language-plaintext highlighter-rouge">50_Snippets/sql</code>, <code class="language-plaintext highlighter-rouge">50_Snippets/text</code>, <code class="language-plaintext highlighter-rouge">50_Snippets/bash</code>ë¡œ ë¶„ë¦¬.</p>
  </li>
  <li>
    <p><strong>ê¹Šì´ëŠ” 3ë‹¨ ì´í•˜</strong> ë§Œ ìœ ì§€(ì°¾ê¸° ì†ë„â†“ ë°©ì§€).</p>
  </li>
  <li>
    <p><strong>ë°”íƒ•í™”ë©´ ê¸ˆì§€, ë¶ë§ˆí¬í™”ë©´ 2ê°œ</strong> ë§Œ: <code class="language-plaintext highlighter-rouge">00_Inbox</code>, <code class="language-plaintext highlighter-rouge">10_Today</code>.</p>
  </li>
</ul>

<hr />

<p>ì›í•˜ë©´ ì§€ê¸ˆ êµ¬ì¡°ë¥¼ <strong>ë‹¹ì‹  ì´ë¦„/ì—…ë¬´ì— ë§ì¶° ë°”ë¡œ ì»¤ìŠ¤í„°ë§ˆì´ì¦ˆ</strong> í•´ì„œ íŠ¸ë¦¬ê¹Œì§€ ë§Œë“¤ì–´ì¤„ê²Œìš”. (ì˜ˆ: ì§ë¬´/íˆ´â€”ê¸°íš, ë°ì´í„°, ë””ìì¸â€”ì— ë§ì¶˜ í•˜ìœ„ í´ë”ì™€ ìŠ¤ë‹ˆí« ê¸°ë³¸ ì„¸íŠ¸)</p>

<p class="chat--user">

ì£¼ ì—…ë¬´ëŠ” ë°ìŠ¤í¬íƒ‘ ì• í”Œë¦¬ì¼€ì´ì…˜ íˆ´ ê°œë°œì´ì•¼(íŒŒì´ì¬ íŒ¨í‚¤ì§€ í˜•íƒœ), ê·¸ë¦¬ê³  êµìœ¡ ìë£Œë‚˜ ë…¼ë¬¸ ìë£Œë¥¼ ëª¨ì„ ìˆ˜ ìˆëŠ” ê³³ë„ ìˆìœ¼ë©´ ì¢‹ê² ì–´. ê·¸ë¦¬ê³  í•„ìš”í•œ íˆ´ ì„¤ì¹˜ ê³µê°„ë„ ìˆìœ¼ë©´ ì¢‹ê² ì–´. ê·¸ë¦¬ê³  í™˜ê²½ ì„¸íŒ…ì„ ìœ„í•œ ê³µê°„ë„ ìˆìœ¼ë©´ ì¢‹ê² ì–´. 

</p>

<p>ì¢‹ë‹¤â€”ë‹ˆ ìš”êµ¬(ë°ìŠ¤í¬íƒ‘ ì•±ìš© íŒŒì´ì¬ íŒ¨í‚¤ì§€ + êµìœ¡/ë…¼ë¬¸ ìë£Œ + íˆ´ ì„¤ì¹˜ê³µê°„ + í™˜ê²½ ì„¸íŒ…)ë¥¼ ë”± ë§ì¶˜ <strong>1ì¸ ê°œë°œìš© ì‘ì—… í´ë”</strong> ì™€ <strong>ìŠ¤íƒ€í„° í‚¤íŠ¸</strong> ê¹Œì§€ ë§Œë“¤ì–´ë†¨ì–´. ë°”ë¡œ ë°›ì•„ì„œ ì“°ë©´ ë¼ìš”.</p>

<p>starter kit ë‹¤ìš´ë¡œë“œ</p>

<hr />

<h1 id="1-ìƒìœ„-êµ¬ì¡°-í˜¼ì-ì“°ëŠ”-ìš©--ë„¤ê°€-ì›í•˜ëŠ”-ì¶”ê°€ê³µê°„">1) ìƒìœ„ êµ¬ì¡° (í˜¼ì ì“°ëŠ” ìš© + ë„¤ê°€ ì›í•˜ëŠ” ì¶”ê°€ê³µê°„)</h1>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/Work
â”œâ”€ 00_Inbox            â† ê¸‰íˆ ë˜ì ¸ë†“ëŠ” ì„ì‹œí•¨
â”œâ”€ 10_Today            â† ì˜¤ëŠ˜ ì§‘ì¤‘(WIP)
â”œâ”€ 20_Projects         â† ê° ì•±/ë„êµ¬ë³„ í”„ë¡œì íŠ¸(íŒŒì´ì¬ íŒ¨í‚¤ì§€ í˜•ì‹)
â”œâ”€ 30_Areas
â”‚  â”œâ”€ worklog          â† ì¼ì¼/ì£¼ê°„ ë¡œê·¸
â”‚  â””â”€ environments     â† ê³µí†µ í™˜ê²½ ë©”ëª¨
â”œâ”€ 40_Resources
â”‚  â””â”€ edu              â† êµìœ¡/ë…¼ë¬¸/íŠœí† ë¦¬ì–¼ ëª¨ìŒ
â”‚     â”œâ”€ courses
â”‚     â”œâ”€ tutorials
â”‚     â””â”€ papers
â”‚        â”œâ”€ to_read
â”‚        â”œâ”€ reading_notes (í…œí”Œë¦¿ í¬í•¨)
â”‚        â””â”€ summaries
â”œâ”€ 50_Snippets         â† ì¬ì‚¬ìš© ìŠ¤ë‹ˆí«(sql/text/bash)
â”œâ”€ 60_Assets           â† ë¡œê³ /í…œí”Œë¦¿ ë“± ê³µìš©
â”œâ”€ 70_Exports          â† ì™¸ë¶€ ì „ë‹¬ìš© ì‚°ì¶œë¬¼(PDF/ì‹¤í–‰íŒŒì¼)
â”œâ”€ 80_Tools            â† íˆ´ ì„¤ì¹˜/í¬í„°ë¸”/ìŠ¤í¬ë¦½íŠ¸/devcontainer
â”‚  â”œâ”€ installers       â† ì˜¤í”„ë¼ì¸ ì„¤ì¹˜ íŒŒì¼ ë³´ê´€(ì²´í¬ì„¬ ê¸°ë¡ ê¶Œì¥)
â”‚  â”œâ”€ bin              â† í¬í„°ë¸” ì‹¤í–‰íŒŒì¼
â”‚  â”œâ”€ scripts          â† ì„¤ì¹˜ ìë™í™” ìŠ¤í¬ë¦½íŠ¸/ë©”ëª¨
â”‚  â””â”€ devcontainer     â† VSCode devcontainer ë“±
â”œâ”€ 85_Environments     â† conda/venv/docker ì˜ˆì‹œ êµ¬ì„±
â””â”€ 99_Archive
</code></pre></div></div>

<blockquote>
  <p>êµìœ¡/ë…¼ë¬¸: <code class="language-plaintext highlighter-rouge">40_Resources/edu/papers</code>ì— <strong>ì½ì„ê±°ë¦¬/ë©”ëª¨/ìš”ì•½</strong> 3ë¶„ë¦¬ + <code class="language-plaintext highlighter-rouge">reading_notes/TEMPLATE.md</code> í¬í•¨.<br />
 íˆ´ ì„¤ì¹˜: <code class="language-plaintext highlighter-rouge">80_Tools/installers</code> í´ë”ì™€ <code class="language-plaintext highlighter-rouge">scripts/install_notes.md</code> ì¤€ë¹„.<br />
 í™˜ê²½ ì„¸íŒ…: <code class="language-plaintext highlighter-rouge">85_Environments/conda/environment.yml</code>, <code class="language-plaintext highlighter-rouge">venv/README.md</code>, <code class="language-plaintext highlighter-rouge">docker/Dockerfile</code> ìƒ˜í”Œ í¬í•¨.</p>
</blockquote>

<hr />

<h1 id="2-í”„ë¡œì íŠ¸íŒŒì´ì¬-íŒ¨í‚¤ì§€-í…œí”Œë¦¿--ë°”ë¡œ-ì‹¤í–‰-ê°€ëŠ¥">2) í”„ë¡œì íŠ¸(íŒŒì´ì¬ íŒ¨í‚¤ì§€) í…œí”Œë¦¿ â€” ë°”ë¡œ ì‹¤í–‰ ê°€ëŠ¥</h1>

<p>starter kit ì•ˆì— ì˜ˆì œë¡œ <code class="language-plaintext highlighter-rouge">20_Projects/PRJ-2025-001_sample_app</code>ë¥¼ ë„£ì–´ë’€ì–´. êµ¬ì¡°:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>PRJ-2025-001_sample_app
â”œâ”€ src/sample_app       â† íŒ¨í‚¤ì§€ ì†ŒìŠ¤ (CLI/GUI ì—”íŠ¸ë¦¬ í¬í•¨)
â”œâ”€ tests                â† pytest ì˜ˆì œ
â”œâ”€ scripts              â† OSë³„ ì„¤ì¹˜/ì‹¤í–‰/ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸(.sh/.ps1)
â”œâ”€ .devcontainer        â† ì»¨í…Œì´ë„ˆ ê°œë°œí™˜ê²½ ì„¤ì •
â”œâ”€ pyproject.toml       â† PEP621(setuptools) + extras(dev/gui)
â”œâ”€ .env.example         â† í™˜ê²½ë³€ìˆ˜ ì˜ˆì‹œ
â”œâ”€ .gitignore / .editorconfig
â””â”€ README.md
</code></pre></div></div>

<h3 id="í‚¤-í¬ì¸íŠ¸">í‚¤ í¬ì¸íŠ¸</h3>

<ul>
  <li>
    <p><strong>ì—”íŠ¸ë¦¬í¬ì¸íŠ¸</strong></p>

    <ul>
      <li>
        <p>CLI: <code class="language-plaintext highlighter-rouge">sample-app</code> â†’ <code class="language-plaintext highlighter-rouge">sample_app.cli:main</code></p>
      </li>
      <li>
        <p>GUI(ì„ íƒ): <code class="language-plaintext highlighter-rouge">sample-app-gui</code> â†’ <code class="language-plaintext highlighter-rouge">sample_app.gui:main</code> (PySide6 í•„ìš”)</p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>ì˜µì…˜ ì˜ì¡´ì„±</strong></p>

    <ul>
      <li>
        <p><code class="language-plaintext highlighter-rouge">.[dev]</code>: pytest/ruff/pyinstaller</p>
      </li>
      <li>
        <p><code class="language-plaintext highlighter-rouge">.[gui]</code>: PySide6 (ì›í•˜ë©´ ì„¤ì¹˜)</p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>ë‹¨ì¼ ì‹¤í–‰íŒŒì¼ ë¹Œë“œ</strong> : PyInstaller ìŠ¤í¬ë¦½íŠ¸ ë‚´ì¥(ìœˆë„/ë§¥/ë¦¬ëˆ…ìŠ¤ ê³µí†µ)</p>
  </li>
</ul>

<hr />

<h1 id="3-ì‹œì‘-ìˆœì„œ-í•œ-ë²ˆë§Œ-í•˜ë©´-ë">3) ì‹œì‘ ìˆœì„œ (í•œ ë²ˆë§Œ í•˜ë©´ ë)</h1>

<h2 id="macos--linux">macOS / Linux</h2>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd </span>Work/20_Projects/PRJ-2025-001_sample_app
./scripts/install.sh         <span class="c"># venv ìƒì„± + dev ì˜ì¡´ì„± ì„¤ì¹˜</span>
./scripts/run_cli.sh         <span class="c"># CLI ë™ì‘ í™•ì¸</span>
<span class="c"># GUIê°€ í•„ìš”í•˜ë©´:</span>
<span class="nb">source</span> .venv/bin/activate
pip <span class="nb">install</span> <span class="s2">".[gui]"</span>
./scripts/run_gui.sh
</code></pre></div></div>

<h2 id="windows-powershell">Windows (PowerShell)</h2>
<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">cd</span><span class="w"> </span><span class="nx">Work/20_Projects/PRJ-2025-001_sample_app</span><span class="w">
</span><span class="o">.</span><span class="n">/scripts/install.ps1</span><span class="w">
</span><span class="o">.</span><span class="nx">/scripts/run_cli.ps1</span><span class="w">
</span><span class="c"># GUI í•„ìš” ì‹œ:</span><span class="w">
</span><span class="o">.</span><span class="n">\.venv\Scripts\Activate.ps1</span><span class="w">
</span><span class="nx">pip</span><span class="w"> </span><span class="nx">install</span><span class="w"> </span><span class="s2">".[gui]"</span><span class="w">
</span><span class="o">.</span><span class="n">/scripts/run_gui.ps1</span><span class="w">
</span></code></pre></div></div>

<h2 id="ë¹Œë“œì‹¤í–‰íŒŒì¼-ë§Œë“¤ê¸°">ë¹Œë“œ(ì‹¤í–‰íŒŒì¼ ë§Œë“¤ê¸°)</h2>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># CLI</span>
./scripts/build_cli.sh    <span class="c"># dist/sample-app(ë˜ëŠ” .exe)</span>
<span class="c"># GUI</span>
./scripts/build_gui.sh    <span class="c"># dist/sample-app-gui(ë˜ëŠ” .exe)</span>
</code></pre></div></div>

<hr />

<h1 id="4-ë…¼ë¬¸êµìœ¡-ìë£Œ-ê´€ë¦¬--ìµœì†Œ-ê·œì¹™">4) ë…¼ë¬¸/êµìœ¡ ìë£Œ ê´€ë¦¬ â€” ìµœì†Œ ê·œì¹™</h1>

<ul>
  <li>
    <p><strong>PDFëŠ”<code class="language-plaintext highlighter-rouge">/papers/to_read</code></strong>, ë©”ëª¨ëŠ” <code class="language-plaintext highlighter-rouge">/papers/reading_notes/YYYY-MM-DD_ì œëª©.md</code></p>
  </li>
  <li>
    <p>í•œ ë‹¬ì— í•œ ë²ˆ <strong><code class="language-plaintext highlighter-rouge">/summaries</code></strong>ì— 1~2í˜ì´ì§€ ìš”ì•½(ë‚˜ì¤‘ì— ê²€ìƒ‰/ë ˆí¼ëŸ°ìŠ¤ë¡œ ìµœê³ )</p>
  </li>
  <li>
    <p>ì½”ìŠ¤/íŠœí† ë¦¬ì–¼ì€ <code class="language-plaintext highlighter-rouge">/edu/courses</code>, <code class="language-plaintext highlighter-rouge">/edu/tutorials</code>ë¡œ êµ¬ë¶„. ì‹¤ìŠµ ì‚°ì¶œë¬¼ì€ í•´ë‹¹ í”„ë¡œì íŠ¸ì˜ <code class="language-plaintext highlighter-rouge">/docs</code>ë‚˜ <code class="language-plaintext highlighter-rouge">/export</code>ë¡œ ë§í¬</p>
  </li>
</ul>

<hr />

<h1 id="5-í™˜ê²½-ì„¸íŒ…--íˆ´-ì„¤ì¹˜--ì‹¤ë¬´-ë£¨í‹´">5) í™˜ê²½ ì„¸íŒ… &amp; íˆ´ ì„¤ì¹˜ â€” ì‹¤ë¬´ ë£¨í‹´</h1>

<ol>
  <li>
    <p><strong>íˆ´ ì„¤ì¹˜íŒŒì¼</strong> ì€ <code class="language-plaintext highlighter-rouge">80_Tools/installers</code>ì— ë³´ê´€ + <code class="language-plaintext highlighter-rouge">install_notes.md</code>ì— ë²„ì „/ì²´í¬ì„¬ ê¸°ë¡</p>
  </li>
  <li>
    <p><strong>ê°œë³„ í”„ë¡œì íŠ¸ë§ˆë‹¤ ë¡œì»¬ venv</strong> (<code class="language-plaintext highlighter-rouge">.venv/</code>)ë¡œ ë…ë¦½ ê´€ë¦¬</p>
  </li>
  <li>
    <p>íšŒì‚¬/ì™¸ë¶€ ì´ë™ ëŒ€ë¹„í•´ì„œ <strong><code class="language-plaintext highlighter-rouge">70_Exports</code>ì— ìµœì¢… ì‚°ì¶œë¬¼(ì‹¤í–‰íŒŒì¼/PDF)</strong> ê°™ì´ ë‚¨ê¸°ê¸°</p>
  </li>
  <li>
    <p>ì»¨í…Œì´ë„ˆê°€ í•„ìš”í•˜ë©´ <code class="language-plaintext highlighter-rouge">85_Environments/docker/Dockerfile</code>ì´ë‚˜ í”„ë¡œì íŠ¸ ë‚´ <code class="language-plaintext highlighter-rouge">.devcontainer</code> ì‚¬ìš©</p>
  </li>
</ol>

<hr />

<h1 id="6-ë„¤ì´ë°-ìš”ì•½ë³µë¶™-ê·œì¹™">6) ë„¤ì´ë° ìš”ì•½(ë³µë¶™ ê·œì¹™)</h1>

<ul>
  <li>
    <p>íŒŒì¼: <code class="language-plaintext highlighter-rouge">YYYY-MM-DD_ì œëª©_v001.ext</code></p>
  </li>
  <li>
    <p>í”„ë¡œì íŠ¸ í´ë”: <code class="language-plaintext highlighter-rouge">PRJ-ì—°ë„-ë²ˆí˜¸_ì§§ì€ì´ë¦„</code> ì˜ˆ) <code class="language-plaintext highlighter-rouge">PRJ-2025-012_GUIíˆ´</code></p>
  </li>
  <li>
    <p>ê¹Šì´: <strong>ìµœëŒ€ 3ë‹¨</strong> ìœ ì§€</p>
  </li>
</ul>

<hr />

<h1 id="7-ë‹¤ìŒ-ì•¡ì…˜-3ë¶„-ì»·">7) ë‹¤ìŒ ì•¡ì…˜ (3ë¶„ ì»·)</h1>

<ol>
  <li>
    <p>ìœ„ <strong>starter kit ì••ì¶• í•´ì œ</strong> â†’ ì›í•˜ëŠ” ìœ„ì¹˜ì— <code class="language-plaintext highlighter-rouge">/Work</code> ë°°ì¹˜</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">PRJ-2025-001_sample_app</code>ì„ ë„¤ í”„ë¡œì íŠ¸ëª…ìœ¼ë¡œ <strong>í´ë”/pyproject íŒ¨í‚¤ì§€ëª… ë³€ê²½</strong></p>
  </li>
  <li>
    <p>OSì— ë§ëŠ” <strong>ì„¤ì¹˜ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰</strong> í›„ ë°”ë¡œ ì½”ë”© ì‹œì‘</p>
  </li>
</ol>

<p>í•„ìš”í•˜ë©´ ë„¤ê°€ ì“°ëŠ” <strong>GUI í”„ë ˆì„ì›Œí¬(PySide6/PyQt/Tkinter), ë°°í¬ ë°©ì‹(PyInstaller/Briefcase), í…ŒìŠ¤íŠ¸ ì „ëµ</strong> ì— ë§ì¶° í…œí”Œë¦¿ì„ ë” ë‹¤ë“¬ì–´ ì¤„ê²Œ. ì›í•˜ëŠ” ìŠ¤íƒë§Œ ì•Œë ¤ì¤˜â€”ë°”ë¡œ ì ìš©í•œ ë²„ì „ìœ¼ë¡œ íŠ¸ë¦¬ê¹Œì§€ ë§Œë“¤ì–´ì„œ ë“œë¦´ê²Œ!</p>

<p class="chat--user">

ê·¸ë¦¬ê³  íˆ´ ê°œë°œë§Œ í•˜ëŠ”ê±´ ì•„ë‹ˆê³  ê·¸ íˆ´ì„ ì´ìš©í•´ì„œ ì–´ë–¤ ì‹¤ì œ ì‚°ì¶œë¬¼ì„ ë§Œë“¤ì–´ì•¼ í•  ë•Œë„ ìˆì–´.

</p>

<p>ì¢‹ì•„â€”<strong>íˆ´ ê°œë°œ + ê·¸ íˆ´ë¡œ ì‹¤ì œ ì‚°ì¶œë¬¼(ë ˆí¬íŠ¸, ì´ë¯¸ì§€, íŒ¨í‚¤ì§€, ì‹¤í–‰íŒŒì¼ ë“±)ê¹Œì§€ ë§Œë“œëŠ”</strong> íë¦„ì„ ê¹”ë”í•˜ê²Œ ëŒë¦´ ìˆ˜ ìˆê²Œ êµ¬ì¡°ì™€ í…œí”Œë¦¿ì„ ì¶”ê°€ë¡œ ì¤€ë¹„í–ˆì–´. (ì¬í˜„ì„±Â·ì¶”ì ì„±Â·ì¸ìˆ˜ì¸ê³„ì— ê°•í•¨)</p>

<p>ì—…ë°ì´íŠ¸ëœ ìŠ¤íƒ€í„°(Jobs í¬í•¨) ë‹¤ìš´ë¡œë“œ</p>

<hr />

<h2 id="1-í•œëˆˆì—-ë³´ëŠ”-êµ¬ì¡°-íˆ´--ì‚°ì¶œë¬¼-ë¶„ë¦¬">1) í•œëˆˆì— ë³´ëŠ” êµ¬ì¡° (íˆ´ â†” ì‚°ì¶œë¬¼ ë¶„ë¦¬)</h2>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/Work
â”œâ”€ 20_Projects         â† íˆ´(íŒŒì´ì¬ íŒ¨í‚¤ì§€) ê°œë°œ
â”‚   â””â”€ PRJ-2025-001_sample_app/...
â”œâ”€ 25_Jobs             â† íˆ´ì„ ì¨ì„œ ë§Œë“œëŠ” â€œì‚°ì¶œë¬¼ ì‘ì—… ë‹¨ìœ„â€
â”‚   â””â”€ JOB-2025-001_sample_output/  â† ìƒ˜í”Œ Job í¬í•¨
â”‚      â”œâ”€ 01_Brief         ìš”êµ¬ì‚¬í•­/ê²€ìˆ˜ê¸°ì¤€
â”‚      â”œâ”€ 02_Input/raw     ì›ì²œë°ì´í„°
â”‚      â”œâ”€ 03_Config        íŒŒë¼ë¯¸í„°(yml/json)
â”‚      â”œâ”€ 04_Run           ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸, ë¡œê·¸, ë§¤ë‹ˆí˜ìŠ¤íŠ¸
â”‚      â”œâ”€ 05_Output        ì¤‘ê°„/ìµœì¢… ì‚°ì¶œë¬¼(ì‘ì—…ìš©)
â”‚      â””â”€ 06_Export        ì „ë‹¬ë³¸(ì™„ì„±í’ˆ)
â”œâ”€ 40_Resources/edu     â† êµìœ¡/ë…¼ë¬¸/íŠœí† ë¦¬ì–¼
â”œâ”€ 70_Exports           â† ì—¬ëŸ¬ Jobì˜ ìµœì¢…ë³¸ ëª¨ì•„ë³´ê¸°(ì„ íƒ)
â””â”€ 85_Environments      â† conda/venv/docker ìƒ˜í”Œ
</code></pre></div></div>

<h3 id="ì™œ-ë¶„ë¦¬í•˜ë‚˜">ì™œ ë¶„ë¦¬í•˜ë‚˜?</h3>

<ul>
  <li>
    <p><strong>Projects</strong> ëŠ” ì½”ë“œ ìˆ˜ëª…(ë²„ì „Â·ë¦´ë¦¬ì¦ˆ) ì¤‘ì‹¬, <strong>Jobs</strong> ëŠ” <strong>ìš”êµ¬ì‚¬í•­Â·ì…ë ¥Â·ì„¤ì • â†’ ê²°ê³¼ë¬¼</strong> ì´ë¼ëŠ” <strong>í”„ë¡œì„¸ìŠ¤</strong> ì¤‘ì‹¬.</p>
  </li>
  <li>
    <p>Job ë‹¨ìœ„ë¡œ ë§¤ë‹ˆí˜ìŠ¤íŠ¸/ì²´í¬ì„¬ì´ ë‚¨ìœ¼ë‹ˆ <strong>ë‚˜ì¤‘ì— ê°™ì€ ê²°ê³¼ë¥¼ ì¬í˜„</strong> í•˜ê¸° ì‰¬ì›€.</p>
  </li>
</ul>

<hr />

<h2 id="2-ì‹¤í–‰-íë¦„-step-by-step">2) ì‹¤í–‰ íë¦„ (Step-by-step)</h2>

<ol>
  <li>
    <p><strong>íˆ´ ê°œë°œ/ì—…ë°ì´íŠ¸</strong> : <code class="language-plaintext highlighter-rouge">20_Projects/PRJ-...</code>ì—ì„œ ê¸°ëŠ¥ ì¶”ê°€ í›„ <code class="language-plaintext highlighter-rouge">.[dev]</code> ì„¤ì¹˜.</p>
  </li>
  <li>
    <p><strong>Job ìƒì„±</strong> : <code class="language-plaintext highlighter-rouge">25_Jobs</code> ì•„ë˜ ìƒˆ <code class="language-plaintext highlighter-rouge">JOB-YYYY-###_ì´ë¦„</code> í´ë” ë³µì œ.</p>
  </li>
  <li>
    <p><strong>ì…ë ¥/ì„¤ì • ë°°ì¹˜</strong> : <code class="language-plaintext highlighter-rouge">02_Input/raw</code>ì— ë°ì´í„°, <code class="language-plaintext highlighter-rouge">03_Config/config.yml</code>ì— íŒŒë¼ë¯¸í„° ì‘ì„±.</p>
  </li>
  <li>
    <p><strong>ì‹¤í–‰</strong> :</p>

    <ul>
      <li>macOS/Linux:
        <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd </span>25_Jobs/JOB-.../04_Run
bash run.sh
</code></pre></div>        </div>
      </li>
      <li>Windows (PowerShell):
        <div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">cd</span><span class="w"> </span><span class="nx">25_Jobs/JOB-.../04_Run</span><span class="w">
</span><span class="o">.</span><span class="n">/run.ps1</span><span class="w">
</span></code></pre></div>        </div>
      </li>
    </ul>
  </li>
</ol>

<p>ìŠ¤í¬ë¦½íŠ¸ê°€ <code class="language-plaintext highlighter-rouge">run.py</code>ë¥¼ í˜¸ì¶œ â†’ <strong>ì‚°ì¶œë¬¼</strong> ì„ <code class="language-plaintext highlighter-rouge">06_Export</code>ì— ìƒì„± + <strong>manifest.json</strong> / <strong>run_log.txt</strong> ê¸°ë¡.</p>

<ol>
  <li><strong>ê²€ìˆ˜/ì „ë‹¬</strong> : <code class="language-plaintext highlighter-rouge">qa_checklist.md</code>ë¡œ í™•ì¸ â†’ í•„ìš” ì‹œ <code class="language-plaintext highlighter-rouge">/Work/70_Exports</code>ì—ë„ ë³µì‚¬.</li>
</ol>

<blockquote>
  <p>ìƒ˜í”Œ Jobì€ ì‹¤ì œë¡œ <strong>íˆ´ íŒ¨í‚¤ì§€ ë²„ì „(ì˜ˆ:<code class="language-plaintext highlighter-rouge">sample_app.__version__</code>)ì„ ì½ì–´ ë§¤ë‹ˆí˜ìŠ¤íŠ¸ì— ë°•ì•„ë‘ê³ </strong>, ì‚°ì¶œë¬¼ íŒŒì¼ì˜ <strong>SHA256 ì²´í¬ì„¬</strong> ê¹Œì§€ ì €ì¥í•˜ë„ë¡ ë˜ì–´ ìˆì–´. (ì „ë‹¬ í›„ ë³€ê²½ ì—¬ë¶€ë„ ê²€ì¦ ê°€ëŠ¥)</p>
</blockquote>

<hr />

<h2 id="3-ë„¤ì´ë°--ë²„ì „-ì „ëµ-ì‚°ì¶œë¬¼ìš©">3) ë„¤ì´ë° &amp; ë²„ì „ ì „ëµ (ì‚°ì¶œë¬¼ìš©)</h2>

<ul>
  <li>
    <p><strong>Job ì½”ë“œ ì ‘ë‘</strong> : <code class="language-plaintext highlighter-rouge">JOB-2025-023_ìº í˜ì¸A_ë³´ê³ ì„œ_v003.pdf</code></p>
  </li>
  <li>
    <p><strong>ì„¸ë¶€ ê·œì¹™</strong> : <code class="language-plaintext highlighter-rouge">JOBì½”ë“œ_YYYYMMDD[-run]_v###.ext</code></p>
  </li>
  <li>
    <p><strong>íˆ´ ë²„ì „ ê³ ì •</strong> : ë§¤ë‹ˆí˜ìŠ¤íŠ¸ì— <code class="language-plaintext highlighter-rouge">tool_version</code>, íŒŒë¼ë¯¸í„° íŒŒì¼ ê²½ë¡œ, Python ë²„ì „, OS ì •ë³´ í¬í•¨.</p>
  </li>
</ul>

<hr />

<h2 id="4-ì¬í˜„ì„±-ì²´í¬ë¦¬ìŠ¤íŠ¸">4) ì¬í˜„ì„± ì²´í¬ë¦¬ìŠ¤íŠ¸</h2>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">03_Config/config.yml</code>ì— ëª¨ë“  íŒŒë¼ë¯¸í„° ê¸°ë¡</p>
  </li>
  <li>
    <p>ì…ë ¥ ë°ì´í„° ì†ŒìŠ¤/ë²„ì „ ê¸°ë¡(ê°€ëŠ¥í•˜ë©´ ì²´í¬ì„¬)</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">85_Environments</code>(conda/venv/docker) ì¤‘ í•˜ë‚˜ë¡œ í™˜ê²½ ê³ ì •</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">04_Run/manifest.json</code> ìë™ ìƒì„± í™•ì¸</p>
  </li>
  <li>
    <p>ëœë¤ ì‚¬ìš© ì‹œ <strong>ì‹œë“œ ê³ ì •</strong> ë° ë§¤ë‹ˆí˜ìŠ¤íŠ¸ì— ê¸°ë¡</p>
  </li>
</ul>

<hr />

<h2 id="5-êµìœ¡ë…¼ë¬¸-ìë£Œì™€-ì‹¤ë¬´-ì—°ê²°">5) êµìœ¡/ë…¼ë¬¸ ìë£Œì™€ ì‹¤ë¬´ ì—°ê²°</h2>

<ul>
  <li>
    <p>ë…¼ë¬¸ì„ ì½ê³  ë„ì…í•œ ì•Œê³ ë¦¬ì¦˜/ê¸°ë²•ì€ <strong>í•´ë‹¹ íˆ´ PRJì˜ <code class="language-plaintext highlighter-rouge">/docs</code></strong>ì— ìš”ì•½,<br />
ì‹¤í—˜Â·ë¹„êµ ê²°ê³¼ëŠ” <strong>ê°œë³„ Job</strong> ìœ¼ë¡œ ì‹¤í–‰í•´ <strong>ì…ë ¥/ì„¤ì •/ì‚°ì¶œ</strong> ì„ ë‚¨ê¸°ë©´ <strong>ë…¼ë¬¸â†’ì½”ë“œâ†’ê²°ê³¼</strong> ì¶”ì ì´ ì„ ëª…í•´ì§.</p>
  </li>
  <li>
    <p>í…œí”Œë¦¿ í¬í•¨: <code class="language-plaintext highlighter-rouge">40_Resources/edu/papers/reading_notes/TEMPLATE.md</code></p>
  </li>
</ul>

<hr />

<h2 id="6-ë°”ë¡œ-ë‹¤ìŒ-ì•¡ì…˜">6) ë°”ë¡œ ë‹¤ìŒ ì•¡ì…˜</h2>

<ol>
  <li>
    <p>ì••ì¶•ì„ í’€ê³  <code class="language-plaintext highlighter-rouge">/Work</code>ë¥¼ ì›í•˜ëŠ” ìœ„ì¹˜ì— ë‘”ë‹¤.</p>
  </li>
  <li>
    <p>ìƒ˜í”Œ íˆ´ <code class="language-plaintext highlighter-rouge">PRJ-2025-001_sample_app</code>ì—ì„œ ì„¤ì¹˜ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ â†’ ë™ì‘ í™•ì¸.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">25_Jobs/JOB-2025-001_sample_output</code>ì„ ë³µì œí•´ ë„ˆì˜ ì‹¤ì œ ì‚°ì¶œë¬¼ ì‘ì—…ì— ë§ì¶° <code class="language-plaintext highlighter-rouge">brief/config</code>ë§Œ ë°”ê¿” ì‹¤í–‰.</p>
  </li>
</ol>

<p>ì›í•˜ë©´ ë„¤ ë„ë©”ì¸(ì˜ˆ: ì´ë¯¸ì§€ ì²˜ë¦¬, ë¦¬í¬íŠ¸ ìƒì„±, í¬ë§· ê·œê²©) ê¸°ì¤€ìœ¼ë¡œ <strong>Job ìŠ¤ìºí´ë“œ</strong>(ê²€ìˆ˜ ìŠ¤í…Â·í‘œì¤€ íŒŒë¼ë¯¸í„°Â·íŒŒì¼ëª… ê·œì¹™)ë¥¼ ë” ë¹¡ë¹¡í•˜ê²Œ ì»¤ìŠ¤í„°ë§ˆì´ì¦ˆí•´ì„œ ë§Œë“¤ì–´ì¤„ê²Œ.</p>

<p class="chat--user">

ì „ì²´ ë‹¤ì‹œ ë³´ì—¬ì¤˜

</p>

<p>ì¢‹ì•„! ì§€ê¸ˆê¹Œì§€ ë§Œë“  ê±¸ <strong>í•œëˆˆì—, ë‹¨ê³„ë³„ë¡œ</strong> ì‹¹ ì •ë¦¬í•´ ì¤„ê²Œ.<br />
(ë°”ë¡œ ì“¸ ìˆ˜ ìˆëŠ” ìŠ¤íƒ€í„° í¬í•¨)</p>

<p>ìµœì‹  ìŠ¤íƒ€í„°(íˆ´ + Jobs í¬í•¨) ë‹¤ìš´ë¡œë“œ</p>

<hr />

<h1 id="1-ëª©í‘œ-3ê°€ì§€">1) ëª©í‘œ 3ê°€ì§€</h1>

<ol>
  <li>
    <p><strong>ë¹ ë¥¸ ìº¡ì²˜</strong> : ì–´ë””ì„œë“  <code class="language-plaintext highlighter-rouge">00_Inbox</code>ë¡œ ë˜ì ¸ ë„£ê¸°</p>
  </li>
  <li>
    <p><strong>ì‰½ê²Œ ì°¾ê¸°</strong> : ì–•ì€ ê¹Šì´(ìµœëŒ€ 3ë‹¨) + ê·œì¹™ì  ë„¤ì´ë°</p>
  </li>
  <li>
    <p><strong>ê°€ë²¼ìš´ ìœ ì§€ë³´ìˆ˜</strong> : ì£¼ 1íšŒ ì •ë¦¬Â·ì•„ì¹´ì´ë¸Œ</p>
  </li>
</ol>

<hr />

<h1 id="2-ìƒìœ„-í´ë”-êµ¬ì¡°ìµœì¢…ë³¸">2) ìƒìœ„ í´ë” êµ¬ì¡°(ìµœì¢…ë³¸)</h1>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/Work
â”œâ”€ 00_Inbox               # ê¸‰íˆ ë˜ì§€ëŠ” ì„ì‹œí•¨
â”œâ”€ 10_Today               # ì˜¤ëŠ˜ ì§‘ì¤‘ ì‘ì—…(WIP)
â”œâ”€ 20_Projects            # íˆ´(íŒŒì´ì¬ íŒ¨í‚¤ì§€) ê°œë°œ
â”‚   â””â”€ PRJ-2025-001_sample_app/...
â”œâ”€ 25_Jobs                # íˆ´ì„ ì‚¬ìš©í•´ ë§Œë“œëŠ” ì‹¤ì œ ì‚°ì¶œ ì‘ì—… ë‹¨ìœ„
â”‚   â””â”€ JOB-2025-001_sample_output/
â”‚      â”œâ”€ 01_Brief
â”‚      â”œâ”€ 02_Input/raw
â”‚      â”œâ”€ 03_Config
â”‚      â”œâ”€ 04_Run
â”‚      â”œâ”€ 05_Output
â”‚      â””â”€ 06_Export
â”œâ”€ 30_Areas
â”‚   â”œâ”€ worklog
â”‚   â””â”€ environments
â”œâ”€ 40_Resources
â”‚   â””â”€ edu
â”‚      â”œâ”€ courses
â”‚      â”œâ”€ tutorials
â”‚      â””â”€ papers
â”‚         â”œâ”€ to_read
â”‚         â”œâ”€ reading_notes (TEMPLATE.md í¬í•¨)
â”‚         â””â”€ summaries
â”œâ”€ 50_Snippets           # sql/text/bash ì¬ì‚¬ìš© ìŠ¤ë‹ˆí«
â”œâ”€ 60_Assets             # ë¡œê³ Â·í…œí”Œë¦¿ ë“± ê³µìš©
â”œâ”€ 70_Exports            # ì—¬ëŸ¬ Job ìµœì¢… ì „ë‹¬ë³¸ ëª¨ì•„ë³´ê¸°(ì„ íƒ)
â”œâ”€ 80_Tools              # ì„¤ì¹˜íŒŒì¼Â·í¬í„°ë¸”Â·ìë™í™” ìŠ¤í¬ë¦½íŠ¸Â·devcontainer
â”‚   â”œâ”€ installers
â”‚   â”œâ”€ bin
â”‚   â”œâ”€ scripts
â”‚   â””â”€ devcontainer
â”œâ”€ 85_Environments       # conda/venv/docker ìƒ˜í”Œ
â””â”€ 99_Archive
</code></pre></div></div>

<hr />

<h1 id="3-ë„¤ì´ë°-ê·œì¹™ì§§ê³ -ê°•ë ¥-1">3) ë„¤ì´ë° ê·œì¹™(ì§§ê³  ê°•ë ¥)</h1>

<ul>
  <li>
    <p><strong>íŒŒì¼</strong> : <code class="language-plaintext highlighter-rouge">YYYY-MM-DD_ì œëª©_v001.ext</code></p>
  </li>
  <li>
    <p><strong>í”„ë¡œì íŠ¸ í´ë”</strong> : <code class="language-plaintext highlighter-rouge">PRJ-ì—°ë„-ë²ˆí˜¸_ì§§ì€ì´ë¦„</code> â†’ ì˜ˆ) <code class="language-plaintext highlighter-rouge">PRJ-2025-012_GUIíˆ´</code></p>
  </li>
  <li>
    <p><strong>Job í´ë”</strong> : <code class="language-plaintext highlighter-rouge">JOB-ì—°ë„-ë²ˆí˜¸_ì§§ì€ì´ë¦„</code> â†’ ì˜ˆ) <code class="language-plaintext highlighter-rouge">JOB-2025-023_ë³´ê³ ì„œA</code></p>
  </li>
  <li>
    <p><strong>ê¹Šì´ ì œí•œ</strong> : ìµœëŒ€ 3ë‹¨</p>
  </li>
</ul>

<hr />

<h1 id="4-íˆ´íŒŒì´ì¬-íŒ¨í‚¤ì§€-í…œí”Œë¦¿-ìš”ì•½">4) íˆ´(íŒŒì´ì¬ íŒ¨í‚¤ì§€) í…œí”Œë¦¿ ìš”ì•½</h1>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>PRJ-2025-001_sample_app
â”œâ”€ src/sample_app (cli.py, gui.py, __init__.py)
â”œâ”€ tests/test_smoke.py
â”œâ”€ scripts/ (install/run/build/test/lint: .sh / .ps1 ëª¨ë‘)
â”œâ”€ .devcontainer/devcontainer.json
â”œâ”€ pyproject.toml (extras: dev/gui, entry points ë“±ë¡)
â”œâ”€ .env.example, .gitignore, .editorconfig
â””â”€ README.md
</code></pre></div></div>

<ul>
  <li>
    <p><strong>ì—”íŠ¸ë¦¬í¬ì¸íŠ¸</strong> :</p>

    <ul>
      <li>
        <p>CLI: <code class="language-plaintext highlighter-rouge">sample-app</code> â†’ <code class="language-plaintext highlighter-rouge">sample_app.cli:main</code></p>
      </li>
      <li>
        <p>GUI(ì˜µì…˜): <code class="language-plaintext highlighter-rouge">sample-app-gui</code> â†’ <code class="language-plaintext highlighter-rouge">sample_app.gui:main</code> (PySide6)</p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>ê°œë°œ í¸ì˜</strong> : <code class="language-plaintext highlighter-rouge">.[dev]</code>ì— pytest/ruff/pyinstaller í¬í•¨</p>
  </li>
  <li>
    <p><strong>ë‹¨ì¼ ì‹¤í–‰íŒŒì¼</strong> : PyInstaller ìŠ¤í¬ë¦½íŠ¸ ë‚´ì¥</p>
  </li>
</ul>

<p><strong>ì‹œì‘(ë§¥/ë¦¬ëˆ…ìŠ¤)</strong></p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd </span>Work/20_Projects/PRJ-2025-001_sample_app
./scripts/install.sh
./scripts/run_cli.sh
<span class="c"># GUI í•„ìš” ì‹œ:</span>
<span class="nb">source</span> .venv/bin/activate <span class="o">&amp;&amp;</span> pip <span class="nb">install</span> <span class="s2">".[gui]"</span> <span class="o">&amp;&amp;</span> ./scripts/run_gui.sh
</code></pre></div></div>

<p><strong>ì‹œì‘(Windows PowerShell)</strong></p>
<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">cd</span><span class="w"> </span><span class="nx">Work/20_Projects/PRJ-2025-001_sample_app</span><span class="w">
</span><span class="o">.</span><span class="n">/scripts/install.ps1</span><span class="w">
</span><span class="o">.</span><span class="nx">/scripts/run_cli.ps1</span><span class="w">
</span><span class="c"># GUI í•„ìš” ì‹œ:</span><span class="w">
</span><span class="o">.</span><span class="n">\.venv\Scripts\Activate.ps1</span><span class="p">;</span><span class="w"> </span><span class="n">pip</span><span class="w"> </span><span class="nx">install</span><span class="w"> </span><span class="s2">".[gui]"</span><span class="p">;</span><span class="w"> </span><span class="o">.</span><span class="n">/scripts/run_gui.ps1</span><span class="w">
</span></code></pre></div></div>

<p><strong>ë¹Œë“œ</strong></p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./scripts/build_cli.sh     <span class="c"># CLI ì‹¤í–‰íŒŒì¼</span>
./scripts/build_gui.sh     <span class="c"># GUI ì‹¤í–‰íŒŒì¼</span>
</code></pre></div></div>

<hr />

<h1 id="5-ì‹¤ì œ-ì‚°ì¶œë¬¼job-íŒŒì´í”„ë¼ì¸">5) ì‹¤ì œ ì‚°ì¶œë¬¼(Job) íŒŒì´í”„ë¼ì¸</h1>

<ul>
  <li>
    <p><strong>ì˜ë„</strong> : Projects(ì½”ë“œ)ì™€ ë¶„ë¦¬í•´ <strong>ì…ë ¥â†’ì„¤ì •â†’ì‹¤í–‰â†’ì‚°ì¶œ</strong> íë¦„ì„ <strong>ì¬í˜„ ê°€ëŠ¥</strong> í•˜ê²Œ ê´€ë¦¬</p>
  </li>
  <li>
    <p><strong>ì‹¤í–‰ ì ˆì°¨</strong></p>

    <ol>
      <li>
        <p><code class="language-plaintext highlighter-rouge">02_Input/raw</code>ì— ì›ì²œ ë°ì´í„° ë°°ì¹˜</p>
      </li>
      <li>
        <p><code class="language-plaintext highlighter-rouge">03_Config/config.yml</code>ì— íŒŒë¼ë¯¸í„° ê¸°ë¡</p>
      </li>
      <li>
        <p><code class="language-plaintext highlighter-rouge">04_Run/run.sh</code>(ë˜ëŠ” <code class="language-plaintext highlighter-rouge">run.ps1</code>) ì‹¤í–‰</p>
      </li>
      <li>
        <p><code class="language-plaintext highlighter-rouge">06_Export</code>ì— ì „ë‹¬ë³¸ ìƒì„± + <code class="language-plaintext highlighter-rouge">manifest.json</code>/<code class="language-plaintext highlighter-rouge">run_log.txt</code> ì¶œë ¥</p>
      </li>
      <li>
        <p>í•„ìš” ì‹œ <code class="language-plaintext highlighter-rouge">70_Exports</code>ë¡œë„ ë³µì‚¬(ì „ì‚¬ ê³µìœ )</p>
      </li>
    </ol>
  </li>
  <li>
    <p><strong>í’ˆì§ˆ/ì¶”ì </strong> :</p>

    <ul>
      <li>
        <p>ë§¤ë‹ˆí˜ìŠ¤íŠ¸ì— <code class="language-plaintext highlighter-rouge">tool_version</code>, Python/OS, íŒŒë¼ë¯¸í„° íŒŒì¼, <strong>SHA256 ì²´í¬ì„¬</strong> ìë™ ì €ì¥</p>
      </li>
      <li>
        <p><code class="language-plaintext highlighter-rouge">qa_checklist.md</code>ë¡œ ê·œê²©Â·í¬ë§·Â·ì‹œë“œ ê³ ì • ì ê²€</p>
      </li>
    </ul>
  </li>
</ul>

<hr />

<h1 id="6-êµìœ¡ë…¼ë¬¸-ìë£Œ-ì›Œí¬í”Œë¡œ">6) êµìœ¡/ë…¼ë¬¸ ìë£Œ ì›Œí¬í”Œë¡œ</h1>

<ul>
  <li>
    <p>PDFëŠ” <code class="language-plaintext highlighter-rouge">40_Resources/edu/papers/to_read</code></p>
  </li>
  <li>
    <p>ë©”ëª¨ëŠ” <code class="language-plaintext highlighter-rouge">reading_notes/YYYY-MM-DD_ì œëª©.md</code> (í…œí”Œë¦¿ ì œê³µ)</p>
  </li>
  <li>
    <p>1~2í˜ì´ì§€ ìš”ì•½ì€ <code class="language-plaintext highlighter-rouge">summaries/</code></p>
  </li>
  <li>
    <p>ë…¼ë¬¸ì—ì„œ ì±„íƒí•œ ì•„ì´ë””ì–´ëŠ” <strong>í”„ë¡œì íŠ¸ <code class="language-plaintext highlighter-rouge">/docs</code></strong>ì— ì •ë¦¬, ì‹¤í—˜ì€ <strong>ê°œë³„ Job</strong> ìœ¼ë¡œ ê¸°ë¡(ì…ë ¥/ì„¤ì •/ì‚°ì¶œ ì—°ê²°)</p>
  </li>
</ul>

<hr />

<h1 id="7-í™˜ê²½íˆ´-ì„¤ì¹˜-ê³µê°„-ì‚¬ìš©ë²•">7) í™˜ê²½Â·íˆ´ ì„¤ì¹˜ ê³µê°„ ì‚¬ìš©ë²•</h1>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">80_Tools/installers</code>: ì˜¤í”„ë¼ì¸ ì„¤ì¹˜ íŒŒì¼ ë³´ê´€, <strong>ë²„ì „Â·ì²´í¬ì„¬</strong> ì„ <code class="language-plaintext highlighter-rouge">scripts/install_notes.md</code>ì— ë©”ëª¨</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">85_Environments</code>:</p>

    <ul>
      <li>
        <p><code class="language-plaintext highlighter-rouge">conda/environment.yml</code></p>
      </li>
      <li>
        <p><code class="language-plaintext highlighter-rouge">venv/README.md</code></p>
      </li>
      <li>
        <p><code class="language-plaintext highlighter-rouge">docker/Dockerfile</code> (ë˜ëŠ” í”„ë¡œì íŠ¸ ë‚´ <code class="language-plaintext highlighter-rouge">.devcontainer</code>)</p>
      </li>
    </ul>
  </li>
</ul>

<hr />

<h1 id="8-ì¼ì£¼-ìš´ì˜-ë£¨í‹´">8) ì¼/ì£¼ ìš´ì˜ ë£¨í‹´</h1>

<p><strong>ë§¤ì¼</strong></p>

<ul>
  <li>
    <p>ëª¨ë“  ìº¡ì²˜ëŠ” <code class="language-plaintext highlighter-rouge">00_Inbox</code> â†’ ë‹¹ì¼ ì²˜ë¦¬ê±´ì€ <code class="language-plaintext highlighter-rouge">10_Today</code></p>
  </li>
  <li>
    <p>ì‘ì—… ëë‚œ íŒŒì¼ì€ í”„ë¡œì íŠ¸ ë˜ëŠ” Job ìœ„ì¹˜ë¡œ ì´ë™</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">30_Areas/worklog/YYYY/YYYY-MM/ë‚ ì§œ.md</code>ì— 5ì¤„ ë¡œê·¸</p>
  </li>
</ul>

<p><strong>ì£¼ 1íšŒ</strong></p>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">00_Inbox</code> ì •ë¦¬, ì™„ë£Œ Job/ProjectëŠ” <code class="language-plaintext highlighter-rouge">99_Archive</code></p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">70_Exports</code> ì •ë¦¬(ìµœì¢… ì „ë‹¬ë³¸ë§Œ ìœ ì§€)</p>
  </li>
</ul>

<hr />

<h1 id="9-ë°”ë¡œ-ë‹¤ìŒ-ì•¡ì…˜3ë‹¨ê³„">9) ë°”ë¡œ ë‹¤ìŒ ì•¡ì…˜(3ë‹¨ê³„)</h1>

<ol>
  <li>
    <p>ì••ì¶• í•´ì œ í›„ <code class="language-plaintext highlighter-rouge">/Work</code> ë°°ì¹˜</p>
  </li>
  <li>
    <p>íˆ´ í…œí”Œë¦¿ í´ë”/íŒ¨í‚¤ì§€ëª…(ì˜ˆ: <code class="language-plaintext highlighter-rouge">sample_app</code>)ì„ ë„¤ í”„ë¡œì íŠ¸ëª…ìœ¼ë¡œ ë³€ê²½</p>
  </li>
  <li>
    <p>ìƒ˜í”Œ Jobì„ ë³µì œí•´ <code class="language-plaintext highlighter-rouge">brief/config</code>ë§Œ ìˆ˜ì • â†’ <code class="language-plaintext highlighter-rouge">04_Run</code> ì‹¤í–‰</p>
  </li>
</ol>

<hr />

<p>í•„ìš”í•˜ë©´ ë„¤ ë„ë©”ì¸(ì´ë¯¸ì§€ ì²˜ë¦¬, ë¦¬í¬íŠ¸ ìƒì„±, íŠ¹ì • í¬ë§· ê·œê²© ë“±)ì— ë§ì¶° <strong>Job ìŠ¤ìºí´ë“œ(ê²€ìˆ˜ ëª©ë¡, íŒŒë¼ë¯¸í„° ìŠ¤í‚¤ë§ˆ, íŒŒì¼ëª… ê·œì¹™)</strong>ë¥¼ ë” ì´˜ì´˜íˆ ì»¤ìŠ¤í„°ë§ˆì´ì¦ˆí•´ì„œ ë°”ë¡œ ì“¸ ë²„ì „ìœ¼ë¡œ ë§Œë“¤ì–´ì¤„ê²Œ.</p>

<p class="chat--user">

1. ë§Œì•½ì— ë°°í¬í•œ íˆ´ì— ëŒ€í•œ ì œë³´ê°€ ë²„ê·¸ê°€ ë“¤ì–´ì™€ì„œ ì´ì— ëŒ€í•´ ë””ë²„ê¹… ìˆ˜í–‰ì´ í•„ìš”í•´. 2. ë°°í¬í•œ íˆ´ì— ëŒ€í•œ exampleì„ ë§Œë“œëŠ” ì‘ì—…ì„ í•˜ê³  ì‹¶ì–´. 3. ìƒˆë¡œ ì„¤ì¹˜í•œ íˆ´ì— ëŒ€í•œ ê°„ë‹¨í•œ ì‚¬ìš©ë²• ë° feasibility ê²€ì‚¬ìš© í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•˜ê³  ì‹¶ì–´. 4. íŒŒì´ì¬ ë¬¸ë²•ì´ í—·ê°ˆë ¤ì„œ(regex) ë“±ì„ jupyter ë„ì›Œì„œ ê°„ë‹¨íˆ í…ŒìŠ¤íŠ¸í•˜ê³  ì‹¶ì–´. 5. ê°ì¢… ìœ ìš©í•œ íŒì„ ëª¨ì•„ë‘ê³  ì‹¶ì–´. 6. ë‹¤ë¥¸ ì—¬ëŸ¬ ê³³ì—ì„œ ì°¸ì¡°í• ë§Œí•œ Resourceë¥¼ ëª¨ì•„ë‘ê³  ì‹¶ì–´(ì„¤ì • íŒŒì¼ ë“±) 7. Manual íŒŒì¼ë“¤ì„ ëª¨ì•„ë‘ê³  ì‹¶ì–´. ê°ê°ì˜ ì—…ë¬´ì— ëŒ€í•´ ì‘ì—…í•´ì•¼í•  í´ë”ë¥¼ ì•Œë ¤ì¤˜. ì—†ë‹¤ë©´ ì¶”ê°€í•´ì¤˜

</p>

<p>ì¢‹ì•„! ë„¤ê°€ ì ì–´ì¤€ 7ê°€ì§€ ì—…ë¬´ ê°ê°ì— ëŒ€í•´ <strong>ì–´ë””ì„œ ì‘ì—…í• ì§€</strong> + <strong>ì—†ë˜ í´ë”ëŠ” ì¶”ê°€</strong> ê¹Œì§€ ë‹¤ í•´ë†¨ì–´.<br />
ë°”ë¡œ ì“¸ ìˆ˜ ìˆê²Œ í…œí”Œë¦¿ê³¼ ìŠ¤í¬ë¦½íŠ¸ë„ ë„£ì–´ <strong>ì—…ë°ì´íŠ¸ëœ ìŠ¤íƒ€í„°</strong> ì••ì¶•ë³¸ì„ ë§Œë“¤ì—ˆì–´.</p>

<p>ì—…ë¬´ë³„ í™•ì¥ ìŠ¤íƒ€í„°(Tasks Extended) ë‹¤ìš´ë¡œë“œ</p>

<hr />

<h2 id="1-ë°°í¬-íˆ´-ë²„ê·¸-ì œë³´-ë””ë²„ê¹…">1) â€œë°°í¬ íˆ´ ë²„ê·¸ ì œë³´â€ ë””ë²„ê¹…</h2>

<ul>
  <li><strong>ì‘ì—… ìœ„ì¹˜(ì¬í˜„/ì¦ê±° ê´€ë¦¬)</strong><br />
<code class="language-plaintext highlighter-rouge">25_Jobs/BUG-YYYY-###_ì´ë¦„/</code>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>01_Report/      # ì œë³´ ë‚´ìš©, ê¸°ëŒ€/ì‹¤ì œ, í™˜ê²½
02_Repro/input  # ì¬í˜„ìš© ì…ë ¥/íŒŒì¼
03_Config/      # ì¬í˜„ íŒŒë¼ë¯¸í„°(.yml/.json)
04_Run/         # repro.py + run ìŠ¤í¬ë¦½íŠ¸(sh/ps1)
05_Evidence/    # ë¡œê·¸/ë¤í”„/ìŠ¤í¬ë¦°ìƒ·/ì²´í¬ì„¬
06_FixValidation# íŒ¨ì¹˜ ê²€ì¦ ì¼€ì´ìŠ¤
</code></pre></div>    </div>
  </li>
</ul>

<p>â†’ <strong>ìƒ˜í”Œ ìƒì„±ë¨:</strong> <code class="language-plaintext highlighter-rouge">25_Jobs/BUG-2025-001_sample_bug/</code> (report.md, repro.py í¬í•¨)</p>

<ul>
  <li>
    <p><strong>ì‘ì—… ìœ„ì¹˜(ì½”ë“œ ì¸¡ ê¸°ë¡)</strong><br />
<code class="language-plaintext highlighter-rouge">20_Projects/PRJ-.../issues/BUG-YYYY-###/</code></p>

    <ul>
      <li>
        <p><code class="language-plaintext highlighter-rouge">triage.md</code>: ì‹¬ê°ë„/ì˜í–¥/ì¶”ì • ì›ì¸/ë‹¤ìŒ ìŠ¤í…</p>
      </li>
      <li>
        <p><code class="language-plaintext highlighter-rouge">fix_notes.md</code>: ë£¨íŠ¸ì›ì¸/ì»¤ë°‹/í…ŒìŠ¤íŠ¸/ë¦´ë¦¬ì¦ˆ ê³„íš</p>
      </li>
    </ul>
  </li>
</ul>

<hr />

<h2 id="2-ë°°í¬í•œ-íˆ´ì˜-example-ì œì‘">2) ë°°í¬í•œ íˆ´ì˜ example ì œì‘</h2>

<ul>
  <li><strong>ì†ŒìŠ¤ ì˜ˆì œ(í”„ë¡œì íŠ¸ ì•ˆ)</strong><br />
<code class="language-plaintext highlighter-rouge">20_Projects/PRJ-.../examples/</code>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>data/      # ê³µê°œ ê°€ëŠ¥í•œ ì†Œí˜• ìƒ˜í”Œ ë°ì´í„°
scripts/   # run_*.py: ê¸°ëŠ¥ë³„ ìµœì†Œ ì˜ˆì œ
docs/      # ê° ì˜ˆì œì˜ ê¸°ëŒ€ ì¶œë ¥/ì„¤ëª…
</code></pre></div>    </div>
  </li>
</ul>

<p>â†’ <strong>ìƒ˜í”Œ ìƒì„±ë¨:</strong> <code class="language-plaintext highlighter-rouge">examples/scripts/run_hello.py</code>, <code class="language-plaintext highlighter-rouge">examples/docs/hello.md</code></p>

<ul>
  <li><strong>ì˜ˆì œ ê²°ê³¼ë¬¼ íŒ¨í‚¤ì§•(ì„ íƒ)</strong><br />
ì‹¤ì œ ì‚°ì¶œ íŒ¨í‚¤ì§€ë¡œ ë¬¶ê³  ì‹¶ìœ¼ë©´ <strong>Jobìœ¼ë¡œ ì‹¤í–‰</strong> :<br />
<code class="language-plaintext highlighter-rouge">25_Jobs/EX-YYYY-###_íˆ´ì˜ˆì œ/</code> (Job ìŠ¤ìºí´ë“œ ë³µì œ)</li>
</ul>

<hr />

<h2 id="3-ìƒˆë¡œ-ì„¤ì¹˜í•œ-íˆ´ì˜-ì‚¬ìš©ë²•feasibility-ìŠ¤ëª¨í¬-í…ŒìŠ¤íŠ¸">3) ìƒˆë¡œ ì„¤ì¹˜í•œ íˆ´ì˜ ì‚¬ìš©ë²•Â·feasibility ìŠ¤ëª¨í¬ í…ŒìŠ¤íŠ¸</h2>

<ul>
  <li>
    <p><strong>ì‘ì—… ìœ„ì¹˜</strong><br />
<code class="language-plaintext highlighter-rouge">25_Jobs/SMOKE-YYYY-###_toolname/</code></p>

    <ul>
      <li>
        <p><code class="language-plaintext highlighter-rouge">03_Config/commands.txt</code>ì— ë²„ì „ ì¶œë ¥ ë“± <strong>í†µê³¼ ê¸°ì¤€ ëª…ë ¹</strong> ì„ ë‚˜ì—´</p>
      </li>
      <li>
        <p><code class="language-plaintext highlighter-rouge">04_Run/smoke.sh</code>/<code class="language-plaintext highlighter-rouge">smoke.ps1</code>ê°€ ìˆœì°¨ ì‹¤í–‰ â†’ ê²°ê³¼ <code class="language-plaintext highlighter-rouge">06_Export/</code>ì— ë‚¨ê¹€<br />
â†’ <strong>ìƒ˜í”Œ ìƒì„±ë¨:</strong> <code class="language-plaintext highlighter-rouge">SMOKE-2025-001_new_tool/</code> (commands.txt, smoke.sh í¬í•¨)</p>
      </li>
    </ul>
  </li>
</ul>

<hr />

<h2 id="4-íŒŒì´ì¬regex-ë“±-ë¹ ë¥¸-ì‹¤í—˜-ìš©-jupyter">4) íŒŒì´ì¬/regex ë“± <strong>ë¹ ë¥¸ ì‹¤í—˜</strong> ìš© Jupyter</h2>

<ul>
  <li>
    <p><strong>ì‘ì—… ìœ„ì¹˜</strong><br />
<code class="language-plaintext highlighter-rouge">31_Labs/jupyter/</code></p>

    <ul>
      <li>
        <p><code class="language-plaintext highlighter-rouge">regex_scratch.ipynb</code>(ìƒì„±ë¨): ì†Œí˜• ì •ê·œí‘œí˜„ì‹ í…ŒìŠ¤íŠ¸ ë…¸íŠ¸ë¶</p>
      </li>
      <li>
        <p>ì‹¤í—˜ì€ <strong>ì‘ê²Œ</strong> í•˜ê³ , ë°°ìš´ ê±´ <code class="language-plaintext highlighter-rouge">30_Areas/kb</code>ë¡œ ì˜®ê²¨ ì •ë¦¬</p>
      </li>
    </ul>
  </li>
</ul>

<hr />

<h2 id="5-ê°ì¢…-ìœ ìš©í•œ-íŒ-ëª¨ìŒ">5) ê°ì¢… <strong>ìœ ìš©í•œ íŒ</strong> ëª¨ìŒ</h2>

<ul>
  <li><strong>ì‘ì—… ìœ„ì¹˜</strong><br />
<code class="language-plaintext highlighter-rouge">30_Areas/kb/</code>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tips/         # ë‹¨ë¬¸ íŒ (python.md, regex.md ìƒ˜í”Œ ìƒì„±)
cheatsheets/  # í•œ ì¥ ìš”ì•½
howtos/       # ì ˆì°¨í˜• ê°€ì´ë“œ
</code></pre></div>    </div>

    <ul>
      <li>ë¼ì´í”„ë¡œê·¸ì„± ë©”ëª¨ëŠ” ì—¬ê¸°, <strong>ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì½”ë“œ</strong> ëŠ” <code class="language-plaintext highlighter-rouge">50_Snippets/</code>ì— ë³´ê´€</li>
    </ul>
  </li>
</ul>

<hr />

<h2 id="6-ì—¬ëŸ¬-ê³³ì—ì„œ-ì°¸ì¡°í• -resourceì„¤ì •-ë“±-ì¤‘ì•™-ì €ì¥ì†Œ">6) ì—¬ëŸ¬ ê³³ì—ì„œ ì°¸ì¡°í•  <strong>Resource(ì„¤ì • ë“±) ì¤‘ì•™ ì €ì¥ì†Œ</strong></h2>

<ul>
  <li><strong>ì‘ì—… ìœ„ì¹˜</strong><br />
<code class="language-plaintext highlighter-rouge">40_Resources/reference/configs/</code>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>vscode/ ruff/ pytest/ pyinstaller/ pyside6/ jupyter/
</code></pre></div>    </div>
  </li>
</ul>

<p>â†’ ìƒ˜í”Œ <code class="language-plaintext highlighter-rouge">pytest.ini</code>, <code class="language-plaintext highlighter-rouge">ruff.toml</code>, <code class="language-plaintext highlighter-rouge">jupyter_notebook_config.py</code> í¬í•¨</p>

<ul>
  <li>ì‹¤ì œ í”„ë¡œì íŠ¸ì—ì„œ ê°€ì ¸ë‹¤ ì“¸ <strong>ê³¨ë“  ì„¤ì •</strong> ì€ ì—¬ê¸°ì„œ ê´€ë¦¬í•˜ê³ , ê° í”„ë¡œì íŠ¸ì—ëŠ” <strong>ì‹¬ë³¼ë¦­ ë§í¬/ë³µì‚¬</strong>.</li>
</ul>

<hr />

<h2 id="7-manual-íŒŒì¼-ëª¨ìŒ">7) <strong>Manual</strong> íŒŒì¼ ëª¨ìŒ</h2>

<ul>
  <li>
    <p><strong>ì‘ì—… ìœ„ì¹˜</strong><br />
<code class="language-plaintext highlighter-rouge">40_Resources/manuals/&lt;ë²¤ë”&gt;/&lt;ì œí’ˆ&gt;/&lt;ë²„ì „&gt;/</code><br />
â†’ ìƒ˜í”Œ: <code class="language-plaintext highlighter-rouge">manuals/AcmeTool/1.0/index.md</code></p>

    <ul>
      <li>PDF/HTML/ë§ˆí¬ë‹¤ìš´ ë§¤ë‰´ì–¼ ì •ë¦¬, ë£¨íŠ¸ <code class="language-plaintext highlighter-rouge">README.md</code>ì— ê·œì¹™ ì„¤ëª…</li>
    </ul>
  </li>
</ul>

<hr />

<h1 id="ë³´ë„ˆìŠ¤-ë¹ ë¥´ê²Œ-ì“°ëŠ”-ê·œì¹™ìš”ì•½">ë³´ë„ˆìŠ¤: ë¹ ë¥´ê²Œ ì“°ëŠ” ê·œì¹™(ìš”ì•½)</h1>

<ul>
  <li>
    <p><strong>Job ë„¤ì´ë°</strong> :</p>

    <ul>
      <li>
        <p>ë²„ê·¸: <code class="language-plaintext highlighter-rouge">BUG-2025-023_&lt;í‚¤ì›Œë“œ&gt;</code></p>
      </li>
      <li>
        <p>ì˜ˆì œ: <code class="language-plaintext highlighter-rouge">EX-2025-011_&lt;ê¸°ëŠ¥&gt;</code></p>
      </li>
      <li>
        <p>ìŠ¤ëª¨í¬: <code class="language-plaintext highlighter-rouge">SMOKE-2025-004_&lt;íˆ´ì´ë¦„&gt;</code></p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>ì‚°ì¶œ íŒŒì¼ëª…</strong> : <code class="language-plaintext highlighter-rouge">JOBì½”ë“œ_YYYYMMDD_v###.ext</code></p>
  </li>
  <li>
    <p><strong>ì¦ê±° ê´€ë¦¬</strong> : <code class="language-plaintext highlighter-rouge">05_Evidence</code>ì— ë¡œê·¸/ë¤í”„/ìŠ¤í¬ë¦°ìƒ· + <strong>SHA256</strong> ê¸°ë¡</p>
  </li>
  <li>
    <p><strong>ì§€ì‹ ì´ì „</strong> : <code class="language-plaintext highlighter-rouge">31_Labs</code> â†’ ì •ë¦¬ë˜ë©´ <code class="language-plaintext highlighter-rouge">30_Areas/kb</code>ë¡œ ìŠ¹ê²©</p>
  </li>
</ul>

<hr />

<p>ì›í•˜ë©´ ë‹ˆê°€ ì‹¤ì œë¡œ ì“°ëŠ” <strong>íˆ´ ì´ë¦„/ë„ë©”ì¸</strong>(ì˜ˆ: ì˜ìƒ ì²˜ë¦¬, ë¦¬í¬íŠ¸ ìƒì„±, CAD ë“±)ì„ ì•Œë ¤ì¤˜. ê·¸ëŸ¬ë©´ BUG/EX/SMOKE Job í…œí”Œë¦¿ì„ ê·¸ ë„ë©”ì¸ ê·œê²©(ì…ë ¥ í¬ë§·, QA ì²´í¬ë¦¬ìŠ¤íŠ¸, íŒŒì¼ëª… ê·œì¹™)ìœ¼ë¡œ ë” êµ¬ì²´í™”í•´ì„œ <strong>ë§ì¶¤ ìŠ¤ìºí´ë“œ</strong> ë¡œ ë°”ë¡œ ë‚´ì¤„ê²Œ.</p>

<p class="chat--user">

kbê°€ ë­ì•¼? ì´ì œ ì •ë¦¬ëœ êµ¬ì¡°ë¥¼ í•˜ë‚˜ì˜ plain text íŒŒì¼ë¡œ ì •ë¦¬í•´ì¤˜. ê° í´ë”ë³„ë¡œ ê°„ë‹¨í•œ ì„¤ëª…ì„ ì˜¤ë¥¸ìª½ì— ë¶™ì—¬ì£¼ë©´ ì¢‹ê² ì–´. í•˜ìœ„ í´ë” êµ¬ì¡° ì˜ˆì‹œë„ ê°™ì´ ì£¼ê³ 

</p>

<p>ì¢‹ì•„! ë¨¼ì € ì§ˆë¬¸ë¶€í„° ë‹µí• ê²Œ.</p>

<ul>
  <li><strong>kbê°€ ë­ì•¼?</strong><br />
<code class="language-plaintext highlighter-rouge">kb</code>ëŠ” <strong>knowledge base(ì§€ì‹ ë² ì´ìŠ¤)</strong>ì˜ ì¤„ì„ë§ì´ì•¼. ê³„ì† ì“°ì´ëŠ” íŒÂ·ì¹˜íŠ¸ì‹œíŠ¸Â·ê°€ì´ë“œ(How-to) ê°™ì€ <strong>ì¶•ì í˜• ì§€ì‹</strong> ì„ ëª¨ì•„ë‘ëŠ” í´ë”ê³ , ìš°ë¦¬ êµ¬ì¡°ì—ì„œëŠ” <code class="language-plaintext highlighter-rouge">30_Areas/kb/</code> ì•„ë˜ì— <code class="language-plaintext highlighter-rouge">tips/</code>, <code class="language-plaintext highlighter-rouge">cheatsheets/</code>, <code class="language-plaintext highlighter-rouge">howtos/</code>ë¡œ ë‚˜ëˆ ì„œ ì •ë¦¬í•´.</li>
</ul>

<p>ìš”ì²­í•œ ëŒ€ë¡œ, <strong>ì „ì²´ êµ¬ì¡°ë¥¼ plain text íŒŒì¼</strong> ë¡œ ë§Œë“¤ì–´ ë‘ì—ˆì–´. ê° í´ë” ì˜¤ë¥¸ìª½ì— <strong>ê°„ë‹¨ ì„¤ëª…</strong> ì´ ë¶™ì–´ ìˆê³ , <strong>í•˜ìœ„ êµ¬ì¡° ì˜ˆì‹œ</strong> ë„ í¬í•¨í–ˆì–´.</p>

<p>work_folder_structure.txt ë‹¤ìš´ë¡œë“œ</p>

<p>ì›ë³¸ì„ ê·¸ëŒ€ë¡œ ë¶™ì—¬ë„£ì–´ë„ ë˜ì§€ë§Œ, íŒŒì¼ë¡œ ë°›ì•„ë‘ë©´ íŒ€ì›ì—ê²Œ ì „ì†¡í•˜ê±°ë‚˜ ë¬¸ì„œì— ë§í¬ ê±¸ê¸° í¸í•´. í•„ìš”í•˜ë©´ ë„¤ ì‹¤ì œ í”„ë¡œì íŠ¸ëª…/íˆ´ëª…ìœ¼ë¡œ ì˜ˆì‹œë“¤ì„ ìë™ ì¹˜í™˜í•œ ë²„ì „ë„ ë§Œë“¤ì–´ ì¤„ê²Œ.</p>

<p class="chat--user">

ê·¸ëƒ¥ ë³¸ë¬¸ì— ì¨ì¤˜

</p>

<p>ì•„ë˜ ê·¸ëŒ€ë¡œ ë³µë¶™í•´ì„œ ì“°ë©´ ë¼ìš”. (ì˜¤ë¥¸ìª½ì€ ê°„ë‹¨ ì„¤ëª…, ë“¤ì—¬ì“°ê¸°ëŠ” ê³„ì¸µ)</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Work í´ë” êµ¬ì¡° ìš”ì•½ (ìƒì„±: 2025-08-26)
â€» ê° ì¤„ì˜ ì˜¤ë¥¸ìª½ì€ ê°„ë‹¨ ì„¤ëª…, ë“¤ì—¬ì“°ê¸°ëŠ” ê³„ì¸µì„ ì˜ë¯¸í•©ë‹ˆë‹¤.

Work/ - 1ì¸ ê°œë°œìš© ì‘ì—… ë£¨íŠ¸
  00_Inbox/ - ê¸‰íˆ ë˜ì ¸ë‘ëŠ” ì„ì‹œí•¨(ë§¤ì¼ ë¹„ìš°ê¸°)
  10_Today/ - ì˜¤ëŠ˜ ì§‘ì¤‘ ì‘ì—…(WIP), ëë‚˜ë©´ ì œìë¦¬ ì´ë™
  20_Projects/ - íˆ´(íŒŒì´ì¬ íŒ¨í‚¤ì§€) ê°œë°œ ê³µê°„
    PRJ-YYYY-NNN_name/ - ë‹¨ì¼ í”„ë¡œì íŠ¸(íŒ¨í‚¤ì§€) ë‹¨ìœ„
      src/ - íŒ¨í‚¤ì§€ ì†ŒìŠ¤ ì½”ë“œ
        &lt;package_name&gt;/ - ëª¨ë“ˆ ë””ë ‰í„°ë¦¬(ì˜ˆ: sample_app)
      tests/ - pytest í…ŒìŠ¤íŠ¸
      scripts/ - install/run/build/lint/test ìŠ¤í¬ë¦½íŠ¸(.sh/.ps1)
      examples/ - ë°°í¬ìš© ì˜ˆì œ ëª¨ìŒ
        data/ - ê³µê°œ ê°€ëŠ¥í•œ ì†Œí˜• ìƒ˜í”Œ ë°ì´í„°
        scripts/ - run_*.py ì˜ˆì œ ìŠ¤í¬ë¦½íŠ¸
        docs/ - ì˜ˆì œ ì„¤ëª… ë° ê¸°ëŒ€ ì¶œë ¥
      .devcontainer/ - ì»¨í…Œì´ë„ˆ ê°œë°œí™˜ê²½ ì„¤ì •(devcontainer.json ë“±)
      pyproject.toml - í”„ë¡œì íŠ¸ ë©”íƒ€, ì˜ì¡´ì„±, ì—”íŠ¸ë¦¬í¬ì¸íŠ¸
      README.md - ì‚¬ìš©ë²•/ê°œìš”
      .gitignore, .editorconfig - ê°œë°œ í¸ì˜
  25_Jobs/ - íˆ´ì„ ì‚¬ìš©í•´ ë§Œë“œëŠ” ì‹¤ì œ ì‚°ì¶œ ì‘ì—… ë‹¨ìœ„
    JOB-YYYY-NNN_name/ - ì¼ë°˜ ì‚°ì¶œ Job(ì…ë ¥â†’ì„¤ì •â†’ì‹¤í–‰â†’ì‚°ì¶œ)
      01_Brief/ - ìš”êµ¬ì‚¬í•­/ê²€ìˆ˜ê¸°ì¤€/ë§ˆê°
      02_Input/
        raw/ - ì›ì²œ ë°ì´í„°
      03_Config/ - íŒŒë¼ë¯¸í„°(yml/json), ëŸ° ì„¤ì •
      04_Run/ - ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸(run.sh/ps1, run.py), ë¡œê·¸
      05_Output/ - ì¤‘ê°„/ìµœì¢… ì‚°ì¶œë¬¼(ì‘ì—…ìš©)
      06_Export/ - ì „ë‹¬ë³¸(ìµœì¢… ì‚°ì¶œë¬¼)
      90_Archive/ - ì™„ë£Œ í›„ ë³´ê´€
    BUG-YYYY-NNN_name/ - ë°°í¬ ë²„ê·¸ ì¬í˜„/ì¦ê±°/ìˆ˜ì • ê²€ì¦ ìš© Job
      01_Report/ - ì œë³´ ë‚´ìš©, í™˜ê²½, ê¸°ëŒ€/ì‹¤ì œ
      02_Repro/
        input/ - ì¬í˜„ì— í•„ìš”í•œ ì…ë ¥
      03_Config/ - ì¬í˜„ íŒŒë¼ë¯¸í„°
      04_Run/ - repro.py, repro.sh/ps1, repro_log.txt
      05_Evidence/
        logs/ - ì½˜ì†”/í¬ë˜ì‹œ ë¡œê·¸, ìŠ¤í¬ë¦°ìƒ·, ì²´í¬ì„¬
      06_FixValidation/ - íŒ¨ì¹˜ ê²€ì¦ ì¼€ì´ìŠ¤
    EX-YYYY-NNN_name/ - íˆ´ ì˜ˆì œ ì‚°ì¶œ Job(ì„ íƒ, íŒ¨í‚¤ì§• ëª©ì )
    SMOKE-YYYY-NNN_tool/ - ìƒˆ íˆ´ ì„¤ì¹˜ í›„ ìŠ¤ëª¨í¬/feasibility í…ŒìŠ¤íŠ¸
      01_Brief/ - ì„±ê³µ ê¸°ì¤€ ì •ì˜
      03_Config/ - commands.txt: í…ŒìŠ¤íŠ¸ ëª…ë ¹ ëª©ë¡
      04_Run/ - smoke.sh/ps1ë¡œ ì¼ê´„ ì‹¤í–‰
      06_Export/ - ê²°ê³¼ ìš”ì•½(result.txt ë“±)
  30_Areas/ - ì§€ì† ì—…ë¬´ ì˜ì—­(Projectsì™€ ë‹¬ë¦¬ ê³„ì† ìœ ì§€)
    worklog/ - ì¼ì¼/ì£¼ê°„ ì‘ì—… ë¡œê·¸(YYYY/YY-MM/ë‚ ì§œ.md)
    environments/ - ê³µí†µ í™˜ê²½ ë©”ëª¨/ì „ëµ
    kb/ - knowledge base(ì§€ì‹ ë² ì´ìŠ¤): íŒÂ·ë¬¸ì„œÂ·ê°€ì´ë“œ ì¶•ì 
      tips/ - ë‹¨ë¬¸ íŒ ëª¨ìŒ(ì˜ˆ: python.md, regex.md)
      cheatsheets/ - í•œ ì¥ ìš”ì•½
      howtos/ - ì ˆì°¨í˜• ê°€ì´ë“œ
  31_Labs/ - ì‹¤í—˜ì‹¤ ì˜ì—­(ê°€ë²¼ìš´ í…ŒìŠ¤íŠ¸/ì‹¤ìŠµ)
    jupyter/ - ìŠ¤í¬ë˜ì¹˜ ë…¸íŠ¸ë¶(ì˜ˆ: regex_scratch.ipynb)
  40_Resources/ - ì°¸ê³  ìë£Œ(êµìœ¡/ë ˆí¼ëŸ°ìŠ¤/ë§¤ë‰´ì–¼/ì„¤ì •)
    edu/ - êµìœ¡Â·ë…¼ë¬¸Â·íŠœí† ë¦¬ì–¼
      courses/ - ê°•ì˜/ì½”ìŠ¤ ìë£Œ
      tutorials/ - íŠœí† ë¦¬ì–¼ ëª¨ìŒ
      papers/ - ë…¼ë¬¸ ê´€ë¦¬
        to_read/ - ì½ì„ ë…¼ë¬¸ PDF
        reading_notes/ - ë…¼ë¬¸ ë©”ëª¨(YYYY-MM-DD_ì œëª©.md, TEMPLATE.md í¬í•¨)
        summaries/ - 1~2í˜ì´ì§€ ìš”ì•½
    reference/ - ì—¬ëŸ¬ ê³³ì—ì„œ ì°¸ì¡°í•  ê³µí†µ ë¦¬ì†ŒìŠ¤
      configs/ - í‘œì¤€ ì„¤ì •(í”„ë¡œì íŠ¸ì—ì„œ ì¬ì‚¬ìš©)
        vscode/ - VSCode ì„¤ì •
        ruff/ - ruff.toml ì˜ˆì‹œ
        pytest/ - pytest.ini ì˜ˆì‹œ
        pyinstaller/ - ë¹Œë“œ ì„¤ì • í…œí”Œë¦¿
        pyside6/ - GUI í”„ë ˆì„ì›Œí¬ ê´€ë ¨
        jupyter/ - jupyter_notebook_config.py ì˜ˆì‹œ
    manuals/ - ë§¤ë‰´ì–¼/ê°€ì´ë“œ(PDF/HTML/MD)
      &lt;vendor&gt;/&lt;product&gt;/&lt;version&gt;/ - ë²„ì „ë³„ ì •ë¦¬
  50_Snippets/ - ì¬ì‚¬ìš© ì½”ë“œ/ë¬¸êµ¬
    sql/ - ì¿¼ë¦¬ ìŠ¤ë‹ˆí«
    text/ - ë¬¸ì„œ/ì´ë©”ì¼ ë¬¸êµ¬
    bash/ - ì‰˜ ìŠ¤ë‹ˆí«
  60_Assets/ - ë¡œê³ /í°íŠ¸/í…œí”Œë¦¿ ë“± ê³µìš© ë¦¬ì†ŒìŠ¤
  70_Exports/ - ì—¬ëŸ¬ Jobì˜ ìµœì¢… ì „ë‹¬ë³¸ ëª¨ì•„ë³´ê¸°(ì˜µì…˜)
  80_Tools/ - íˆ´ ì„¤ì¹˜/í¬í„°ë¸”/ìë™í™”
    installers/ - ì˜¤í”„ë¼ì¸ ì„¤ì¹˜ íŒŒì¼, install_notes.md(ë²„ì „Â·ì²´í¬ì„¬)
    bin/ - í¬í„°ë¸” ì‹¤í–‰íŒŒì¼
    scripts/ - ì„¤ì¹˜/ìœ í‹¸ ìŠ¤í¬ë¦½íŠ¸
    devcontainer/ - ê°œë°œ ì»¨í…Œì´ë„ˆ ê´€ë ¨
  85_Environments/ - ê°œë°œ í™˜ê²½ ì˜ˆì‹œ
    conda/
      environment.yml - conda í™˜ê²½ ì •ì˜
    venv/
      README.md - í‘œì¤€ venv ì‚¬ìš© ê°€ì´ë“œ
    docker/
      Dockerfile - ê°œë°œ ì»¨í…Œì´ë„ˆ ë² ì´ìŠ¤
  99_Archive/ - ì™„ë£Œ í”„ë¡œì íŠ¸/Job/ìë£Œ ë³´ê´€

[ë„¤ì´ë° ìš”ì•½]
- í”„ë¡œì íŠ¸ í´ë”: PRJ-ì—°ë„-ë²ˆí˜¸_ì§§ì€ì´ë¦„ (ì˜ˆ: PRJ-2025-012_GUItool)
- Job í´ë”: JOB/BUG/EX/SMOKE-ì—°ë„-ë²ˆí˜¸_ì´ë¦„
- íŒŒì¼: YYYY-MM-DD_ì œëª©_v001.ext (ìµœì¢…ë³¸ ê¸ˆì§€, ë²„ì „ ì¦ê°€)
- ê¹Šì´: ìµœëŒ€ 3ë‹¨ ìœ ì§€
</code></pre></div></div>

<p class="chat--user">

1. ë‚´ê°€ ë§Œë“  íˆ´ì„ ìœ ì €ë“¤ì—ê²Œ ë°°í¬í•  ì¥ì†Œë„ ìˆìœ¼ë©´ ì¢‹ê² ì–´. 2. ê³¨ë“  ì„¤ì • ë¿ ì•„ë‹ˆë¼ ë‚´ ê°œì¸ ì„¤ì •ì„ ì €ì¥í•  ê³³ë„ ìˆìœ¼ë©´ ì¢‹ê² ì–´. ë‘ ê°€ì§€ë¥¼ ì–´ë–»ê²Œ ê´€ë¦¬í•˜ë©´ ë  ì§€ ì•Œë ¤ì¤˜. í´ë” ì¶”ê°€ê°€ í•„ìš”í•˜ë‹¤ë©´ ì¶”ê°€í•´ì¤˜

</p>

<p>ì¢‹ì•„â€”ë‘ ê°€ì§€ë¥¼ ê¹”ë”í•˜ê²Œ ë‚˜ëˆ„ì.</p>

<h1 id="1-ë°°í¬-ì¥ì†Œ-ìœ ì €ì—ê²Œ-ì¤„-ìµœì¢…ë¬¼-ë³´ê´€">1) ë°°í¬ ì¥ì†Œ (ìœ ì €ì—ê²Œ ì¤„ ìµœì¢…ë¬¼ ë³´ê´€)</h1>

<h2 id="í´ë”-ì¶”ê°€">í´ë” ì¶”ê°€</h2>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/75_Releases                         â† â€œë°°í¬ ì „ìš©â€ ì¤‘ì•™ ë³´ê´€ì†Œ
  /&lt;project_slug&gt;/                   â† ì˜ˆ: sample-app
    /vX.Y.Z/                         â† ë¦´ë¦¬ìŠ¤ ë²„ì „ë³„
      /installers/                   â† .exe/.msi/.pkg/.dmg ë“±
      /wheels/                       â† Python wheel(s)
      /portable/                     â† í¬í„°ë¸”/ì••ì¶•ë³¸
      /docs/                         â† ì„¤ì¹˜ ê°€ì´ë“œ, README, FAQ
      /licenses/                     â† LICENSE, ThirdPartyNotices.txt
      /checksums/                    â† *.sha256 (ë¬´ê²°ì„± í™•ì¸)
      ReleaseNotes.md                â† ë¦´ë¦¬ìŠ¤ ë…¸íŠ¸
    /latest/                         â† ìµœì‹  ë²„ì „(ì‹¬ë³¼ë¦­ë§í¬ or ë³µì‚¬)
  catalog.json                       â† (ì„ íƒ) ë²„ì „/íŒŒì¼ ëª©ë¡ ì¸ë±ìŠ¤
</code></pre></div></div>

<h2 id="ìš´ìš©-ê·œì¹™ì§§ê²Œ">ìš´ìš© ê·œì¹™(ì§§ê²Œ)</h2>

<ol>
  <li>
    <p><strong>ë¹Œë“œ ì‚°ì¶œë¬¼</strong> ì€ í”„ë¡œì íŠ¸ ë‚´ë¶€ <code class="language-plaintext highlighter-rouge">dist/</code>ì— ìƒì„±</p>
  </li>
  <li>
    <p><strong>QA í†µê³¼</strong> í›„ <code class="language-plaintext highlighter-rouge">75_Releases/&lt;project&gt;/vX.Y.Z/</code>ë¡œ ë³µì‚¬</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">checksums/</code>ì— <code class="language-plaintext highlighter-rouge">*.sha256</code> ìƒì„±(ë¬´ê²°ì„± ê²€ì¦)</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">ReleaseNotes.md</code>ì™€ ê°„ë‹¨ ì„¤ì¹˜ ê°€ì´ë“œ <code class="language-plaintext highlighter-rouge">/docs/</code> ë°°ì¹˜</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">latest/</code>ë¥¼ ìƒˆ ë²„ì „ìœ¼ë¡œ ê°±ì‹ </p>
  </li>
  <li>
    <p>ì™¸ë¶€ ê³µìœ  ì‹œì—” <strong>ì´ ê²½ë¡œë§Œ ë§í¬</strong> (í”„ë¡œì íŠ¸ ë‚´ë¶€ <code class="language-plaintext highlighter-rouge">dist/</code>ëŠ” ê°œë°œìš©)</p>
  </li>
</ol>

<blockquote>
  <p>í•„ìš”í•˜ë©´ <code class="language-plaintext highlighter-rouge">25_Jobs/REL-YYYY-###_&lt;project&gt;_vX.Y.Z/</code> í˜•íƒœë¡œ <strong>ë¦´ë¦¬ìŠ¤ Job</strong> ì„ ë§Œë“¤ì–´ â€œì²´í¬ì„¬ ìƒì„±/ë…¸íŠ¸ ì‘ì„±/ë°°í¬ ë³µì‚¬â€ë¥¼ ìë™í™”í•˜ë©´ ì¢‹ì•„ìš”.</p>
</blockquote>

<hr />

<h1 id="2-ê°œì¸-ì„¤ì •-ë³´ê´€-ê³¨ë“ -ì„¤ì •ê³¼-ë¶„ë¦¬">2) ê°œì¸ ì„¤ì • ë³´ê´€ (ê³¨ë“  ì„¤ì •ê³¼ ë¶„ë¦¬)</h1>

<h2 id="í´ë”-ì¶”ê°€-1">í´ë” ì¶”ê°€</h2>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/40_Resources
  /reference/configs/                â† ê³¨ë“  ì„¤ì •(ê³µìœ Â·ë¬¸ì„œí™” ëŒ€ìƒ)
    vscode/ ruff/ pytest/ jupyter/ â€¦ 
  /personal/configs/                 â† ë‚´ PC/ì·¨í–¥/ë¹„ë°€ ê²½ë¡œ(ë¹„ê³µìœ )
    /os/                             â† osë³„ ì„¤ì •
      mac/  win/  linux/
    /shell/                          â† bash/zsh/powershell í”„ë¡œí•„
      bash/ zsh/ powershell/
    /editors/                        â† VSCode, PyCharm ì‚¬ìš©ì ì„¤ì •
      vscode/settings.user.json
      vscode/keybindings.user.json
    /git/                            â† .gitconfig.local ë“±
    /python/                         â† pip.conf, poetry.toml, pypirc
    /tools/                          â† ê°ì¢… íˆ´ ê°œì¸ í”„ë¦¬ì…‹
    /secrets/README.md               â† (ì‹¤ì œ ë¹„ë°€ì€ ë‘ì§€ ë§ê³  ì•ˆë‚´ë§Œ)
    .gitignore                       â† ê°œì¸/ë¯¼ê° íŒŒì¼ ì»¤ë°‹ ë°©ì§€
</code></pre></div></div>

<h3 id="ë ˆì´ì–´ë§ê¶Œì¥-íŒ¨í„´">ë ˆì´ì–´ë§(ê¶Œì¥ íŒ¨í„´)</h3>

<ul>
  <li>
    <p><strong>ê³¨ë“ (Base)</strong> : <code class="language-plaintext highlighter-rouge">/40_Resources/reference/configs/...</code></p>
  </li>
  <li>
    <p><strong>ê°œì¸(Override)</strong> : <code class="language-plaintext highlighter-rouge">/40_Resources/personal/configs/...</code></p>
  </li>
  <li>
    <p>ë¡œì§/ë„êµ¬ì—ì„œëŠ” <code class="language-plaintext highlighter-rouge">base + personal</code>ì„ <strong>ê²¹ì³ ì½ê¸°</strong>(ìˆìœ¼ë©´ ê°œì¸ì´ ìš°ì„ ).</p>

    <ul>
      <li>
        <p>ì˜ˆ: <code class="language-plaintext highlighter-rouge">config.yml</code> + <code class="language-plaintext highlighter-rouge">config.local.yml</code></p>
      </li>
      <li>
        <p>VSCode: <code class="language-plaintext highlighter-rouge">settings.json</code>(ê³¨ë“ ) + <code class="language-plaintext highlighter-rouge">settings.user.json</code>(ê°œì¸)</p>
      </li>
    </ul>
  </li>
</ul>

<h3 id="ì•ˆì „í¸ì˜-íŒ">ì•ˆì „/í¸ì˜ íŒ</h3>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">personal/configs/.gitignore</code>ì— <code class="language-plaintext highlighter-rouge">*.local</code>, <code class="language-plaintext highlighter-rouge">secrets/*</code>, <code class="language-plaintext highlighter-rouge">*.key</code>, <code class="language-plaintext highlighter-rouge">*.pem</code>, <code class="language-plaintext highlighter-rouge">*.p12</code>, <code class="language-plaintext highlighter-rouge">id_*</code>, <code class="language-plaintext highlighter-rouge">*token*</code>, <code class="language-plaintext highlighter-rouge">.env*</code> ë“± <strong>ê´‘ë²”ìœ„ ì°¨ë‹¨</strong></p>
  </li>
  <li>
    <p>ì§„ì§œ ë¹„ë°€ê°’ì€ ì €ì¥í•˜ì§€ ë§ê³  <strong>ì˜ˆì‹œë§Œ</strong>(e.g. <code class="language-plaintext highlighter-rouge">.env.example</code>) ë‚¨ê¸°ê¸°</p>
  </li>
  <li>
    <p>í™ˆ ë””ë ‰í„°ë¦¬ì™€ <strong>ì‹¬ë³¼ë¦­ ë§í¬</strong> ë¡œ ì—°ê²°í•˜ëŠ” ë¶€íŠ¸ìŠ¤íŠ¸ë© ìŠ¤í¬ë¦½íŠ¸ë¥¼ <code class="language-plaintext highlighter-rouge">80_Tools/scripts/bootstrap_*</code>ì— ë‘¬ë„ ì¢‹ìŒ</p>

    <ul>
      <li>ì˜ˆ: <code class="language-plaintext highlighter-rouge">ln -s /Work/40_Resources/personal/configs/shell/zsh/.zshrc ~/.zshrc</code></li>
    </ul>
  </li>
</ul>

<hr />

<h1 id="ë¹ ë¥¸-ìš”ì•½í•œ-ì¤„ì”©">ë¹ ë¥¸ ìš”ì•½(í•œ ì¤„ì”©)</h1>

<ul>
  <li>
    <p><strong>ë°°í¬</strong> ëŠ” <code class="language-plaintext highlighter-rouge">/75_Releases/&lt;project&gt;/vX.Y.Z/</code>ì— ë²„ì „/ì²´í¬ì„¬/ë¬¸ì„œê¹Œì§€ <strong>ì›ìŠ¤í†± ì •ë¦¬</strong> , <code class="language-plaintext highlighter-rouge">latest/</code>ë¡œ ìµœì‹  í¬ì¸í„° ì œê³µ.</p>
  </li>
  <li>
    <p><strong>ì„¤ì •</strong> ì€ â€œê³µìœ  ê°€ëŠ¥í•œ ê³¨ë“ â€ì€ <code class="language-plaintext highlighter-rouge">/40_Resources/reference/configs/</code>, â€œë‚´ ì·¨í–¥/ê°œì¸/ë¯¼ê°â€ì€ <code class="language-plaintext highlighter-rouge">/40_Resources/personal/configs/</code>ë¡œ <strong>ì´ì›í™”</strong> í•˜ê³ , íˆ´ì€ <strong>ê°œì¸ ì„¤ì •ì„ ë®ì–´ì“°ê¸° ë ˆì´ì–´</strong> ë¡œ ì½ê²Œ ì„¤ê³„.</p>
  </li>
</ul>

<p>ì›í•˜ë©´ ìœ„ êµ¬ì¡°ë¥¼ ë„¤ í˜„ì¬ ìŠ¤íƒ€í„°ì— <strong>ì‹¤ì œ í´ë”/ìƒ˜í”Œ íŒŒì¼ê¹Œì§€ ì¶”ê°€í•œ ì••ì¶•ë³¸</strong> ìœ¼ë¡œ ë°”ë¡œ ë§Œë“¤ì–´ ì¤„ê²Œ.</p>

<p class="chat--user">

ì´ì œ ë§ˆì§€ë§‰ìœ¼ë¡œ ì§€ê¸ˆê¹Œì§€ì˜ ëª¨ë“  ë‚´ìš©ì„ ì •ë¦¬í•˜ì. 1. ìµœì¢… í´ë” êµ¬ì¡°(ê° í´ë”ì— ëŒ€í•œ ì„¤ëª…ê³¼ ì˜ˆì‹œ êµ¬ì¡°ì™€ í•¨ê»˜) 2. ì£¼ìš” ì—…ë¬´ flow

</p>

<p>ì¢‹ì•„â€”ì§€ê¸ˆê¹Œì§€ ë§Œë“  ê±¸ í•œ ë²ˆì— ë³´ê¸° ì¢‹ê²Œ ì •ë¦¬í–ˆì–´.<br />
í•„ìš”í•˜ë©´ ë°”ë¡œ ë³µë¶™í•´ì„œ íŒ€ ë¬¸ì„œ/Notionì— ë„£ì–´ë„ ë¼.</p>

<h1 id="1-ìµœì¢…-í´ë”-êµ¬ì¡°-ì„¤ëª…--ì˜ˆì‹œ-í•˜ìœ„-êµ¬ì¡°">1) ìµœì¢… í´ë” êµ¬ì¡° (ì„¤ëª… + ì˜ˆì‹œ í•˜ìœ„ êµ¬ì¡°)</h1>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Work/                                - 1ì¸ ê°œë°œìš© ì‘ì—… ë£¨íŠ¸
  00_Inbox/                          - ê¸‰íˆ ë˜ì ¸ë‘ëŠ” ì„ì‹œí•¨(ë§¤ì¼ ë¹„ìš°ê¸°)
  10_Today/                          - ì˜¤ëŠ˜ ì§‘ì¤‘ ì‘ì—…(WIP), ëë‚˜ë©´ ì œìë¦¬ ì´ë™

  20_Projects/                       - íˆ´(íŒŒì´ì¬ íŒ¨í‚¤ì§€) ê°œë°œ ê³µê°„
    PRJ-YYYY-NNN_name/               - ë‹¨ì¼ í”„ë¡œì íŠ¸(íŒ¨í‚¤ì§€) ë‹¨ìœ„ (ì˜ˆ: PRJ-2025-001_sample_app)
      src/&lt;package_name&gt;/            - íŒ¨í‚¤ì§€ ì†ŒìŠ¤(ì˜ˆ: sample_app/)
      tests/                         - pytest í…ŒìŠ¤íŠ¸
      scripts/                       - install/run/build/lint/test ìŠ¤í¬ë¦½íŠ¸(.sh/.ps1)
      examples/                      - ë°°í¬ìš© ì˜ˆì œ ëª¨ìŒ
        data/                        - ê³µê°œ ê°€ëŠ¥í•œ ì†Œí˜• ìƒ˜í”Œ ë°ì´í„°
        scripts/                     - run_*.py ì˜ˆì œ ìŠ¤í¬ë¦½íŠ¸
        docs/                        - ì˜ˆì œ ì„¤ëª… ë° ê¸°ëŒ€ ì¶œë ¥
      issues/                        - ë²„ê·¸/ê°œì„  ì´ìŠˆ ë…¸íŠ¸(ì˜ˆ: BUG-2025-001/)
      .devcontainer/                 - ì»¨í…Œì´ë„ˆ ê°œë°œí™˜ê²½ ì„¤ì •
      docs/                          - í”„ë¡œì íŠ¸ ë¬¸ì„œ(ì„¤ê³„/ADR/ê°€ì´ë“œ)
      pyproject.toml                 - ë©”íƒ€/ì˜ì¡´ì„±/ì—”íŠ¸ë¦¬í¬ì¸íŠ¸
      .gitignore, .editorconfig, README.md

  25_Jobs/                           - íˆ´ì„ ì‚¬ìš©í•´ ë§Œë“œëŠ” â€œì‚°ì¶œë¬¼ ì‘ì—… ë‹¨ìœ„â€
    JOB-YYYY-NNN_name/               - ì¼ë°˜ ì‚°ì¶œ Job(ì…ë ¥â†’ì„¤ì •â†’ì‹¤í–‰â†’ì‚°ì¶œ)
      01_Brief/                      - ìš”êµ¬ì‚¬í•­/ê²€ìˆ˜ê¸°ì¤€/ë§ˆê°
      02_Input/
        raw/                         - ì›ì²œ ë°ì´í„°
      03_Config/                     - íŒŒë¼ë¯¸í„°(yml/json)
      04_Run/                        - run.sh/ps1, run.py, ë¡œê·¸
      05_Output/                     - ì¤‘ê°„/ìµœì¢… ì‚°ì¶œë¬¼(ì‘ì—…ìš©)
      06_Export/                     - ì „ë‹¬ë³¸(ìµœì¢… ì‚°ì¶œë¬¼)
      90_Archive/                    - ì™„ë£Œ í›„ ë³´ê´€
    BUG-YYYY-NNN_name/               - ë°°í¬ ë²„ê·¸ ì¬í˜„/ì¦ê±°/ìˆ˜ì • ê²€ì¦ Job
      01_Report/                     - ì œë³´ ë‚´ìš©, í™˜ê²½, ê¸°ëŒ€/ì‹¤ì œ
      02_Repro/input/                - ì¬í˜„ ì…ë ¥
      03_Config/                     - ì¬í˜„ íŒŒë¼ë¯¸í„°
      04_Run/                        - repro.py + ìŠ¤í¬ë¦½íŠ¸, repro_log.txt
      05_Evidence/logs/              - ì½˜ì†”/í¬ë˜ì‹œ ë¡œê·¸Â·ìŠ¤í¬ë¦°ìƒ·Â·ì²´í¬ì„¬
      06_FixValidation/              - íŒ¨ì¹˜ ê²€ì¦ ì¼€ì´ìŠ¤
    EX-YYYY-NNN_name/                - â€œíˆ´ ì˜ˆì œâ€ ì‚°ì¶œ Job(íŒ¨í‚¤ì§• ëª©ì )
    SMOKE-YYYY-NNN_tool/             - ìƒˆ íˆ´ ì„¤ì¹˜ í›„ ìŠ¤ëª¨í¬/feasibility í…ŒìŠ¤íŠ¸
      01_Brief/                      - ì„±ê³µ ê¸°ì¤€ ì •ì˜
      03_Config/                     - commands.txt: í…ŒìŠ¤íŠ¸ ëª…ë ¹ ëª©ë¡
      04_Run/                        - smoke.sh/ps1ë¡œ ì¼ê´„ ì‹¤í–‰
      06_Export/                     - ê²°ê³¼ ìš”ì•½(result.txt ë“±)

  30_Areas/                          - ì§€ì† ì—…ë¬´(Projectsì™€ ë‹¬ë¦¬ ê³„ì† ìœ ì§€)
    worklog/YYYY/YY-MM/ë‚ ì§œ.md       - ì¼ì¼/ì£¼ê°„ ì‘ì—… ë¡œê·¸(5ì¤„ ìš”ì•½ ê¶Œì¥)
    environments/                    - ê³µí†µ í™˜ê²½ ë©”ëª¨/ì „ëµ
    kb/                              - knowledge base(ì§€ì‹ ë² ì´ìŠ¤)
      tips/                          - ë‹¨ë¬¸ íŒ(ì˜ˆ: python.md, regex.md)
      cheatsheets/                   - í•œ ì¥ ìš”ì•½
      howtos/                        - ì ˆì°¨í˜• ê°€ì´ë“œ

  31_Labs/                           - ì‹¤í—˜ì‹¤(ê°€ë²¼ìš´ í…ŒìŠ¤íŠ¸/ì‹¤ìŠµ)
    jupyter/                         - ìŠ¤í¬ë˜ì¹˜ ë…¸íŠ¸ë¶(ì˜ˆ: regex_scratch.ipynb)

  40_Resources/                      - ì°¸ê³  ìë£Œ(êµìœ¡/ë ˆí¼ëŸ°ìŠ¤/ì„¤ì •/ë§¤ë‰´ì–¼)
    edu/                             - êµìœ¡Â·ë…¼ë¬¸Â·íŠœí† ë¦¬ì–¼
      courses/                       - ê°•ì˜/ì½”ìŠ¤ ìë£Œ
      tutorials/                     - íŠœí† ë¦¬ì–¼ ëª¨ìŒ
      papers/                        - ë…¼ë¬¸ ê´€ë¦¬
        to_read/                     - ì½ì„ ë…¼ë¬¸ PDF
        reading_notes/               - ë©”ëª¨(YYYY-MM-DD_ì œëª©.md, TEMPLATE.md)
        summaries/                   - 1~2 í˜ì´ì§€ ìš”ì•½
    reference/                       - â€œê³¨ë“ â€ ê³µìš© ì„¤ì •(ê³µìœ /ë¬¸ì„œí™” ëŒ€ìƒ)
      configs/                       - í‘œì¤€ ì„¤ì • ëª¨ìŒ
        vscode/ ruff/ pytest/ pyinstaller/ pyside6/ jupyter/
    personal/                        - ê°œì¸ ì„¤ì •(ë‚´ PC/ì·¨í–¥/ë¹„ê³µê°œ)
      configs/
        os/{mac,win,linux}/          - OSë³„ ì„¤ì •
        shell/{bash,zsh,powershell}/ - ì‰˜ í”„ë¡œí•„
        editors/vscode/              - settings.user.json, keybindings.user.json
        git/                         - .gitconfig.local ë“±
        python/                      - pip.conf, poetry.toml, pypirc
        tools/                       - ê°ì¢… ë„êµ¬ ê°œì¸ í”„ë¦¬ì…‹
        secrets/README.md            - (ì‹¤ì œ ë¹„ë°€ì€ ë‘ì§€ ì•ŠìŒ)
        .gitignore                   - *.local, secrets/* ë“± ê´‘ë²”ìœ„ ì°¨ë‹¨
    manuals/                         - ë§¤ë‰´ì–¼/ê°€ì´ë“œ(PDF/HTML/MD)
      &lt;vendor&gt;/&lt;product&gt;/&lt;version&gt;/  - ë²„ì „ë³„ ì •ë¦¬

  50_Snippets/                       - ì¬ì‚¬ìš© ì½”ë“œ/ë¬¸êµ¬
    sql/ text/ bash/

  60_Assets/                         - ë¡œê³ /í°íŠ¸/í…œí”Œë¦¿ ë“± ê³µìš© ë¦¬ì†ŒìŠ¤

  70_Exports/                        - ì—¬ëŸ¬ Jobì˜ â€œìµœì¢… ì „ë‹¬ë³¸â€ ëª¨ì•„ë³´ê¸°(ì˜µì…˜)

  75_Releases/                       - ìœ ì € ë°°í¬ ì „ìš© ì¤‘ì•™ ë³´ê´€ì†Œ
    &lt;project_slug&gt;/                  - ì˜ˆ: sample-app
      vX.Y.Z/                        - ë²„ì „ë³„ í´ë”
        installers/                  - .exe/.msi/.pkg/.dmg ë“±
        wheels/                      - Python wheel(s)
        portable/                    - í¬í„°ë¸”/ì••ì¶•ë³¸
        docs/                        - ì„¤ì¹˜ ê°€ì´ë“œ, README, FAQ
        licenses/                    - LICENSE, ThirdPartyNotices.txt
        checksums/                   - *.sha256 (ë¬´ê²°ì„± í™•ì¸)
        ReleaseNotes.md              - ë¦´ë¦¬ìŠ¤ ë…¸íŠ¸
      latest/                        - ìµœì‹  ë²„ì „(ì‹¬ë³¼ë¦­ ë§í¬ ë˜ëŠ” ë³µì‚¬)
    catalog.json                     - (ì„ íƒ) ë²„ì „/íŒŒì¼ ì¸ë±ìŠ¤

  80_Tools/                          - íˆ´ ì„¤ì¹˜/í¬í„°ë¸”/ìë™í™”
    installers/                      - ì˜¤í”„ë¼ì¸ ì„¤ì¹˜ íŒŒì¼, install_notes.md
    bin/                             - í¬í„°ë¸” ì‹¤í–‰íŒŒì¼
    scripts/                         - ì„¤ì¹˜/ìœ í‹¸/ë¶€íŠ¸ìŠ¤íŠ¸ë© ìŠ¤í¬ë¦½íŠ¸
    devcontainer/                    - ê°œë°œ ì»¨í…Œì´ë„ˆ ê´€ë ¨

  85_Environments/                   - ê°œë°œ í™˜ê²½ ì˜ˆì‹œ
    conda/environment.yml
    venv/README.md
    docker/Dockerfile

  99_Archive/                        - ì™„ë£Œ í”„ë¡œì íŠ¸/Job/ìë£Œ ë³´ê´€
</code></pre></div></div>

<h3 id="ë„¤ì´ë°--ë²„ì „-ê·œì¹™ìš”ì•½">ë„¤ì´ë° &amp; ë²„ì „ ê·œì¹™(ìš”ì•½)</h3>

<ul>
  <li>
    <p><strong>í”„ë¡œì íŠ¸ í´ë”</strong> : <code class="language-plaintext highlighter-rouge">PRJ-ì—°ë„-ë²ˆí˜¸_ì§§ì€ì´ë¦„</code> (ì˜ˆ: <code class="language-plaintext highlighter-rouge">PRJ-2025-012_GUIíˆ´</code>)</p>
  </li>
  <li>
    <p><strong>Job í´ë”</strong> : <code class="language-plaintext highlighter-rouge">JOB/BUG/EX/SMOKE-ì—°ë„-ë²ˆí˜¸_ì´ë¦„</code></p>
  </li>
  <li>
    <p><strong>íŒŒì¼</strong> : <code class="language-plaintext highlighter-rouge">YYYY-MM-DD_ì œëª©_v001.ext</code> (ìµœì¢…ë³¸ ê¸ˆì§€, ë²„ì „ ì¦ê°€)</p>
  </li>
  <li>
    <p><strong>ê¹Šì´</strong> : ìµœëŒ€ 3ë‹¨</p>
  </li>
  <li>
    <p><strong>ì„¤ì • ë ˆì´ì–´ë§</strong> : <code class="language-plaintext highlighter-rouge">reference/configs</code>(ê³µìš© ê³¨ë“ ) + <code class="language-plaintext highlighter-rouge">personal/configs</code>(ë‚´ ì˜¤ë²„ë¼ì´ë“œ)</p>
  </li>
</ul>

<hr />

<h1 id="2-ì£¼ìš”-ì—…ë¬´-flow-í•µì‹¬-ë‹¨ê³„ë³„">2) ì£¼ìš” ì—…ë¬´ Flow (í•µì‹¬ ë‹¨ê³„ë³„)</h1>

<h2 id="a-íˆ´íŒŒì´ì¬-íŒ¨í‚¤ì§€-ê°œë°œ--ë¦´ë¦¬ìŠ¤">A. íˆ´(íŒŒì´ì¬ íŒ¨í‚¤ì§€) ê°œë°œ â†’ ë¦´ë¦¬ìŠ¤</h2>

<ol>
  <li>
    <p><strong>í”„ë¡œì íŠ¸ ìƒì„±/ì§„í–‰</strong> : <code class="language-plaintext highlighter-rouge">20_Projects/PRJ-...</code></p>

    <ul>
      <li>
        <p><code class="language-plaintext highlighter-rouge">./scripts/install.(sh|ps1)</code>ë¡œ venv + dev ì˜ì¡´ì„± ì„¤ì¹˜</p>
      </li>
      <li>
        <p>ê¸°ëŠ¥ ì¶”ê°€ â†’ <code class="language-plaintext highlighter-rouge">tests/</code>ì— ë‹¨ìœ„ í…ŒìŠ¤íŠ¸, <code class="language-plaintext highlighter-rouge">ruff</code>ë¡œ ë¦°íŠ¸</p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>ì‹¤í–‰íŒŒì¼ ë¹Œë“œ(ì˜µì…˜)</strong> : <code class="language-plaintext highlighter-rouge">./scripts/build_cli.sh</code> / <code class="language-plaintext highlighter-rouge">build_gui.sh</code></p>
  </li>
  <li>
    <p><strong>ë¦´ë¦¬ìŠ¤ ì‚°ì¶œ ì •ë¦¬</strong> : QA í†µê³¼ í›„ <code class="language-plaintext highlighter-rouge">75_Releases/&lt;project&gt;/vX.Y.Z/</code>ì—</p>

    <ul>
      <li>
        <p><code class="language-plaintext highlighter-rouge">installers/</code>, <code class="language-plaintext highlighter-rouge">wheels/</code>, <code class="language-plaintext highlighter-rouge">portable/</code> + <code class="language-plaintext highlighter-rouge">docs/</code>, <code class="language-plaintext highlighter-rouge">licenses/</code>, <code class="language-plaintext highlighter-rouge">checksums/*.sha256</code></p>
      </li>
      <li>
        <p><code class="language-plaintext highlighter-rouge">ReleaseNotes.md</code> ì‘ì„±, <code class="language-plaintext highlighter-rouge">latest/</code> ê°±ì‹ </p>
      </li>
      <li>
        <p>(ì„ íƒ) <code class="language-plaintext highlighter-rouge">25_Jobs/REL-YYYY-###_...</code>ë¡œ ë¦´ë¦¬ìŠ¤ ìë™í™” Job ìš´ì˜</p>
      </li>
    </ul>
  </li>
</ol>

<h2 id="b-ì‹¤ì œ-ì‚°ì¶œë¬¼-ë§Œë“¤ê¸°ë„êµ¬-ì‚¬ìš©--ê²°ê³¼-ì „ë‹¬">B. ì‹¤ì œ ì‚°ì¶œë¬¼ ë§Œë“¤ê¸°(ë„êµ¬ ì‚¬ìš© â†’ ê²°ê³¼ ì „ë‹¬)</h2>

<ol>
  <li>
    <p><strong>Job ìƒì„±</strong> : <code class="language-plaintext highlighter-rouge">25_Jobs/JOB-YYYY-###_ì´ë¦„</code> ë³µì œ</p>
  </li>
  <li>
    <p><strong>ì…ë ¥/ì„¤ì •</strong> : <code class="language-plaintext highlighter-rouge">02_Input/raw/</code>ì— ë°ì´í„°, <code class="language-plaintext highlighter-rouge">03_Config/config.yml</code> ì‘ì„±</p>
  </li>
  <li>
    <p><strong>ì‹¤í–‰</strong> : <code class="language-plaintext highlighter-rouge">04_Run/run.sh|ps1</code> â†’ ê²°ê³¼ <code class="language-plaintext highlighter-rouge">06_Export/</code>, ë¡œê·¸Â·ë§¤ë‹ˆí˜ìŠ¤íŠ¸ ìë™ ìƒì„±</p>
  </li>
  <li>
    <p><strong>ê²€ìˆ˜/ì „ë‹¬</strong> : <code class="language-plaintext highlighter-rouge">qa_checklist.md</code> í™•ì¸ â†’ í•„ìš” ì‹œ <code class="language-plaintext highlighter-rouge">70_Exports/</code>ì— ëª¨ì•„ë‘ê¸°</p>
  </li>
  <li>
    <p><strong>ì¬í˜„ì„± í™•ë³´</strong> : ë§¤ë‹ˆí˜ìŠ¤íŠ¸ì— <strong>íˆ´ ë²„ì „/íŒŒë¼ë¯¸í„°/OS/Python/ì²´í¬ì„¬</strong> ê¸°ë¡</p>
  </li>
</ol>

<h2 id="c-ë°°í¬-ë²„ê·¸-ì œë³´--ë””ë²„ê¹…--ìˆ˜ì •-ê²€ì¦">C. ë°°í¬ ë²„ê·¸ ì œë³´ â†’ ë””ë²„ê¹… â†’ ìˆ˜ì • ê²€ì¦</h2>

<ol>
  <li>
    <p><strong>ìˆ˜ì§‘/ì •ë¦¬</strong> : <code class="language-plaintext highlighter-rouge">25_Jobs/BUG-YYYY-###_.../01_Report/</code>ì— ì œë³´Â·í™˜ê²½Â·ì¬í˜„ ì ˆì°¨ ê¸°ë¡</p>
  </li>
  <li>
    <p><strong>ì¬í˜„ ì„¸íŒ…</strong> : <code class="language-plaintext highlighter-rouge">02_Repro/input/</code>, <code class="language-plaintext highlighter-rouge">03_Config/</code> êµ¬ì„± â†’ <code class="language-plaintext highlighter-rouge">04_Run/repro.py</code> ì‹¤í–‰</p>
  </li>
  <li>
    <p><strong>ì¦ê±° ìˆ˜ì§‘</strong> : <code class="language-plaintext highlighter-rouge">05_Evidence/logs/</code>ì— ë¡œê·¸Â·ë¤í”„Â·ìŠ¤í¬ë¦°ìƒ·Â·ì²´í¬ì„¬</p>
  </li>
  <li>
    <p><strong>ì½”ë“œ ì‘ì—…</strong> : <code class="language-plaintext highlighter-rouge">20_Projects/.../issues/BUG-.../triage.md</code> â†’ ì›ì¸/ìˆ˜ì • ë°©í–¥</p>
  </li>
  <li>
    <p><strong>ê²€ì¦</strong> : <code class="language-plaintext highlighter-rouge">06_FixValidation/</code> ì‹œë‚˜ë¦¬ì˜¤ í†µê³¼ í›„ íŒ¨ì¹˜ ë¦´ë¦¬ìŠ¤(Flow Aë¡œ ì—°ê²°)</p>
  </li>
</ol>

<h2 id="d-ë°°í¬-ì˜ˆì œexample-ì œì‘">D. ë°°í¬ ì˜ˆì œ(example) ì œì‘</h2>

<ol>
  <li>
    <p><strong>í”„ë¡œì íŠ¸ ë‚´</strong> <code class="language-plaintext highlighter-rouge">examples/{data,scripts,docs}</code>ì— <strong>ìµœì†Œ ì‹¤í–‰ ì˜ˆì œ</strong> ì‘ì„±</p>
  </li>
  <li>
    <p>(ì„ íƒ) íŒ¨í‚¤ì§•/ì „ë‹¬ìš©ì´ë©´ <code class="language-plaintext highlighter-rouge">25_Jobs/EX-YYYY-###_...</code>ë¡œ Job í™” â†’ ì¬í˜„/ì „ë‹¬ ê´€ë¦¬</p>
  </li>
</ol>

<h2 id="e-ìƒˆë¡œ-ì„¤ì¹˜í•œ-íˆ´-ìŠ¤ëª¨í¬feasibility-í…ŒìŠ¤íŠ¸">E. ìƒˆë¡œ ì„¤ì¹˜í•œ íˆ´ ìŠ¤ëª¨í¬/feasibility í…ŒìŠ¤íŠ¸</h2>

<ol>
  <li>
    <p><strong>Job ìƒì„±</strong> : <code class="language-plaintext highlighter-rouge">25_Jobs/SMOKE-YYYY-###_tool/</code></p>
  </li>
  <li>
    <p><strong>ëª…ë ¹ ì •ì˜</strong> : <code class="language-plaintext highlighter-rouge">03_Config/commands.txt</code>(ì˜ˆ: <code class="language-plaintext highlighter-rouge">tool --version</code>)</p>
  </li>
  <li>
    <p><strong>ì‹¤í–‰</strong> : <code class="language-plaintext highlighter-rouge">04_Run/smoke.sh|ps1</code> â†’ <code class="language-plaintext highlighter-rouge">06_Export/result.txt</code></p>
  </li>
  <li>
    <p><strong>íŒì •</strong> : ì„±ê³µ ê¸°ì¤€(ì‹œê°„/ì¢…ë£Œì½”ë“œ/ì¶œë ¥) ì¶©ì¡± í™•ì¸</p>
  </li>
</ol>

<h2 id="f-ë¹ ë¥¸-ì‹¤í—˜ì •ê·œí‘œí˜„ì‹íŒŒì´ì¬-ë¬¸ë²•-ë“±">F. ë¹ ë¥¸ ì‹¤í—˜(ì •ê·œí‘œí˜„ì‹Â·íŒŒì´ì¬ ë¬¸ë²• ë“±)</h2>

<ol>
  <li>
    <p><strong>ìŠ¤í¬ë˜ì¹˜</strong> : <code class="language-plaintext highlighter-rouge">31_Labs/jupyter/regex_scratch.ipynb</code> ë“±ì—ì„œ <strong>ì‘ê²Œ</strong> ì‹¤í—˜</p>
  </li>
  <li>
    <p><strong>ì§€ì‹í™”</strong> : ìœ íš¨í•œ ë‚´ìš©ì€ <code class="language-plaintext highlighter-rouge">30_Areas/kb/{tips,cheatsheets,howtos}</code>ë¡œ ìŠ¹ê²© ì •ë¦¬</p>
  </li>
</ol>

<h2 id="g-ì§€ì‹ì„¤ì •-ìì‚°í™”ê³¨ë“ -vs-ê°œì¸">G. ì§€ì‹/ì„¤ì • ìì‚°í™”(ê³¨ë“  vs ê°œì¸)</h2>

<ul>
  <li>
    <p><strong>ê³¨ë“  ì„¤ì •</strong> : <code class="language-plaintext highlighter-rouge">40_Resources/reference/configs/</code>ì—ì„œ <strong>ê³µìœ  ê°€ëŠ¥í•œ í‘œì¤€</strong> ì„ ê´€ë¦¬</p>
  </li>
  <li>
    <p><strong>ê°œì¸ ì„¤ì •</strong> : <code class="language-plaintext highlighter-rouge">40_Resources/personal/configs/</code>ì— ë‚´ ì·¨í–¥/PCë³„ ì„¤ì • ì €ì¥</p>
  </li>
  <li>
    <p><strong>ë ˆì´ì–´ë§ ì›ì¹™</strong> : ë„êµ¬ê°€ <code class="language-plaintext highlighter-rouge">base(ê³¨ë“ ) + personal(ì˜¤ë²„ë¼ì´ë“œ)</code>ë¥¼ í•¨ê»˜ ì½ë„ë¡ ì„¤ê³„</p>
  </li>
  <li>
    <p><strong>ë¶€íŠ¸ìŠ¤íŠ¸ë©</strong> : <code class="language-plaintext highlighter-rouge">80_Tools/scripts/</code>ì— ì‹¬ë³¼ë¦­ ë§í¬/ë³µì‚¬ ìŠ¤í¬ë¦½íŠ¸ ë‘ê³  í™˜ê²½ ì‹ ì† ë°˜ì˜</p>
  </li>
</ul>

<h2 id="h-ë§¤ë‰´ì–¼ë ˆí¼ëŸ°ìŠ¤êµìœ¡ìë£Œ-ê´€ë¦¬">H. ë§¤ë‰´ì–¼/ë ˆí¼ëŸ°ìŠ¤/êµìœ¡ìë£Œ ê´€ë¦¬</h2>

<ul>
  <li>
    <p><strong>ë…¼ë¬¸/êµìœ¡</strong> : <code class="language-plaintext highlighter-rouge">40_Resources/edu/</code>ì—ì„œ <code class="language-plaintext highlighter-rouge">to_read â†’ reading_notes â†’ summaries</code> íë¦„</p>
  </li>
  <li>
    <p><strong>ë§¤ë‰´ì–¼</strong> : <code class="language-plaintext highlighter-rouge">40_Resources/manuals/&lt;vendor&gt;/&lt;product&gt;/&lt;version&gt;/</code>ì— ë²„ì „ë³„ ì •ë¦¬</p>
  </li>
  <li>
    <p><strong>ê³µí†µ ì°¸ì¡° ë¦¬ì†ŒìŠ¤</strong> : <code class="language-plaintext highlighter-rouge">40_Resources/reference/</code>(ê³¨ë“ )ì™€ <code class="language-plaintext highlighter-rouge">personal/</code>(ê°œì¸)ë¥¼ êµ¬ë¶„</p>
  </li>
</ul>

<h2 id="i-ì¼ìƒ-ìš´ì˜-ë£¨í‹´">I. ì¼ìƒ ìš´ì˜ ë£¨í‹´</h2>

<ul>
  <li>
    <p><strong>ë§¤ì¼</strong> : ìº¡ì²˜ëŠ” <code class="language-plaintext highlighter-rouge">00_Inbox</code> â†’ ë‹¹ì¼ ì‘ì—…ì€ <code class="language-plaintext highlighter-rouge">10_Today</code>ì—ì„œ ì²˜ë¦¬ â†’ ì œìë¦¬ ì´ë™</p>
  </li>
  <li>
    <p><strong>ì£¼ 1íšŒ</strong> : <code class="language-plaintext highlighter-rouge">00_Inbox</code> ë¹„ìš°ê¸°, ì™„ë£Œ Job/ProjectëŠ” <code class="language-plaintext highlighter-rouge">99_Archive</code>ë¡œ ì´ë™, <code class="language-plaintext highlighter-rouge">70_Exports</code> ì •ë¦¬</p>
  </li>
  <li>
    <p><strong>ì›” 1íšŒ</strong> : <code class="language-plaintext highlighter-rouge">40_Resources/edu</code>/<code class="language-plaintext highlighter-rouge">kb</code> ì •ë¦¬, ë¶ˆìš© ìë£Œ ì•„ì¹´ì´ë¸Œ</p>
  </li>
</ul>

<hr />

<p>í•„ìš”í•˜ë©´ ë„¤ í™˜ê²½/ë„ë©”ì¸(ì˜ˆ: ì˜ìƒÂ·ë¦¬í¬íŠ¸Â·CAD) ê¸°ì¤€ìœ¼ë¡œ <strong>Job í…œí”Œë¦¿ì˜ QA ì²´í¬ë¦¬ìŠ¤íŠ¸/íŒŒì¼ëª… ê·œê²©/íŒŒë¼ë¯¸í„° ìŠ¤í‚¤ë§ˆ</strong> ë¥¼ ë” ì´˜ì´˜íˆ ì»¤ìŠ¤í„°ë§ˆì´ì¦ˆí•´ì„œ ë°”ë¡œ ì“¸ ë²„ì „ìœ¼ë¡œ ë§Œë“¤ì–´ì¤„ê²Œ.</p>

<p class="chat--user">

ê·¼ë° 31_Labsë‘ 25_Jobs/SMOKE*ë‘ ì—­í• ì´ ê²¹ì¹˜ì§„ ì•Šë‚˜?

</p>

<p>ì¢‹ì€ ì§ˆë¬¸! ë‘˜ì´ ì‚´ì§ ê²¹ì³ ë³´ì´ì§€ë§Œ <strong>ëª©ì Â·í˜•ì‹Â·ë³´ì¡´ì„±</strong> ì´ ë‹¤ë¦…ë‹ˆë‹¤. ì•„ë˜ì²˜ëŸ¼ ì“°ë©´ ê¹”ë”í•´ìš”.</p>

<h2 id="ê²°ë¡ -ë¨¼ì €">ê²°ë¡  ë¨¼ì €</h2>

<ul>
  <li>
    <p><strong>31<em>Labs** = _ê°œì¸ìš© ìŠ¤í¬ë˜ì¹˜ ê³µê°„</em>. ë¹¨ë¦¬ ì‹œë„í•˜ê³  ë²„ë ¤ë„ ë˜ëŠ” **ì§§ì€ ì‹¤í—˜</strong>(regex, íŒŒì´ì¬ ë¬¸ë²•, ë¼ì´ë¸ŒëŸ¬ë¦¬ API ê° ì¡ê¸°).</p>
  </li>
  <li>
    <p><strong>25<em>Jobs/SMOKE-** * = _ì¬í˜„ ê°€ëŠ¥í•œ ì ê²€ ê³µê°„</em>. **ìƒˆë¡œ ì„¤ì¹˜í•œ íˆ´ì˜ ë™ì‘ í™•ì¸/feasibility</strong> ë¥¼ <strong>ì¦ê±°ì™€ í•¨ê»˜</strong> ë‚¨ê¸°ëŠ” <strong>ê³µì‹ ìŠ¤ëª¨í¬ í…ŒìŠ¤íŠ¸</strong>.</p>
  </li>
</ul>

<hr />

<h2 id="ì–¸ì œ-ì–´ë””ì—-ê²°ì •-ê·œì¹™">ì–¸ì œ ì–´ë””ì—? (ê²°ì • ê·œì¹™)</h2>

<ol>
  <li>
    <p><strong>5ë¶„/50ì¤„ ê·œì¹™</strong></p>

    <ul>
      <li>
        <p>5ë¶„ ë‚´, 50ì¤„ ì´í•˜ì˜ ì¦‰í¥ í…ŒìŠ¤íŠ¸ â†’ <strong>31_Labs</strong></p>
      </li>
      <li>
        <p>ì„¤ì¹˜Â·í™˜ê²½ ì˜ì¡´, í†µê³¼ ê¸°ì¤€/ë¡œê·¸/ê²°ê³¼ë¥¼ ë‚¨ê²¨ì•¼ í•¨ â†’ <strong>SMOKE Job</strong></p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>ì¬í˜„ í•„ìš”? ê³µìœ  í•„ìš”?</strong></p>

    <ul>
      <li>
        <p>â€œë‚˜ë§Œ ì ê¹ í™•ì¸â€ â†’ <strong>31_Labs</strong></p>
      </li>
      <li>
        <p>â€œë‚˜ì¤‘ì— ë˜ ëŒë¦¬ê±°ë‚˜ ì¦ë¹™/ë¹„êµ í•„ìš”â€ â†’ <strong>SMOKE Job</strong></p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>ì…ë ¥/ì„¤ì •/ì¶œë ¥ êµ¬ì¡°ê°€ í•„ìš”?</strong></p>

    <ul>
      <li>
        <p>í•„ìš” ì—†ìŒ(ë©”ëª¨ì„±/ì½”ë“œ ì¡°ê°) â†’ <strong>31_Labs</strong></p>
      </li>
      <li>
        <p>í•„ìš” ìˆìŒ(ëª…ë ¹ ëª©ë¡, ë¡œê·¸, ê²°ê³¼ë¬¼, ë§¤ë‹ˆí˜ìŠ¤íŠ¸) â†’ <strong>SMOKE Job</strong></p>
      </li>
    </ul>
  </li>
</ol>

<hr />

<h2 id="ì—­í• -ì°¨ì´-í•œëˆˆì—">ì—­í•  ì°¨ì´ í•œëˆˆì—</h2>

<table>
  <thead>
    <tr>
      <th>êµ¬ë¶„</th>
      <th>31_Labs</th>
      <th>25_Jobs/SMOKE-*</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>ëª©ì </td>
      <td>ë¹ ë¥¸ ì‹¤í—˜, ê°œë… í™•ì¸</td>
      <td>ì„¤ì¹˜ ê²€ì¦/feasibility, ì¬í˜„/ì¦ë¹™</td>
    </tr>
    <tr>
      <td>í˜•ì‹</td>
      <td>ììœ (ë…¸íŠ¸ë¶/ìŠ¤í¬ë¦½íŠ¸)</td>
      <td>ì •í˜•(ì…ë ¥Â·ì„¤ì •Â·ì‹¤í–‰Â·ê²°ê³¼ í´ë”)</td>
    </tr>
    <tr>
      <td>ê²°ê³¼</td>
      <td>ë²„ë ¤ë„ ë¨, ìš”ì•½ë§Œ kbë¡œ ìŠ¹ê²©</td>
      <td>ë¡œê·¸/ê²°ê³¼/ì²´í¬ì„¬Â·í†µê³¼ê¸°ì¤€ ë³´ì¡´</td>
    </tr>
    <tr>
      <td>ê³µìœ ì„±</td>
      <td>ê°œì¸ ì¤‘ì‹¬</td>
      <td>ê³µìœ Â·ì¬ì‚¬ìš© ì „ì œ</td>
    </tr>
    <tr>
      <td>ì˜ˆ</td>
      <td>regex íŒ¨í„´, pandas í•œ ì¤„ í…ŒìŠ¤íŠ¸</td>
      <td><code class="language-plaintext highlighter-rouge">tool --version</code>Â·ìƒ˜í”Œ ì‹¤í–‰Â·ì„±ëŠ¥ ìŠ¤ëƒ…ìƒ·</td>
    </tr>
  </tbody>
</table>

<hr />

<h2 id="ì¶©ëŒì¤‘ë³µì„-í”¼í•˜ëŠ”-ìš´ìš©-ë£°">ì¶©ëŒ/ì¤‘ë³µì„ í”¼í•˜ëŠ” ìš´ìš© ë£°</h2>

<ul>
  <li>
    <p><strong>í”„ë¡œëª¨ì…˜ ì‚¬ë‹¤ë¦¬</strong> : 31_Labsì—ì„œ ì‹œì‘ â†’ â€œì¬í˜„/ê³µìœ  í•„ìš”â€ íŒë‹¨ë˜ë©´ <strong>SMOKE Jobìœ¼ë¡œ ìŠ¹ê²©</strong></p>

    <ol>
      <li>
        <p><code class="language-plaintext highlighter-rouge">25_Jobs/SMOKE-YYYY-###_&lt;tool&gt;/</code> ìƒì„±</p>
      </li>
      <li>
        <p>Labsì—ì„œ í™•ì¸í•œ ëª…ë ¹ë“¤ì„ <code class="language-plaintext highlighter-rouge">03_Config/commands.txt</code>ë¡œ ì˜®ê¹€</p>
      </li>
      <li>
        <p>ê¸°ëŒ€ ì¶œë ¥/ì„±ê³µ ê¸°ì¤€ì„ <code class="language-plaintext highlighter-rouge">01_Brief/brief.md</code>ì— ëª…ì‹œ</p>
      </li>
      <li>
        <p><code class="language-plaintext highlighter-rouge">04_Run/smoke.sh|ps1</code> ì‹¤í–‰ â†’ <code class="language-plaintext highlighter-rouge">06_Export/result.txt</code>ì™€ ë¡œê·¸ë¡œ ì¦ë¹™</p>
      </li>
    </ol>
  </li>
  <li>
    <p><strong>ë³´ì¡´ ì •ì±…</strong> : 31_Labs ì‚°ì¶œë¬¼ì€ <strong>7ì¼ ì´ë‚´</strong> ì—</p>

    <ul>
      <li>
        <p>ì§€ì‹ì€ <code class="language-plaintext highlighter-rouge">30_Areas/kb/{tips, cheatsheets, howtos}</code>ë¡œ</p>
      </li>
      <li>
        <p>ì¬í˜„ í…ŒìŠ¤íŠ¸ëŠ” <strong>SMOKE Job</strong> ìœ¼ë¡œ</p>
      </li>
      <li>
        <p>ë‚˜ë¨¸ì§€ëŠ” ì‚­ì œ/ì•„ì¹´ì´ë¸Œ</p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>ë„¤ì´ë°</strong> :</p>

    <ul>
      <li>
        <p>Labs ë…¸íŠ¸ë¶: <code class="language-plaintext highlighter-rouge">YYYY-MM-DD_topic.ipynb</code></p>
      </li>
      <li>
        <p>SMOKE Job: <code class="language-plaintext highlighter-rouge">SMOKE-YYYY-###_&lt;tool&gt;</code> + ê²°ê³¼ íŒŒì¼ <code class="language-plaintext highlighter-rouge">result.txt</code>, ë¡œê·¸ <code class="language-plaintext highlighter-rouge">run_log.txt</code></p>
      </li>
    </ul>
  </li>
</ul>

<hr />

<h2 id="í´ë”-ë°°ì¹˜ìµœì¢…-ê¶Œì¥">í´ë” ë°°ì¹˜(ìµœì¢… ê¶Œì¥)</h2>

<ul>
  <li>
    <p><strong>31_Labs/jupyter/</strong></p>

    <ul>
      <li>
        <p><code class="language-plaintext highlighter-rouge">regex_scratch.ipynb</code> (ì§§ì€ íŒ¨í„´/ë¬¸ë²• í…ŒìŠ¤íŠ¸)</p>
      </li>
      <li>
        <p><code class="language-plaintext highlighter-rouge">proto_*.ipynb</code> (ì§§ì€ ì‹¤í—˜ë“¤)</p>
      </li>
    </ul>
  </li>
  <li>
    <p>**25<em>Jobs/SMOKE-YYYY-###</em> <tool>/**</tool></p>

    <ul>
      <li>
        <p><code class="language-plaintext highlighter-rouge">01_Brief/</code> (ì„±ê³µ ê¸°ì¤€)</p>
      </li>
      <li>
        <p><code class="language-plaintext highlighter-rouge">03_Config/commands.txt</code> (ê²€ì¦ ëª…ë ¹ ë¦¬ìŠ¤íŠ¸)</p>
      </li>
      <li>
        <p><code class="language-plaintext highlighter-rouge">04_Run/smoke.sh|ps1</code> (ì¼ê´„ ì‹¤í–‰)</p>
      </li>
      <li>
        <p><code class="language-plaintext highlighter-rouge">06_Export/result.txt</code> + ë¡œê·¸/ë§¤ë‹ˆí˜ìŠ¤íŠ¸(ì¦ë¹™)</p>
      </li>
    </ul>
  </li>
</ul>

<hr />

<h2 id="ì˜ˆì‹œ-ì‹œë‚˜ë¦¬ì˜¤">ì˜ˆì‹œ ì‹œë‚˜ë¦¬ì˜¤</h2>

<ul>
  <li>
    <p><strong>â€œffmpeg ìƒˆ ë²„ì „ ê¹”ì•˜ëŠ”ë° ì˜µì…˜ ì˜ ë¨¹ë‚˜?â€</strong></p>

    <ul>
      <li>Labsì—ì„œ ì˜µì…˜ í•œë‘ ê°œ <strong>ì¦‰ì„ í™•ì¸</strong> â†’ ì •ìƒì´ë¼ë„ <strong>SMOKE Job</strong> ìœ¼ë¡œ ìŠ¹ê²©í•´ <code class="language-plaintext highlighter-rouge">ffmpeg -version</code>, ìƒ˜í”Œ ë³€í™˜ 1ê±´, ì²˜ë¦¬ì‹œê°„, ì¶œë ¥ í•´ì‹œê¹Œì§€ ê¸°ë¡.</li>
    </ul>
  </li>
  <li>
    <p><strong>â€œì •ê·œì‹ lookbehind ê¸°ì–µ ì•ˆ ë‚˜ë„¤?â€</strong></p>

    <ul>
      <li><strong>Labs ë…¸íŠ¸ë¶</strong> ì—ì„œ ë°”ë¡œ í…ŒìŠ¤íŠ¸ â†’ ìœ ìš©í•œ íŒ¨í„´ì€ <code class="language-plaintext highlighter-rouge">kb/regex.md</code>ì— ì¶”ê°€.</li>
    </ul>
  </li>
</ul>

<hr />

<h2 id="ë¯¸ë‹ˆë©€ì„-ì›í•œë‹¤ë©´">ë¯¸ë‹ˆë©€ì„ ì›í•œë‹¤ë©´</h2>

<ul>
  <li>
    <p>31_Labsë¥¼ <strong>ì™„ì „íˆ ì—†ì• ê³ </strong> ëª¨ë“  ê²€ì¦ì„ SMOKEë¡œë§Œ í•´ë„ ë©ë‹ˆë‹¤. ë‹¤ë§Œ ì´ˆê¸° íƒìƒ‰ ì†ë„ëŠ” ë–¨ì–´ì ¸ìš”.</p>
  </li>
  <li>
    <p>ë°˜ëŒ€ë¡œ ê°„ë‹¨íˆ í•˜ê³  ì‹¶ë‹¤ë©´, â€œì„¤ì¹˜ ê²€ì¦/ì¦ë¹™ì´ í•„ìš”í•œ ê²ƒë§Œ SMOKE, ë‚˜ë¨¸ì§€ëŠ” Labsâ€ë¡œ ìœ ì§€í•˜ëŠ” ê²Œ ë³´í†µ ê°€ì¥ íš¨ìœ¨ì ì…ë‹ˆë‹¤.</p>
  </li>
</ul>

<p>ì›í•˜ë©´ <strong>Labsâ†’SMOKE ìë™ ìŠ¹ê²© ìŠ¤í¬ë¦½íŠ¸</strong>(ë…¸íŠ¸ë¶ ì½”ë“œ ë¸”ë¡ì„ <code class="language-plaintext highlighter-rouge">commands.txt</code>ë¡œ ë³€í™˜, Job ìŠ¤ì¼ˆë ˆí†¤ ìƒì„±)ë„ ë§Œë“¤ì–´ ì¤„ê²Œ.</p>

<p class="chat--user">

kb ëŒ€ì‹  í•œêµ­ì¸ì´ ì‰½ê²Œ ì´í•´í• ë§Œí•œ ì‰¬ìš´ ë‹¨ì–´ ì¶”ì²œí•´ì£¼ê³ , í´ë” êµ¬ì¡° ë‹¤ì‹œ í•œ ë²ˆ ìì„¸íˆ ì„¤ëª…í•´ì¤˜. ëª‡ëª‡ ë¼ì¸ì— ëŒ€í•œ ì„¤ëª…ì´ ë¹ ì ¸ ìˆëŠ”ê²ƒ ê°™ì•„

</p>

<p>ì¢‹ì€ í¬ì¸íŠ¸! ë¨¼ì € <strong>kb</strong> ëŒ€ì²´ì–´ë¶€í„° ì •ë¦¬í•˜ê³ , ê·¸ë‹¤ìŒ <strong>í´ë” êµ¬ì¡°ë¥¼ í•œ ì¤„ë„ ë¹ ì§ì—†ì´ ìƒì„¸ ì„¤ëª…</strong> ìœ¼ë¡œ ë‹¤ì‹œ ì¨ì¤„ê²Œ.</p>

<h2 id="kb-ëŒ€ì²´ì–´í•œêµ­ì–´">kb ëŒ€ì²´ì–´(í•œêµ­ì–´)</h2>

<ul>
  <li>
    <p>1ìˆœìœ„ ì¶”ì²œ: <strong>ë…¸í•˜ìš°</strong> â€” ê°€ì¥ ì§ê´€ì ì´ê³  ì§§ìŒ</p>
  </li>
  <li>
    <p>ëŒ€ì•ˆ: <strong>ì§€ì‹ì°½ê³ </strong> , <strong>ë©”ëª¨ëª¨ìŒ</strong> , <strong>ê°€ì´ë“œë¶</strong><br />
â†’ ì•„ë˜ êµ¬ì¡°ì—ì„œëŠ” <code class="language-plaintext highlighter-rouge">30_Areas/kb</code>ë¥¼ <strong><code class="language-plaintext highlighter-rouge">30_Areas/ë…¸í•˜ìš°</code></strong>ë¡œ ë°”ê¿”ì„œ í‘œê¸°í• ê²Œ.</p>
  </li>
</ul>

<hr />

<h2 id="ìµœì¢…-í´ë”-êµ¬ì¡°-ì„¤ëª…--ì˜ˆì‹œ-í•˜ìœ„-êµ¬ì¡°-í¬í•¨">ìµœì¢… í´ë” êµ¬ì¡° (ì„¤ëª… + ì˜ˆì‹œ í•˜ìœ„ êµ¬ì¡° í¬í•¨)</h2>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Work/                                - 1ì¸ ê°œë°œìš© ì‘ì—… ë£¨íŠ¸(ëª¨ë“  ì—…ë¬´ì˜ ìµœê³  ë£¨íŠ¸)
  00_Inbox/                          - ê¸‰íˆ ë˜ì ¸ë‘ëŠ” ì„ì‹œí•¨(ë§¤ì¼/ì£¼ 1íšŒ ë¹„ìš°ê¸°)
  10_Today/                          - ì˜¤ëŠ˜ ì§‘ì¤‘ ì‘ì—…(WIP) ì„ì‹œ ê±°ì (ëë‚˜ë©´ ì œìë¦¬ë¡œ ì´ë™)

  20_Projects/                       - íˆ´(íŒŒì´ì¬ íŒ¨í‚¤ì§€) ê°œë°œ ê³µê°„(ì½”ë“œ ìˆ˜ëª… ì¤‘ì‹¬)
    PRJ-YYYY-NNN_name/               - ê°œë³„ í”„ë¡œì íŠ¸(ì˜ˆ: PRJ-2025-001_sample_app)
      src/&lt;package_name&gt;/            - íŒ¨í‚¤ì§€ ì†ŒìŠ¤(ì˜ˆ: sample_app/)
      tests/                         - pytest í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤
      scripts/                       - install/run/build/lint/test ìŠ¤í¬ë¦½íŠ¸(.sh/.ps1)
      examples/                      - ë°°í¬ìš© ì˜ˆì œ(ìµœì†Œ ì‹¤í–‰ ê°€ëŠ¥ ìƒ˜í”Œ)
        data/                        - ê³µê°œ ê°€ëŠ¥í•œ ì†Œí˜• ìƒ˜í”Œ ë°ì´í„°
        scripts/                     - run_*.py ì˜ˆì œ ìŠ¤í¬ë¦½íŠ¸
        docs/                        - ì˜ˆì œ ì„¤ëª…Â·ê¸°ëŒ€ ì¶œë ¥
      issues/                        - ë²„ê·¸/ê°œì„  ì´ìŠˆ ë…¸íŠ¸(ì˜ˆ: BUG-2025-001/)
      docs/                          - ì„¤ê³„ ë¬¸ì„œ/ADR/ê°€ì´ë“œ
      .devcontainer/                 - ì»¨í…Œì´ë„ˆ ê°œë°œí™˜ê²½(devcontainer.json ë“±)
      pyproject.toml                 - ë©”íƒ€/ì˜ì¡´ì„±/ì—”íŠ¸ë¦¬í¬ì¸íŠ¸(PEP 621)
      .gitignore, .editorconfig, README.md - ê°œë°œ í¸ì˜Â·ê°œìš”

  25_Jobs/                           - íˆ´ì„ ì‚¬ìš©í•´ ë§Œë“œëŠ” â€œì‚°ì¶œë¬¼ ì‘ì—… ë‹¨ìœ„â€(í”„ë¡œì„¸ìŠ¤ ì¤‘ì‹¬)
    JOB-YYYY-NNN_name/               - ì¼ë°˜ ì‚°ì¶œ Job(ì…ë ¥â†’ì„¤ì •â†’ì‹¤í–‰â†’ì‚°ì¶œ)
      01_Brief/                      - ìš”êµ¬ì‚¬í•­/ìˆ˜ë½ ê¸°ì¤€/ë§ˆê° ëª…ì‹œ
      02_Input/
        raw/                         - ì›ì²œ ë°ì´í„°(ì½ê¸° ì „ìš© ë³´ê´€)
      03_Config/                     - íŒŒë¼ë¯¸í„°(yml/json), ì‹¤í–‰ ì„¤ì •
      04_Run/                        - run.sh|ps1, run.py, ì‹¤í–‰ ë¡œê·¸
      05_Output/                     - ì¤‘ê°„/ìµœì¢… ì‚°ì¶œë¬¼(ì‘ì—… ì˜ì—­)
      06_Export/                     - ì „ë‹¬ë³¸(ìµœì¢… ì‚°ì¶œë¬¼)
      90_Archive/                    - ì™„ë£Œ í›„ ì¥ê¸° ë³´ê´€
    BUG-YYYY-NNN_name/               - ë°°í¬ ë²„ê·¸ ì¬í˜„/ì¦ê±°/ìˆ˜ì • ê²€ì¦ Job
      01_Report/                     - ì œë³´ ë‚´ìš©Â·í™˜ê²½Â·ê¸°ëŒ€/ì‹¤ì œ ê¸°ë¡
      02_Repro/input/                - ì¬í˜„ì— í•„ìš”í•œ ì…ë ¥ ìƒ˜í”Œ
      03_Config/                     - ì¬í˜„ íŒŒë¼ë¯¸í„°Â·í”Œë˜ê·¸
      04_Run/                        - repro.py + ìŠ¤í¬ë¦½íŠ¸, repro_log.txt
      05_Evidence/logs/              - ì½˜ì†”/í¬ë˜ì‹œ ë¡œê·¸Â·ìŠ¤í¬ë¦°ìƒ·Â·ì²´í¬ì„¬
      06_FixValidation/              - íŒ¨ì¹˜ ê²€ì¦ ì‹œë‚˜ë¦¬ì˜¤/ê²°ê³¼
    EX-YYYY-NNN_name/                - â€œíˆ´ ì˜ˆì œâ€ë¥¼ íŒ¨í‚¤ì§•Â·ë°°í¬í•˜ê¸° ìœ„í•œ Job(ì„ íƒ)
    SMOKE-YYYY-NNN_tool/             - ìƒˆ íˆ´ ì„¤ì¹˜ í›„ ìŠ¤ëª¨í¬/feasibility í…ŒìŠ¤íŠ¸
      01_Brief/                      - ì„±ê³µ ê¸°ì¤€(ì‹œê°„Â·ì¢…ë£Œì½”ë“œÂ·ì¶œë ¥) ì •ì˜
      03_Config/                     - commands.txt: ê²€ì¦ ëª…ë ¹ ëª©ë¡
      04_Run/                        - smoke.sh|ps1ë¡œ ì¼ê´„ ì‹¤í–‰(ë¡œê·¸ ë‚¨ê¹€)
      06_Export/                     - ê²°ê³¼ ìš”ì•½(result.txt ë“±)

  30_Areas/                          - ì§€ì† ì—…ë¬´(ì¥ê¸° ìœ ì§€ë˜ëŠ” ì˜ì—­)
    worklog/YYYY/YY-MM/ë‚ ì§œ.md       - ì¼ì¼/ì£¼ê°„ ì‘ì—… ë¡œê·¸(5ì¤„ ìš”ì•½ ê¶Œì¥)
    environments/                    - ê³µí†µ í™˜ê²½ ë©”ëª¨/ì „ëµ(ì˜ˆ: Python ë²„ì „ ì •ì±…)
    ë…¸í•˜ìš°/                          - Knowledge Base(ì¶•ì í˜• ì§€ì‹, â€˜kbâ€™ ëŒ€ì²´)
      íŒ/                             - ë‹¨ë¬¸ íŒ(ì˜ˆ: python.md, regex.md)
      ìš”ì•½í‘œ/                         - í•œ ì¥ì§œë¦¬ ì¹˜íŠ¸ì‹œíŠ¸
      ê°€ì´ë“œ/                         - ì ˆì°¨í˜• How-to(ì„¤ì¹˜/ë°°í¬/ë””ë²„ê¹… ì ˆì°¨)

  31_Labs/                           - ì‹¤í—˜ì‹¤(ì§§ì€ í…ŒìŠ¤íŠ¸/í”„ë¡œí† íƒ€ì…; ì¬í˜„ ë¶ˆí•„ìˆ˜)
    jupyter/                         - ìŠ¤í¬ë˜ì¹˜ ë…¸íŠ¸ë¶(ì˜ˆ: regex_scratch.ipynb)

  40_Resources/                      - ì°¸ê³  ìë£Œ(êµìœ¡/ë ˆí¼ëŸ°ìŠ¤/ì„¤ì •/ë§¤ë‰´ì–¼)
    edu/                             - êµìœ¡Â·ë…¼ë¬¸Â·íŠœí† ë¦¬ì–¼
      courses/                       - ê°•ì˜Â·ì½”ìŠ¤ ìë£Œ(ìŠ¬ë¼ì´ë“œ/ë…¸íŠ¸)
      tutorials/                     - íŠœí† ë¦¬ì–¼ ëª¨ìŒ(ë§í¬/ì½”ë“œ)
      papers/                        - ë…¼ë¬¸ ê´€ë¦¬(ì½ê¸°â†’ë©”ëª¨â†’ìš”ì•½ íë¦„)
        to_read/                     - ì½ì„ ë…¼ë¬¸ PDF
        reading_notes/               - ë©”ëª¨(YYYY-MM-DD_ì œëª©.md, TEMPLATE.md í¬í•¨)
        summaries/                   - 1~2í˜ì´ì§€ ìš”ì•½ë³¸
    reference/                       - â€œê³¨ë“ â€ ê³µìš© ì„¤ì •(ê³µìœ Â·ë¬¸ì„œí™” ëŒ€ìƒ)
      configs/                       - í‘œì¤€ ì„¤ì • ëª¨ìŒ(í”„ë¡œì íŠ¸ì—ì„œ ì¬ì‚¬ìš©)
        vscode/ ruff/ pytest/ pyinstaller/ pyside6/ jupyter/ - ë„êµ¬ë³„ ìƒ˜í”Œ
    personal/                        - ê°œì¸ ì„¤ì •(ë‚´ PC/ì·¨í–¥/ë¹„ê³µê°œ)
      configs/
        os/{mac,win,linux}/          - OSë³„ ì„¤ì •(ì˜ˆ: í‚¤ë³´ë“œ/ì–¸ì–´)
        shell/{bash,zsh,powershell}/ - ì‰˜ í”„ë¡œí•„(.zshrc/.bashrc ë“±)
        editors/vscode/              - settings.user.json, keybindings.user.json
        git/                         - .gitconfig.local ë“±
        python/                      - pip.conf, poetry.toml, pypirc
        tools/                       - ê°ì¢… ë„êµ¬ ê°œì¸ í”„ë¦¬ì…‹
        secrets/README.md            - (ì‹¤ì œ ë¹„ë°€ì€ ë‘ì§€ ë§ê³  ì•ˆë‚´ë§Œ)
        .gitignore                   - *.local, secrets/*, *.pem ë“± ê´‘ë²”ìœ„ ì°¨ë‹¨
    manuals/                         - ë§¤ë‰´ì–¼/ê°€ì´ë“œ(PDF/HTML/MD)
      &lt;vendor&gt;/&lt;product&gt;/&lt;version&gt;/  - ë²¤ë”/ì œí’ˆ/ë²„ì „ë³„ ì •ë¦¬

  50_Snippets/                       - ì¬ì‚¬ìš© ì½”ë“œÂ·ë¬¸êµ¬ ì¡°ê°
    sql/ text/ bash/                 - ì¹´í…Œê³ ë¦¬ë³„ ìŠ¤ë‹ˆí«

  60_Assets/                         - ë¡œê³ /í°íŠ¸/í…œí”Œë¦¿Â·ë¸Œëœë”© ë¦¬ì†ŒìŠ¤

  70_Exports/                        - ì—¬ëŸ¬ Jobì˜ â€œìµœì¢… ì „ë‹¬ë³¸â€ ë·°(ëª¨ì•„ë³´ê¸°; ì„ íƒ)

  75_Releases/                       - ìœ ì € ë°°í¬ ì „ìš© ì¤‘ì•™ ë³´ê´€ì†Œ(ë²„ì „ë³„)
    &lt;project_slug&gt;/                  - ì˜ˆ: sample-app
      vX.Y.Z/                        - íŠ¹ì • ë²„ì „ ë¦´ë¦¬ìŠ¤
        installers/                  - .exe/.msi/.pkg/.dmg ë“± ì„¤ì¹˜ í”„ë¡œê·¸ë¨
        wheels/                      - Python wheel(s)
        portable/                    - í¬í„°ë¸”/ì••ì¶• íŒ¨í‚¤ì§€
        docs/                        - README/ì„¤ì¹˜ ê°€ì´ë“œ/FAQ
        licenses/                    - LICENSE/ThirdPartyNotices.txt
        checksums/                   - *.sha256(ë¬´ê²°ì„± ê²€ì¦ìš©)
        ReleaseNotes.md              - ë¦´ë¦¬ìŠ¤ ë…¸íŠ¸(ë³€ê²½ ì‚¬í•­)
      latest/                        - ìµœì‹  ë²„ì „ í¬ì¸í„°(ì‹¬ë³¼ë¦­ ë§í¬/ë³µì‚¬)
    catalog.json                     - (ì„ íƒ) ë²„ì „Â·íŒŒì¼ ì¸ë±ìŠ¤

  80_Tools/                          - íˆ´ ì„¤ì¹˜/í¬í„°ë¸”/ìë™í™” ìŠ¤í¬ë¦½íŠ¸
    installers/                      - ì˜¤í”„ë¼ì¸ ì„¤ì¹˜ íŒŒì¼ + install_notes.md
    bin/                             - í¬í„°ë¸” ì‹¤í–‰ íŒŒì¼(ë¡œì»¬ PATHë¡œ ì—°ê²° ê°€ëŠ¥)
    scripts/                         - ì„¤ì¹˜Â·ë¶€íŠ¸ìŠ¤íŠ¸ë©Â·ìœ í‹¸ ìŠ¤í¬ë¦½íŠ¸
    devcontainer/                    - ê°œë°œ ì»¨í…Œì´ë„ˆ ë„êµ¬(ê³µìœ  í…œí”Œë¦¿)

  85_Environments/                   - ê°œë°œ í™˜ê²½ ì˜ˆì‹œ(ê³ ì •Â·ì¬í˜„ ëª©ì )
    conda/environment.yml            - conda í™˜ê²½ ì •ì˜
    venv/README.md                   - í‘œì¤€ venv ì‚¬ìš© ê°€ì´ë“œ
    docker/Dockerfile                - ê°œë°œ ì»¨í…Œì´ë„ˆ ë² ì´ìŠ¤ ì´ë¯¸ì§€

  99_Archive/                        - ì™„ë£Œ Project/Job/ìë£Œ ì¥ê¸° ë³´ê´€(ì½ê¸° ì „ìš©)
</code></pre></div></div>

<hr />

<h3 id="ë„¤ì´ë°ìš´ìš©-ê·œì¹™ìš”ì•½">ë„¤ì´ë°Â·ìš´ìš© ê·œì¹™(ìš”ì•½)</h3>

<ul>
  <li>
    <p><strong>í”„ë¡œì íŠ¸ í´ë”</strong> : <code class="language-plaintext highlighter-rouge">PRJ-ì—°ë„-ë²ˆí˜¸_ì§§ì€ì´ë¦„</code> (ì˜ˆ: <code class="language-plaintext highlighter-rouge">PRJ-2025-012_GUIíˆ´</code>)</p>
  </li>
  <li>
    <p><strong>Job í´ë”</strong> : <code class="language-plaintext highlighter-rouge">JOB/BUG/EX/SMOKE-ì—°ë„-ë²ˆí˜¸_ì´ë¦„</code></p>
  </li>
  <li>
    <p><strong>íŒŒì¼ëª…</strong> : <code class="language-plaintext highlighter-rouge">YYYY-MM-DD_ì œëª©_v001.ext</code> (ìµœì¢…ë³¸ ëŒ€ì‹  ë²„ì „ ë„˜ê¹€)</p>
  </li>
  <li>
    <p><strong>ê¹Šì´ ì œí•œ</strong> : ìµœëŒ€ 3ë‹¨(ì°¾ê¸°/ê¶Œí•œ/ë™ê¸°í™” ì´ìŠˆ ìµœì†Œí™”)</p>
  </li>
  <li>
    <p><strong>ì„¤ì • ë ˆì´ì–´ë§</strong> : <code class="language-plaintext highlighter-rouge">reference/configs</code>(ê³¨ë“ ) + <code class="language-plaintext highlighter-rouge">personal/configs</code>(ê°œì¸ ì˜¤ë²„ë¼ì´ë“œ)</p>
  </li>
  <li>
    <p><strong>Labs â†” SMOKE ê²½ê³„</strong> : 5ë¶„/50ì¤„ ê·œì¹™â€”ì§§ì€ ì‹¤í—˜ì€ <code class="language-plaintext highlighter-rouge">31_Labs</code>, ì¬í˜„Â·ì¦ë¹™ í•„ìš” ì‹œ <code class="language-plaintext highlighter-rouge">SMOKE Job</code>ìœ¼ë¡œ ìŠ¹ê²©</p>
  </li>
</ul>

<p>í•„ìš”í•˜ë©´ ìœ„ êµ¬ì¡°ì—ì„œ <strong>ë…¸í•˜ìš° í•˜ìœ„ í´ë” ì´ë¦„</strong>(ì˜ˆ: <code class="language-plaintext highlighter-rouge">íŒ</code>â†’<code class="language-plaintext highlighter-rouge">Tip</code>, <code class="language-plaintext highlighter-rouge">ìš”ì•½í‘œ</code>â†’<code class="language-plaintext highlighter-rouge">Cheatsheets</code>)ì„ ì˜ë¬¸ìœ¼ë¡œ ë°”ê¾¼ ë³€í˜•íŒë„ ê°™ì´ ì •ë¦¬í•´ ì¤„ê²Œ.</p>

<p class="chat--user">

ì‘ ì˜ë¬¸ìœ¼ë¡œ ë°”ê¿”ì¤˜. ê·¸ë¦¬ê³  10_TodayëŠ” ì–´ë–»ê²Œ ì“°ëŠ”ê±°ì•¼? ë‚´ê°€ ì‘ì—…í•˜ëŠ” ê²ƒì„ mvë¡œ ì—¬ê¸°ë¡œ ê°€ì ¸ì™€?

</p>

<p>ì¢‹ì•„! ìš”ì²­ëŒ€ë¡œ <strong>í•œêµ­ì–´ í´ë”ëª… â†’ ì˜ì–´</strong> ë¡œ ë°”ê¾¸ê³ , <strong><code class="language-plaintext highlighter-rouge">10_Today</code>ì˜ ì‹¤ì œ ìš´ìš©</strong>ë„ ë‹¨ê³„ë³„ë¡œ ì •ë¦¬í•´ì¤„ê²Œ.</p>

<hr />

<h1 id="1-ì˜ì–´ë¡œ-ë°”ê¾¼-ìµœì¢…-í´ë”-êµ¬ì¡°-ì„¤ëª…--ì˜ˆì‹œ-í•˜ìœ„">1) ì˜ì–´ë¡œ ë°”ê¾¼ ìµœì¢… í´ë” êµ¬ì¡° (ì„¤ëª… + ì˜ˆì‹œ í•˜ìœ„)</h1>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Work/                                - Solo dev workspace root
  00_Inbox/                          - Quick dump inbox (clear daily/weekly)
  10_Today/                          - Today's focus staging area (WIP dashboard)

  20_Projects/                       - Tool (Python package) development (code lifecycle)
    PRJ-YYYY-NNN_name/               - One project/package (e.g., PRJ-2025-001_sample_app)
      src/&lt;package_name&gt;/            - Package source (e.g., sample_app/)
      tests/                         - Pytest cases
      scripts/                       - install/run/build/lint/test (.sh/.ps1)
      examples/                      - Minimal runnable examples for users
        data/                        - Small public/sample datasets
        scripts/                     - run_*.py example scripts
        docs/                        - Example docs &amp; expected outputs
      issues/                        - Bug/feature notes (e.g., BUG-2025-001/)
      docs/                          - Design docs/ADR/guides
      .devcontainer/                 - Dev container config
      pyproject.toml                 - Metadata/deps/entry points (PEP 621)
      .gitignore, .editorconfig, README.md

  25_Jobs/                           - Real deliverable runs (process lifecycle)
    JOB-YYYY-NNN_name/               - General job (input â†’ config â†’ run â†’ outputs)
      01_Brief/                      - Requirements/acceptance criteria/deadline
      02_Input/
        raw/                         - Source data (read-only)
      03_Config/                     - Params (yml/json) &amp; run settings
      04_Run/                        - run.sh|ps1, run.py, logs
      05_Output/                     - Intermediate/final (working area)
      06_Export/                     - Final deliverables for hand-off
      90_Archive/                    - Long-term storage after completion
    BUG-YYYY-NNN_name/               - Distributed-binary bug repro &amp; fix validation
      01_Report/                     - Report/env/expected vs actual
      02_Repro/input/                - Minimal repro inputs
      03_Config/                     - Repro flags/params
      04_Run/                        - repro.py + scripts, repro_log.txt
      05_Evidence/logs/              - Console/crash logs, screenshots, checksums
      06_FixValidation/              - Post-fix validation scenarios
    EX-YYYY-NNN_name/                - Packaged examples job (optional)
    SMOKE-YYYY-NNN_tool/             - New tool smoke/feasibility tests
      01_Brief/                      - Pass criteria (time/exit-code/output)
      03_Config/                     - commands.txt (test commands)
      04_Run/                        - smoke.sh|ps1 (batch run, logs)
      06_Export/                     - Result summary (result.txt)

  30_Areas/                          - Ongoing areas (long-lived)
    worklog/YYYY/YY-MM/DATE.md       - Daily/weekly 5-line logs
    environments/                    - Common env strategy (e.g., Python policy)
    knowledge_base/                  - Accumulated knowledge (was 'kb/ë…¸í•˜ìš°')
      tips/                          - Short tips (e.g., python.md, regex.md)
      cheatsheets/                   - One-pagers
      howtos/                        - Step-by-step guides (install/release/debug)

  31_Labs/                           - Scratch lab (quick experiments; non-repro)
    jupyter/                         - Scratch notebooks (e.g., regex_scratch.ipynb)

  40_Resources/                      - References (education/configs/manuals)
    edu/                             - Courses/tutorials/papers
      courses/                       - Course slides/notes
      tutorials/                     - Tutorial links &amp; code
      papers/                        - Paper flow (to_read â†’ notes â†’ summaries)
        to_read/                     - PDFs queued to read
        reading_notes/               - Notes (YYYY-MM-DD_Title.md, TEMPLATE.md)
        summaries/                   - 1â€“2 page summaries
    reference/                       - â€œGoldenâ€ shared configs (documented, reusable)
      configs/                       - Standard configs used across projects
        vscode/ ruff/ pytest/ pyinstaller/ pyside6/ jupyter/
    personal/                        - Private/personal configs (override layer)
      configs/
        os/{mac,win,linux}/          - OS-level settings
        shell/{bash,zsh,powershell}/ - Shell profiles
        editors/vscode/              - settings.user.json, keybindings.user.json
        git/                         - .gitconfig.local, etc.
        python/                      - pip.conf, poetry.toml, pypirc
        tools/                       - Personal presets per tool
        secrets/README.md            - (Pointers only; no real secrets)
        .gitignore                   - Broad ignore (e.g., *.local, secrets/*, *.pem)

    manuals/                         - Product manuals (PDF/HTML/MD)
      &lt;vendor&gt;/&lt;product&gt;/&lt;version&gt;/  - Vendor/product/version tree

  50_Snippets/                       - Reusable snippets
    sql/ text/ bash/

  60_Assets/                         - Logos/fonts/templates &amp; brand assets

  70_Exports/                        - Collected final deliverables (across jobs; optional)

  75_Releases/                       - Distribution hub for users (versioned)
    &lt;project_slug&gt;/
      vX.Y.Z/
        installers/                  - .exe/.msi/.pkg/.dmg
        wheels/                      - Python wheels
        portable/                    - Portable/zip packages
        docs/                        - README/install guide/FAQ
        licenses/                    - LICENSE/ThirdParty notices
        checksums/                   - *.sha256 (integrity)
        ReleaseNotes.md              - Changelog per release
      latest/                        - Pointer to current version
    catalog.json                     - (Optional) index of versions/files

  80_Tools/                          - Installers/portable/tools automation
    installers/                      - Offline installers + install_notes.md
    bin/                             - Portable binaries (optional PATH)
    scripts/                         - Bootstrap/utility scripts
    devcontainer/                    - Dev container tooling

  85_Environments/                   - Reproducible dev env samples
    conda/environment.yml
    venv/README.md
    docker/Dockerfile

  99_Archive/                        - Completed projects/jobs/resources (read-only)
</code></pre></div></div>

<hr />

<h1 id="2-10_todayëŠ”-ì–´ë–»ê²Œ-ì“°ë‚˜-step-by-step-ìš´ìš©ë²•">2) <code class="language-plaintext highlighter-rouge">10_Today</code>ëŠ” ì–´ë–»ê²Œ ì“°ë‚˜? (step-by-step ìš´ìš©ë²•)</h1>

<h3 id="ê²°ë¡ ">ê²°ë¡ </h3>

<ul>
  <li>
    <p><strong>ì •ë‹µì€ â€œì—¬ê¸°ë¡œ â€˜ì´ë™(mv)â€™í•´ì„œ ì‘ì—…í•˜ì§€ ì•ŠëŠ”ë‹¤.â€</strong></p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">10_Today</code>ëŠ” <strong>ëŒ€ì‹œë³´ë“œ/ëŸ°ì¹˜íŒ¨ë“œ</strong> ì•¼. <strong>ì›ë³¸ì€ í•­ìƒ ì œìë¦¬</strong>(Projects/Jobs/Resources)ì— ë‘ê³ , Todayì—ëŠ” <strong>ë§í¬/ì²´í¬ë¦¬ìŠ¤íŠ¸/ì„ì‹œ ë©”ëª¨</strong> ë§Œ ë‘¬.</p>
  </li>
</ul>

<h3 id="ì¶”ì²œ-ë°©ì‹-3ê°€ì§€">ì¶”ì²œ ë°©ì‹ 3ê°€ì§€</h3>

<p><strong>A) ë§í¬ ëª¨ë“œ(ê¶Œì¥)</strong> â€” ì›ë³¸ì€ ì œìë¦¬, Todayì—” <strong>ë°”ë¡œê°€ê¸°(ì‹¬ë³¼ë¦­ ë§í¬/ë°”ë¡œê°€ê¸° íŒŒì¼)</strong></p>

<ul>
  <li>macOS/Linux:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd </span>Work/10_Today
<span class="nb">ln</span> <span class="nt">-s</span> ../20_Projects/PRJ-2025-001_sample_app/README.md README.today.md
<span class="nb">ln</span> <span class="nt">-s</span> ../25_Jobs/JOB-2025-010_report/04_Run/run.sh job_run.sh
</code></pre></div>    </div>
  </li>
  <li>Windows (PowerShell; ê´€ë¦¬ì/ê°œë°œì ëª¨ë“œ ê¶Œì¥):
    <div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">cd</span><span class="w"> </span><span class="nx">Work\10_Today</span><span class="w">
</span><span class="n">cmd</span><span class="w"> </span><span class="nx">/c</span><span class="w"> </span><span class="nx">mklink</span><span class="w"> </span><span class="nx">README.today.md</span><span class="w"> </span><span class="o">..</span><span class="nx">\20_Projects\PRJ-2025-001_sample_app\README.md</span><span class="w">
</span><span class="n">cmd</span><span class="w"> </span><span class="nx">/c</span><span class="w"> </span><span class="nx">mklink</span><span class="w"> </span><span class="nx">job_run.ps1</span><span class="w"> </span><span class="o">..</span><span class="nx">\25_Jobs\JOB-2025-010_report\04_Run\run.ps1</span><span class="w">
</span></code></pre></div>    </div>
  </li>
  <li>ì¥ì : ê²½ë¡œ ì¼ê´€ì„±, ì¤‘ë³µ/ì¶©ëŒ ì—†ìŒ.</li>
</ul>

<p><strong>B) ì¸ë±ìŠ¤ ëª¨ë“œ(ê°€ë³ê²Œ)</strong> â€” Todayì—ëŠ” <code class="language-plaintext highlighter-rouge">today.md</code>ë§Œ ë‘ê³  <strong>ì‘ì—… ë§í¬</strong> ë¥¼ ëª¨ìŒ</p>
<div class="language-md highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh"># 2025-08-26</span>
<span class="p">-</span> <span class="p">[</span><span class="nv">Run job</span><span class="p">](</span><span class="sx">../25_Jobs/JOB-2025-010_report/04_Run/run.sh</span><span class="p">)</span>
<span class="p">-</span> <span class="p">[</span><span class="nv">Spec</span><span class="p">](</span><span class="sx">../20_Projects/PRJ-2025-001_sample_app/docs/spec.md</span><span class="p">)</span>
<span class="p">-</span> Notes: ...
</code></pre></div></div>

<p><strong>C) ìŠ¤í…Œì´ì§• ëª¨ë“œ(ì˜ˆì™¸ì )</strong> â€” ì•„ì£¼ ì ê¹ í•„ìš”í•œ <strong>ì„ì‹œ íŒŒì¼</strong> ë§Œ ë³µì‚¬í•´ì„œ ì‚¬ìš©í•˜ê³ , <strong>EOD(End Of Day)</strong>ì— ì›ìœ„ì¹˜ ì´ë™/ì‚­ì œ</p>

<ul>
  <li>ê·œì¹™: ì½”ë“œ ë¦¬í¬/ì…ë ¥ ë°ì´í„°ì˜ <strong>ì •ë³¸ì€ ì ˆëŒ€ ì´ë™ ê¸ˆì§€</strong>. í˜¼ì„ /ì¶©ëŒ ìœ„í—˜ í¼.</li>
</ul>

<h3 id="í•˜ë£¨-ë£¨í‹´10_today-ì¤‘ì‹¬">í•˜ë£¨ ë£¨í‹´(10_Today ì¤‘ì‹¬)</h3>

<ol>
  <li>
    <p><strong>ì•„ì¹¨ 5ë¶„</strong> : <code class="language-plaintext highlighter-rouge">10_Today/today.md</code> ì—…ë°ì´íŠ¸(Top 3, ì£¼ìš” ë§í¬, ê°„ë‹¨ ì²´í¬ë¦¬ìŠ¤íŠ¸).</p>
  </li>
  <li>
    <p><strong>ì‘ì—… ì¤‘</strong> : ë§í¬/ë…¸íŠ¸ë¥¼ Todayì— ì¶”ê°€. ì‹¤ì œ íŒŒì¼ í¸ì§‘ì€ <strong>ì›ë˜ í´ë”</strong> ì—ì„œ.</p>
  </li>
  <li>
    <p><strong>ì—…ë¬´ ì¢…ë£Œ ì „ 5ë¶„</strong> :</p>

    <ul>
      <li>
        <p>PR/ì»¤ë°‹/ì•„ì¹´ì´ë¸ŒëŠ” ë³¸ ìœ„ì¹˜ì—ì„œ ë§ˆë¬´ë¦¬</p>
      </li>
      <li>
        <p>Todayì˜ ì„ì‹œ íŒŒì¼ ì‚­ì œ, <code class="language-plaintext highlighter-rouge">today.md</code>ì— ê²°ê³¼ ìš”ì•½ 3ì¤„</p>
      </li>
      <li>
        <p>ë‚¨ê¸¸ ë‚´ìš©ì€ <code class="language-plaintext highlighter-rouge">30_Areas/knowledge_base</code>ë‚˜ í•´ë‹¹ Project/Jobì˜ READMEë¡œ <strong>ìŠ¹ê²©</strong>.</p>
      </li>
    </ul>
  </li>
</ol>

<h3 id="do--dont">Do / Donâ€™t</h3>

<ul>
  <li>
    <p><strong>Do</strong> : ë§í¬/ë…¸íŠ¸/ì§§ì€ To-Do, ì˜¤ëŠ˜ë§Œ ì“¸ ì„ì‹œ ìŠ¤í¬ë¦½íŠ¸</p>
  </li>
  <li>
    <p><strong>Donâ€™t</strong> : ì¥ê¸° ë³´ê´€, ê¹Šì€ í•˜ìœ„ í´ë”, ì •ë³¸ íŒŒì¼ ì´ë™</p>
  </li>
</ul>

<hr />

<p>í•„ìš”í•˜ë©´ <code class="language-plaintext highlighter-rouge">10_Today/today.md</code> í…œí”Œë¦¿ì´ë‚˜ <strong>ë§í¬ ìƒì„±/ì •ë¦¬ ìë™í™” ìŠ¤í¬ë¦½íŠ¸</strong>(ì˜¤ëŠ˜ í•  ì¼ â†’ ë§í¬ ë¬¶ìŒ ìƒì„±)ë¥¼ ë§Œë“¤ì–´ì¤„ê²Œ.</p>

<p class="chat--user">

ê·¸ëŸ¬ë©´ PRJ í´ë” ì±„ë¡œ ë§í¬í•˜ê±°ë‚˜ í•˜ì§„ ë§ˆ?

</p>

<p>ì§§ì€ ë‹µ: <strong>ì›¬ë§Œí•˜ë©´ PRJ í´ë” â€œí†µì§¸ë¡œâ€ Todayì— ë§í¬í•˜ì§€ ì•ŠëŠ” ê±¸ ì¶”ì²œ</strong> í•´.<br />
ëŒ€ì‹  â€œí•µì‹¬ í•¸ë“¤(README, run ìŠ¤í¬ë¦½íŠ¸, í˜„ì¬ ì‘ì—… íŒŒì¼/ë…¸íŠ¸, Export í´ë”)â€ë§Œ ê±¸ì–´ë‘ëŠ” ê²Œ ì•ˆì „í•˜ê³  ê¹”ë”í•´.</p>

<hr />

<h2 id="ì™œ-í†µì§¸-ë§í¬ë¥¼-ë¹„ì¶”í•˜ë‚˜-step-by-step">ì™œ í†µì§¸ ë§í¬ë¥¼ ë¹„ì¶”í•˜ë‚˜ (step-by-step)</h2>

<ol>
  <li>
    <p><strong>í˜¼ì„  ìœ„í—˜</strong> : Todayì—ì„œ ì—´ì–´ë†“ê³  ì‘ì—…í•˜ë‹¤ê°€ â€œì—¬ê¸°ê°€ ì§„ì§œ ë£¨íŠ¸â€ì²˜ëŸ¼ ëŠê»´ì ¸ì„œ ê²½ë¡œê°€ ê¼¬ì´ê±°ë‚˜ ë¶ˆí•„ìš”í•œ ìƒˆ íŒŒì¼ì´ Today ìª½ì— ìƒê¸¸ ìˆ˜ ìˆì–´.</p>
  </li>
  <li>
    <p><strong>ë„êµ¬/ì¸ë±ì‹± ë¬¸ì œ</strong> : IDE, ê²€ìƒ‰ ì¸ë±ì„œ, ë°±ì—… íˆ´ì´ <strong>ì›ë³¸+ë§í¬ë¥¼ ì¤‘ë³µ ìŠ¤ìº”</strong> í•´ì„œ ì†ë„ ì €í•˜/ì¤‘ë³µ ê²°ê³¼ê°€ ë‚˜ì˜¬ ìˆ˜ ìˆì–´.</p>
  </li>
  <li>
    <p><strong>ëŒ€ì²­ì†Œ ì‚¬ê³  ë°©ì§€</strong> : TodayëŠ” ë§¤ì¼/ì£¼ê¸°ì ìœ¼ë¡œ ë¹„ìš°ëŠ” ê³µê°„ì¸ë°, í´ë” í†µì§¸ ë§í¬ëŠ” <strong>ì‚­ì œ/ì´ë™ ì‹¤ìˆ˜</strong> ì˜ í‘œë©´ì ì„ ë„“í˜€. (ë§í¬ë§Œ ì§€ì›Œë„ ë˜ì§€ë§Œ í—·ê°ˆë¦¬ê¸° ì‰¬ì›€)</p>
  </li>
  <li>
    <p><strong>ë¶ˆí•„ìš”í•œ ê¹Šì´</strong> : TodayëŠ” â€œëŒ€ì‹œë³´ë“œâ€ë¼ì„œ <strong>ì–•ê³  ê°€ë²¼ì›Œì•¼</strong> í•´. í†µì§¸ ë§í¬ëŠ” Todayë¥¼ ë‹¤ì‹œ íŠ¸ë¦¬ë¡œ ë§Œë“¤ì–´ ë²„ë¦¼.</p>
  </li>
</ol>

<hr />

<h2 id="ê·¸ëŸ¬ë©´-ì–´ë–»ê²Œ-ê¶Œì¥-íŒ¨í„´">ê·¸ëŸ¬ë©´ ì–´ë–»ê²Œ? (ê¶Œì¥ íŒ¨í„´)</h2>

<h3 id="1-í•µì‹¬-í•¸ë“¤-ë§í¬ë§Œ-ë‘”ë‹¤">1) â€œí•µì‹¬ í•¸ë“¤â€ ë§í¬ë§Œ ë‘”ë‹¤</h3>

<ul>
  <li>
    <p>í”„ë¡œì íŠ¸ë‹¹ 3~5ê°œ ì •ë„:</p>

    <ul>
      <li>
        <p><code class="language-plaintext highlighter-rouge">README.md</code> (í”„ë¡œì íŠ¸ ê°œìš”/ì²´í¬ë¦¬ìŠ¤íŠ¸)</p>
      </li>
      <li>
        <p><code class="language-plaintext highlighter-rouge">scripts/run.sh</code> ë˜ëŠ” <code class="language-plaintext highlighter-rouge">04_Run/run.sh</code> (ìì£¼ ëŒë¦¬ëŠ” ì—”íŠ¸ë¦¬)</p>
      </li>
      <li>
        <p>ì˜¤ëŠ˜ í¸ì§‘í•  ë¬¸ì„œ 1ê°œ (ì˜ˆ: <code class="language-plaintext highlighter-rouge">docs/spec.md</code>)</p>
      </li>
      <li>
        <p>ì‚°ì¶œ í™•ì¸ìš© <code class="language-plaintext highlighter-rouge">06_Export/</code> í´ë” (ìˆìœ¼ë©´)</p>
      </li>
    </ul>
  </li>
  <li>macOS/Linux
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd </span>Work/10_Today
<span class="nb">ln</span> <span class="nt">-s</span> ../20_Projects/PRJ-2025-001_sample_app/README.md PRJ1_README.md
<span class="nb">ln</span> <span class="nt">-s</span> ../20_Projects/PRJ-2025-001_sample_app/scripts/run.sh PRJ1_run.sh
<span class="nb">ln</span> <span class="nt">-s</span> ../25_Jobs/JOB-2025-010_report/04_Run/run.sh JOB10_run.sh
<span class="nb">ln</span> <span class="nt">-s</span> ../25_Jobs/JOB-2025-010_report/06_Export JOB10_Export
</code></pre></div>    </div>
  </li>
  <li>Windows (PowerShell, ê´€ë¦¬ì ê¶Œì¥)
    <div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">cd</span><span class="w"> </span><span class="nx">Work\10_Today</span><span class="w">
</span><span class="n">cmd</span><span class="w"> </span><span class="nx">/c</span><span class="w"> </span><span class="nx">mklink</span><span class="w"> </span><span class="nx">PRJ1_README.md</span><span class="w"> </span><span class="o">..</span><span class="nx">\20_Projects\PRJ-2025-001_sample_app\README.md</span><span class="w">
</span><span class="n">cmd</span><span class="w"> </span><span class="nx">/c</span><span class="w"> </span><span class="nx">mklink</span><span class="w"> </span><span class="nx">PRJ1_run.ps1</span><span class="w"> </span><span class="o">..</span><span class="nx">\20_Projects\PRJ-2025-001_sample_app\scripts\run.ps1</span><span class="w">
</span><span class="n">cmd</span><span class="w"> </span><span class="nx">/c</span><span class="w"> </span><span class="nx">mklink</span><span class="w"> </span><span class="nx">/D</span><span class="w"> </span><span class="nx">JOB10_Export</span><span class="w"> </span><span class="o">..</span><span class="nx">\25_Jobs\JOB-2025-010_report\06_Export</span><span class="w">
</span></code></pre></div>    </div>
  </li>
</ul>

<h3 id="2-ì¸ë±ìŠ¤-ë…¸íŠ¸-1ì¥ë§Œ-ë‘ê³ -ë§í¬-ëª¨ìŒ">2) ì¸ë±ìŠ¤ ë…¸íŠ¸ 1ì¥ë§Œ ë‘ê³  ë§í¬ ëª¨ìŒ</h3>

<ul>
  <li><code class="language-plaintext highlighter-rouge">10_Today/today.md</code>ì— ê·¸ë‚  í•¸ë“¤ ë§í¬ë§Œ ë‚˜ì—´:
```md
    <h1 id="2025-08-26">2025-08-26</h1>
    <ul>
      <li><a href="../20_Projects/PRJ-2025-001_sample_app/README.md">PRJ1 README</a></li>
      <li><a href="../25_Jobs/JOB-2025-010_report/04_Run/run.sh">Run JOB10</a></li>
      <li>Notes: â€¦
```</li>
    </ul>
  </li>
</ul>

<h3 id="3-ì˜ˆì™¸ì ìœ¼ë¡œ-í´ë”-ë§í¬ê°€-ê¼­-í•„ìš”í•˜ë‹¤ë©´">3) ì˜ˆì™¸ì ìœ¼ë¡œ í´ë” ë§í¬ê°€ ê¼­ í•„ìš”í•˜ë‹¤ë©´</h3>

<ul>
  <li>
    <p><strong>ì¼ì‹œì ìœ¼ë¡œë§Œ</strong> ì“°ê³  EODì— ì •ë¦¬.</p>
  </li>
  <li>
    <p>OSë³„ ê¶Œì¥:</p>

    <ul>
      <li>
        <p>macOS: Finder <strong>Alias</strong>(ìë™ ì¶”ì ì— ê°•í•¨) ë˜ëŠ” <code class="language-plaintext highlighter-rouge">ln -s</code>(CLI ì¹œí™”)</p>
      </li>
      <li>
        <p>Windows: <code class="language-plaintext highlighter-rouge">mklink /D</code>(ë””ë ‰í„°ë¦¬ ì‹¬ë³¼ë¦­ ë§í¬) ë˜ëŠ” <strong>.lnk ë°”ë¡œê°€ê¸°</strong>(GUI ìš©ì´)</p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>ì£¼ì˜</strong> : VSCode ë“± ì¼ë¶€ ë„êµ¬ëŠ” <strong>ì‹¬ë³¼ë¦­ ë£¨íŠ¸ë¡œ ì—° í”„ë¡œì íŠ¸</strong> ì—ì„œ ê²½ë¡œ/ë””ë²„ê¹…ì´ ì‚´ì§ í—·ê°ˆë¦´ ìˆ˜ ìˆìœ¼ë‹ˆ, ê°€ëŠ¥í•˜ë©´ <strong>ì›ë³¸ ê²½ë¡œë¥¼ ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ë£¨íŠ¸</strong> ë¡œ ì—¬ëŠ” ê±¸ ì¶”ì²œ.</p>
  </li>
</ul>

<hr />

<h2 id="today-ìš´ì˜-ë¯¸ë‹ˆ-ê·œì¹™">Today ìš´ì˜ ë¯¸ë‹ˆ ê·œì¹™</h2>

<ul>
  <li>
    <p><strong>5ë¶„/3í•¸ë“¤ ë£°</strong> : ì•„ì¹¨ì— 3ê°œ ë‚´ì™¸ í•¸ë“¤ë§Œ ê±¸ê³ , í‡´ê·¼ ì „ ì •ë¦¬.</p>
  </li>
  <li>
    <p><strong>ì •ë³¸ ë¶ˆê°€ì¹¨</strong> : ì½”ë“œ/ë°ì´í„°ì˜ <strong>ì •ë³¸ì€ í•­ìƒ ì›ë˜ ìœ„ì¹˜</strong>(Projects/Jobs/Resources). Todayì—ëŠ” ë§í¬Â·ì²´í¬ë¦¬ìŠ¤íŠ¸Â·ì„ì‹œ ë©”ëª¨ë§Œ.</p>
  </li>
  <li>
    <p><strong>ì£¼ 1íšŒ ë¦¬ì…‹</strong> : ì“°ì§€ ì•ŠëŠ” ë§í¬/ì„ì‹œ íŒŒì¼ ì œê±°.</p>
  </li>
</ul>

<hr />

<h2 id="ìš”ì•½">ìš”ì•½</h2>

<ul>
  <li>
    <p><strong>í†µì§¸ ë§í¬?</strong> ê¸°ë³¸ì€ <strong>No</strong>.</p>
  </li>
  <li>
    <p><strong>ëŒ€ì•ˆ</strong> : â€œí•µì‹¬ í•¸ë“¤â€ë§Œ Todayì— ë§í¬í•˜ê±°ë‚˜, <code class="language-plaintext highlighter-rouge">today.md</code>ë¡œ ë§í¬ ì¸ë±ìŠ¤ ê´€ë¦¬.</p>
  </li>
  <li>
    <p><strong>ì˜ˆì™¸</strong> : ì •ë§ í•„ìš”í•˜ë©´ ì¼ì‹œì ìœ¼ë¡œ í´ë” ë§í¬ë¥¼ ì“°ë˜, EODì— ë°˜ë“œì‹œ ì •ë¦¬í•˜ê³  ì›ë³¸ ë£¨íŠ¸ë¡œ ì‘ì—… ì—¬ëŠ” ìŠµê´€ ìœ ì§€.</p>
  </li>
</ul>

<p class="chat--user">

ê·¼ë° ê·¸ëŸ´ê±°ë©´ ë§í¬ ë§Œë“œëŠ”ê²Œ ë” ì¼ì¼ê±° ê°™ì€ë°. mdì— ì €ì¥í•´ë´ì•¼ ì£¼ë¡œ consoleì—ì„œ ì‘ì—…ì„ í•˜ëŠ”ë° ë³„ í¸ì˜ì ìœ¼ë¡œëŠ” ë„ì›€ì´ ì•ˆë ê±° ê°™ê³  ê·¸ëƒ¥ ë©”ëª¨ìš© ì •ë„ë¡œ ì“°ëŠ”ê±´ê°€

</p>

<p>ë§ì•„â€”ë§í¬ ë§Œë“¤ê³  md í¸ì§‘í•˜ëŠ” ê²Œ ì˜¤íˆë ¤ ì¼ì´ë©´ ì•ˆ ì“°ê²Œ ë¼ìš”. ê·¸ëŸ´ ë• <strong>ì½˜ì†” ì¤‘ì‹¬</strong> ìœ¼ë¡œ <code class="language-plaintext highlighter-rouge">10_Today</code>ë¥¼ â€œëŒ€ì‹œë³´ë“œ ëª…ë ¹íŒ”ë ˆíŠ¸â€ë¡œ ì“°ë©´ ë”± ì¢‹ì•„ìš”. ë§í¬/MD ì—†ì´, <strong>ë‹¨ í•˜ë‚˜ì˜ ìŠ¤í¬ë¦½íŠ¸ + ì§§ì€ ëª©ë¡ íŒŒì¼</strong> ë¡œ ì˜¤ëŠ˜ í•  ì¼ì„ ì‹¤í–‰í•˜ê²Œìš”.</p>

<p>ì•„ë˜ ì¤‘ í•˜ë‚˜(ë˜ëŠ” ë‘˜ ë‹¤)ë¡œ ê°€ì:</p>

<hr />

<h1 id="ì˜µì…˜-a-today-ë‹¨ì¼-ìŠ¤í¬ë¦½íŠ¸--ê°„ë‹¨-ëª©ë¡-íŒŒì¼-ê°€ì¥-ì¶”ì²œ">ì˜µì…˜ A) <code class="language-plaintext highlighter-rouge">today</code> ë‹¨ì¼ ìŠ¤í¬ë¦½íŠ¸ + ê°„ë‹¨ ëª©ë¡ íŒŒì¼ (ê°€ì¥ ì¶”ì²œ)</h1>

<h2 id="1-ëª©ë¡-íŒŒì¼í¸ì§‘ë§Œ-í•˜ë©´-ë¨">1) ëª©ë¡ íŒŒì¼(í¸ì§‘ë§Œ í•˜ë©´ ë¨)</h2>

<p><code class="language-plaintext highlighter-rouge">Work/10_Today/shortcuts.list</code> (í˜•ì‹: <code class="language-plaintext highlighter-rouge">ë¼ë²¨ | ê²½ë¡œ(Work ê¸°ì¤€) | ëª…ë ¹</code>)</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># ì˜ˆì‹œ
Run PRJ tests          | 20_Projects/PRJ-2025-001_sample_app        | ./scripts/test.sh
Build GUI              | 20_Projects/PRJ-2025-001_sample_app        | ./scripts/build_gui.sh
Re-run sample JOB      | 25_Jobs/JOB-2025-001_sample_output/04_Run  | ./run.sh
Open JOB export        | 25_Jobs/JOB-2025-001_sample_output/06_Export | ls -al
</code></pre></div></div>

<h2 id="2-bashzshìš©-today-ì˜ì¡´ì„±-ì—†ìŒ-select-ë©”ë‰´">2) Bash/Zshìš© <code class="language-plaintext highlighter-rouge">today</code> (ì˜ì¡´ì„± ì—†ìŒ: <code class="language-plaintext highlighter-rouge">select</code> ë©”ë‰´)</h2>

<p><code class="language-plaintext highlighter-rouge">Work/10_Today/today</code>:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/usr/bin/env bash</span>
<span class="nb">set</span> <span class="nt">-euo</span> pipefail
<span class="nv">W</span><span class="o">=</span><span class="s2">"</span><span class="k">${</span><span class="nv">WORK_DIR</span><span class="k">:-</span><span class="nv">$HOME</span><span class="p">/Work</span><span class="k">}</span><span class="s2">"</span>
<span class="nv">LIST</span><span class="o">=</span><span class="s2">"</span><span class="nv">$W</span><span class="s2">/10_Today/shortcuts.list"</span>
<span class="o">[[</span> <span class="nt">-f</span> <span class="s2">"</span><span class="nv">$LIST</span><span class="s2">"</span> <span class="o">]]</span> <span class="o">||</span> <span class="o">{</span> <span class="nb">echo</span> <span class="s2">"No shortcuts.list"</span><span class="p">;</span> <span class="nb">exit </span>1<span class="p">;</span> <span class="o">}</span>

<span class="nb">mapfile</span> <span class="nt">-t</span> ITEMS &lt; &lt;<span class="o">(</span><span class="nb">grep</span> <span class="nt">-v</span> <span class="s1">'^\s*#'</span> <span class="s2">"</span><span class="nv">$LIST</span><span class="s2">"</span> | <span class="nb">sed</span> <span class="s1">'/^\s*$/d'</span><span class="o">)</span>
<span class="nv">PS3</span><span class="o">=</span><span class="s2">"today&gt; "</span>
<span class="k">select </span>CH <span class="k">in</span> <span class="s2">"</span><span class="k">${</span><span class="nv">ITEMS</span><span class="p">[@]</span><span class="k">}</span><span class="s2">"</span> <span class="s2">"Edit shortcuts"</span><span class="p">;</span> <span class="k">do
  if</span> <span class="o">[[</span> <span class="s2">"</span><span class="nv">$REPLY</span><span class="s2">"</span> <span class="nt">-eq</span> <span class="k">$((${#</span><span class="nv">ITEMS</span><span class="p">[@]</span><span class="k">}</span><span class="o">+</span><span class="m">1</span><span class="k">))</span> <span class="o">]]</span><span class="p">;</span> <span class="k">then</span> <span class="k">${</span><span class="nv">EDITOR</span><span class="k">:-</span><span class="nv">vi</span><span class="k">}</span> <span class="s2">"</span><span class="nv">$LIST</span><span class="s2">"</span><span class="p">;</span> <span class="k">continue</span><span class="p">;</span> <span class="k">fi
  </span><span class="nv">IFS</span><span class="o">=</span><span class="s1">'|'</span> <span class="nb">read</span> <span class="nt">-r</span> LABEL REL CMD <span class="o">&lt;&lt;&lt;</span><span class="s2">"</span><span class="nv">$CH</span><span class="s2">"</span>
  <span class="nv">DIR</span><span class="o">=</span><span class="s2">"</span><span class="nv">$W</span><span class="s2">/</span><span class="si">$(</span><span class="nb">echo</span> <span class="s2">"</span><span class="nv">$REL</span><span class="s2">"</span> | xargs<span class="si">)</span><span class="s2">"</span>
  <span class="o">(</span><span class="nb">cd</span> <span class="s2">"</span><span class="nv">$DIR</span><span class="s2">"</span> <span class="o">&amp;&amp;</span> <span class="nb">eval</span> <span class="s2">"</span><span class="nv">$CMD</span><span class="s2">"</span><span class="o">)</span>
  <span class="nb">break
</span><span class="k">done</span>
</code></pre></div></div>

<p>ì‹¤í–‰ê¶Œí•œ: <code class="language-plaintext highlighter-rouge">chmod +x Work/10_Today/today</code><br />
ì‚¬ìš©: <code class="language-plaintext highlighter-rouge">~/Work/10_Today/today</code></p>

<h3 id="ë¹ ë¥¸-ì¶”ê°€ìš©-pin-í•¨ìˆ˜ì½˜ì†”ì—ì„œ-1ì¤„-ë“±ë¡">ë¹ ë¥¸ ì¶”ê°€ìš© <code class="language-plaintext highlighter-rouge">pin</code> í•¨ìˆ˜(ì½˜ì†”ì—ì„œ 1ì¤„ ë“±ë¡)</h3>

<p><code class="language-plaintext highlighter-rouge">~/.bashrc</code> ë˜ëŠ” <code class="language-plaintext highlighter-rouge">~/.zshrc</code>:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">WORK_DIR</span><span class="o">=</span><span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/Work"</span>
pin<span class="o">()</span> <span class="o">{</span>
  <span class="nb">local </span><span class="nv">label</span><span class="o">=</span><span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span><span class="p">;</span> <span class="nb">shift</span> <span class="o">||</span> <span class="nb">true
  local </span><span class="nv">cmd</span><span class="o">=</span><span class="s2">"</span><span class="k">${</span><span class="p">*</span><span class="k">:-</span><span class="nv">$SHELL</span><span class="k">}</span><span class="s2">"</span>
  <span class="nb">local </span><span class="nv">rel</span><span class="o">=</span><span class="s2">"</span><span class="k">${</span><span class="nv">PWD</span><span class="p">#</span><span class="s2">"</span><span class="nv">$WORK_DIR</span><span class="s2">/"</span><span class="k">}</span><span class="s2">"</span>
  <span class="nb">echo</span> <span class="s2">"</span><span class="nv">$label</span><span class="s2"> | </span><span class="nv">$rel</span><span class="s2"> | </span><span class="nv">$cmd</span><span class="s2">"</span> <span class="o">&gt;&gt;</span> <span class="s2">"</span><span class="nv">$WORK_DIR</span><span class="s2">/10_Today/shortcuts.list"</span>
  <span class="nb">echo</span> <span class="s2">"Pinned: </span><span class="nv">$label</span><span class="s2"> -&gt; </span><span class="nv">$rel</span><span class="s2"> | </span><span class="nv">$cmd</span><span class="s2">"</span>
<span class="o">}</span>
</code></pre></div></div>

<p>ì˜ˆ) í˜„ì¬ ë””ë ‰í„°ë¦¬ì—ì„œ ìì£¼ ëŒë¦¬ëŠ” ëª…ë ¹ì„ ê³ ì •:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pin "This job run" "./run.sh"
pin "Open spec" "${EDITOR:-vi} docs/spec.md"
</code></pre></div></div>

<h2 id="3-powershellìš©-todayps1-ìœˆë„ìš°">3) PowerShellìš© <code class="language-plaintext highlighter-rouge">today.ps1</code> (ìœˆë„ìš°)</h2>

<p><code class="language-plaintext highlighter-rouge">Work\10_Today\today.ps1</code>:</p>
<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$W</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">WORK_DIR</span><span class="p">;</span><span class="w"> </span><span class="kr">if</span><span class="w"> </span><span class="p">(</span><span class="o">-not</span><span class="w"> </span><span class="nv">$W</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">$W</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span><span class="nv">$L</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Join-Path</span><span class="w"> </span><span class="nv">$W</span><span class="w"> </span><span class="s2">"10_Today\shortcuts.list"</span><span class="w">
</span><span class="kr">if</span><span class="w"> </span><span class="p">(</span><span class="o">-not</span><span class="w"> </span><span class="p">(</span><span class="n">Test-Path</span><span class="w"> </span><span class="nv">$L</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">Write-Error</span><span class="w"> </span><span class="s2">"No shortcuts.list"</span><span class="p">;</span><span class="w"> </span><span class="kr">exit</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">}</span><span class="w">

</span><span class="nv">$items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Get-Content</span><span class="w"> </span><span class="nv">$L</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Where-Object</span><span class="w"> </span><span class="p">{</span><span class="bp">$_</span><span class="w"> </span><span class="o">-notmatch</span><span class="w"> </span><span class="s1">'^\s*$|^\s*#'</span><span class="p">}</span><span class="w">
</span><span class="kr">for</span><span class="w"> </span><span class="p">(</span><span class="nv">$i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="nv">$i</span><span class="w"> </span><span class="o">-lt</span><span class="w"> </span><span class="nv">$items</span><span class="o">.</span><span class="nf">Count</span><span class="p">;</span><span class="w"> </span><span class="nv">$i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s2">"{0}. {1}"</span><span class="w"> </span><span class="nt">-f</span><span class="w"> </span><span class="p">(</span><span class="nv">$i</span><span class="o">+</span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="nv">$items</span><span class="p">[</span><span class="nv">$i</span><span class="p">]</span><span class="w"> </span><span class="p">}</span><span class="w">
</span><span class="nv">$choice</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Read-Host</span><span class="w"> </span><span class="s2">"today&gt;"</span><span class="w">
</span><span class="kr">if</span><span class="w"> </span><span class="p">(</span><span class="nv">$choice</span><span class="w"> </span><span class="o">-match</span><span class="w"> </span><span class="s1">'^\d+$'</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nv">$line</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">$items</span><span class="p">[</span><span class="nv">$choice</span><span class="nt">-1</span><span class="p">]</span><span class="w">
  </span><span class="nv">$parts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">$line</span><span class="w"> </span><span class="o">-split</span><span class="w"> </span><span class="s1">'\s*\|\s*'</span><span class="w">
  </span><span class="n">Set-Location</span><span class="w"> </span><span class="p">(</span><span class="n">Join-Path</span><span class="w"> </span><span class="nv">$W</span><span class="w"> </span><span class="nv">$parts</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="w">
  </span><span class="n">Invoke-Expression</span><span class="w"> </span><span class="nv">$parts</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><strong>í•€ ê¸°ëŠ¥</strong> :</p>
<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kr">function</span><span class="w"> </span><span class="nf">pin</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="kr">param</span><span class="p">([</span><span class="n">string</span><span class="p">]</span><span class="nv">$Label</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="n">string</span><span class="p">]</span><span class="nv">$Cmd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">$null</span><span class="p">)</span><span class="w">
  </span><span class="nv">$W</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">WORK_DIR</span><span class="p">;</span><span class="w"> </span><span class="kr">if</span><span class="w"> </span><span class="p">(</span><span class="o">-not</span><span class="w"> </span><span class="nv">$W</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">$W</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work"</span><span class="w"> </span><span class="p">}</span><span class="w">
  </span><span class="nv">$rel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">Resolve-Path</span><span class="w"> </span><span class="o">.</span><span class="p">)</span><span class="o">.</span><span class="nf">Path</span><span class="o">.</span><span class="nf">Replace</span><span class="p">(</span><span class="s2">"</span><span class="nv">$W</span><span class="s2">\"</span><span class="p">,</span><span class="s2">""</span><span class="p">)</span><span class="w">
  </span><span class="nx">if</span><span class="w"> </span><span class="p">(</span><span class="o">-not</span><span class="w"> </span><span class="nv">$Cmd</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">$Cmd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">$Host</span><span class="o">.</span><span class="nf">UI</span><span class="o">.</span><span class="nf">RawUI</span><span class="o">.</span><span class="nf">WindowTitle</span><span class="w"> </span><span class="p">}</span><span class="w">
  </span><span class="s2">"</span><span class="nv">$Label</span><span class="s2"> | </span><span class="nv">$rel</span><span class="s2"> | </span><span class="nv">$Cmd</span><span class="s2">"</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Add-Content</span><span class="w"> </span><span class="p">(</span><span class="n">Join-Path</span><span class="w"> </span><span class="nv">$W</span><span class="w"> </span><span class="s2">"10_Today\shortcuts.list"</span><span class="p">)</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<blockquote>
  <p>ìš”ì•½: ë§í¬Â·md ì—†ì´ <strong>ëª©ë¡ íŒŒì¼ì— ë¼ì¸ë§Œ ì¶”ê°€</strong> â†’ <code class="language-plaintext highlighter-rouge">today</code>ë¡œ ì„ íƒ ì‹¤í–‰.</p>
</blockquote>

<hr />

<h1 id="ì˜µì…˜-b-ì•„ì˜ˆ-í•¨ìˆ˜ë³„ì¹­ë§Œ-ì“°ê¸°-ì´ˆê°„ë‹¨">ì˜µì…˜ B) ì•„ì˜ˆ â€œí•¨ìˆ˜/ë³„ì¹­â€ë§Œ ì“°ê¸° (ì´ˆê°„ë‹¨)</h1>

<h2 id="bashzsh">Bash/Zsh</h2>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">W</span><span class="o">=</span><span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/Work"</span>
p<span class="o">()</span> <span class="o">{</span> <span class="nb">cd</span> <span class="s2">"</span><span class="nv">$W</span><span class="s2">/20_Projects"</span> <span class="o">&amp;&amp;</span> <span class="k">select </span>d <span class="k">in </span>PRJ-<span class="k">*</span><span class="p">;</span> <span class="k">do </span><span class="nb">cd</span> <span class="s2">"</span><span class="nv">$d</span><span class="s2">"</span><span class="p">;</span> <span class="nb">break</span><span class="p">;</span> <span class="k">done</span><span class="p">;</span> <span class="o">}</span>     <span class="c"># í”„ë¡œì íŠ¸ ì´ë™</span>
j<span class="o">()</span> <span class="o">{</span> <span class="nb">cd</span> <span class="s2">"</span><span class="nv">$W</span><span class="s2">/25_Jobs"</span> <span class="o">&amp;&amp;</span> <span class="k">select </span>d <span class="k">in</span> <span class="o">{</span>JOB,BUG,EX,SMOKE<span class="o">}</span>-<span class="k">*</span> 2&gt;/dev/null<span class="p">;</span> <span class="k">do </span><span class="nb">cd</span> <span class="s2">"</span><span class="nv">$d</span><span class="s2">"</span><span class="p">;</span> <span class="nb">break</span><span class="p">;</span> <span class="k">done</span><span class="p">;</span> <span class="o">}</span>  <span class="c"># ì¡ ì´ë™</span>
prun<span class="o">()</span> <span class="o">{</span> <span class="o">(</span><span class="nb">cd</span> <span class="s2">"</span><span class="nv">$W</span><span class="s2">/25_Jobs/</span><span class="nv">$1</span><span class="s2">/04_Run"</span> <span class="o">&amp;&amp;</span> ./run.sh<span class="o">)</span><span class="p">;</span> <span class="o">}</span>  <span class="c"># ì‚¬ìš©: prun JOB-2025-001_x</span>
pexport<span class="o">()</span> <span class="o">{</span> <span class="nb">cd</span> <span class="s2">"</span><span class="nv">$W</span><span class="s2">/25_Jobs/</span><span class="nv">$1</span><span class="s2">/06_Export"</span><span class="p">;</span> <span class="o">}</span>
</code></pre></div></div>

<h2 id="powershell">PowerShell</h2>
<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$W</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">WORK_DIR</span><span class="p">;</span><span class="w"> </span><span class="kr">if</span><span class="w"> </span><span class="p">(</span><span class="o">-not</span><span class="w"> </span><span class="nv">$W</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">$W</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span><span class="kr">function</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">Set-Location</span><span class="w"> </span><span class="s2">"</span><span class="nv">$W</span><span class="s2">\20_Projects"</span><span class="p">;</span><span class="w"> </span><span class="nv">$d</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Get-ChildItem</span><span class="w"> </span><span class="nx">PRJ-</span><span class="o">*</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Out-GridView</span><span class="w"> </span><span class="nt">-PassThru</span><span class="p">;</span><span class="w"> </span><span class="kr">if</span><span class="w"> </span><span class="p">(</span><span class="nv">$d</span><span class="p">){</span><span class="w"> </span><span class="n">Set-Location</span><span class="w"> </span><span class="nv">$d</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w">
</span><span class="kr">function</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">Set-Location</span><span class="w"> </span><span class="s2">"</span><span class="nv">$W</span><span class="s2">\25_Jobs"</span><span class="p">;</span><span class="w"> </span><span class="nv">$d</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Get-ChildItem</span><span class="w"> </span><span class="nt">-Directory</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Where-Object</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="bp">$_</span><span class="o">.</span><span class="nf">Name</span><span class="w"> </span><span class="o">-match</span><span class="w"> </span><span class="s1">'^(JOB|BUG|EX|SMOKE)-'</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Out-GridView</span><span class="w"> </span><span class="nt">-PassThru</span><span class="p">;</span><span class="w"> </span><span class="kr">if</span><span class="w"> </span><span class="p">(</span><span class="nv">$d</span><span class="p">){</span><span class="w"> </span><span class="n">Set-Location</span><span class="w"> </span><span class="nv">$d</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w">
</span><span class="kr">function</span><span class="w"> </span><span class="nf">prun</span><span class="p">(</span><span class="nv">$job</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">Push-Location</span><span class="w"> </span><span class="s2">"</span><span class="nv">$W</span><span class="s2">\25_Jobs\</span><span class="nv">$job</span><span class="s2">\04_Run"</span><span class="p">;</span><span class="w"> </span><span class="o">.</span><span class="n">/run.ps1</span><span class="p">;</span><span class="w"> </span><span class="n">Pop-Location</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<blockquote>
  <p>ì™„ì „ ì‹¬í”Œ: <strong>ë§í¬ë„ mdë„ ì—†ìŒ</strong>. í•¨ìˆ˜ë¡œ ì í”„í•˜ê³  ìŠ¤í¬ë¦½íŠ¸ë§Œ ì‹¤í–‰.</p>
</blockquote>

<hr />

<h1 id="ë§ˆë¬´ë¦¬-ê°€ì´ë“œ-ì˜ì‚¬ê²°ì •-ê·œì¹™">ë§ˆë¬´ë¦¬ ê°€ì´ë“œ (ì˜ì‚¬ê²°ì • ê·œì¹™)</h1>

<ul>
  <li>
    <p><strong>ë§í¬/MDëŠ” êµ³ì´ X.</strong> ì½˜ì†” ìœ„ì£¼ë©´ <code class="language-plaintext highlighter-rouge">today</code>(ì˜µì…˜ A)ë‚˜ <strong>í•¨ìˆ˜/ë³„ì¹­</strong>(ì˜µì…˜ B)ì´ ê°€ì¥ ë¹ ë¦„.</p>
  </li>
  <li>
    <p><strong>ë“±ë¡ì€ 1ì¤„</strong> : <code class="language-plaintext highlighter-rouge">shortcuts.list</code>ì— ë¼ì¸ ì¶”ê°€(ë˜ëŠ” <code class="language-plaintext highlighter-rouge">pin "ë¼ë²¨" "ëª…ë ¹"</code>).</p>
  </li>
  <li>
    <p><strong>ì •ë³¸ì€ ì›ë˜ ìœ„ì¹˜</strong> : TodayëŠ” â€œì¶œë°œì â€ì¼ ë¿, ì½”ë“œëŠ” Projects/Jobsì—ì„œ ì‹¤í–‰.</p>
  </li>
  <li>
    <p><strong>ì£¼ 1íšŒ ì²­ì†Œ</strong> : ì•ˆ ì“°ëŠ” ë‹¨ì¶• ë¼ì¸ ì‚­ì œ, ìµœì‹  ì‘ì—…ë§Œ ë‚¨ê¸°ê¸°.</p>
  </li>
</ul>

<p>ì›í•˜ë©´ ìœ„ ìŠ¤í¬ë¦½íŠ¸ë“¤ì„ ë„¤ ìŠ¤íƒ€í„°ì— <strong>íŒŒì¼ë¡œ ë°˜ì˜í•œ ë²„ì „</strong> ì„ ë°”ë¡œ ë§Œë“¤ì–´ ì¤„ê²Œ. ì–´ëŠ ì…¸(Bash/Zsh/PowerShell) ì£¼ë ¥ì¸ì§€ë§Œ ì•Œë ¤ì¤˜!</p>

<p class="chat--user">

Work/10_Today/shortcuts.list ì´ê±¸ ì–´ë–»ê²Œ ì“°ëŠ”ê±°ì•¼?

</p>

<p>ì¢‹ì•„ â€” <code class="language-plaintext highlighter-rouge">Work/10_Today/shortcuts.list</code>ëŠ” <strong>ì½˜ì†”ì—ì„œ ìì£¼ í•˜ëŠ” ì‘ì—…ë“¤ì„ â€œë©”ë‰´ì²˜ëŸ¼â€ ê³ ë¥´ëŠ” ëª©ë¡</strong> ì´ì•¼.<br />
ê° ì¤„ë§ˆë‹¤ <strong>ë¼ë²¨ | (Work ê¸°ì¤€) ìƒëŒ€ê²½ë¡œ | ì‹¤í–‰ ëª…ë ¹</strong> 3ê°œë¥¼ <code class="language-plaintext highlighter-rouge">|</code> ë¡œ êµ¬ë¶„í•´ ì ì–´ë‘ê³ , <code class="language-plaintext highlighter-rouge">today</code> ìŠ¤í¬ë¦½íŠ¸ë¡œ ì„ íƒ ì‹¤í–‰í•´.</p>

<p>ì•„ë˜ë¥¼ <strong>ìˆœì„œëŒ€ë¡œ</strong> í•˜ë©´ ë°”ë¡œ ì¨ì§„ë‹¤.</p>

<hr />

<h2 id="0-ê°œë…-í•œ-ì¤„">0) ê°œë… í•œ ì¤„</h2>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">shortcuts.list</code> = â€œì˜¤ëŠ˜ ì“¸ ë‹¨ì¶•í‚¤ ëª©ë¡â€</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">today</code> = ì´ ëª©ë¡ì„ ì½ì–´ì„œ <strong>ë²ˆí˜¸ë¡œ ê³ ë¥´ê²Œ í•´ì£¼ëŠ” ëŸ°ì²˜</strong></p>
  </li>
</ul>

<hr />

<h2 id="1-ê¸°ë³¸-ì„¤ì¹˜-macoslinux">1) ê¸°ë³¸ ì„¤ì¹˜ (macOS/Linux)</h2>

<ol>
  <li><strong>í™˜ê²½ ë³€ìˆ˜(Work ë£¨íŠ¸) ì§€ì •</strong></li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">WORK_DIR</span><span class="o">=</span><span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/Work"</span>   <span class="c"># Work í´ë”ê°€ ë‹¤ë¥¸ ê³³ì´ë©´ ê·¸ ê²½ë¡œë¡œ ë°”ê¿”ì¤˜</span>
</code></pre></div></div>

<ol>
  <li><strong>ëŸ°ì²˜ ìŠ¤í¬ë¦½íŠ¸ ì €ì¥</strong><br />
<code class="language-plaintext highlighter-rouge">~/Work/10_Today/today</code> íŒŒì¼ì„ ë§Œë“¤ê³  ì•„ë˜ ë‚´ìš© ë¶™ì—¬ë„£ê¸°:</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/usr/bin/env bash</span>
<span class="nb">set</span> <span class="nt">-euo</span> pipefail
<span class="nv">W</span><span class="o">=</span><span class="s2">"</span><span class="k">${</span><span class="nv">WORK_DIR</span><span class="k">:-</span><span class="nv">$HOME</span><span class="p">/Work</span><span class="k">}</span><span class="s2">"</span>
<span class="nv">LIST</span><span class="o">=</span><span class="s2">"</span><span class="nv">$W</span><span class="s2">/10_Today/shortcuts.list"</span>
<span class="o">[[</span> <span class="nt">-f</span> <span class="s2">"</span><span class="nv">$LIST</span><span class="s2">"</span> <span class="o">]]</span> <span class="o">||</span> <span class="o">{</span> <span class="nb">echo</span> <span class="s2">"No shortcuts.list"</span><span class="p">;</span> <span class="nb">exit </span>1<span class="p">;</span> <span class="o">}</span>

<span class="nb">mapfile</span> <span class="nt">-t</span> ITEMS &lt; &lt;<span class="o">(</span><span class="nb">grep</span> <span class="nt">-v</span> <span class="s1">'^\s*#'</span> <span class="s2">"</span><span class="nv">$LIST</span><span class="s2">"</span> | <span class="nb">sed</span> <span class="s1">'/^\s*$/d'</span><span class="o">)</span>
<span class="nv">PS3</span><span class="o">=</span><span class="s2">"today&gt; "</span>
<span class="k">select </span>CH <span class="k">in</span> <span class="s2">"</span><span class="k">${</span><span class="nv">ITEMS</span><span class="p">[@]</span><span class="k">}</span><span class="s2">"</span> <span class="s2">"Edit shortcuts"</span><span class="p">;</span> <span class="k">do
  if</span> <span class="o">[[</span> <span class="s2">"</span><span class="nv">$REPLY</span><span class="s2">"</span> <span class="nt">-eq</span> <span class="k">$((${#</span><span class="nv">ITEMS</span><span class="p">[@]</span><span class="k">}</span><span class="o">+</span><span class="m">1</span><span class="k">))</span> <span class="o">]]</span><span class="p">;</span> <span class="k">then</span> <span class="k">${</span><span class="nv">EDITOR</span><span class="k">:-</span><span class="nv">vi</span><span class="k">}</span> <span class="s2">"</span><span class="nv">$LIST</span><span class="s2">"</span><span class="p">;</span> <span class="k">continue</span><span class="p">;</span> <span class="k">fi
  </span><span class="nv">IFS</span><span class="o">=</span><span class="s1">'|'</span> <span class="nb">read</span> <span class="nt">-r</span> LABEL REL CMD <span class="o">&lt;&lt;&lt;</span><span class="s2">"</span><span class="nv">$CH</span><span class="s2">"</span>
  <span class="nv">DIR</span><span class="o">=</span><span class="s2">"</span><span class="nv">$W</span><span class="s2">/</span><span class="si">$(</span><span class="nb">echo</span> <span class="s2">"</span><span class="nv">$REL</span><span class="s2">"</span> | xargs<span class="si">)</span><span class="s2">"</span>
  <span class="o">(</span><span class="nb">cd</span> <span class="s2">"</span><span class="nv">$DIR</span><span class="s2">"</span> <span class="o">&amp;&amp;</span> <span class="nb">eval</span> <span class="s2">"</span><span class="nv">$CMD</span><span class="s2">"</span><span class="o">)</span>
  <span class="nb">break
</span><span class="k">done</span>
</code></pre></div></div>

<p>ì‹¤í–‰ ê¶Œí•œ:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">chmod</span> +x ~/Work/10_Today/today
</code></pre></div></div>

<ol>
  <li><strong>ëª©ë¡ íŒŒì¼ ë§Œë“¤ê¸°</strong><br />
<code class="language-plaintext highlighter-rouge">~/Work/10_Today/shortcuts.list</code>:</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># Label                | RelativePath(from Work)                       | Command
Run tests              | 20_Projects/PRJ-2025-001_sample_app           | ./scripts/test.sh
Build GUI              | 20_Projects/PRJ-2025-001_sample_app           | ./scripts/build_gui.sh
Re-run sample job      | 25_Jobs/JOB-2025-001_sample_output/04_Run     | ./run.sh
Open job export        | 25_Jobs/JOB-2025-001_sample_output/06_Export  | ls -al
</code></pre></div></div>

<ol>
  <li><strong>ì‹¤í–‰</strong></li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>~/Work/10_Today/today
<span class="c"># â†’ ë²ˆí˜¸ ë©”ë‰´ê°€ ëœ¨ê³ , ê³ ë¥´ë©´ í•´ë‹¹ ê²½ë¡œë¡œ cd í›„ ëª…ë ¹ì„ ì‹¤í–‰</span>
</code></pre></div></div>

<blockquote>
  <p>(ì„ íƒ) í¸í•˜ê²Œ <code class="language-plaintext highlighter-rouge">t</code> ë³„ì¹­ ì¶”ê°€:<br />
 <code class="language-plaintext highlighter-rouge">echo "alias t='$HOME/Work/10_Today/today'" &gt;&gt; ~/.zshrc &amp;&amp; source ~/.zshrc</code><br />
 ì´ì œ <code class="language-plaintext highlighter-rouge">t</code>ë§Œ ì³ë„ ëœë‹¤.</p>
</blockquote>

<hr />

<h2 id="2-ê¸°ë³¸-ì„¤ì¹˜-windows--powershell">2) ê¸°ë³¸ ì„¤ì¹˜ (Windows / PowerShell)</h2>

<ol>
  <li><strong>í™˜ê²½ ë³€ìˆ˜(Work ë£¨íŠ¸) ì§€ì •</strong></li>
</ol>

<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">WORK_DIR</span><span class="o">=</span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work"</span><span class="w">
</span></code></pre></div></div>

<ol>
  <li><strong>ëŸ°ì²˜ ìŠ¤í¬ë¦½íŠ¸ ì €ì¥</strong><br />
<code class="language-plaintext highlighter-rouge">$HOME\Work\10_Today\today.ps1</code>:</li>
</ol>

<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$W</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">WORK_DIR</span><span class="p">;</span><span class="w"> </span><span class="kr">if</span><span class="w"> </span><span class="p">(</span><span class="o">-not</span><span class="w"> </span><span class="nv">$W</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">$W</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span><span class="nv">$L</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Join-Path</span><span class="w"> </span><span class="nv">$W</span><span class="w"> </span><span class="s2">"10_Today\shortcuts.list"</span><span class="w">
</span><span class="kr">if</span><span class="w"> </span><span class="p">(</span><span class="o">-not</span><span class="w"> </span><span class="p">(</span><span class="n">Test-Path</span><span class="w"> </span><span class="nv">$L</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">Write-Error</span><span class="w"> </span><span class="s2">"No shortcuts.list"</span><span class="p">;</span><span class="w"> </span><span class="kr">exit</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">}</span><span class="w">

</span><span class="nv">$items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Get-Content</span><span class="w"> </span><span class="nv">$L</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Where-Object</span><span class="w"> </span><span class="p">{</span><span class="bp">$_</span><span class="w"> </span><span class="o">-notmatch</span><span class="w"> </span><span class="s1">'^\s*$|^\s*#'</span><span class="p">}</span><span class="w">
</span><span class="kr">for</span><span class="w"> </span><span class="p">(</span><span class="nv">$i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="nv">$i</span><span class="w"> </span><span class="o">-lt</span><span class="w"> </span><span class="nv">$items</span><span class="o">.</span><span class="nf">Count</span><span class="p">;</span><span class="w"> </span><span class="nv">$i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s2">"{0}. {1}"</span><span class="w"> </span><span class="nt">-f</span><span class="w"> </span><span class="p">(</span><span class="nv">$i</span><span class="o">+</span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="nv">$items</span><span class="p">[</span><span class="nv">$i</span><span class="p">]</span><span class="w"> </span><span class="p">}</span><span class="w">
</span><span class="nv">$choice</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Read-Host</span><span class="w"> </span><span class="s2">"today&gt;"</span><span class="w">
</span><span class="kr">if</span><span class="w"> </span><span class="p">(</span><span class="nv">$choice</span><span class="w"> </span><span class="o">-match</span><span class="w"> </span><span class="s1">'^\d+$'</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nv">$line</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">$items</span><span class="p">[</span><span class="nv">$choice</span><span class="nt">-1</span><span class="p">]</span><span class="w">
  </span><span class="nv">$parts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">$line</span><span class="w"> </span><span class="o">-split</span><span class="w"> </span><span class="s1">'\s*\|\s*'</span><span class="w">
  </span><span class="n">Set-Location</span><span class="w"> </span><span class="p">(</span><span class="n">Join-Path</span><span class="w"> </span><span class="nv">$W</span><span class="w"> </span><span class="nv">$parts</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="w">
  </span><span class="n">Invoke-Expression</span><span class="w"> </span><span class="nv">$parts</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<blockquote>
  <p>ì‹¤í–‰ ì •ì±… ë•Œë¬¸ì— ë§‰íˆë©´(ê´€ë¦¬ì PowerShellì—ì„œ):<br />
 <code class="language-plaintext highlighter-rouge">Set-ExecutionPolicy -Scope CurrentUser RemoteSigned</code></p>
</blockquote>

<ol>
  <li><strong>ëª©ë¡ íŒŒì¼ ë§Œë“¤ê¸°</strong><br />
<code class="language-plaintext highlighter-rouge">$HOME\Work\10_Today\shortcuts.list</code> (í˜•ì‹ ë™ì¼):</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Run tests              | 20_Projects/PRJ-2025-001_sample_app           | ./scripts/test.ps1
Build GUI              | 20_Projects/PRJ-2025-001_sample_app           | ./scripts/build_gui.ps1
Re-run sample job      | 25_Jobs/JOB-2025-001_sample_output/04_Run     | ./run.ps1
Open job export        | 25_Jobs/JOB-2025-001_sample_output/06_Export  | dir
</code></pre></div></div>

<ol>
  <li><strong>ì‹¤í–‰</strong></li>
</ol>

<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="bp">$HOME</span><span class="n">\Work\10_Today\today.ps1</span><span class="w">
</span></code></pre></div></div>

<blockquote>
  <p>(ì„ íƒ) <code class="language-plaintext highlighter-rouge">Set-Alias t "$HOME\Work\10_Today\today.ps1"</code> ì¶”ê°€ í›„ <code class="language-plaintext highlighter-rouge">t</code>ë¡œ ì‹¤í–‰.</p>
</blockquote>

<hr />

<h2 id="3-shortcutslist-ì‘ì„±-ê·œì¹™-ì¤‘ìš”-í¬ì¸íŠ¸">3) <code class="language-plaintext highlighter-rouge">shortcuts.list</code> ì‘ì„± ê·œì¹™ (ì¤‘ìš” í¬ì¸íŠ¸)</h2>

<ul>
  <li>
    <p><strong>í¬ë§·</strong> : <code class="language-plaintext highlighter-rouge">ë¼ë²¨ | (Work ê¸°ì¤€) ìƒëŒ€ê²½ë¡œ | ëª…ë ¹</code></p>

    <ul>
      <li>
        <p><strong>ë¼ë²¨</strong> : ë©”ë‰´ì—ì„œ ë³´ì´ëŠ” ì´ë¦„. ììœ  í…ìŠ¤íŠ¸.</p>
      </li>
      <li>
        <p><strong>ìƒëŒ€ê²½ë¡œ</strong> : <code class="language-plaintext highlighter-rouge">Work/</code> ê¸°ì¤€. ì˜ˆ: <code class="language-plaintext highlighter-rouge">20_Projects/PRJ-.../scripts</code></p>
      </li>
      <li>
        <p><strong>ëª…ë ¹</strong> : í•´ë‹¹ ê²½ë¡œì—ì„œ ì‹¤í–‰í•  ì½˜ì†” ëª…ë ¹. ì˜ˆ: <code class="language-plaintext highlighter-rouge">./run.sh</code></p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>ì£¼ì„/ë¹ˆ ì¤„</strong> : <code class="language-plaintext highlighter-rouge">#</code> ë¡œ ì‹œì‘í•˜ë©´ ë¬´ì‹œ, ë¹ˆ ì¤„ë„ ë¬´ì‹œ.</p>
  </li>
  <li>
    <p><strong>íŒŒì´í”„ ê¸°í˜¸<code class="language-plaintext highlighter-rouge">|</code> ì£¼ì˜</strong>: ì´ íŒŒì¼ì€ <code class="language-plaintext highlighter-rouge">|</code>ë¡œ êµ¬ë¶„í•˜ë‹ˆ, <strong>ëª…ë ¹ì— íŒŒì´í”„ê°€ í•„ìš”í•˜ë©´</strong></p>

    <ul>
      <li>
        <p>ì‘ì€ <strong>ë˜í¼ ìŠ¤í¬ë¦½íŠ¸</strong>(ì˜ˆ: <code class="language-plaintext highlighter-rouge">scripts/mycmd.sh</code>)ë¥¼ ë§Œë“¤ì–´ ê·¸ê±¸ í˜¸ì¶œí•´.</p>
      </li>
      <li>
        <p>ì˜ˆ) <code class="language-plaintext highlighter-rouge">scripts/mycmd.sh</code> ì•ˆì— <code class="language-plaintext highlighter-rouge">python x.py | grep foo</code> â†’ ëª©ë¡ì—ëŠ” <code class="language-plaintext highlighter-rouge">./scripts/mycmd.sh</code></p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>ìƒëŒ€ê²½ë¡œëŠ” Work ê¸°ì¤€</strong> : <code class="language-plaintext highlighter-rouge">WORK_DIR</code>(ê¸°ë³¸ <code class="language-plaintext highlighter-rouge">~/Work</code>)ë¥¼ ë°”ê¾¸ë©´ ìë™ìœ¼ë¡œ ë”°ë¼ê°.</p>
  </li>
  <li>
    <p><strong>í™˜ê²½ë³€ìˆ˜/ë³„ì¹­</strong> : ëª…ë ¹ ì•ˆì—ì„œ <code class="language-plaintext highlighter-rouge">${EDITOR}</code>(bash)ë‚˜ <code class="language-plaintext highlighter-rouge">$env:EDITOR</code>(PowerShell) ì‚¬ìš© ê°€ëŠ¥.</p>
  </li>
</ul>

<hr />

<h2 id="4-ì„ íƒ-ì½˜ì†”ì—ì„œ-1ì¤„ë¡œ-ë¹ ë¥´ê²Œ-ë“±ë¡--pin-í•¨ìˆ˜">4) (ì„ íƒ) ì½˜ì†”ì—ì„œ 1ì¤„ë¡œ ë¹ ë¥´ê²Œ ë“±ë¡ â€” <code class="language-plaintext highlighter-rouge">pin</code> í•¨ìˆ˜</h2>

<h3 id="bashzsh-1">Bash/Zsh</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">WORK_DIR</span><span class="o">=</span><span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/Work"</span>
pin<span class="o">()</span> <span class="o">{</span>
  <span class="nb">local </span><span class="nv">label</span><span class="o">=</span><span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span><span class="p">;</span> <span class="nb">shift</span> <span class="o">||</span> <span class="nb">true
  local </span><span class="nv">cmd</span><span class="o">=</span><span class="s2">"</span><span class="k">${</span><span class="p">*</span><span class="k">:-</span><span class="nv">$SHELL</span><span class="k">}</span><span class="s2">"</span>
  <span class="nb">local </span><span class="nv">rel</span><span class="o">=</span><span class="s2">"</span><span class="k">${</span><span class="nv">PWD</span><span class="p">#</span><span class="s2">"</span><span class="nv">$WORK_DIR</span><span class="s2">/"</span><span class="k">}</span><span class="s2">"</span>
  <span class="nb">echo</span> <span class="s2">"</span><span class="nv">$label</span><span class="s2"> | </span><span class="nv">$rel</span><span class="s2"> | </span><span class="nv">$cmd</span><span class="s2">"</span> <span class="o">&gt;&gt;</span> <span class="s2">"</span><span class="nv">$WORK_DIR</span><span class="s2">/10_Today/shortcuts.list"</span>
  <span class="nb">echo</span> <span class="s2">"Pinned: </span><span class="nv">$label</span><span class="s2"> -&gt; </span><span class="nv">$rel</span><span class="s2"> | </span><span class="nv">$cmd</span><span class="s2">"</span>
<span class="o">}</span>
<span class="c"># ì‚¬ìš© ì˜ˆì‹œ</span>
pin <span class="s2">"Run current job"</span> <span class="s2">"./run.sh"</span>
pin <span class="s2">"Edit spec"</span>      <span class="s1">'${EDITOR:-vi} docs/spec.md'</span>
</code></pre></div></div>

<h3 id="powershell-1">PowerShell</h3>
<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kr">function</span><span class="w"> </span><span class="nf">pin</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="kr">param</span><span class="p">([</span><span class="n">string</span><span class="p">]</span><span class="nv">$Label</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="n">string</span><span class="p">]</span><span class="nv">$Cmd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">$null</span><span class="p">)</span><span class="w">
  </span><span class="nv">$W</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">WORK_DIR</span><span class="p">;</span><span class="w"> </span><span class="kr">if</span><span class="w"> </span><span class="p">(</span><span class="o">-not</span><span class="w"> </span><span class="nv">$W</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">$W</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work"</span><span class="w"> </span><span class="p">}</span><span class="w">
  </span><span class="nv">$rel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">Resolve-Path</span><span class="w"> </span><span class="o">.</span><span class="p">)</span><span class="o">.</span><span class="nf">Path</span><span class="o">.</span><span class="nf">Replace</span><span class="p">(</span><span class="s2">"</span><span class="nv">$W</span><span class="s2">\"</span><span class="p">,</span><span class="s2">""</span><span class="p">)</span><span class="w">
  </span><span class="nx">if</span><span class="w"> </span><span class="p">(</span><span class="o">-not</span><span class="w"> </span><span class="nv">$Cmd</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">$Cmd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"powershell"</span><span class="w"> </span><span class="p">}</span><span class="w">
  </span><span class="s2">"</span><span class="nv">$Label</span><span class="s2"> | </span><span class="nv">$rel</span><span class="s2"> | </span><span class="nv">$Cmd</span><span class="s2">"</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Add-Content</span><span class="w"> </span><span class="p">(</span><span class="n">Join-Path</span><span class="w"> </span><span class="nv">$W</span><span class="w"> </span><span class="s2">"10_Today\shortcuts.list"</span><span class="p">)</span><span class="w">
</span><span class="p">}</span><span class="w">
</span><span class="c"># ì˜ˆì‹œ</span><span class="w">
</span><span class="n">pin</span><span class="w"> </span><span class="s2">"Run current job"</span><span class="w"> </span><span class="s2">"./run.ps1"</span><span class="w">
</span></code></pre></div></div>

<hr />

<h2 id="5-ìì£¼-ì“°ëŠ”-ì‹¤ì „-ì˜ˆì‹œ-ë³µë¶™">5) ìì£¼ ì“°ëŠ” ì‹¤ì „ ì˜ˆì‹œ (ë³µë¶™)</h2>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Open project README    | 20_Projects/PRJ-2025-001_sample_app           | ${EDITOR:-vi} README.md
Run CLI                | 20_Projects/PRJ-2025-001_sample_app           | ./scripts/run_cli.sh
Build (CLI onefile)    | 20_Projects/PRJ-2025-001_sample_app           | ./scripts/build_cli.sh
Run SMOKE              | 25_Jobs/SMOKE-2025-001_new_tool/04_Run        | ./smoke.sh
Re-run BUG repro       | 25_Jobs/BUG-2025-001_sample_bug/04_Run        | ./repro.sh
Check JOB exports      | 25_Jobs/JOB-2025-001_sample_output/06_Export  | ls -al
Release notes (edit)   | 75_Releases/sample-app/v0.1.0                 | ${EDITOR:-vi} ReleaseNotes.md
</code></pre></div></div>

<hr />

<h2 id="6-ë¬¸ì œ-í•´ê²°">6) ë¬¸ì œ í•´ê²°</h2>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">No shortcuts.list</code> â†’ ê²½ë¡œ í™•ì¸: <code class="language-plaintext highlighter-rouge">~/Work/10_Today/shortcuts.list</code></p>
  </li>
  <li>
    <p>Permission denied â†’ <code class="language-plaintext highlighter-rouge">chmod +x ~/Work/10_Today/today</code> (bash) / ì‹¤í–‰ì •ì±… ì„¤ì •(PS)</p>
  </li>
  <li>
    <p>ëª…ë ¹ì—ì„œ íŒŒì´í”„ê°€ í•„ìš” â†’ <strong>ë˜í¼ ìŠ¤í¬ë¦½íŠ¸</strong> ë¡œ ê°ì‹¸ì„œ ì‹¤í–‰</p>
  </li>
  <li>
    <p>ë‹¤ë¥¸ ê³³ì— Workê°€ ìˆì„ ë•Œ â†’ <code class="language-plaintext highlighter-rouge">export WORK_DIR="/path/to/Work"</code>(bash) / <code class="language-plaintext highlighter-rouge">$env:WORK_DIR="D:\Work"</code>(PS)</p>
  </li>
</ul>

<hr />

<p>ìš”ì•½: <strong><code class="language-plaintext highlighter-rouge">shortcuts.list</code>ë§Œ í¸ì§‘</strong>í•˜ê³  <code class="language-plaintext highlighter-rouge">today</code>ë¥¼ ì‹¤í–‰í•˜ë©´, ì›í•˜ëŠ” ì‘ì—…ì„ <strong>ë²ˆí˜¸ ì„ íƒ</strong> ìœ¼ë¡œ ë°”ë¡œ ëŒë¦´ ìˆ˜ ìˆì–´. ë§í¬/MD í•„ìš” ì—†ë‹¤â€”ì™„ì „ ì½˜ì†” ì¹œí™” ëª¨ë“œ!</p>

<p class="chat--user">

tcshìš©ìœ¼ë¡œë„ í•˜ë‚˜ ë§Œë“¤ì–´ì¤˜

</p>

<p>ì¢‹ì§€! <strong>tcsh</strong> ì—ì„œë„ ë˜‘ê°™ì´ â€œë²ˆí˜¸ ì„ íƒ ë©”ë‰´â€ë¡œ ëŒë¦´ ìˆ˜ ìˆê²Œ ëŸ°ì²˜/í•€ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë§Œë“¤ì–´ ë³´ì. ì½˜ì†”ë§Œìœ¼ë¡œ ì”ë‹ˆë‹¤â€”ë§í¬/MD ë¶ˆí•„ìš”.</p>

<hr />

<h1 id="1-tcsh-ëŸ°ì²˜-todaycsh">1) tcsh ëŸ°ì²˜: <code class="language-plaintext highlighter-rouge">today.csh</code></h1>

<h2 id="ì„¤ì¹˜-macoslinux-tcsh">ì„¤ì¹˜ (macOS/Linux, tcsh)</h2>

<ol>
  <li>Work ë£¨íŠ¸ í™˜ê²½ë³€ìˆ˜(ë¡œê·¸ì¸ ì‹œ ìë™)</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh

# ~/.cshrc
setenv WORK_DIR "$HOME/Work"
</code></pre></div></div>

<ol>
  <li>ëŸ°ì²˜ ìŠ¤í¬ë¦½íŠ¸ ì €ì¥<br />
<code class="language-plaintext highlighter-rouge">$HOME/Work/10_Today/today.csh</code>:</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh

#!/bin/tcsh -f
# tcsh launcher for Work/10_Today/shortcuts.list
# Format per line: Label | RelativePath(from Work) | Command

# Resolve Work root
set W = "$HOME/Work"
if ( $?WORK_DIR ) set W = "$WORK_DIR"

set LIST = "$W/10_Today/shortcuts.list"
if ( ! -f "$LIST" ) then
  echo "No shortcuts.list at: $LIST"
  exit 1
endif

# Filter comments/blank lines into a temp file
set TMP = "$W/10_Today/.shortcuts.filtered.$$"
grep -v '^[[:space:]]*#' "$LIST" | sed '/^[[:space:]]*$/d' &gt; "$TMP"
set count = `wc -l &lt; "$TMP"`
if ( "$count" == 0 ) then
  echo "No items in shortcuts.list"
  /bin/rm -f "$TMP"
  exit 0
endif

# Show numbered menu
set i = 1
while ( $i &lt;= $count )
  set line = `sed -n "${i}p" "$TMP"`
  echo "$i. $line"
  @ i++
end
@ edit_idx = $count + 1
echo "$edit_idx. Edit shortcuts"
echo -n "today&gt; "
set choice = $&lt;

if ( "$choice" == "$edit_idx" ) then
  if ( $?EDITOR ) then
    eval "$EDITOR $LIST"
  else
    vi "$LIST"
  endif
  /bin/rm -f "$TMP"
  exit 0
endif

# Validate numeric choice
if ( "$choice" !~ [0-9]* ) then
  echo "Invalid choice"
  /bin/rm -f "$TMP"
  exit 1
endif

# Pick the selected line
set sel = `sed -n "${choice}p" "$TMP"`

# Extract Label | Relative | Command
set label = `echo "$sel" | awk -F '|' '{gsub(/^[ \t]+|[ \t]+$/, "", $1); print $1}'`
set rel   = `echo "$sel" | awk -F '|' '{gsub(/^[ \t]+|[ \t]+$/, "", $2); print $2}'`
set cmd   = `echo "$sel" | awk -F '|' '{sub(/^[ \t]+/, "", $3); print $3}'`

set dir = "$W/$rel"
if ( ! -d "$dir" ) then
  echo "Directory not found: $dir"
  /bin/rm -f "$TMP"
  exit 1
endif

cd "$dir"
# Run command in that dir
eval "$cmd"

# Cleanup
/bin/rm -f "$TMP"
</code></pre></div></div>

<p>ì‹¤í–‰ ê¶Œí•œ:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">chmod</span> +x <span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/Work/10_Today/today.csh"</span>
</code></pre></div></div>

<p>(ì„ íƒ) ë‹¨ì¶• ë³„ì¹­:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh

# ~/.cshrc
alias t '$HOME/Work/10_Today/today.csh'
source ~/.cshrc
</code></pre></div></div>

<ol>
  <li><strong>ëª©ë¡ íŒŒì¼</strong> ë§Œë“¤ê¸°<br />
<code class="language-plaintext highlighter-rouge">$HOME/Work/10_Today/shortcuts.list</code>:</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># Label                 | RelativePath(from Work)                      | Command
Run tests               | 20_Projects/PRJ-2025-001_sample_app          | ./scripts/test.sh
Build GUI               | 20_Projects/PRJ-2025-001_sample_app          | ./scripts/build_gui.sh
Re-run sample job       | 25_Jobs/JOB-2025-001_sample_output/04_Run    | ./run.sh
Open job export         | 25_Jobs/JOB-2025-001_sample_output/06_Export | ls -al
</code></pre></div></div>

<p>ì‚¬ìš©:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh

$ ~/Work/10_Today/today.csh
# â†’ ë²ˆí˜¸ ì„ íƒ í›„, í•´ë‹¹ ê²½ë¡œë¡œ cd í•˜ê³  Command ì‹¤í–‰
</code></pre></div></div>

<blockquote>
  <p><strong>íŒŒì´í”„(|) ì£¼ì˜</strong> : ì´ íŒŒì¼ì€ <code class="language-plaintext highlighter-rouge">|</code> êµ¬ë¶„ìë¥¼ ì“°ë¯€ë¡œ, ëª…ë ¹ì— íŒŒì´í”„ê°€ í•„ìš”í•˜ë©´<br />
 ì‘ì€ ë˜í¼ ìŠ¤í¬ë¦½íŠ¸(ì˜ˆ: <code class="language-plaintext highlighter-rouge">scripts/mycmd.sh</code>)ë¥¼ ë§Œë“¤ì–´ ê·¸ê±¸ í˜¸ì¶œí•´ ì£¼ì„¸ìš”.</p>
</blockquote>

<hr />

<h1 id="2-tcsh-í•€-ìœ í‹¸-í•œ-ì¤„ë¡œ-ëª©ë¡ì—-ì¶”ê°€í•˜ê¸°">2) tcsh â€œí•€â€ ìœ í‹¸: í•œ ì¤„ë¡œ ëª©ë¡ì— ì¶”ê°€í•˜ê¸°</h1>

<p><code class="language-plaintext highlighter-rouge">$HOME/Work/10_Today/pin.csh</code>:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh

#!/bin/tcsh -f
# Usage: pin.csh "Label" [command]
set W = "$HOME/Work"
if ( $?WORK_DIR ) set W = "$WORK_DIR"
set L = "$W/10_Today/shortcuts.list"

if ( "$#argv" == 0 ) then
  echo 'Usage: pin.csh "Label" [command]'
  exit 1
endif

set label = "$1"
shift
if ( "$#argv" &gt; 0 ) then
  set cmd = "$*"
else
  set cmd = "$SHELL"
endif

# Current dir relative to Work
set rel = `echo "$cwd" | sed "s#^$W/##"`
echo "$label | $rel | $cmd" &gt;&gt; "$L"
echo "Pinned: $label -&gt; $rel | $cmd"
</code></pre></div></div>

<p>ê¶Œí•œ:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">chmod</span> +x <span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/Work/10_Today/pin.csh"</span>
</code></pre></div></div>

<p>ì‚¬ìš© ì˜ˆì‹œ:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh

# ì§€ê¸ˆ í´ë”ì˜ run.shë¥¼ í•€ìœ¼ë¡œ ë“±ë¡
~/Work/10_Today/pin.csh "Run current job" "./run.sh"

# ìŠ¤í™ ë¬¸ì„œ í¸ì§‘ì„ í•€ìœ¼ë¡œ ë“±ë¡(EDITORê°€ ì„¤ì •ë˜ì–´ ìˆë‹¤ë©´ ê·¸ê±¸ ì‚¬ìš©)
~/Work/10_Today/pin.csh "Edit spec" '${EDITOR} docs/spec.md'
</code></pre></div></div>

<hr />

<h2 id="ìì£¼-ë¬»ëŠ”-ìš”ì -ì •ë¦¬">ìì£¼ ë¬»ëŠ” ìš”ì  ì •ë¦¬</h2>

<ul>
  <li>
    <table>
      <tbody>
        <tr>
          <td><code class="language-plaintext highlighter-rouge">shortcuts.list</code> í¬ë§·: **Label</td>
          <td>RelativePath</td>
          <td>Command** (Work ê¸°ì¤€ ìƒëŒ€ê²½ë¡œ)</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <p><strong>í¸ì§‘ í‚¤</strong> : ë©”ë‰´ì˜ ë§ˆì§€ë§‰ í•­ëª© <strong>â€œEdit shortcutsâ€</strong> ì„ íƒí•˜ë©´ <code class="language-plaintext highlighter-rouge">$EDITOR</code>(ì—†ìœ¼ë©´ <code class="language-plaintext highlighter-rouge">vi</code>)ë¡œ ë°”ë¡œ ì—´ë¦¼</p>
  </li>
  <li>
    <p><strong>WORK_DIR</strong> ë¥¼ ì˜®ê²¼ë‹¤ë©´: <code class="language-plaintext highlighter-rouge">setenv WORK_DIR "/ìƒˆ/ê²½ë¡œ/Work"</code> ë§Œ ë°”ê¾¸ë©´ ìë™ìœ¼ë¡œ ë”°ë¼ê°</p>
  </li>
  <li>
    <p><strong>ë¬¸ì œ</strong> : â€œNo shortcuts.listâ€ â†’ ê²½ë¡œ í™•ì¸, ë¹ˆ íŒŒì¼ì´ë©´ í•­ëª© ì¶”ê°€</p>
  </li>
  <li><strong>ê¶Œì¥</strong> : TodayëŠ” â€œì‹¤í–‰ ì¶œë°œì â€ì¼ ë¿, ì •ë³¸ ì½”ë“œëŠ” <code class="language-plaintext highlighter-rouge">20_Projects/</code>ì™€ <code class="language-plaintext highlighter-rouge">25_Jobs/</code>ì— ë‘¡ë‹ˆë‹¤</li>
</ul>

<p>í•„ìš”í•˜ë©´ <code class="language-plaintext highlighter-rouge">today.csh</code>ì— <strong>ì¦ê²¨ì°¾ê¸° ê³ ì •/ê²€ìƒ‰/í•„í„°</strong> ê°™ì€ ì˜µì…˜(menu ê²€ìƒ‰, ë²ˆí˜¸ ë‹¤ì¤‘ ì‹¤í–‰ ë“±)ë„ ì¶”ê°€í•´ ì¤„ê²Œ.</p>

<p class="chat--user">

ê°„ë‹¨í•œ ìŠ¤í¬ë¦½íŠ¸ëŠ” ì–´ë”” ëª¨ì•„ì•¼í• ê¹Œ

</p>

<p>ì¢‹ì€ ì§ˆë¬¸! â€œê°„ë‹¨í•œ ìŠ¤í¬ë¦½íŠ¸â€ëŠ” <strong>ì“°ì„ìƒˆ(ë²”ìœ„Â·ìˆ˜ëª…)</strong>ë¡œ ë‚˜ëˆ ì„œ ë³´ê´€í•˜ë©´ í—·ê°ˆë¦¼ì´ ì‚¬ë¼ì ¸ìš”. ì•„ë˜ <strong>ê²°ì •í‘œ</strong> ëŒ€ë¡œ ë‘ë©´ ë©ë‹ˆë‹¤. í•„ìš”ì— ë”°ë¼ í´ë” í•˜ë‚˜(â–¶ ì¶”ê°€ í‘œì‹œ)ë„ ì œì•ˆí–ˆì–´ìš”.</p>

<hr />

<h2 id="ì–´ë””ì—-ë‘˜ê¹Œ-ê²°ì •í‘œ">ì–´ë””ì— ë‘˜ê¹Œ? (ê²°ì •í‘œ)</h2>

<table>
  <thead>
    <tr>
      <th>ìƒí™©/ëª©ì </th>
      <th>ë³´ê´€ ìœ„ì¹˜</th>
      <th>ì´ìœ /ë©”ëª¨</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>í”„ë¡œì íŠ¸ ì „ìš© ì‘ì—…</strong> (ë¹Œë“œ/í…ŒìŠ¤íŠ¸/ëŸ°)</td>
      <td><code class="language-plaintext highlighter-rouge">20_Projects/PRJ-â€¦/scripts/</code></td>
      <td>í”„ë¡œì íŠ¸ ë£¨íŠ¸ ê¸°ì¤€ ê²½ë¡œê°€ ê³ ì •. íŒ€/CIë„ ê·¸ëŒ€ë¡œ ì‚¬ìš© ê°€ëŠ¥.</td>
    </tr>
    <tr>
      <td><strong>Job ì‹¤í–‰ íŒŒì´í”„ë¼ì¸</strong> (ì…ë ¥â†’ì„¤ì •â†’ì‹¤í–‰â†’ì‚°ì¶œ)</td>
      <td><code class="language-plaintext highlighter-rouge">25_Jobs/&lt;JOB&gt;/04_Run/</code></td>
      <td>ì¬í˜„Â·ì¦ë¹™ ëª©ì . ë¡œê·¸/ë§¤ë‹ˆí˜ìŠ¤íŠ¸ì™€ ê°™ì€ ë§¥ë½ì— ë‘ .</td>
    </tr>
    <tr>
      <td><strong>ì—¬ëŸ¬ í”„ë¡œì íŠ¸ì—ì„œ ì¬ì‚¬ìš©í•˜ëŠ” ë²”ìš© ìŠ¤í¬ë¦½íŠ¸</strong></td>
      <td><code class="language-plaintext highlighter-rouge">80_Tools/scripts/</code></td>
      <td>ê³µìš©(ê³¨ë“ ) ë„êµ¬. <strong>PATH</strong> ì— ì¶”ê°€í•´ì„œ ì–´ë””ì„œë“  í˜¸ì¶œ.</td>
    </tr>
    <tr>
      <td><strong>ì˜¤ëŠ˜ë§Œ ì“°ëŠ” ì„ì‹œ ë˜í¼/ëŸ°ì²˜</strong> (ì½˜ì†” ì¤‘ì‹¬)</td>
      <td>â–¶ <code class="language-plaintext highlighter-rouge">10_Today/wrappers/</code></td>
      <td><code class="language-plaintext highlighter-rouge">shortcuts.list</code>ì—ì„œ ë¶€ë¥´ëŠ” ì‘ì€ ë˜í¼ë¥¼ ëª¨ì•„ë‘ëŠ” ì„ì‹œ êµ¬ì—­. EOD/ì£¼ 1íšŒ ì •ë¦¬.</td>
    </tr>
    <tr>
      <td><strong>ì§§ì€ 1~3ì¤„ íŠ¸ë¦­/ë°˜ë³µ ëª…ë ¹(ì½”ë“œ ì¡°ê°)</strong></td>
      <td><code class="language-plaintext highlighter-rouge">50_Snippets/bash/</code></td>
      <td>â€˜ì‹¤í–‰íŒŒì¼â€™ì´ ì•„ë‹ˆë¼ <strong>ì°¸ê³ ìš© ì¡°ê°</strong>. ë‚˜ì¤‘ì— ì„±ìˆ™í•˜ë©´ ìŠ¤í¬ë¦½íŠ¸ë¡œ ìŠ¹ê²©.</td>
    </tr>
    <tr>
      <td><strong>ì‹¤í—˜Â·í”„ë¡œí† íƒ€ì…</strong> (ë²„ë ¤ë„ ë˜ëŠ” í…ŒìŠ¤íŠ¸)</td>
      <td><code class="language-plaintext highlighter-rouge">31_Labs/jupyter/</code> ë˜ëŠ” í•´ë‹¹ ì‹¤í—˜ í´ë”</td>
      <td>ì•„ì´ë””ì–´ ê²€ì¦ ë‹¨ê³„. ìœ íš¨í•´ì§€ë©´ ìƒìœ„ ìœ„ì¹˜ë¡œ ìŠ¹ê²©.</td>
    </tr>
    <tr>
      <td><strong>ê°œì¸ ì…¸ í•¨ìˆ˜/ë³„ì¹­</strong> (í™˜ê²½ ì„¤ì •)</td>
      <td><code class="language-plaintext highlighter-rouge">40_Resources/personal/configs/shell/{bash,zsh,tcsh,powershell}/</code></td>
      <td>ë¡œê·¸ì¸ ì‹œ ìë™ ë¡œë”©. ë¹„ê³µìœ /ì·¨í–¥/OSë³„ë¡œ ë¶„ë¦¬.</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p>â–¶ <strong>ì‹ ê·œ í´ë” ì œì•ˆ</strong> : <code class="language-plaintext highlighter-rouge">10_Today/wrappers/</code></p>

  <ul>
    <li>
      <p>ì˜ˆ: <code class="language-plaintext highlighter-rouge">today</code>ì—ì„œ íŒŒì´í”„(<code class="language-plaintext highlighter-rouge">|</code>), ë³µì¡í•œ ì¸ì ë“±ì´ í•„ìš”í•  ë•Œ ì§§ì€ ë˜í¼(<code class="language-plaintext highlighter-rouge">*.sh</code>, <code class="language-plaintext highlighter-rouge">*.ps1</code>, <code class="language-plaintext highlighter-rouge">*.csh</code>)ë¥¼ ì—¬ê¸°ì— ë‘ê³  <code class="language-plaintext highlighter-rouge">shortcuts.list</code>ì—ì„œëŠ” ê·¸ ë˜í¼ë§Œ í˜¸ì¶œ.</p>
    </li>
    <li>
      <p>ì •ë¦¬ ì£¼ê¸°: <strong>í•˜ë£¨~ì¼ì£¼ì¼</strong>. ì¬ì‚¬ìš© ê°€ì¹˜ê°€ ìƒê¸°ë©´ <code class="language-plaintext highlighter-rouge">80_Tools/scripts/</code>ë‚˜ <code class="language-plaintext highlighter-rouge">PRJ-â€¦/scripts/</code>ë¡œ <strong>ìŠ¹ê²©</strong>.</p>
    </li>
  </ul>

</blockquote>

<hr />

<h2 id="ìš´ìš©-ê·œì¹™-ê°„ë‹¨ì‹¤ì „í˜•">ìš´ìš© ê·œì¹™ (ê°„ë‹¨Â·ì‹¤ì „í˜•)</h2>

<ol>
  <li><strong>PATH ì„¤ì •</strong>(ë‹¨ í•œ ë²ˆ)</li>
</ol>

<ul>
  <li>Bash/Zsh/tcsh:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/Work/80_Tools/scripts:</span><span class="nv">$PATH</span><span class="s2">"</span>
</code></pre></div>    </div>
  </li>
  <li>PowerShell:
    <div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">Path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work\80_Tools\scripts;"</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">Path</span><span class="w">
</span></code></pre></div>    </div>
  </li>
</ul>

<blockquote>
  <p>ì´ë ‡ê²Œ í•˜ë©´ ì–´ë””ì„œë“  <code class="language-plaintext highlighter-rouge">my-tool.sh</code> ê°™ì€ ê³µìš© ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë°”ë¡œ ì‹¤í–‰.</p>
</blockquote>

<ol>
  <li><strong>ìŠ¹ê²© ë£¨íŠ¸</strong></li>
</ol>

<ul>
  <li><code class="language-plaintext highlighter-rouge">50_Snippets/bash/one-liner.txt</code> â†’ ì¢‹ì•„ì„œ ìì£¼ ì“°ê²Œ ë¨ â†’<br />
<code class="language-plaintext highlighter-rouge">10_Today/wrappers/say_hello.sh</code>ë¡œ ì„ì‹œ ì‚¬ìš© â†’ ì—¬ì „íˆ ìœ ìš© â†’<br />
<code class="language-plaintext highlighter-rouge">80_Tools/scripts/say_hello.sh</code>ë¡œ <strong>ìŠ¹ê²©</strong> + <code class="language-plaintext highlighter-rouge">--help</code>/ì„¤ëª… ì¶”ê°€.</li>
</ul>

<ol>
  <li><strong>ì´ë¦„ ê·œì¹™</strong></li>
</ol>

<ul>
  <li>
    <p><strong>ë™ì‚¬-ëª©ì </strong> : <code class="language-plaintext highlighter-rouge">build_cli.sh</code>, <code class="language-plaintext highlighter-rouge">release_copy.ps1</code>, <code class="language-plaintext highlighter-rouge">repro_bug.csh</code></p>
  </li>
  <li>
    <p><strong>OS/ì…¸ íƒœê·¸</strong>(í•„ìš” ì‹œ): <code class="language-plaintext highlighter-rouge">*_mac.sh</code>, <code class="language-plaintext highlighter-rouge">*_win.ps1</code>, <code class="language-plaintext highlighter-rouge">*_nix.sh</code>, <code class="language-plaintext highlighter-rouge">*_tcsh.csh</code></p>
  </li>
  <li>
    <p><strong>í”„ë¡œì íŠ¸ í•œì •</strong> ì´ë©´ íŒŒì¼ëª…ì— <strong>í”„ë¡œì íŠ¸ ì•½ì–´</strong> ë¶™ì´ê¸°: <code class="language-plaintext highlighter-rouge">build_cli_app1.sh</code></p>
  </li>
</ul>

<ol>
  <li><strong>í—¤ë”/ì•ˆì „ ì˜µì…˜(í•„ìˆ˜)</strong></li>
</ol>

<ul>
  <li>Bash/Zsh:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/usr/bin/env bash</span>
<span class="nb">set</span> <span class="nt">-euo</span> pipefail
</code></pre></div>    </div>
  </li>
  <li>PowerShell:
    <div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="bp">$Error</span><span class="n">ActionPreference</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Stop"</span><span class="w">
</span><span class="n">Set-StrictMode</span><span class="w"> </span><span class="nt">-Version</span><span class="w"> </span><span class="nx">Latest</span><span class="w">
</span></code></pre></div>    </div>
  </li>
  <li>tcsh:
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh
    
#!/bin/tcsh -f
</code></pre></div>    </div>
  </li>
  <li>ìµœìƒë‹¨ ì£¼ì„ 3ì¤„(ì„¤ëª…/ì˜ì¡´ì„±/ì˜ˆì‹œ):
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># build_cli.sh - Build CLI as onefile with PyInstaller</span>
<span class="c"># deps: pyinstaller&gt;=6, Python 3.11 venv activated</span>
<span class="c"># usage: ./build_cli.sh</span>
</code></pre></div>    </div>
  </li>
</ul>

<ol>
  <li><strong>ë¬¸ì„œí™” ìœ„ì¹˜</strong></li>
</ol>

<ul>
  <li>
    <p>ê³µìš© ìŠ¤í¬ë¦½íŠ¸ ëª©ë¡ì€ <code class="language-plaintext highlighter-rouge">80_Tools/scripts/INDEX.md</code> í•œ ì¥ìœ¼ë¡œ ê´€ë¦¬<br />
(ì´ë¦„, í•œì¤„ ì„¤ëª…, ì‚¬ìš© ì˜ˆì‹œ).</p>
  </li>
  <li>
    <p>í”„ë¡œì íŠ¸ ì „ìš©ì€ <code class="language-plaintext highlighter-rouge">PRJ-â€¦/README.md</code>ì˜ â€œScriptsâ€ ì„¹ì…˜ì— í‘œë¡œ ì •ë¦¬.</p>
  </li>
</ul>

<hr />

<h2 id="ì˜ˆì‹œ-ë°°ì¹˜-ìƒ˜í”Œ">ì˜ˆì‹œ ë°°ì¹˜ (ìƒ˜í”Œ)</h2>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Work/
  10_Today/
    wrappers/
      hotfix_export.sh         # ì˜¤ëŠ˜ë§Œ ì“¸ ì„ì‹œ ë˜í¼ (EOD ì‚­ì œ/ìŠ¹ê²©)
  20_Projects/PRJ-2025-001_sample_app/
    scripts/
      install.sh | .ps1
      run_cli.sh | .ps1
      build_cli.sh | .ps1
  25_Jobs/JOB-2025-010_report/04_Run/
    run.sh | run.ps1            # Job ì‹¤í–‰ ì§„ì…ì 
  50_Snippets/bash/
    tmux_one_liners.md
    git_tricks.md
  80_Tools/scripts/
    release_copy.sh             # ê³µìš©: dist â†’ 75_Releases ë¡œ ì „ê°œ
    checksum_all.sh             # ê³µìš©: SHA256 ìƒì„±
    today                       # ì½˜ì†” ëŸ°ì²˜(ì„ íƒ)
    today.csh                   # tcsh ëŸ°ì²˜(ì„ íƒ)
    today.ps1                   # PS ëŸ°ì²˜(ì„ íƒ)
  40_Resources/personal/configs/shell/
    .zshrc, .tcshrc, Microsoft.PowerShell_profile.ps1
</code></pre></div></div>

<hr />

<h2 id="shortcutslistì™€-ê¶í•©-ì¢‹ê²Œ-ì“°ëŠ”-íŒ"><code class="language-plaintext highlighter-rouge">shortcuts.list</code>ì™€ ê¶í•© ì¢‹ê²Œ ì“°ëŠ” íŒ</h2>

<ul>
  <li>
    <p>íŒŒì´í”„/ë³µì¡ ëª…ë ¹ì´ í•„ìš”í•˜ë©´ <code class="language-plaintext highlighter-rouge">10_Today/wrappers/*.sh</code>ì— ë˜í¼ë¡œ ë§Œë“¤ê³ ,<br />
<code class="language-plaintext highlighter-rouge">shortcuts.list</code>ì—ì„œëŠ” <code class="language-plaintext highlighter-rouge">./wrappers/that_task.sh</code>ë§Œ í˜¸ì¶œ â†’ ê¹”ë”.</p>
  </li>
  <li>
    <p>ë˜í¼ê°€ ì¼ì£¼ì¼ ë‚´ë‚´ ìœ ìš©í•˜ë©´ <code class="language-plaintext highlighter-rouge">80_Tools/scripts/</code>ë¡œ <strong>ìŠ¹ê²©</strong> + PATHì—ì„œ ì§ì ‘ í˜¸ì¶œ.</p>
  </li>
</ul>

<hr />

<p>ì›í•˜ë©´ ì§€ê¸ˆ ìŠ¤íƒ€í„°ì— <code class="language-plaintext highlighter-rouge">10_Today/wrappers/</code>ì™€ <code class="language-plaintext highlighter-rouge">80_Tools/scripts/INDEX.md</code> í‹€, ê·¸ë¦¬ê³  <code class="language-plaintext highlighter-rouge">checksum_all.sh</code>/<code class="language-plaintext highlighter-rouge">release_copy.sh</code> ê°™ì€ <strong>ì‹¤ì‚¬ìš© ê³µìš© ìŠ¤í¬ë¦½íŠ¸</strong> ìƒ˜í”Œê¹Œì§€ ë°”ë¡œ ë§Œë“¤ì–´ì„œ ë¶™ì—¬ì¤„ê²Œ. ì–´ëŠ ì…¸(Bash/Zsh/tcsh/PowerShell)ì„ ì£¼ë ¥ìœ¼ë¡œ ì“°ëŠ”ì§€ë„ ì•Œë ¤ì¤˜!</p>

<p class="chat--user">

ê·¼ë° configë¥¼ êµìœ¡ìë£Œë‘ ê°™ì€ í´ë”ì— ë‘ëŠ”ê²Œ ë‚œ ì¢€ ì´ìƒí•´

</p>

<p>ì™„ì „ ê³µê°í•´ìš”. <strong>êµìœ¡ìë£Œ(edu)</strong>ì™€ <strong>ì„¤ì •(config)</strong>ì€ ì„±ê²©ì´ ë‹¬ë¼ì„œ ë¶„ë¦¬í•˜ëŠ” ê²Œ ê¹”ë”í•©ë‹ˆë‹¤.<br />
ì•„ë˜ì²˜ëŸ¼ <strong>ì „ìš© ë£¨íŠ¸ <code class="language-plaintext highlighter-rouge">32_Configs/</code></strong>ë¥¼ ìƒˆë¡œ ë‘ê³ , ê¸°ì¡´ êµ¬ì¡°ë¥¼ ì‚´ì§ ì¡°ì •í•´ìš”.</p>

<hr />

<h1 id="ì™œ-ë¶„ë¦¬">ì™œ ë¶„ë¦¬?</h1>

<ul>
  <li>
    <p><strong>ì˜ë„ ë¶„ë¦¬</strong> : ë¬¸ì„œ/í•™ìŠµ(ì½ê¸°) vs ì„¤ì •/í”„ë¦¬ì…‹(ì‹¤í–‰Â·ì ìš©)</p>
  </li>
  <li>
    <p><strong>ê¶Œí•œ/ë°±ì—…</strong> : ê°œì¸ì„¤ì •ì€ ë¯¼ê°Â·ë¹ˆë„ ë†’ìŒ â†’ ë³„ë„ ê´€ë¦¬ê°€ ì•ˆì „</p>
  </li>
  <li>
    <p><strong>ë ˆì´ì–´ë§ ëª…í™•</strong> : <code class="language-plaintext highlighter-rouge">shared(ê³¨ë“ )</code> â†” <code class="language-plaintext highlighter-rouge">personal(ì˜¤ë²„ë¼ì´ë“œ)</code> ìš°ì„ ìˆœìœ„ê°€ ëšœë ·</p>
  </li>
</ul>

<hr />

<h1 id="ìˆ˜ì •ëœ-ìµœì¢…-íŠ¸ë¦¬ì„¤ì •ë§Œ-ì´ë™-ë‚˜ë¨¸ì§€-ë™ì¼">ìˆ˜ì •ëœ ìµœì¢… íŠ¸ë¦¬(ì„¤ì •ë§Œ ì´ë™, ë‚˜ë¨¸ì§€ ë™ì¼)</h1>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Work/
  00_Inbox/
  10_Today/
  20_Projects/
  25_Jobs/
  30_Areas/
    worklog/
    environments/
    knowledge_base/
      tips/ cheatsheets/ howtos/
  31_Labs/
  32_Configs/                         - â˜… ì„¤ì • ì „ìš© ë£¨íŠ¸
    shared/                           - ì¡°ì§/í”„ë¡œì íŠ¸ì— ê³µìœ  ê°€ëŠ¥í•œ 'ê³¨ë“ '
      global/                         - ë„êµ¬ë³„ í‘œì¤€ ì„¤ì •(ì „ì—­)
        vscode/ ruff/ pytest/ pyinstaller/ pyside6/ jupyter/
      projects/                       - íŠ¹ì • í”„ë¡œì íŠ¸ ì „ìš© ê¸°ë³¸ì„¤ì •
        sample-app/                   - ì˜ˆ: í”„ë¡œì íŠ¸ë³„ pytest.ini, ruff.toml ë“±
      README.md                       - ì ìš© ì›ì¹™/ìš°ì„ ìˆœìœ„
    personal/                         - ë‚˜ë§Œì˜ ì˜¤ë²„ë¼ì´ë“œ(ë¹„ê³µê°œ)
      os/{mac,win,linux}/             - OSë³„ ì„¸íŒ…(í‚¤ë³´ë“œ/ì…ë ¥ê¸° ë“±)
      shell/{bash,zsh,tcsh,powershell}/ - í”„ë¡œí•„Â·ë³„ì¹­
      editors/vscode/                 - settings.user.json, keybindings.user.json
      git/                            - .gitconfig.local ë“±
      python/                         - pip.conf, poetry.toml, pypirc
      tools/                          - ê° íˆ´ ê°œì¸ í”„ë¦¬ì…‹
      secrets/README.md               - (ì‹¤ì œ ë¹„ë°€ì€ ë‘ì§€ ë§ ê²ƒ)
      .gitignore                      - *.local, secrets/*, *.pem ë“± í­ë„“ê²Œ ì œì™¸
  40_Resources/                       - ë ˆí¼ëŸ°ìŠ¤/êµìœ¡/ë§¤ë‰´ì–¼(ì„¤ì • X)
    edu/ (courses, tutorials, papers/â€¦)
    manuals/ (&lt;vendor&gt;/&lt;product&gt;/&lt;version&gt;/)
    reference/                        - (ì„ íƒ) ìŠ¤í™/í‘œì¤€ ë¬¸ì„œ ë“± 'ì½ì„ê±°ë¦¬'ë§Œ
  50_Snippets/
  60_Assets/
  70_Exports/
  75_Releases/
  80_Tools/
    installers/ bin/ scripts/ devcontainer/
  85_Environments/ (conda/ venv/ docker/)
  99_Archive/
</code></pre></div></div>

<blockquote>
  <p>í¬ì¸íŠ¸: <strong>ì„¤ì •ì€ ì „ë¶€<code class="language-plaintext highlighter-rouge">32_Configs/</code>ë¡œ ì´ë™</strong>. 40_Resourcesì—” ë” ì´ìƒ ì„¤ì •ì´ ì—†ê³ , ìˆœìˆ˜ ë ˆí¼ëŸ°ìŠ¤/í•™ìŠµ ìë£Œë§Œ ë‚¨ê¹ë‹ˆë‹¤.</p>
</blockquote>

<hr />

<h1 id="ë ˆì´ì–´ë§ìš°ì„ ìˆœìœ„-ê·œì¹™">ë ˆì´ì–´ë§(ìš°ì„ ìˆœìœ„) ê·œì¹™</h1>

<ol>
  <li>
    <p><strong>Project ë¡œì»¬</strong>(ë¦¬í¬ ë‚´ë¶€ ì„¤ì •)</p>
  </li>
  <li>
    <p><strong>32_Configs/personal/</strong> (ë‚´ ì˜¤ë²„ë¼ì´ë“œ)</p>
  </li>
  <li>
    <p>**32_Configs/shared/projects/ <proj>/** (í”„ë¡œì íŠ¸ìš© ê³¨ë“ )</proj></p>
  </li>
  <li>
    <p><strong>32_Configs/shared/global/</strong> (ì „ì—­ ê³¨ë“ )</p>
  </li>
</ol>

<p>ì˜ˆ: pytestëŠ” ìˆœì„œëŒ€ë¡œ <code class="language-plaintext highlighter-rouge">pytest.ini</code>ë¥¼ ì°¾ê³ , ì—†ìœ¼ë©´ ìƒìœ„ë¡œ ì˜¬ë¼ê°€ë©° ëŒ€ì²´.</p>

<hr />

<h1 id="ë§ˆì´ê·¸ë ˆì´ì…˜3ë¶„-ì»·">ë§ˆì´ê·¸ë ˆì´ì…˜(3ë¶„ ì»·)</h1>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 1) ë””ë ‰í„°ë¦¬ ìƒì„±</span>
<span class="nb">mkdir</span> <span class="nt">-p</span> ~/Work/32_Configs/shared/<span class="o">{</span>global,projects<span class="o">}</span> ~/Work/32_Configs/personal

<span class="c"># 2) ê¸°ì¡´ ì„¤ì • ì´ë™</span>
<span class="c">#   (ì „ì—­ ê³¨ë“ )</span>
<span class="nb">mv</span> ~/Work/40_Resources/reference/configs/<span class="k">*</span> ~/Work/32_Configs/shared/global/ 2&gt;/dev/null <span class="o">||</span> <span class="nb">true</span>
<span class="c">#   (ê°œì¸)</span>
<span class="nb">mv</span> ~/Work/40_Resources/personal/configs/<span class="k">*</span>  ~/Work/32_Configs/personal/     2&gt;/dev/null <span class="o">||</span> <span class="nb">true</span>

<span class="c"># 3) í”ì  ì •ë¦¬(ì„ íƒ)</span>
<span class="nb">rmdir</span> ~/Work/40_Resources/reference/configs ~/Work/40_Resources/personal/configs 2&gt;/dev/null <span class="o">||</span> <span class="nb">true</span>
</code></pre></div></div>

<p>PowerShell:</p>
<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">New-Item</span><span class="w"> </span><span class="nt">-ItemType</span><span class="w"> </span><span class="nx">Directory</span><span class="w"> </span><span class="nt">-Force</span><span class="w"> </span><span class="nt">-Path</span><span class="w"> </span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work\32_Configs\shared\global"</span><span class="p">,</span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work\32_Configs\shared\projects"</span><span class="p">,</span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work\32_Configs\personal"</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Out-Null</span><span class="w">
</span><span class="nx">Move-Item</span><span class="w"> </span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work\40_Resources\reference\configs\*"</span><span class="w"> </span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work\32_Configs\shared\global"</span><span class="w"> </span><span class="nt">-ErrorAction</span><span class="w"> </span><span class="nx">SilentlyContinue</span><span class="w">
</span><span class="n">Move-Item</span><span class="w"> </span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work\40_Resources\personal\configs\*"</span><span class="w">  </span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work\32_Configs\personal"</span><span class="w">     </span><span class="nt">-ErrorAction</span><span class="w"> </span><span class="nx">SilentlyContinue</span><span class="w">
</span></code></pre></div></div>

<hr />

<h1 id="ë¶€íŠ¸ìŠ¤íŠ¸ë©í™ˆ-ì„¤ì •-ì—°ê²°-ì˜ˆì‹œ">ë¶€íŠ¸ìŠ¤íŠ¸ë©(í™ˆ ì„¤ì • ì—°ê²° ì˜ˆì‹œ)</h1>

<p>Bash/Zsh:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">WORK_DIR</span><span class="o">=</span><span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/Work"</span>
<span class="nb">export </span><span class="nv">WORK_CONFIGS</span><span class="o">=</span><span class="s2">"</span><span class="nv">$WORK_DIR</span><span class="s2">/32_Configs"</span>
<span class="c"># ì˜ˆ: zsh ê°œì¸ì„¤ì • ì—°ê²°</span>
<span class="nb">ln</span> <span class="nt">-snf</span> <span class="s2">"</span><span class="nv">$WORK_CONFIGS</span><span class="s2">/personal/shell/zsh/.zshrc"</span> ~/.zshrc
<span class="c"># VSCode ì‚¬ìš©ì ì„¤ì •</span>
<span class="nb">mkdir</span> <span class="nt">-p</span> ~/Library/Application<span class="se">\ </span>Support/Code/User
<span class="nb">ln</span> <span class="nt">-snf</span> <span class="s2">"</span><span class="nv">$WORK_CONFIGS</span><span class="s2">/personal/editors/vscode/settings.user.json"</span> <span class="se">\</span>
        ~/Library/Application<span class="se">\ </span>Support/Code/User/settings.json
</code></pre></div></div>

<p>PowerShell:</p>
<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$W</span><span class="o">=</span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work\32_Configs\personal"</span><span class="w">
</span><span class="n">New-Item</span><span class="w"> </span><span class="nt">-Type</span><span class="w"> </span><span class="nx">SymbolicLink</span><span class="w"> </span><span class="nt">-Path</span><span class="w"> </span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Documents\PowerShell\Microsoft.PowerShell_profile.ps1"</span><span class="w"> </span><span class="nt">-Target</span><span class="w"> </span><span class="s2">"</span><span class="nv">$W</span><span class="s2">\shell\powershell\profile.ps1"</span><span class="w"> </span><span class="nt">-Force</span><span class="w">
</span></code></pre></div></div>

<p>tcsh:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh

setenv WORK_CONFIGS "$HOME/Work/32_Configs"
ln -snf "$WORK_CONFIGS/personal/shell/tcsh/.tcshrc" ~/.tcshrc
</code></pre></div></div>

<hr />

<h1 id="í”„ë¡œì íŠ¸ì—ì„œ-ì„¤ì •-ë¶ˆëŸ¬ì˜¤ê¸°ê¶Œì¥-íŒ¨í„´">í”„ë¡œì íŠ¸ì—ì„œ ì„¤ì • ë¶ˆëŸ¬ì˜¤ê¸°(ê¶Œì¥ íŒ¨í„´)</h1>

<h3 id="íŒ¨í„´-a-base--local">íŒ¨í„´ A) <code class="language-plaintext highlighter-rouge">*.base.*</code> + <code class="language-plaintext highlighter-rouge">*.local.*</code></h3>

<ul>
  <li>
    <p>ë¦¬í¬ ë‚´ <code class="language-plaintext highlighter-rouge">pyproject.toml</code>/<code class="language-plaintext highlighter-rouge">ruff.toml</code>/<code class="language-plaintext highlighter-rouge">pytest.ini</code>ëŠ” <strong>ê¸°ë³¸</strong></p>
  </li>
  <li>
    <p>ë‚´ ê°œì¸ ì˜¤ë²„ë¼ì´ë“œëŠ” ê°™ì€ ë””ë ‰í„°ë¦¬ì˜ <code class="language-plaintext highlighter-rouge">*.local.*</code></p>
  </li>
  <li>
    <p>ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ë°œê²¬ ì‹œ ë³‘í•©:</p>
  </li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">test</span> <span class="nt">-f</span> ruff.local.toml <span class="o">&amp;&amp;</span> <span class="nb">export </span><span class="nv">RUFF_ARGS</span><span class="o">=</span><span class="s2">"--config ruff.local.toml"</span>
</code></pre></div></div>

<h3 id="íŒ¨í„´-b-configd-ë””ë ‰í„°ë¦¬-ë³‘í•©">íŒ¨í„´ B) <code class="language-plaintext highlighter-rouge">config.d/</code> ë””ë ‰í„°ë¦¬ ë³‘í•©</h3>

<ul>
  <li>
    <p>í”„ë¡œì íŠ¸ ë‚´ <code class="language-plaintext highlighter-rouge">config.d/00-base.toml</code>, <code class="language-plaintext highlighter-rouge">10-ci.toml</code></p>
  </li>
  <li>
    <p>ê°œì¸ì€ <code class="language-plaintext highlighter-rouge">config.d/90-local.toml</code>ë¡œ ì¶”ê°€(ê¹ƒ ë¬´ì‹œ)</p>
  </li>
</ul>

<hr />

<h1 id="todayëŸ°ì²˜ì—ì„œë„-ë°”ë¡œ-ì ‘ê·¼"><code class="language-plaintext highlighter-rouge">today</code>/ëŸ°ì²˜ì—ì„œë„ ë°”ë¡œ ì ‘ê·¼</h1>

<p><code class="language-plaintext highlighter-rouge">Work/10_Today/shortcuts.list</code>ì— ìì£¼ ì“°ëŠ” ì„¤ì • í¸ì§‘/ë§í¬ ì¶”ê°€:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Edit pytest (shared)   | 32_Configs/shared/global/pytest   | ${EDITOR:-vi} pytest.ini
Edit ruff (personal)   | 32_Configs/personal/python        | ${EDITOR:-vi} ruff.local.toml
Bootstrap dotfiles     | 80_Tools/scripts                  | ./bootstrap_configs.sh
</code></pre></div></div>

<hr />

<h1 id="ìš”ì•½-1">ìš”ì•½</h1>

<ul>
  <li>
    <p><strong>ì„¤ì • =<code class="language-plaintext highlighter-rouge">32_Configs/</code>ë¡œ ì™„ì „ ë¶„ë¦¬</strong> (shared/personal, global/projects ê³„ì¸µ)</p>
  </li>
  <li>
    <p><strong>êµìœ¡/ë ˆí¼ëŸ°ìŠ¤ =<code class="language-plaintext highlighter-rouge">40_Resources/</code></strong> (ì„¤ì • ì—†ìŒ)</p>
  </li>
  <li>
    <p><strong>ìš°ì„ ìˆœìœ„</strong> : Project â†’ personal â†’ shared/projects â†’ shared/global</p>
  </li>
  <li>
    <p><strong>ë¶€íŠ¸ìŠ¤íŠ¸ë© ìŠ¤í¬ë¦½íŠ¸</strong> ë¡œ í™ˆ/IDEì— ì‹¬ë³¼ë¦­ ë§í¬ë‚˜ ë³µì‚¬ ì—°ê²°</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">today</code> ëŸ°ì²˜ë‚˜ <code class="language-plaintext highlighter-rouge">pin</code>ìœ¼ë¡œ <strong>ì„¤ì • í¸ì§‘/ì ìš©ì„ ì½˜ì†” í•œ ë²ˆ</strong> ì—</p>
  </li>
</ul>

<p>ì›í•˜ë©´ <code class="language-plaintext highlighter-rouge">bootstrap_configs.sh</code>/<code class="language-plaintext highlighter-rouge">.ps1</code>ì™€ <code class="language-plaintext highlighter-rouge">32_Configs/shared</code> í…œí”Œë¦¿ íŒŒì¼ë“¤(ruff/pytest/VSC)ê¹Œì§€ <strong>ì‹¤ì œ íŒŒì¼</strong> ë¡œ ìƒì„±í•œ ì••ì¶•ë³¸ì„ ë°”ë¡œ ë§Œë“¤ì–´ì¤„ê²Œ.</p>

<p class="chat--user">

ì™œ í•˜í•„ 32ì•¼?

</p>

<p>ì§§ê²Œ ë§í•˜ë©´, <strong>ì •ë ¬Â·ê·¼ì ‘ì„±Â·í™•ì¥ì„±</strong> ë•Œë¬¸ì— <code class="language-plaintext highlighter-rouge">32_Configs</code>ë¡œ ì¡ì•˜ì–´ìš”.</p>

<h2 id="ì™œ-í•˜í•„-32">ì™œ í•˜í•„ 32?</h2>

<ul>
  <li><strong>ì •ë ¬(ì‹œê°ì  ê·¸ë£¹í™”)</strong><br />
ìƒìœ„ ë ˆë²¨ì„ 10 ë‹¨ìœ„ë¡œ ëŠì–´ ë‘ì—ˆì£ .
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>30_Areas   â† ì¥ê¸° ìš´ì˜(ì—…ë¬´ ì˜ì—­)
31_Labs    â† ê°€ë²¼ìš´ ì‹¤í—˜
32_Configs â† ì„¤ì •(ì‹¤í–‰Â·ì ìš© ì¤‘ì‹¬)
40_Resources â† ì½ì„ê±°ë¦¬/ë ˆí¼ëŸ°ìŠ¤
</code></pre></div>    </div>
  </li>
</ul>

<p>â†’ <code class="language-plaintext highlighter-rouge">Configs</code>ê°€ <strong>Labsì™€ Resources ì‚¬ì´</strong> ì— ì˜¤ë„ë¡ 32ë¥¼ ì¤˜ì„œ, â€œì—…ë¬´(30) â†’ ì‹¤í—˜(31) â†’ ì„¤ì •ì ìš©(32) â†’ ì°¸ê³ ìë£Œ(40)â€ íë¦„ìœ¼ë¡œ ìì—°ìŠ¤ëŸ½ê²Œ ìŠ¤ìº”ë©ë‹ˆë‹¤.</p>

<ul>
  <li>
    <p><strong>ê·¼ì ‘ì„±(ìì£¼ ì†ëŒ€ëŠ” ê²ƒë¼ë¦¬)</strong><br />
ì„¤ì •ì€ ì£¼ë¡œ <strong>Areas/Labsì—ì„œ íŒŒìƒ</strong> ë¼ìš”(ì‹¤í—˜í•˜ë‹¤ ì„¤ì •ì„ ê³ ì¹˜ê³ , ìš´ì˜í•˜ë©´ì„œ ì •ì±…ì„ ì¡°ì •). ê·¸ë˜ì„œ 30ëŒ€ì— ë¶™ì—¬ <strong>ì† ë‹¿ëŠ” ë°</strong> ë‘ì—ˆìŠµë‹ˆë‹¤.</p>
  </li>
  <li>
    <p><strong>í™•ì¥ì„±(ë²ˆí˜¸ ë‚¨ê²¨ë‘ê¸°)</strong><br />
33~39 ì‚¬ì´ì— ì—¬ìœ ê°€ ìƒê²¨ìš”. ë‚˜ì¤‘ì— í•„ìš”í•˜ë©´:</p>

    <ul>
      <li>
        <p><code class="language-plaintext highlighter-rouge">33_Templates</code> (ë¬¸ì„œ/ì½”ë“œ í…œí”Œë¦¿)</p>
      </li>
      <li>
        <p><code class="language-plaintext highlighter-rouge">34_Policies</code> (ë³´ì•ˆ/í’ˆì§ˆ ì •ì±… ë¬¸ì„œ)</p>
      </li>
      <li>
        <p><code class="language-plaintext highlighter-rouge">35_Checklists</code>(QA/ë¦´ë¦¬ìŠ¤ ì²´í¬ë¦¬ìŠ¤íŠ¸)<br />
â€¦ ê°™ì€ ì‹ìœ¼ë¡œ <strong>ì¤‘ê°„ë²ˆí˜¸ë¥¼ ë¼ì›Œë„£ê¸°</strong> ì‰½ìŠµë‹ˆë‹¤.</p>
      </li>
    </ul>
  </li>
</ul>

<h2 id="ê¼­-32ì—¬ì•¼-í•´">ê¼­ 32ì—¬ì•¼ í•´?</h2>

<p>ì•„ë‹ˆìš”. ì•„ë˜ì²˜ëŸ¼ ì·¨í–¥ëŒ€ë¡œ ë°”ê¿”ë„ ì¢‹ì•„ìš”â€”í•µì‹¬ì€ <strong>ì¼ê´€ì„±</strong>.</p>

<ul>
  <li>
    <p><strong>35_Configs</strong> : í™€ìˆ˜ë§Œ ì¨ì„œ ì‹œê°ì ìœ¼ë¡œ êµ¬ë¶„ ì›í•  ë•Œ</p>
  </li>
  <li>
    <p><strong>28_Configs</strong> : Projects(20ëŒ€)ì™€ ìš´ì˜(30ëŒ€) ì‚¬ì´ë¡œ ëŒì–´ë‹¹ê¸°ê³  ì‹¶ì„ ë•Œ</p>
  </li>
  <li>
    <p><strong>82_Configs</strong> : Tools(80ëŒ€)ì™€ ë¬¶ê³  ì‹¶ì„ ë•Œ(ê°œì¸ ì·¨í–¥/DevOps ì„±í–¥)</p>
  </li>
</ul>

<h2 id="ë°”ê¾¸ê³ -ì‹¶ë‹¤ë©´-ì•ˆì „í•˜ê²Œ-ë¦¬ë„¤ì„">ë°”ê¾¸ê³  ì‹¶ë‹¤ë©´ (ì•ˆì „í•˜ê²Œ ë¦¬ë„¤ì„)</h2>

<blockquote>
  <p>ë‘ ê³³ ì´ìƒì—ì„œ ì“°ëŠ” ìŠ¤í¬ë¦½íŠ¸/ëŸ°ì²˜ê°€ ìˆìœ¼ë©´ ê²½ë¡œë§Œ í•¨ê»˜ ë°”ê¿”ì£¼ë©´ ë©ë‹ˆë‹¤.</p>
</blockquote>

<p><strong>bash/zsh</strong></p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">mv</span> ~/Work/32_Configs ~/Work/35_Configs
<span class="c"># today ëŸ°ì²˜ ëª©ë¡ ë“± ê²½ë¡œ ì—…ë°ì´íŠ¸</span>
<span class="nb">sed</span> <span class="nt">-i</span> <span class="s1">''</span> <span class="s1">'s#/32_Configs/#/35_Configs/#g'</span> ~/Work/10_Today/shortcuts.list 2&gt;/dev/null <span class="o">||</span> <span class="nb">true</span>
</code></pre></div></div>

<p><strong>PowerShell</strong></p>
<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Rename-Item</span><span class="w"> </span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work\32_Configs"</span><span class="w"> </span><span class="s2">"35_Configs"</span><span class="w">
</span><span class="p">(</span><span class="n">Get-Content</span><span class="w"> </span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work\10_Today\shortcuts.list"</span><span class="p">)</span><span class="w"> </span><span class="o">-replace</span><span class="w"> </span><span class="s1">'/32_Configs/'</span><span class="p">,</span><span class="w"> </span><span class="s1">'/35_Configs/'</span><span class="w"> </span><span class="o">|</span><span class="w">
  </span><span class="n">Set-Content</span><span class="w"> </span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work\10_Today\shortcuts.list"</span><span class="w">
</span></code></pre></div></div>

<h2 id="í˜„ì¬-ìƒìœ„-ë²ˆí˜¸-ì²´ê³„-ìš”ì•½ê¸°ì–µìš©">í˜„ì¬ ìƒìœ„ ë²ˆí˜¸ ì²´ê³„ ìš”ì•½(ê¸°ì–µìš©)</h2>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>00  Inbox         | 10  Today          | 20  Projects      | 25  Jobs
30  Areas         | 31  Labs            | 32  Configs       | 40  Resources
50  Snippets      | 60  Assets          | 70  Exports       | 75  Releases
80  Tools         | 85  Environments    | 99  Archive
</code></pre></div></div>

<p>ì›í•˜ë©´ ë„¤ ì·¨í–¥(ì§ìˆ˜ë§Œ/í™€ìˆ˜ë§Œ/ë¬¸ì í”„ë¦¬í”½ìŠ¤ ë“±)ì— ë§ì¶° <strong>ì „ì²´ ë²ˆí˜¸ ë¦¬íŒ¨í„°ë‹ í‘œ</strong> ë‘ ìë™ ë§ˆì´ê·¸ë ˆì´ì…˜ ìŠ¤í¬ë¦½íŠ¸ë„ ê°™ì´ ë§Œë“¤ì–´ì¤„ê²Œ.</p>

<p class="chat--user">

90ì„ ê°œì¸ìš© Configs ë¡œ í•˜ì. ìµœì¢…ì ìœ¼ë¡œ ê° í´ë”ëª…(ì˜ì–´)ê³¼ ë‹´ì„ ë‚´ìš©(í•œê¸€)ì„ ì •ë¦¬í•´ì¤˜. ê·¸ë¦¬ê³  10ê°€ì§€ ì •ë„ ì—…ë¬´ ì˜ˆì‹œì— ëŒ€í•´ Workflowë¥¼ ì‘ì„±í•´ì¤˜. ì˜ˆë¥¼ ë“¤ì–´ í”„ë¡œì íŠ¸ ë§Œë“¤ê¸°, ë¶„ì„ ì‘ì—…í•˜ê¸°, ê°œì¸ìš© ìŠ¤í¬ë¦½íŠ¸ ë§Œë“¤ê¸°, íˆ´ ì„¤ì¹˜í•˜ê¸°, ê°œì¸ shell alias ì„¤ì •í•˜ê¸° ë“±ë“±ì´ ìˆì„ ìˆ˜ ìˆì–´.

</p>

<p>ì¢‹ì•„â€”ìš”ì²­ëŒ€ë¡œ <strong>í´ë”ëª…ì€ ì˜ì–´</strong> , <strong>ì„¤ëª…ì€ í•œê¸€</strong> ë¡œ ì •ë¦¬í•˜ê³ , ë§ˆì§€ë§‰ì— <strong>ëŒ€í‘œ ì—…ë¬´ 10ê°€ì§€ ì›Œí¬í”Œë¡œìš°</strong> ë¥¼ ë‹¨ê³„ë³„ë¡œ ë¶™ì¼ê²Œ.<br />
(ê°œì¸ìš© ì„¤ì •ì€ <code class="language-plaintext highlighter-rouge">90_Configs</code>ë¡œ í™•ì •, â€œê³µìœ /ê³¨ë“  ì„¤ì •â€ì€ <code class="language-plaintext highlighter-rouge">32_Configs</code>ì— ìœ ì§€)</p>

<hr />

<h1 id="1-ìµœì¢…-í´ë”-êµ¬ì¡°-ì˜ë¬¸-ì´ë¦„--í•œê¸€-ì„¤ëª…--ì˜ˆì‹œ-í•˜ìœ„">1) ìµœì¢… í´ë” êµ¬ì¡° (ì˜ë¬¸ ì´ë¦„ + í•œê¸€ ì„¤ëª… + ì˜ˆì‹œ í•˜ìœ„)</h1>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Work/                                     - 1ì¸ ê°œë°œìš© ì‘ì—… ë£¨íŠ¸
  00_Inbox/                               - ê¸‰íˆ ë˜ì ¸ë‘ëŠ” ì„ì‹œí•¨(ë§¤ì¼/ì£¼ê¸°ì ìœ¼ë¡œ ë¹„ìš°ê¸°)

  10_Today/                               - ì˜¤ëŠ˜ ì‘ì—… ëŒ€ì‹œë³´ë“œ(ì½˜ì†” ì¤‘ì‹¬ ì‹¤í–‰ ì¶œë°œì )
    shortcuts.list                        - today ëŸ°ì²˜ê°€ ì½ëŠ” â€œë¼ë²¨|ê²½ë¡œ|ëª…ë ¹â€ ëª©ë¡
    (wrappers/)                           - íŒŒì´í”„/ë³µì¡ ì¸ììš© ì„ì‹œ ë˜í¼ ìŠ¤í¬ë¦½íŠ¸(ë‹¨ê¸° ë³´ê´€)

  20_Projects/                            - íˆ´(íŒŒì´ì¬ íŒ¨í‚¤ì§€) ê°œë°œ(ì½”ë“œ ìˆ˜ëª… ì¤‘ì‹¬)
    PRJ-YYYY-NNN_name/                    - ê°œë³„ í”„ë¡œì íŠ¸(ì˜ˆ: PRJ-2025-001_sample_app)
      src/&lt;package_name&gt;/                 - íŒ¨í‚¤ì§€ ì†ŒìŠ¤
      tests/                              - pytest í…ŒìŠ¤íŠ¸
      scripts/                            - install/run/build/lint/test ìŠ¤í¬ë¦½íŠ¸(.sh/.ps1)
      examples/{data,scripts,docs}/       - ë°°í¬ìš© ìµœì†Œ ì‹¤í–‰ ì˜ˆì œ
      issues/BUG-YYYY-NNN/                - ë²„ê·¸/ê°œì„  ì´ìŠˆ ë…¸íŠ¸
      docs/                               - ì„¤ê³„Â·ADRÂ·ê°€ì´ë“œ
      .devcontainer/                      - ê°œë°œ ì»¨í…Œì´ë„ˆ ì„¤ì •
      pyproject.toml, README.md, .gitignore, .editorconfig

  25_Jobs/                                - â€œì‚°ì¶œë¬¼ ì‘ì—… ë‹¨ìœ„â€(í”„ë¡œì„¸ìŠ¤ ìˆ˜ëª… ì¤‘ì‹¬)
    JOB-YYYY-NNN_name/                    - ì¼ë°˜ ì‚°ì¶œ Job(ì…ë ¥â†’ì„¤ì •â†’ì‹¤í–‰â†’ì‚°ì¶œ)
      01_Brief/                           - ìš”êµ¬ì‚¬í•­/ìˆ˜ë½ ê¸°ì¤€/ë§ˆê°
      02_Input/raw/                       - ì›ì²œ ë°ì´í„°(ì½ê¸° ì „ìš© ë³´ê´€)
      03_Config/                          - íŒŒë¼ë¯¸í„°(yml/json), ì‹¤í–‰ ì„¤ì •
      04_Run/                             - run.sh|ps1, run.py, ë¡œê·¸
      05_Output/                          - ì¤‘ê°„/ìµœì¢… ì‚°ì¶œë¬¼(ì‘ì—… ì˜ì—­)
      06_Export/                          - ì „ë‹¬ë³¸(ìµœì¢… ì‚°ì¶œë¬¼)
      90_Archive/                         - ì™„ë£Œ í›„ ì¥ê¸° ë³´ê´€
    BUG-YYYY-NNN_name/                    - ë°°í¬ ë²„ê·¸ ì¬í˜„/ì¦ê±°/ìˆ˜ì • ê²€ì¦
      01_Report/ 02_Repro/input/ 03_Config/ 04_Run/ 05_Evidence/logs/ 06_FixValidation/
    EX-YYYY-NNN_name/                     - â€œíˆ´ ì˜ˆì œâ€ íŒ¨í‚¤ì§•ìš© Job(ì„ íƒ)
    SMOKE-YYYY-NNN_tool/                  - ìƒˆ íˆ´ ì„¤ì¹˜ í›„ ìŠ¤ëª¨í¬/feasibility í…ŒìŠ¤íŠ¸

  30_Areas/                               - ì¥ê¸° ìš´ì˜ ì˜ì—­(ì§€ì† ì—…ë¬´)
    worklog/YYYY/YY-MM/DATE.md            - ì¼ì¼/ì£¼ê°„ 5ì¤„ ë¡œê·¸
    environments/                         - ê³µí†µ í™˜ê²½ ë©”ëª¨/ì „ëµ(ì˜ˆ: íŒŒì´ì¬ ë²„ì „ ì •ì±…)
    knowledge_base/{tips,cheatsheets,howtos}/
                                           - ì¶•ì  ì§€ì‹: íŒ/ì¹˜íŠ¸ì‹œíŠ¸/ê°€ì´ë“œ

  31_Labs/                                - ì‹¤í—˜ì‹¤(ì§§ì€ í…ŒìŠ¤íŠ¸/í”„ë¡œí† ; ì¬í˜„ ë¶ˆí•„ìš”)
    jupyter/                              - ìŠ¤í¬ë˜ì¹˜ ë…¸íŠ¸ë¶(ì˜ˆ: regex_scratch.ipynb)

  32_Configs/                             - ê³µìœ /ê³¨ë“  ì„¤ì •(ë¬¸ì„œí™”Â·ì¬ì‚¬ìš© ëŒ€ìƒ)
    shared/
      global/{vscode,ruff,pytest,pyinstaller,pyside6,jupyter}/
                                           - ì „ì—­ í‘œì¤€ ì„¤ì •
      projects/&lt;project_slug&gt;/             - íŠ¹ì • í”„ë¡œì íŠ¸ ê¸°ë³¸ì„¤ì •
      README.md                            - ì ìš© ì›ì¹™/ìš°ì„ ìˆœìœ„

  40_Resources/                           - ì°¸ê³  ìë£Œ(êµìœ¡/ë§¤ë‰´ì–¼/ìŠ¤í™â€”ì„¤ì • ì œì™¸)
    edu/{courses,tutorials,papers/â€¦}/      - ê°•ì˜Â·íŠœí† ë¦¬ì–¼Â·ë…¼ë¬¸(ì½ì„ê±°ë¦¬ ì¤‘ì‹¬)
    manuals/&lt;vendor&gt;/&lt;product&gt;/&lt;version&gt;/  - ë§¤ë‰´ì–¼/ê°€ì´ë“œ(PDF/HTML/MD)
    reference/                             - í‘œì¤€/ìŠ¤í™ ë¬¸ì„œ ë“± ë ˆí¼ëŸ°ìŠ¤

  50_Snippets/{sql,text,bash}/            - ì¬ì‚¬ìš© ì½”ë“œ/ë¬¸êµ¬ ì¡°ê°(ì§§ì€ ì˜ˆì œÂ·ì›ë¼ì´ë„ˆ)

  60_Assets/                              - ë¡œê³ /í°íŠ¸/í…œí”Œë¦¿ ë“± ë¸Œëœë”© ë¦¬ì†ŒìŠ¤

  70_Exports/                             - ì—¬ëŸ¬ Jobì˜ â€œìµœì¢… ì „ë‹¬ë³¸â€ ëª¨ì•„ë³´ê¸°(ì„ íƒ)

  75_Releases/                            - ìœ ì € ë°°í¬ ì „ìš© ì¤‘ì•™ ë³´ê´€ì†Œ(ë²„ì „ë“œ)
    &lt;project_slug&gt;/vX.Y.Z/{installers,wheels,portable,docs,licenses,checksums}/
    &lt;project_slug&gt;/latest/                 - ìµœì‹  ë²„ì „ í¬ì¸í„°
    catalog.json                           - (ì„ íƒ) ë²„ì „/íŒŒì¼ ì¸ë±ìŠ¤

  80_Tools/                               - ì„¤ì¹˜íŒŒì¼/í¬í„°ë¸”/ìë™í™” ìŠ¤í¬ë¦½íŠ¸
    installers/                            - ì˜¤í”„ë¼ì¸ ì„¤ì¹˜ íŒŒì¼ + install_notes.md(ë²„ì „Â·ì²´í¬ì„¬)
    bin/                                   - í¬í„°ë¸” ì‹¤í–‰íŒŒì¼(PATHì— ì¶”ê°€ ê°€ëŠ¥)
    scripts/                               - bootstrap/release/checksum ë“± ê³µìš© ìŠ¤í¬ë¦½íŠ¸
    devcontainer/                          - ê°œë°œ ì»¨í…Œì´ë„ˆ íˆ´

  85_Environments/                        - ì¬í˜„ ê°€ëŠ¥í•œ ê°œë°œ í™˜ê²½ ìƒ˜í”Œ
    conda/environment.yml
    venv/README.md
    docker/Dockerfile

  90_Configs/                             - â˜…ê°œì¸ ì„¤ì •(ì˜¤ë²„ë¼ì´ë“œÂ·ë¹„ê³µê°œ)
    os/{mac,win,linux}/                    - OSë³„ ì„¤ì •(í‚¤ë§µ/ì…ë ¥ê¸° ë“±)
    shell/{bash,zsh,tcsh,powershell}/      - í”„ë¡œí•„Â·ë³„ì¹­(ê°œì¸ìš©)
    editors/vscode/{settings.user.json,keybindings.user.json}
    git/.gitconfig.local
    python/{pip.conf,poetry.toml,pypirc}
    tools/                                 - ê° íˆ´ ê°œì¸ í”„ë¦¬ì…‹
    secrets/README.md                      - (ì‹¤ì œ ë¹„ë°€ì€ ë‘ì§€ ë§ê³  ì•ˆë‚´ë§Œ)
    .gitignore                             - *.local, secrets/*, *.pem ë“± ê´‘ë²”ìœ„ ì œì™¸

  99_Archive/                             - ì™„ë£Œ Project/Job/ìë£Œ ì¥ê¸° ë³´ê´€(ì½ê¸° ì „ìš©)
</code></pre></div></div>

<hr />

<h1 id="2-ëŒ€í‘œ-ì—…ë¬´-10ê°€ì§€-workflow-step-by-step">2) ëŒ€í‘œ ì—…ë¬´ 10ê°€ì§€ Workflow (Step-by-step)</h1>

<h2 id="1-ìƒˆ-í”„ë¡œì íŠ¸-ë§Œë“¤ê¸°-python-íŒ¨í‚¤ì§€ë°ìŠ¤í¬íƒ‘-íˆ´">1) ìƒˆ í”„ë¡œì íŠ¸ ë§Œë“¤ê¸° (Python íŒ¨í‚¤ì§€/ë°ìŠ¤í¬íƒ‘ íˆ´)</h2>

<ol>
  <li>
    <p><code class="language-plaintext highlighter-rouge">20_Projects/PRJ-YYYY-NNN_&lt;name&gt;/</code> ìƒì„±(í…œí”Œë¦¿ ë³µì‚¬).</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">./scripts/install.(sh|ps1)</code>ë¡œ venv + dev ì˜ì¡´ì„± ì„¤ì¹˜.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">src/&lt;pkg&gt;/</code>, <code class="language-plaintext highlighter-rouge">pyproject.toml</code> íŒ¨í‚¤ì§€ëª…ê³¼ ì—”íŠ¸ë¦¬í¬ì¸íŠ¸ ìˆ˜ì •.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">tests/</code>ì— ìµœì†Œ <code class="language-plaintext highlighter-rouge">test_smoke.py</code> ì¶”ê°€ â†’ <code class="language-plaintext highlighter-rouge">./scripts/test.*</code> ì‹¤í–‰.</p>
  </li>
  <li>
    <p>í•„ìš” ì‹œ GUI ì˜ì¡´ì„±(<code class="language-plaintext highlighter-rouge">.[gui]</code>) ì¶”ê°€, <code class="language-plaintext highlighter-rouge">scripts/run_gui.*</code>ë¡œ í™•ì¸.</p>
  </li>
  <li>
    <p>READMEì— ì‚¬ìš©ë²•/ì˜ˆì œ/ë²„ì „ ì •ì±… ê¸°ì….</p>
  </li>
</ol>

<h2 id="2-ë¶„ì„ì‚°ì¶œë¬¼-ì‘ì—…-ìˆ˜í–‰ë„êµ¬-ì‚¬ìš©--ê²°ê³¼-ì „ë‹¬">2) ë¶„ì„Â·ì‚°ì¶œë¬¼ ì‘ì—… ìˆ˜í–‰(ë„êµ¬ ì‚¬ìš© â†’ ê²°ê³¼ ì „ë‹¬)</h2>

<ol>
  <li>
    <p><code class="language-plaintext highlighter-rouge">25_Jobs/JOB-YYYY-NNN_&lt;title&gt;/</code> ìƒì„±.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">01_Brief/</code>ì— ìš”êµ¬ì‚¬í•­Â·ë§ˆê°Â·ê²€ìˆ˜ ê¸°ì¤€ ì‘ì„±.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">02_Input/raw/</code>ì— ì…ë ¥ ë°°ì¹˜, <code class="language-plaintext highlighter-rouge">03_Config/config.yml</code> ì‘ì„±.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">04_Run/run.(sh|ps1)</code> ì‹¤í–‰ â†’ <code class="language-plaintext highlighter-rouge">06_Export/</code>ì— ìµœì¢…ë³¸, ë¡œê·¸/manifest ìƒì„±.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">qa_checklist.md</code> í†µê³¼ â†’ í•„ìš” ì‹œ <code class="language-plaintext highlighter-rouge">70_Exports/</code>ì—ë„ ë³µì‚¬.</p>
  </li>
</ol>

<h2 id="3-ê°œì¸ìš©-ìŠ¤í¬ë¦½íŠ¸-ë§Œë“¤ê¸°">3) ê°œì¸ìš© ìŠ¤í¬ë¦½íŠ¸ ë§Œë“¤ê¸°</h2>

<ol>
  <li>
    <p>ì˜¤ëŠ˜ë§Œ ì“¸ ì„ì‹œë©´ <code class="language-plaintext highlighter-rouge">10_Today/wrappers/</code>ì— ì‘ì„± â†’ <code class="language-plaintext highlighter-rouge">shortcuts.list</code>ì—ì„œ í˜¸ì¶œ.</p>
  </li>
  <li>
    <p>ì—¬ëŸ¬ í”„ë¡œì íŠ¸ì—ì„œ ì¬ì‚¬ìš©ë˜ë©´ <code class="language-plaintext highlighter-rouge">80_Tools/scripts/</code>ë¡œ <strong>ìŠ¹ê²©</strong> + <code class="language-plaintext highlighter-rouge">--help</code>/README ì‘ì„±.</p>
  </li>
  <li>
    <p>PATHì— <code class="language-plaintext highlighter-rouge">80_Tools/scripts</code> ì¶”ê°€.</p>
  </li>
  <li>
    <p>í”„ë¡œì íŠ¸ ì „ìš©ì´ë©´ <code class="language-plaintext highlighter-rouge">20_Projects/PRJ-â€¦/scripts/</code>ì— ë‘ê³  READMEì˜ Scripts ì„¹ì…˜ì— ë¬¸ì„œí™”.</p>
  </li>
</ol>

<h2 id="4-ìƒˆ-íˆ´-ì„¤ì¹˜-ìŠ¤ëª¨í¬-í…ŒìŠ¤íŠ¸">4) ìƒˆ íˆ´ ì„¤ì¹˜(+ ìŠ¤ëª¨í¬ í…ŒìŠ¤íŠ¸)</h2>

<ol>
  <li>
    <p>ì„¤ì¹˜íŒŒì¼ì„ <code class="language-plaintext highlighter-rouge">80_Tools/installers/</code>ì— ë³´ê´€, <code class="language-plaintext highlighter-rouge">install_notes.md</code>ì— ë²„ì „Â·ì²´í¬ì„¬ ê¸°ë¡.</p>
  </li>
  <li>
    <p>ì„¤ì¹˜ í›„ <code class="language-plaintext highlighter-rouge">25_Jobs/SMOKE-YYYY-NNN_&lt;tool&gt;/</code> ìƒì„±.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">03_Config/commands.txt</code>ì— <code class="language-plaintext highlighter-rouge">tool --version</code> ë“± ê¸°ë³¸ ëª…ë ¹ ê¸°ì….</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">04_Run/smoke.(sh|ps1)</code> ì‹¤í–‰ â†’ <code class="language-plaintext highlighter-rouge">06_Export/result.txt</code> í™•ì¸.</p>
  </li>
  <li>
    <p>í†µê³¼í•˜ë©´ <code class="language-plaintext highlighter-rouge">10_Today/shortcuts.list</code>ì— ë‹¨ì¶• ëª…ë ¹ ì¶”ê°€.</p>
  </li>
</ol>

<h2 id="5-ê°œì¸-shell-aliasí”„ë¡œí•„-ì„¤ì •">5) ê°œì¸ shell alias/í”„ë¡œí•„ ì„¤ì •</h2>

<ol>
  <li>
    <p><code class="language-plaintext highlighter-rouge">90_Configs/shell/&lt;your_shell&gt;/</code>ì— í”„ë¡œí•„Â·ë³„ì¹­ ì‘ì„±(ì˜ˆ: <code class="language-plaintext highlighter-rouge">.zshrc</code>, <code class="language-plaintext highlighter-rouge">profile.ps1</code>).</p>
  </li>
  <li>
    <p>í™ˆìœ¼ë¡œ ì‹¬ë³¼ë¦­ ë§í¬ ì—°ê²°(ë˜ëŠ” ë³µì‚¬):</p>

    <ul>
      <li>
        <p>macOS/Linux: <code class="language-plaintext highlighter-rouge">ln -snf "$HOME/Work/90_Configs/shell/zsh/.zshrc" ~/.zshrc</code></p>
      </li>
      <li>
        <p>PowerShell: í”„ë¡œí•„ ë§í¬/ë¡œë“œ.</p>
      </li>
    </ul>
  </li>
  <li>
    <p>ì¬ì‹œì‘ ë˜ëŠ” <code class="language-plaintext highlighter-rouge">source</code> í›„ ë™ì‘ í™•ì¸.</p>
  </li>
  <li>
    <p>ê³µìš©ìœ¼ë¡œ ê¶Œì¥í•˜ê³  ì‹¶ì€ í•­ëª©ì€ <code class="language-plaintext highlighter-rouge">32_Configs/shared/global/</code>ì—ë„ ë³µì œ.</p>
  </li>
</ol>

<h2 id="6-ë°°í¬-ë²„ì „-ë§Œë“¤ê¸°release">6) ë°°í¬ ë²„ì „ ë§Œë“¤ê¸°(Release)</h2>

<ol>
  <li>
    <p>í”„ë¡œì íŠ¸ì—ì„œ <code class="language-plaintext highlighter-rouge">./scripts/build_cli.*</code>/<code class="language-plaintext highlighter-rouge">build_gui.*</code>ë¡œ ë¹Œë“œ.</p>
  </li>
  <li>
    <p>ë¦´ë¦¬ìŠ¤ ê²€ì¦ Job(ì„ íƒ): <code class="language-plaintext highlighter-rouge">25_Jobs/REL-YYYY-NNN_&lt;proj&gt;_vX.Y.Z/</code>ì—ì„œ ì²´í¬ì„¬Â·ë…¸íŠ¸ ìë™í™”.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">75_Releases/&lt;project&gt;/vX.Y.Z/</code>ì— <code class="language-plaintext highlighter-rouge">{installers,wheels,portable,docs,licenses,checksums}/</code> ì •ë¦¬.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">ReleaseNotes.md</code> ì‘ì„±, <code class="language-plaintext highlighter-rouge">latest/</code> ê°±ì‹ .</p>
  </li>
  <li>
    <p>í•„ìš” ì‹œ ì‚¬ë‚´/ì™¸ë¶€ ë°°í¬ ë§í¬ ê³µì§€.</p>
  </li>
</ol>

<h2 id="7-ë²„ê·¸-ì œë³´--ë””ë²„ê¹…--íŒ¨ì¹˜">7) ë²„ê·¸ ì œë³´ â†’ ë””ë²„ê¹… â†’ íŒ¨ì¹˜</h2>

<ol>
  <li>
    <p><code class="language-plaintext highlighter-rouge">25_Jobs/BUG-YYYY-NNN_&lt;title&gt;/01_Report/</code>ì— ì œë³´/í™˜ê²½/ì¬í˜„ì ˆì°¨ ì‘ì„±.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">02_Repro/input/</code>, <code class="language-plaintext highlighter-rouge">03_Config/</code> ì¤€ë¹„ â†’ <code class="language-plaintext highlighter-rouge">04_Run/repro.*</code>ë¡œ ì¬í˜„.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">05_Evidence/logs/</code>ì— ë¡œê·¸Â·ìŠ¤í¬ë¦°ìƒ·Â·ì²´í¬ì„¬ ìˆ˜ì§‘.</p>
  </li>
  <li>
    <p>ì½”ë“œëŠ” <code class="language-plaintext highlighter-rouge">20_Projects/.../issues/BUG-.../</code>ì—ì„œ triage/fix_notes ê´€ë¦¬.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">06_FixValidation/</code> ì‹œë‚˜ë¦¬ì˜¤ í†µê³¼ í›„ íŒ¨ì¹˜ ë¦´ë¦¬ìŠ¤(Workflow 6ë¡œ ì´ë™).</p>
  </li>
</ol>

<h2 id="8-ë¹ ë¥¸-ì‹¤í—˜ì •ê·œì‹íŒŒì´ì¬-ë¬¸ë²•-ë“±">8) ë¹ ë¥¸ ì‹¤í—˜(ì •ê·œì‹/íŒŒì´ì¬ ë¬¸ë²• ë“±)</h2>

<ol>
  <li>
    <p><code class="language-plaintext highlighter-rouge">31_Labs/jupyter/</code>ì—ì„œ ìŠ¤í¬ë˜ì¹˜(ì‘ê²Œ, 5ë¶„/50ì¤„ ê·œì¹™).</p>
  </li>
  <li>
    <p>ê°€ì¹˜ê°€ ìˆìœ¼ë©´ <code class="language-plaintext highlighter-rouge">30_Areas/knowledge_base/{tips,cheatsheets,howtos}</code>ë¡œ <strong>ìŠ¹ê²© ìš”ì•½</strong>.</p>
  </li>
  <li>
    <p>ì¬í˜„/ì¦ë¹™ì´ í•„ìš”í•´ì§€ë©´ <strong>SMOKE Job</strong> ì´ë‚˜ ì¼ë°˜ <strong>JOB</strong> ìœ¼ë¡œ ì „í™˜.</p>
  </li>
</ol>

<h2 id="9-êµìœ¡ë…¼ë¬¸-ìë£Œ-ê´€ë¦¬">9) êµìœ¡Â·ë…¼ë¬¸ ìë£Œ ê´€ë¦¬</h2>

<ol>
  <li>
    <p>PDFëŠ” <code class="language-plaintext highlighter-rouge">40_Resources/edu/papers/to_read/</code>ì— ì €ì¥.</p>
  </li>
  <li>
    <p>ì½ìœ¼ë©´ì„œ <code class="language-plaintext highlighter-rouge">reading_notes/YYYY-MM-DD_Title.md</code> ì‘ì„±(í…œí”Œë¦¿ ì‚¬ìš©).</p>
  </li>
  <li>
    <p>í•œ ë‹¬ì— í•œ ë²ˆ <code class="language-plaintext highlighter-rouge">summaries/</code>ì— 1~2í˜ì´ì§€ ìš”ì•½ ì •ë¦¬.</p>
  </li>
  <li>
    <p>ì½”ë“œ/ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ ì±„íƒë˜ë©´ ê´€ë ¨ PRJì˜ <code class="language-plaintext highlighter-rouge">docs/</code> ë˜ëŠ” Jobìœ¼ë¡œ ì—°ê²°í•˜ì—¬ ì‹¤í—˜/ê²°ê³¼ ë³´ê´€.</p>
  </li>
</ol>

<h2 id="10-ì„¤ì •-ë ˆì´ì–´ë§-ì ìš©ê³¨ë“ --ê°œì¸">10) ì„¤ì • ë ˆì´ì–´ë§ ì ìš©(ê³¨ë“  â†” ê°œì¸)</h2>

<ol>
  <li>
    <p><strong>ìš°ì„ ìˆœìœ„</strong> : Project ë¡œì»¬ â†’ <code class="language-plaintext highlighter-rouge">90_Configs/personal</code> â†’ <code class="language-plaintext highlighter-rouge">32_Configs/shared/projects/&lt;proj&gt;</code> â†’ <code class="language-plaintext highlighter-rouge">32_Configs/shared/global</code>.</p>
  </li>
  <li>
    <p>VSCode/ruff/pytest ë“±ì€ í”„ë¡œì íŠ¸ì—ì„œ ê¸°ë³¸ ì„¤ì •, ê°œì¸ì€ <code class="language-plaintext highlighter-rouge">*.local.*</code> ì˜¤ë²„ë¼ì´ë“œ.</p>
  </li>
  <li>
    <p>ë¶€íŠ¸ìŠ¤íŠ¸ë© ìŠ¤í¬ë¦½íŠ¸(<code class="language-plaintext highlighter-rouge">80_Tools/scripts/bootstrap_configs.*</code>)ë¡œ í™ˆ/IDEì— ë§í¬Â·ë³µì‚¬ ìë™ ì ìš©.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">10_Today/shortcuts.list</code>ì— â€œEdit ruff (personal)â€ ê°™ì€ ë‹¨ì¶•í‚¤ ì¶”ê°€.</p>
  </li>
</ol>

<hr />

<p>ì›í•˜ë©´ ìœ„ ë³€ê²½(íŠ¹íˆ <code class="language-plaintext highlighter-rouge">90_Configs</code> ì‹ ì„¤)ê¹Œì§€ <strong>ì‹¤ì œ í´ë”ì™€ ìƒ˜í”Œ íŒŒì¼ì„ ìƒì„±í•œ ìŠ¤íƒ€í„° ì••ì¶•ë³¸</strong> ìœ¼ë¡œ ë°”ë¡œ ë§Œë“¤ì–´ ì¤„ ìˆ˜ ìˆì–´. ì–´ë–¤ ì…¸ì„ ì£¼ë ¥ìœ¼ë¡œ ì“°ëŠ”ì§€ë§Œ ì•Œë ¤ì¤˜(ì˜ˆ: zsh, tcsh, PowerShell).</p>

<p class="chat--user">

90_Configsë‘ 32_Configsë‘ ì´ë¦„ì´ ê²¹ì³. renameì´ í•„ìš”í•´ ë³´ì—¬

</p>

<p>ì¢‹ì€ ì§€ì ! ì´ë¦„ ì¶©ëŒì„ ì—†ì• ê³  <strong>ì˜ë„ê°€ í•œëˆˆì— ë³´ì´ë„ë¡</strong> ì´ë ‡ê²Œ ë°”ê¿‰ë‹ˆë‹¤.</p>

<h1 id="ìƒˆ-ì´ë¦„-ëª…í™•ì¼ê´€">ìƒˆ ì´ë¦„ (ëª…í™•Â·ì¼ê´€)</h1>

<ul>
  <li>
    <p>**32<em>SharedConfigs** â†’ _ê³µìœ /ê³¨ë“  ì„¤ì •</em> (íŒ€Â·í”„ë¡œì íŠ¸ê°€ ì¬ì‚¬ìš©í•˜ëŠ” í‘œì¤€)</p>
  </li>
  <li>
    <p>**90<em>PersonalConfigs** â†’ _ê°œì¸ ì„¤ì •</em> (ë‚´ ì·¨í–¥/ì˜¤ë²„ë¼ì´ë“œ/ë¹„ê³µê°œ)</p>
  </li>
</ul>

<p>ë‘˜ ë‹¤ <code class="language-plaintext highlighter-rouge">Configs</code>ë¥¼ ìœ ì§€í•˜ë˜ ì ‘ë‘ë¡œ <strong>Shared / Personal</strong> ì„ ë¶™ì—¬ êµ¬ë¶„ì„ í™•ì‹¤íˆ í–ˆì–´ìš”.</p>

<hr />

<h1 id="ìµœì¢…-êµ¬ì¡°í•´ë‹¹-ë¶€ë¶„ë§Œ-ë°œì·Œ">ìµœì¢… êµ¬ì¡°(í•´ë‹¹ ë¶€ë¶„ë§Œ ë°œì·Œ)</h1>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Work/
  32_SharedConfigs/                     - ê³µìœ /ê³¨ë“  ì„¤ì •(ë¬¸ì„œí™”Â·ì¬ì‚¬ìš© ëŒ€ìƒ)
    global/{vscode,ruff,pytest,pyinstaller,pyside6,jupyter}/
                                         - ì „ì—­ í‘œì¤€ ì„¤ì •
    projects/&lt;project_slug&gt;/             - íŠ¹ì • í”„ë¡œì íŠ¸ ê¸°ë³¸ì„¤ì •
    README.md                            - ì ìš© ì›ì¹™/ìš°ì„ ìˆœìœ„

  90_PersonalConfigs/                   - ê°œì¸ ì„¤ì •(ì˜¤ë²„ë¼ì´ë“œÂ·ë¹„ê³µê°œ)
    os/{mac,win,linux}/                  - OSë³„ ì„¤ì •
    shell/{bash,zsh,tcsh,powershell}/    - í”„ë¡œí•„Â·ë³„ì¹­
    editors/vscode/{settings.user.json,keybindings.user.json}
    git/.gitconfig.local
    python/{pip.conf,poetry.toml,pypirc}
    tools/                               - ê° íˆ´ ê°œì¸ í”„ë¦¬ì…‹
    secrets/README.md                    - (ì‹¤ì œ ë¹„ë°€ì€ ë‘ì§€ ë§ ê²ƒ)
    .gitignore                           - *.local, secrets/*, *.pem ë“± í­ë„“ê²Œ ì œì™¸
</code></pre></div></div>

<h2 id="ì„¤ì •-ë ˆì´ì–´ë§ìš°ì„ ìˆœìœ„-ê·¸ëŒ€ë¡œ-ìœ ì§€">ì„¤ì • ë ˆì´ì–´ë§(ìš°ì„ ìˆœìœ„ ê·¸ëŒ€ë¡œ ìœ ì§€)</h2>

<p>Project ë¡œì»¬ â†’ <strong>90_PersonalConfigs</strong> â†’ 32_SharedConfigs/projects â†’ 32_SharedConfigs/global</p>

<hr />

<h1 id="ì•ˆì „í•œ-ë¦¬ë„¤ì„3ë¶„-ì»·">ì•ˆì „í•œ ë¦¬ë„¤ì„(3ë¶„ ì»·)</h1>

<h2 id="macoslinux-bashzsh">macOS/Linux (bash/zsh)</h2>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> ~/Work
<span class="nb">mv </span>32_Configs 32_SharedConfigs 2&gt;/dev/null <span class="o">||</span> <span class="nb">true
mv </span>90_Configs 90_PersonalConfigs 2&gt;/dev/null <span class="o">||</span> <span class="nb">true</span>

<span class="c"># today ëª©ë¡ ê²½ë¡œ ì¼ê´„ ì¹˜í™˜</span>
<span class="nb">sed</span> <span class="nt">-i</span> <span class="s1">''</span> <span class="s1">'s#/32_Configs/#/32_SharedConfigs/#g'</span> 10_Today/shortcuts.list 2&gt;/dev/null <span class="o">||</span> <span class="nb">true
sed</span> <span class="nt">-i</span> <span class="s1">''</span> <span class="s1">'s#/90_Configs/#/90_PersonalConfigs/#g'</span> 10_Today/shortcuts.list 2&gt;/dev/null <span class="o">||</span> <span class="nb">true</span>

<span class="c"># í™ˆ ì‹¬ë³¼ë¦­ ë§í¬ ì¬ì—°ê²° ì˜ˆì‹œ</span>
<span class="nb">ln</span> <span class="nt">-snf</span> <span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/Work/90_PersonalConfigs/shell/zsh/.zshrc"</span> ~/.zshrc
</code></pre></div></div>

<h2 id="windows-powershell-1">Windows (PowerShell)</h2>
<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Rename-Item</span><span class="w"> </span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work\32_Configs"</span><span class="w"> </span><span class="s2">"32_SharedConfigs"</span><span class="w"> </span><span class="nt">-ErrorAction</span><span class="w"> </span><span class="nx">SilentlyContinue</span><span class="w">
</span><span class="n">Rename-Item</span><span class="w"> </span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work\90_Configs"</span><span class="w"> </span><span class="s2">"90_PersonalConfigs"</span><span class="w"> </span><span class="nt">-ErrorAction</span><span class="w"> </span><span class="nx">SilentlyContinue</span><span class="w">

</span><span class="p">(</span><span class="n">Get-Content</span><span class="w"> </span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work\10_Today\shortcuts.list"</span><span class="p">)</span><span class="w"> </span><span class="se">`
</span><span class="w">  </span><span class="o">-replace</span><span class="w"> </span><span class="s1">'/32_Configs/'</span><span class="p">,</span><span class="w"> </span><span class="s1">'/32_SharedConfigs/'</span><span class="w"> </span><span class="se">`
</span><span class="w">  </span><span class="o">-replace</span><span class="w"> </span><span class="s1">'/90_Configs/'</span><span class="p">,</span><span class="w"> </span><span class="s1">'/90_PersonalConfigs/'</span><span class="w"> </span><span class="se">`
</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">Set-Content</span><span class="w"> </span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work\10_Today\shortcuts.list"</span><span class="w">

</span><span class="c"># ì˜ˆ: ê°œì¸ í”„ë¡œí•„ ë§í¬ ì¬ì„¤ì •</span><span class="w">
</span><span class="c"># New-Item -Type SymbolicLink -Path "$HOME\Documents\PowerShell\Microsoft.PowerShell_profile.ps1" `</span><span class="w">
</span><span class="c">#   -Target "$HOME\Work\90_PersonalConfigs\shell\powershell\profile.ps1" -Force</span><span class="w">
</span></code></pre></div></div>

<h2 id="tcsh">tcsh</h2>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh

cd ~/Work
if ( -d 32_Configs )  mv 32_Configs 32_SharedConfigs
if ( -d 90_Configs )  mv 90_Configs 90_PersonalConfigs
# shortcuts.list ë‚´ ê²½ë¡œëŠ” ìˆ˜ë™ ë˜ëŠ” sedë¡œ ì¹˜í™˜
sed -i '' 's#/32_Configs/#/32_SharedConfigs/#g; s#/90_Configs/#/90_PersonalConfigs/#g' 10_Today/shortcuts.list
</code></pre></div></div>

<hr />

<h1 id="ë¶€íŠ¸ìŠ¤íŠ¸ë©ëŸ°ì²˜ì—ì„œì˜-ìƒˆ-ê²½ë¡œ-ì‚¬ìš©-ì˜ˆ">ë¶€íŠ¸ìŠ¤íŠ¸ë©/ëŸ°ì²˜ì—ì„œì˜ ìƒˆ ê²½ë¡œ ì‚¬ìš© ì˜ˆ</h1>

<p><strong><code class="language-plaintext highlighter-rouge">shortcuts.list</code> ì˜ˆì‹œ</strong></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Edit pytest (shared)   | 32_SharedConfigs/global/pytest   | ${EDITOR:-vi} pytest.ini
Edit ruff (personal)   | 90_PersonalConfigs/python        | ${EDITOR:-vi} ruff.local.toml
Bootstrap dotfiles     | 80_Tools/scripts                 | ./bootstrap_configs.sh
</code></pre></div></div>

<p><strong>ì‹¬ë³¼ë¦­ ë§í¬ ì˜ˆì‹œ</strong></p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># VSCode ì‚¬ìš©ì ì„¤ì •</span>
<span class="nb">mkdir</span> <span class="nt">-p</span> ~/Library/Application<span class="se">\ </span>Support/Code/User
<span class="nb">ln</span> <span class="nt">-snf</span> <span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/Work/90_PersonalConfigs/editors/vscode/settings.user.json"</span> <span class="se">\</span>
        ~/Library/Application<span class="se">\ </span>Support/Code/User/settings.json
</code></pre></div></div>

<hr />

<h2 id="ì™œ-ì´-ì´ë¦„ì´-ì¢‹ì€ê°€-ì§§ê²Œ">ì™œ ì´ ì´ë¦„ì´ ì¢‹ì€ê°€ (ì§§ê²Œ)</h2>

<ul>
  <li>
    <p><strong>ê°€ë…ì„±</strong> : í´ë”ë¥¼ ë³´ëŠ” ìˆœê°„ â€œê³µìœ ìš© vs ê°œì¸ìš©â€ì´ ì¦‰ì‹œ êµ¬ë¶„.</p>
  </li>
  <li>
    <p><strong>ê²€ìƒ‰ì„±</strong> : <code class="language-plaintext highlighter-rouge">SharedConfigs</code>, <code class="language-plaintext highlighter-rouge">PersonalConfigs</code> í‚¤ì›Œë“œë¡œ ì½”ë“œÂ·ë¬¸ì„œÂ·ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ì‰½ê²Œ grep.</p>
  </li>
  <li>
    <p><strong>í™•ì¥ì„±</strong> : ë‚˜ì¤‘ì— <code class="language-plaintext highlighter-rouge">33_Templates/</code>, <code class="language-plaintext highlighter-rouge">34_Policies/</code> ê°™ì€ ë””ë ‰í„°ë¦¬ë„ ë¬´ë¦¬ ì—†ì´ ì¶”ê°€.</p>
  </li>
</ul>

<p>í•„ìš”í•˜ë©´ ìœ„ ë¦¬ë„¤ì„ì„ ë°˜ì˜í•œ <strong>today ëŸ°ì²˜/í•€ ìŠ¤í¬ë¦½íŠ¸</strong> ìƒ˜í”Œ ì—…ë°ì´íŠ¸ì™€ <code class="language-plaintext highlighter-rouge">bootstrap_configs.(sh|ps1|csh)</code>ê¹Œì§€ ë§Œë“¤ì–´ì„œ ë“œë¦´ê²Œ.</p>

<p class="chat--user">

ê·¼ë° shortcutsê°€ ê·¸ë ‡ê²Œ ìœ ìš©í•´? ì—¬ëŸ¬ êµ°ë°ì„œ ì‚¬ìš©í•˜ë„¤

</p>

<p>ì¢‹ì€ í¬ì¸íŠ¸ì•¼. <strong>shortcuts.list</strong> ê°€ â€œìœ ìš©í•˜ëƒâ€ëŠ” ê±´ ì‘ì—… ìŠ¤íƒ€ì¼/ê·œëª¨ì— ë”°ë¼ ê°ˆë ¤.<br />
ì •ë¦¬í•˜ìë©´:</p>

<h2 id="ê²°ë¡ -ì˜ì‚¬ê²°ì •-ë§¤íŠ¸ë¦­ìŠ¤">ê²°ë¡  (ì˜ì‚¬ê²°ì • ë§¤íŠ¸ë¦­ìŠ¤)</h2>

<ul>
  <li>
    <p><strong>ëª…ë ¹ì´ 5~20ê°œ</strong> ì •ë„ë¡œ â€œë§¤ì¼ ë°˜ë³µâ€ëœë‹¤ â†’ <code class="language-plaintext highlighter-rouge">shortcuts.list</code> ìœ ì§€ (ë²ˆí˜¸ ì„ íƒ í•œ ë°©, ì‰˜/OS ë¬´ê´€).</p>
  </li>
  <li>
    <p><strong>ëª…ë ¹ì´ ë“¤ì­‰ë‚ ì­‰Â·ë§ìŒ( &gt;30)</strong> â†’ <code class="language-plaintext highlighter-rouge">shortcuts.list</code> <em>ì—†ì• ê³ </em> <strong>ìë™ íƒìƒ‰ ëŸ¬ë„ˆ</strong> ë¡œ ì „í™˜.</p>
  </li>
  <li>
    <p><strong>í”„ë¡œì íŠ¸ë³„ë¡œë§Œ ëŒë¦¼</strong> â†’ ê° PRJì— <strong>Make/just/invoke/nox</strong> ê°™ì€ <strong>ë¡œì»¬ íƒœìŠ¤í¬ ëŸ¬ë„ˆ</strong> ë‘ê³ , TodayëŠ” ë‹¨ìˆœ ì í”„ë§Œ.</p>
  </li>
</ul>

<p>ì•„ë˜ì— <strong>ì„¸ ê°€ì§€ ìš´ìš©ì•ˆ</strong> ì„ ë‹¤ ì¤¬ì–´. ë„ˆí•œí…Œ ë§ëŠ” ê±¸ ê³¨ë¼ ì“°ë©´ ë¼.</p>

<hr />

<h1 id="ì˜µì…˜-a-shortcutslist-ê³„ì†-ì“¸-ë•Œ-ìœ ì§€ë¹„-ìµœì†Œ-íŠ¸ë¦­">ì˜µì…˜ A) shortcuts.list ê³„ì† ì“¸ ë•Œ (ìœ ì§€ë¹„ ìµœì†Œ íŠ¸ë¦­)</h1>

<ul>
  <li>
    <p><strong>ë“±ë¡ì€ 1ì¤„</strong> : <code class="language-plaintext highlighter-rouge">pin</code>(bash/zsh/ps/tcsh)ë¡œ í˜„ì¬ í´ë”Â·ëª…ë ¹ì„ ìë™ ì¶”ê°€ â†’ íƒ€ì´í•‘ ë¶€ë‹´ ìµœì†Œ.</p>
  </li>
  <li>
    <p><strong>ì •ë¦¬ ì£¼ê¸°</strong> : ê¸ˆìš”ì¼ 5ë¶„ì— <strong>TOP10ë§Œ ë‚¨ê¸°ê³  ë‚˜ë¨¸ì§€ ì•„ì¹´ì´ë¸Œ</strong>.</p>
  </li>
  <li>
    <p><strong>í•œ ê³³ì—ì„œë§Œ ì‚¬ìš©</strong> : <code class="language-plaintext highlighter-rouge">today</code> ëŸ¬ë„ˆë§Œ ì´ íŒŒì¼ì„ ì½ê²Œ í•˜ê³ , ë‹¤ë¥¸ ìŠ¤í¬ë¦½íŠ¸/ë„êµ¬ëŠ” <strong>ì§ì ‘ íŒŒì‹± ê¸ˆì§€</strong>(ì¤‘ë³µë„ì… ë°©ì§€).</p>
  </li>
</ul>

<blockquote>
  <p>ì´ë¯¸ ìš°ë¦¬ê°€ ë§Œë“  <code class="language-plaintext highlighter-rouge">today</code>/<code class="language-plaintext highlighter-rouge">pin</code> ì„¸íŠ¸ëŠ” ì´ ì „ì œë¥¼ ë§Œì¡±í•´. (=í•œ êµ°ë°ì—ì„œë§Œ ì†Œë¹„)</p>
</blockquote>

<hr />

<h1 id="ì˜µì…˜-b-ìë™-íƒìƒ‰-ëŸ¬ë„ˆì¶”ì²œ-ëª…ë ¹ì´-ë§ê±°ë‚˜-ìì£¼-ë³€í• -ë•Œ">ì˜µì…˜ B) <strong>ìë™ íƒìƒ‰ ëŸ¬ë„ˆ</strong>(ì¶”ì²œ: ëª…ë ¹ì´ ë§ê±°ë‚˜ ìì£¼ ë³€í•  ë•Œ)</h1>

<blockquote>
  <p>ë¦¬ìŠ¤íŠ¸ ê´€ë¦¬ ìì²´ê°€ ê·€ì°®ë‹¤ë©´, <strong>Work ì „ì²´ë¥¼ ìŠ¤ìº”</strong> í•´ì„œ â€œëŒë¦´ ìˆ˜ ìˆëŠ” ìŠ¤í¬ë¦½íŠ¸â€ë¥¼ <strong>ìë™ìœ¼ë¡œ</strong> ë©”ë‰´ë¡œ ë³´ì—¬ì£¼ë©´ ëì´ì•¼.<br />
 <code class="language-plaintext highlighter-rouge">shortcuts.list</code> ì—†ì´ ë°”ë¡œ ì‚¬ìš©.</p>
</blockquote>

<h2 id="bashzsh-work-run-fzf-ìˆìœ¼ë©´-í¼ì§€-ì„ íƒ-ì—†ìœ¼ë©´-ë²ˆí˜¸-ì„ íƒ">bash/zsh: <code class="language-plaintext highlighter-rouge">work-run</code> (fzf ìˆìœ¼ë©´ í¼ì§€ ì„ íƒ, ì—†ìœ¼ë©´ ë²ˆí˜¸ ì„ íƒ)</h2>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/usr/bin/env bash</span>
<span class="nb">set</span> <span class="nt">-euo</span> pipefail
<span class="nv">W</span><span class="o">=</span><span class="s2">"</span><span class="k">${</span><span class="nv">WORK_DIR</span><span class="k">:-</span><span class="nv">$HOME</span><span class="p">/Work</span><span class="k">}</span><span class="s2">"</span>

<span class="c"># (1) í›„ë³´ ìˆ˜ì§‘: ìì£¼ ì“°ëŠ” ì—”íŠ¸ë¦¬ ìŠ¤í¬ë¦½íŠ¸ íŒ¨í„´</span>
<span class="nb">mapfile</span> <span class="nt">-t</span> CANDIDATES &lt; &lt;<span class="o">(</span>
  find <span class="s2">"</span><span class="nv">$W</span><span class="s2">"</span> <span class="nt">-type</span> f <span class="se">\(</span> <span class="se">\</span>
      <span class="nt">-path</span> <span class="s2">"</span><span class="nv">$W</span><span class="s2">/20_Projects/*/scripts/*.sh"</span> <span class="nt">-o</span> <span class="se">\</span>
      <span class="nt">-path</span> <span class="s2">"</span><span class="nv">$W</span><span class="s2">/25_Jobs/*/04_Run/*.sh"</span> <span class="nt">-o</span> <span class="se">\</span>
      <span class="nt">-path</span> <span class="s2">"</span><span class="nv">$W</span><span class="s2">/25_Jobs/*/04_Run/*.ps1"</span> <span class="nt">-o</span> <span class="se">\</span>
      <span class="nt">-path</span> <span class="s2">"</span><span class="nv">$W</span><span class="s2">/80_Tools/scripts/*.sh"</span> <span class="se">\</span>
    <span class="se">\)</span> 2&gt;/dev/null <span class="se">\</span>
  | <span class="nb">sort</span>
<span class="o">)</span>

<span class="o">((</span> <span class="k">${#</span><span class="nv">CANDIDATES</span><span class="p">[@]</span><span class="k">}</span> <span class="o">))</span> <span class="o">||</span> <span class="o">{</span> <span class="nb">echo</span> <span class="s2">"No runnable scripts found."</span><span class="p">;</span> <span class="nb">exit </span>1<span class="p">;</span> <span class="o">}</span>

pick_with_fzf<span class="o">()</span> <span class="o">{</span>
  <span class="nb">command</span> <span class="nt">-v</span> fzf <span class="o">&gt;</span>/dev/null 2&gt;&amp;1 <span class="o">||</span> <span class="k">return </span>1
  <span class="nb">printf</span> <span class="s1">'%s\n'</span> <span class="s2">"</span><span class="k">${</span><span class="nv">CANDIDATES</span><span class="p">[@]</span><span class="k">}</span><span class="s2">"</span> <span class="se">\</span>
    | <span class="nb">sed</span> <span class="s2">"s|^</span><span class="nv">$W</span><span class="s2">/||"</span> <span class="se">\</span>
    | fzf <span class="nt">--prompt</span><span class="o">=</span><span class="s2">"work-run&gt; "</span> <span class="nt">--height</span><span class="o">=</span>40% <span class="nt">--reverse</span> <span class="se">\</span>
          <span class="nt">--preview</span><span class="o">=</span><span class="s2">"sed -n '1,80p' </span><span class="se">\"</span><span class="nv">$W</span><span class="s2">/{}</span><span class="se">\"</span><span class="s2">"</span> <span class="se">\</span>
    | <span class="nb">sed</span> <span class="s2">"s|^|</span><span class="nv">$W</span><span class="s2">/|"</span>
<span class="o">}</span>

<span class="nv">SEL</span><span class="o">=</span><span class="s2">"</span><span class="si">$(</span>pick_with_fzf <span class="o">||</span> <span class="nb">true</span><span class="si">)</span><span class="s2">"</span>
<span class="k">if</span> <span class="o">[[</span> <span class="nt">-z</span> <span class="s2">"</span><span class="k">${</span><span class="nv">SEL</span><span class="k">:-}</span><span class="s2">"</span> <span class="o">]]</span><span class="p">;</span> <span class="k">then</span>
  <span class="c"># fallback: ë²ˆí˜¸ ì„ íƒ</span>
  <span class="nv">i</span><span class="o">=</span>1
  <span class="k">for </span>p <span class="k">in</span> <span class="s2">"</span><span class="k">${</span><span class="nv">CANDIDATES</span><span class="p">[@]</span><span class="k">}</span><span class="s2">"</span><span class="p">;</span> <span class="k">do
    </span><span class="nv">rel</span><span class="o">=</span><span class="s2">"</span><span class="k">${</span><span class="nv">p</span><span class="p">#</span><span class="nv">$W</span><span class="p">/</span><span class="k">}</span><span class="s2">"</span><span class="p">;</span> <span class="nb">printf</span> <span class="s2">"%2d) %s</span><span class="se">\n</span><span class="s2">"</span> <span class="s2">"</span><span class="nv">$i</span><span class="s2">"</span> <span class="s2">"</span><span class="nv">$rel</span><span class="s2">"</span><span class="p">;</span> <span class="o">((</span>i++<span class="o">))</span>
  <span class="k">done
  </span><span class="nb">read</span> <span class="nt">-rp</span> <span class="s2">"work-run&gt; "</span> idx
  <span class="o">[[</span> <span class="s2">"</span><span class="nv">$idx</span><span class="s2">"</span> <span class="o">=</span>~ ^[0-9]+<span class="nv">$ </span><span class="o">]]</span> <span class="o">||</span> <span class="o">{</span> <span class="nb">echo</span> <span class="s2">"Invalid"</span><span class="p">;</span> <span class="nb">exit </span>1<span class="p">;</span> <span class="o">}</span>
  <span class="nv">SEL</span><span class="o">=</span><span class="s2">"</span><span class="k">${</span><span class="nv">CANDIDATES</span><span class="p">[</span><span class="k">$((</span>idx-1<span class="k">))</span><span class="p">]</span><span class="k">}</span><span class="s2">"</span>
<span class="k">fi

</span><span class="nb">dir</span><span class="o">=</span><span class="s2">"</span><span class="si">$(</span><span class="nb">dirname</span> <span class="s2">"</span><span class="nv">$SEL</span><span class="s2">"</span><span class="si">)</span><span class="s2">"</span><span class="p">;</span> <span class="nv">file</span><span class="o">=</span><span class="s2">"</span><span class="si">$(</span><span class="nb">basename</span> <span class="s2">"</span><span class="nv">$SEL</span><span class="s2">"</span><span class="si">)</span><span class="s2">"</span>
<span class="nb">cd</span> <span class="s2">"</span><span class="nv">$dir</span><span class="s2">"</span>
<span class="k">case</span> <span class="s2">"</span><span class="nv">$file</span><span class="s2">"</span> <span class="k">in</span>
  <span class="k">*</span>.ps1<span class="p">)</span>  pwsh <span class="nt">-NoLogo</span> <span class="nt">-NoProfile</span> <span class="nt">-File</span> <span class="s2">"</span><span class="nv">$file</span><span class="s2">"</span> <span class="p">;;</span>   <span class="c"># pwshìˆìœ¼ë©´ PS ìŠ¤í¬ë¦½íŠ¸ë„ ì‹¤í–‰</span>
  <span class="k">*</span>.sh<span class="p">)</span>   <span class="nb">chmod</span> +x <span class="s2">"</span><span class="nv">$file</span><span class="s2">"</span> 2&gt;/dev/null <span class="o">||</span> <span class="nb">true</span><span class="p">;</span> <span class="s2">"./</span><span class="nv">$file</span><span class="s2">"</span> <span class="p">;;</span>
  <span class="k">*</span><span class="p">)</span>      <span class="nb">echo</span> <span class="s2">"Unknown type: </span><span class="nv">$file</span><span class="s2">"</span><span class="p">;</span> <span class="nb">exit </span>1 <span class="p">;;</span>
<span class="k">esac</span>
</code></pre></div></div>

<p>ì‚¬ìš©:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">chmod</span> +x ~/Work/80_Tools/scripts/work-run
<span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/Work/80_Tools/scripts:</span><span class="nv">$PATH</span><span class="s2">"</span>
work-run
</code></pre></div></div>

<ul>
  <li>
    <p>íŒ¨í„´ì€ í•„ìš”í•˜ë©´ ì¶”ê°€í•´(ì˜ˆ: <code class="language-plaintext highlighter-rouge">build_*.sh</code>, <code class="language-plaintext highlighter-rouge">repro.sh</code>, <code class="language-plaintext highlighter-rouge">smoke.sh</code> ë“±).</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">fzf</code>ê°€ ìˆìœ¼ë©´ í¼ì§€ ê²€ìƒ‰/í”„ë¦¬ë·°, ì—†ìœ¼ë©´ ë²ˆí˜¸ ë©”ë‰´.</p>
  </li>
</ul>

<h2 id="tcsh-work-runcsh-ê°„ë‹¨-ë²ˆí˜¸-ì„ íƒ">tcsh: <code class="language-plaintext highlighter-rouge">work-run.csh</code> (ê°„ë‹¨ ë²ˆí˜¸ ì„ íƒ)</h2>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh

#!/bin/tcsh -f
set W = "$HOME/Work"
if ( $?WORK_DIR ) set W = "$WORK_DIR"

set tmp = "/tmp/work-run.$$"
# í›„ë³´: scripts/*.sh, 04_Run/*.sh, 80_Tools/scripts/*.sh
find "$W" -type f \( \
  -path "$W/20_Projects/*/scripts/*.sh" -o \
  -path "$W/25_Jobs/*/04_Run/*.sh" -o \
  -path "$W/80_Tools/scripts/*.sh" \
\) | sort | sed "s|^$W/||" &gt; "$tmp"

set n = `wc -l &lt; "$tmp"`
if ( "$n" == 0 ) then
  echo "No runnable scripts found."; /bin/rm -f "$tmp"; exit 0
endif

set i = 1
foreach line (`cat "$tmp"`)
  echo "$i) $line"
  @ i++
end
echo -n "work-run&gt; "
set idx = $&lt;
set sel = `sed -n "${idx}p" "$tmp"`; /bin/rm -f "$tmp"
set full = "$W/$sel"
set dir = `dirname "$full"`; set file = `basename "$full"`
cd "$dir"
if ( "$file:e" == "sh" ) then
  chmod +x "$file" &gt;/dev/null
  ./"$file"
else
  echo "Unknown type: $file"
endif
</code></pre></div></div>

<p>ì‚¬ìš©:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh

chmod +x ~/Work/80_Tools/scripts/work-run.csh
setenv PATH "$HOME/Work/80_Tools/scripts:$PATH"
work-run.csh
</code></pre></div></div>

<blockquote>
  <p>ì´ ë°©ì‹ì´ë©´ <strong>ì—¬ëŸ¬ êµ°ë°ì„œ shortcutsë¥¼ ì“°ì§€ ì•Šì•„ë„</strong> ë˜ê³ , ìƒˆ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë§Œë“¤ë©´ ìë™ìœ¼ë¡œ ë©”ë‰´ì— ì¡í˜€.</p>
</blockquote>

<hr />

<h1 id="ì˜µì…˜-c-í”„ë¡œì íŠ¸-ë¡œì»¬-íƒœìŠ¤í¬-ëŸ¬ë„ˆ-ë¡œ-í†µì¼">ì˜µì…˜ C) <strong>í”„ë¡œì íŠ¸ ë¡œì»¬ íƒœìŠ¤í¬ ëŸ¬ë„ˆ</strong> ë¡œ í†µì¼</h1>

<ul>
  <li>
    <p>ê° PRJ ë£¨íŠ¸ì— ì•„ë˜ ì¤‘ í•˜ë‚˜ë¥¼ ì±„íƒ:</p>

    <ul>
      <li>
        <p><strong>Makefile</strong> : <code class="language-plaintext highlighter-rouge">make test</code>, <code class="language-plaintext highlighter-rouge">make build</code>, <code class="language-plaintext highlighter-rouge">make run</code></p>
      </li>
      <li>
        <p><strong>justfile</strong>(ì¶”ì²œ): ì‚¬ëŒì´ ì½ê¸° ì‰¬ìš´ ë¬¸ë²•, <code class="language-plaintext highlighter-rouge">just build</code>, <code class="language-plaintext highlighter-rouge">just test</code></p>
      </li>
      <li>
        <p><strong>Invoke/Fab</strong>(íŒŒì´ì¬ íƒœìŠ¤í¬): <code class="language-plaintext highlighter-rouge">inv build</code>, <code class="language-plaintext highlighter-rouge">inv release</code></p>
      </li>
      <li>
        <p><strong>nox/tox</strong>(í…ŒìŠ¤íŠ¸/ì„¸ì…˜): <code class="language-plaintext highlighter-rouge">nox -s lint tests</code></p>
      </li>
    </ul>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">10_Today</code>ì—ì„œëŠ” <strong>ê·¸ í”„ë¡œì íŠ¸ë¡œ cdë§Œ</strong> í•˜ê³ , ë‚˜ë¨¸ì§€ëŠ” ë¡œì»¬ íƒœìŠ¤í¬ë¡œ ì‹¤í–‰.</p>
  </li>
  <li>
    <p>ì¥ì : <strong>ìœ ì§€ë³´ìˆ˜ ìµœì†Œ</strong> , CI/CDì™€ ìŠ¤í¬ë¦½íŠ¸ ê³µìœ  ì‰¬ì›€.</p>
  </li>
  <li>
    <p>ë‹¨ì : í”„ë¡œì íŠ¸ë§ˆë‹¤ íƒœìŠ¤í¬ ì •ì˜ í•„ìš”.</p>
  </li>
</ul>

<hr />

<h2 id="ì–´ëŠ-ê±¸-ì“°ë©´-ì¢‹ì„ê¹Œ-í˜„ì‹¤-ê·œì¹™">ì–´ëŠ ê±¸ ì“°ë©´ ì¢‹ì„ê¹Œ? (í˜„ì‹¤ ê·œì¹™)</h2>

<ul>
  <li>
    <p><strong>ì´ˆê¸° ì…‹ì—…/ê°œì¸ ì›Œí¬ìŠ¤í˜ì´ìŠ¤</strong> : B(ìë™ íƒìƒ‰) â†’ ê´€ë¦¬ ë¶€ë‹´ 0</p>
  </li>
  <li>
    <p><strong>ì•ˆì •í™”ë˜ë©´</strong> : C(í”„ë¡œì íŠ¸ íƒœìŠ¤í¬ ëŸ¬ë„ˆ)ë¡œ ê³ ì •í•´ í’ˆì§ˆâ†‘</p>
  </li>
  <li>
    <p><strong>ë§¤ì¼ ë„ëŠ” Top10 ëª…ë ¹ì´ ëšœë ·</strong> : A(shotcuts.list) ìœ ì§€ + <code class="language-plaintext highlighter-rouge">pin</code>ìœ¼ë¡œ ë“±ë¡ì„ â€œë…¸ê°€ë‹¤ 0â€ìœ¼ë¡œ</p>
  </li>
</ul>

<hr />

<h2 id="ë³´ë„ˆìŠ¤-í˜¼ìš©-ì˜ˆì‹œ-ì‹¤ì „í˜•">ë³´ë„ˆìŠ¤: í˜¼ìš© ì˜ˆì‹œ (ì‹¤ì „í˜•)</h2>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">work-run</code>ìœ¼ë¡œ ì „ì²´ ìŠ¤í¬ë¦½íŠ¸ <strong>í¼ì§€ ê²€ìƒ‰</strong> í•´ì„œ ë°”ë¡œ ì‹¤í–‰</p>
  </li>
  <li>
    <p>ìì£¼ ì“°ëŠ” 5~10ê°œëŠ” <code class="language-plaintext highlighter-rouge">shortcuts.list</code>ì— <strong>ê³ ì • ìŠ¬ë¡¯</strong></p>
  </li>
  <li>
    <p>í”„ë¡œì íŠ¸ ë‚´ë¶€ì—ëŠ” <code class="language-plaintext highlighter-rouge">justfile</code>ë¡œ <code class="language-plaintext highlighter-rouge">build/test/run</code> í‘œì¤€í™”</p>
  </li>
</ul>

<p>ì´ë ‡ê²Œ ì¡ìœ¼ë©´ â€œì—¬ëŸ¬ êµ°ë°ì„œ shortcutsë¥¼ ì“´ë‹¤â€ëŠ” ëŠë‚Œ ì—†ì´,<br />
<strong>í•œ ê°€ì§€ ì§„ì…ì (work-run í˜¹ì€ today)</strong> ë§Œ ê¸°ì–µí•˜ë©´ ë˜ê³ ,<br />
í•„ìš”í•  ë•Œë§Œ ìµœì†Œí•œìœ¼ë¡œ <code class="language-plaintext highlighter-rouge">shortcuts.list</code>ë¥¼ ìš´ìš©í•˜ë©´ ë¼.</p>

<p class="chat--user">

ë§Œì•½ì— êµìœ¡ ì‹¤í—˜(LAB)ì„ ë”°ë¼í•´ë³´ê³  ì‹¶ë‹¤ë©´ ì–´ë””ì„œ í•´ì•¼í• ê¹Œ

</p>

<p>ì¢‹ì€ ì§ˆë¬¸! <strong>êµìœ¡ ì‹¤í—˜(LAB)</strong>ì€ â€œìë£Œ(ì½ê¸°)â€ì™€ â€œì‹¤ìŠµ(ì‹¤í–‰)â€ì„ ë¶„ë¦¬í•´ì„œ ê´€ë¦¬í•˜ë©´ ê¹”ë”í•©ë‹ˆë‹¤.</p>

<h2 id="í•œ-ì¤„-ê²°ë¡ ">í•œ ì¤„ ê²°ë¡ </h2>

<ul>
  <li>
    <p><strong>ìë£Œ(ê°•ì˜/íŠœí† ë¦¬ì–¼/ë…¸íŠ¸)</strong> : <code class="language-plaintext highlighter-rouge">40_Resources/edu/...</code> (ì½ê¸° ì „ìš© ë ˆí¼ëŸ°ìŠ¤)</p>
  </li>
  <li>
    <p><strong>ê°€ë²¼ìš´ ë”°ë¼í•˜ê¸°Â·ì§§ì€ íƒìƒ‰( &lt;30ë¶„)</strong>: <code class="language-plaintext highlighter-rouge">31_Labs/jupyter/</code> (ìŠ¤í¬ë˜ì¹˜)</p>
  </li>
  <li>
    <p><strong>ë°ì´í„°Â·ì„¤ì •Â·ê²°ê³¼ë¥¼ ë‚¨ê¸°ëŠ” ì œëŒ€ë¡œ ëœ ì‹¤ìŠµ</strong> : <code class="language-plaintext highlighter-rouge">25_Jobs/LAB-YYYY-NNN_&lt;topic&gt;/</code> (ì¬í˜„ ê°€ëŠ¥í•œ êµ¬ì¡°)</p>
  </li>
</ul>

<hr />

<h1 id="ì–´ë””ì„œ-ë¬´ì—‡ì„-í•˜ë‚˜ìš”">ì–´ë””ì„œ ë¬´ì—‡ì„ í•˜ë‚˜ìš”?</h1>

<h2 id="1-ìë£ŒëŠ”-ì—¬ê¸°-40_resourcesedu">1) ìë£ŒëŠ” ì—¬ê¸°: <code class="language-plaintext highlighter-rouge">40_Resources/edu/</code></h2>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">courses/&lt;provider&gt;/&lt;course-name&gt;/</code> : ê°•ì˜ ìŠ¬ë¼ì´ë“œ/ìˆ˜ì—… ë§í¬</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">tutorials/&lt;topic&gt;/</code> : íŠœí† ë¦¬ì–¼ ë§í¬/README</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">papers/</code> : ë…¼ë¬¸ ì›Œí¬í”Œë¡œ(to_read â†’ reading_notes â†’ summaries)</p>
  </li>
</ul>

<blockquote>
  <p>ì—­í• : â€œì½ì„ê±°ë¦¬/ë ˆí¼ëŸ°ìŠ¤â€ ì €ì¥ì†Œ. <strong>ì‹¤í–‰ íŒŒì¼ì´ë‚˜ ì‚°ì¶œë¬¼ì€ ë‘ì§€ ì•ŠìŒ</strong>.</p>
</blockquote>

<h2 id="2-ì§§ì€-ì‹¤ìŠµì€-ì—¬ê¸°-31_labsjupyter">2) ì§§ì€ ì‹¤ìŠµì€ ì—¬ê¸°: <code class="language-plaintext highlighter-rouge">31_Labs/jupyter/</code></h2>

<ul>
  <li>
    <p>íŒŒì¼ ì˜ˆ: <code class="language-plaintext highlighter-rouge">2025-08-26_pytorch-tensor-basics.ipynb</code>, <code class="language-plaintext highlighter-rouge">regex_scratch.ipynb</code></p>
  </li>
  <li>
    <p>ìš©ë„: API ê°, ë¬¸ë²•/ì •ê·œì‹ í…ŒìŠ¤íŠ¸, ì‘ì€ ì½”ë“œ ì‹¤í—˜(5ë¶„/50ì¤„ ê·œì¹™)</p>
  </li>
  <li>
    <p>ëë‚˜ê³  ìœ ìš©í•˜ë©´ <strong>ìš”ì•½ì„</strong> <code class="language-plaintext highlighter-rouge">30_Areas/knowledge_base/{tips|cheatsheets|howtos}</code>ë¡œ <strong>ìŠ¹ê²©</strong><br />
(ì˜ˆ: â€œPyTorch í…ì„œ ê¸°ë³¸â€ ì¹˜íŠ¸ì‹œíŠ¸)</p>
  </li>
</ul>

<h2 id="3-ë³¸ê²©-ì‹¤ìŠµë°ì´í„°ì‚°ì¶œë¦¬í¬íŠ¸-í•„ìš”ì€-ì—¬ê¸°-25_jobslab-yyyy-nnn_topic">3) ë³¸ê²© ì‹¤ìŠµ(ë°ì´í„°Â·ì‚°ì¶œÂ·ë¦¬í¬íŠ¸ í•„ìš”)ì€ ì—¬ê¸°: <code class="language-plaintext highlighter-rouge">25_Jobs/LAB-YYYY-NNN_&lt;topic&gt;/</code></h2>

<blockquote>
  <p>LABì„ <strong>JOBì˜ í•œ íƒ€ì…</strong> ìœ¼ë¡œ ë³´ë©´ ë©ë‹ˆë‹¤(ì¬í˜„ì„±/ì¦ë¹™ ëª©ì ).</p>
</blockquote>

<h3 id="ê¶Œì¥-ìŠ¤ì¼ˆë ˆí†¤">ê¶Œì¥ ìŠ¤ì¼ˆë ˆí†¤</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>25_Jobs/
  LAB-2025-012_pytorch-cnn/
    01_Brief/            - í•™ìŠµ ëª©í‘œ, í‰ê°€ ê¸°ì¤€(ì˜ˆ: ì •í™•ë„ â‰¥ 90%), ë§ˆê°
    02_Input/
      raw/               - ì›ì²œ ë°ì´í„°(í° íŒŒì¼ì€ ì‹¬ë³¼ë¦­ ë§í¬ ê¶Œì¥)
    03_Config/
      env.yml            - conda/venv ì˜ì¡´ì„± ëª…ì„¸(ë˜ëŠ” requirements.txt)
      params.yml         - í•˜ì´í¼íŒŒë¼ë¯¸í„°/ê²½ë¡œ ì„¤ì •
    04_Run/
      notebooks/         - ì‹¤ìŠµ ë…¸íŠ¸ë¶(ì‹¤í–‰ ë³¸ë¬¸)
      run.sh|run.ps1     - ì¼ê´„ì‹¤í–‰/ë¡œê·¸/ì‹œë“œê³ ì •
      manifest.json      - ìë™ ìƒì„±(í™˜ê²½/ë²„ì „/ì²´í¬ì„¬)
    05_Output/
      intermediate/      - ì²´í¬í¬ì¸íŠ¸/ì¤‘ê°„ ì‚°ì¶œ
      reports/           - ë¦¬í¬íŠ¸ íŒŒì¼(HTML/PDF)
    06_Export/
      final/             - ì œì¶œ/ê³µìœ ìš© ìµœì¢…ë³¸
</code></pre></div></div>

<h3 id="ì™œ-job-í˜•íƒœ">ì™œ Job í˜•íƒœ?</h3>

<ul>
  <li>
    <p>ì…ë ¥/ì„¤ì •/ì‹¤í–‰/ì‚°ì¶œì´ ë¶„ë¦¬ë˜ì–´ <strong>ë‹¤ì‹œ ëŒë¦¬ê¸° ì‰¬ì›€</strong></p>
  </li>
  <li>
    <p>ì²´í¬ì„¬Â·í™˜ê²½ ë²„ì „ì´ <strong>manifestë¡œ ê¸°ë¡</strong> â†’ ê²°ê³¼ ì‹ ë¢°ë„â†‘</p>
  </li>
  <li>
    <p>íŒ€/ë¯¸ë˜ì˜ ë‚˜ì—ê²Œ <strong>ì¬í˜„ ê°€ëŠ¥í•œ ì¦ê±°</strong> ê°€ ë¨</p>
  </li>
</ul>

<hr />

<h1 id="ì‹¤ì „-ì›Œí¬í”Œë¡œ-lab-ë”°ë¼í•˜ê¸°">ì‹¤ì „ ì›Œí¬í”Œë¡œ (LAB ë”°ë¼í•˜ê¸°)</h1>

<h2 id="a-ì§§ê²Œ-ë§›ë³´ê¸°-ìœ íŠœí† ë¦¬ì–¼ë¸”ë¡œê·¸-ì½”ë“œ-ëª‡-ì¤„">A) â€œì§§ê²Œ ë§›ë³´ê¸°â€ (ìœ íŠœí† ë¦¬ì–¼/ë¸”ë¡œê·¸ ì½”ë“œ ëª‡ ì¤„)</h2>

<ol>
  <li>
    <p><code class="language-plaintext highlighter-rouge">40_Resources/edu/tutorials/&lt;topic&gt;/</code>ì— ë§í¬/ì›ë¬¸ ì €ì¥</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">31_Labs/jupyter/2025-08-26_&lt;topic&gt;.ipynb</code>ì—ì„œ ë°”ë¡œ ì‹¤ìŠµ</p>
  </li>
  <li>
    <p>ìœ ìš©í•˜ë©´ â†’ <code class="language-plaintext highlighter-rouge">30_Areas/knowledge_base/tips/&lt;topic&gt;.md</code>ì— ìš”ì•½ 10ì¤„</p>
  </li>
</ol>

<h2 id="b-ì‹¤ì œ-ë°ì´í„°ë¡œ-ê²°ê³¼ë¥¼-ë‚´ì•¼-í•¨ì„±ëŠ¥ë¦¬í¬íŠ¸-í•„ìš”">B) â€œì‹¤ì œ ë°ì´í„°ë¡œ ê²°ê³¼ë¥¼ ë‚´ì•¼ í•¨â€(ì„±ëŠ¥/ë¦¬í¬íŠ¸ í•„ìš”)</h2>

<ol>
  <li>
    <p><code class="language-plaintext highlighter-rouge">25_Jobs/LAB-YYYY-NNN_&lt;topic&gt;/</code> ìƒì„±</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">01_Brief/</code>ì— ëª©í‘œ/í‰ê°€ ê¸°ì¤€/ë°ì´í„° ì¶œì²˜ ì‘ì„±</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">02_Input/raw/</code>ì— ë°ì´í„° ë°°ì¹˜(ëŒ€ìš©ëŸ‰ì€ ê²½ë¡œë§Œ, ì‹¬ë§í¬ ì¶”ì²œ)</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">03_Config/env.yml</code>, <code class="language-plaintext highlighter-rouge">params.yml</code> ì‘ì„±</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">04_Run/notebooks/</code>ì— ë…¸íŠ¸ë¶ ì €ì¥, <code class="language-plaintext highlighter-rouge">run.sh</code>ì—ì„œ ìˆœì„œÂ·ì‹œë“œ ê³ ì •</p>
  </li>
  <li>
    <p>ì‹¤í–‰ â†’ <code class="language-plaintext highlighter-rouge">05_Output/</code>ì— ì¤‘ê°„ë¬¼, <code class="language-plaintext highlighter-rouge">06_Export/final/</code>ì— ìµœì¢… ë¦¬í¬íŠ¸/PDF</p>
  </li>
  <li>
    <p>ì„±ê³¼ê°€ ì¬ì‚¬ìš© ê°€ëŠ¥í•˜ë©´, <strong>ë„êµ¬í™”</strong> í•´ì„œ <code class="language-plaintext highlighter-rouge">20_Projects/PRJ-...</code>ë¡œ ìŠ¹ê²©</p>
  </li>
</ol>

<h2 id="c-labì´-ê²°êµ­-ì¬ì‚¬ìš©-íˆ´ë¡œ-ë°œì „">C) â€œLABì´ ê²°êµ­ ì¬ì‚¬ìš© íˆ´ë¡œ ë°œì „â€</h2>

<ol>
  <li>
    <p>ì‹¤ìŠµ ì½”ë“œì—ì„œ ê³µí†µ ë¡œì§ì„ <strong>íŒ¨í‚¤ì§€í™”</strong> â†’ <code class="language-plaintext highlighter-rouge">20_Projects/PRJ-.../src/&lt;pkg&gt;/</code></p>
  </li>
  <li>
    <p>ì˜ˆì œëŠ” <code class="language-plaintext highlighter-rouge">20_Projects/.../examples/</code>ë¡œ ì˜®ê²¨ <strong>ìµœì†Œ ì‹¤í–‰ ìƒ˜í”Œ</strong> ì œê³µ</p>
  </li>
  <li>
    <p>í•™ìŠµ ê¸°ë¡/ë¦¬í¬íŠ¸ëŠ” ê¸°ì¡´ <code class="language-plaintext highlighter-rouge">LAB-...</code> Jobì— ê·¸ëŒ€ë¡œ ë³´ì¡´(ì¶œì²˜Â·ì¦ë¹™)</p>
  </li>
</ol>

<hr />

<h1 id="í™˜ê²½ì„¤ì •ì€-ì–´ë””ì„œ">í™˜ê²½/ì„¤ì •ì€ ì–´ë””ì„œ?</h1>

<ul>
  <li>
    <p><strong>ê³µìœ /ê³¨ë“  ì„¤ì •</strong> : <code class="language-plaintext highlighter-rouge">32_SharedConfigs/</code> (ì˜ˆ: í‘œì¤€ <code class="language-plaintext highlighter-rouge">pytest.ini</code>, <code class="language-plaintext highlighter-rouge">ruff.toml</code>)</p>
  </li>
  <li>
    <p><strong>ê°œì¸ ì„¤ì •(ì˜¤ë²„ë¼ì´ë“œ)</strong> : <code class="language-plaintext highlighter-rouge">90_PersonalConfigs/</code> (ì…¸ í”„ë¡œí•„, ê°œì¸ ruff/VSCode ë“±)</p>
  </li>
  <li>
    <p><strong>íŠ¹ì • LAB ì „ìš© ì˜ì¡´ì„±</strong> : <code class="language-plaintext highlighter-rouge">LAB-.../03_Config/env.yml</code> ë˜ëŠ” <code class="language-plaintext highlighter-rouge">requirements.txt</code><br />
(í”„ë¡œì íŠ¸ë¡œ ìŠ¹ê²©ë˜ë©´ PRJ ë¦¬í¬ ì•ˆìœ¼ë¡œ ì˜®ê¸°ê¸°)</p>
  </li>
</ul>

<hr />

<h1 id="today-ëŸ°ì²˜ìë™-ëŸ¬ë„ˆì—-ì—°ê²°-ì„ íƒ">Today ëŸ°ì²˜/ìë™ ëŸ¬ë„ˆì— ì—°ê²° (ì„ íƒ)</h1>

<ul>
  <li>
    <p>ê·¸ëƒ¥ ì½˜ì†”ì—ì„œ ìì£¼ ëŒë¦¬ë©´:</p>

    <ul>
      <li>
        <p><code class="language-plaintext highlighter-rouge">work-run</code> ìë™ íƒìƒ‰ ëŸ¬ë„ˆë¥¼ ì“°ë©´ <code class="language-plaintext highlighter-rouge">LAB-.../04_Run/*.sh</code>ê°€ ìë™ í›„ë³´ì— ì˜¬ë¼ì˜µë‹ˆë‹¤.</p>
      </li>
      <li>
        <p>ë˜ëŠ” <code class="language-plaintext highlighter-rouge">10_Today/shortcuts.list</code>ì— í•œ ì¤„ ì¶”ê°€:</p>
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Run LAB CNN | 25_Jobs/LAB-2025-012_pytorch-cnn/04_Run | ./run.sh
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
</ul>

<hr />

<h1 id="ì–¸ì œ-ì–´ë””ì„œ-í• ì§€-ê²°ì •-ê·œì¹™ìš”ì•½">ì–¸ì œ ì–´ë””ì„œ í• ì§€ ê²°ì • ê·œì¹™(ìš”ì•½)</h1>

<ul>
  <li>
    <p><strong>&lt; 30ë¶„ / ì¬í˜„ ë¶ˆìš” / ê°œì¸ í™•ì¸</strong> â†’ <code class="language-plaintext highlighter-rouge">31_Labs/jupyter</code></p>
  </li>
  <li>
    <p><strong>ë°ì´í„°Â·ê²°ê³¼Â·í‰ê°€ í•„ìš” / ê³µìœ Â·ì¬í˜„ í•„ìš”</strong> â†’ <code class="language-plaintext highlighter-rouge">25_Jobs/LAB-YYYY-...</code></p>
  </li>
  <li>
    <p><strong>ë„êµ¬ë¡œ ë°œì „</strong> â†’ <code class="language-plaintext highlighter-rouge">20_Projects/PRJ-...</code> (LABì€ ê¸°ë¡ìœ¼ë¡œ ë‚¨ê¹€)</p>
  </li>
</ul>

<p>í•„ìš”í•˜ë©´ <strong>LABìš© í…œí”Œë¦¿(Job ìŠ¤ìºí´ë“œ + env/params ìƒ˜í”Œ + run ìŠ¤í¬ë¦½íŠ¸)</strong>ì„ ë°”ë¡œ ë§Œë“¤ì–´ì¤„ê²Œ. ì–´ë–¤ ì£¼ì œ(ì˜ˆ: PyTorch, Pandas, NLP, ì‹œê°í™”)ë¡œ ì‹¤ìŠµí• ì§€ ì•Œë ¤ì£¼ë©´ ê±°ê¸°ì— ë§ì¶° ë¼ˆëŒ€ê¹Œì§€ ë„£ì–´ ë“œë¦´ ìˆ˜ ìˆì–´!</p>

<p class="chat--user">

25_Jobsê°€ ì—„ì²­ ëš±ëš±í•´ì§€ë„¤

</p>

<p>ë§ì•„â€”ê·¸ ëŠë‚Œ ì •ìƒì´ì—ìš”. <strong>25_Jobsê°€ ë¹„ëŒ€í•´ì§€ê¸° ì‰¬ìš´ í´ë”</strong> ë¼ì„œ, êµ¬ì¡°Â·ì •ì±…Â·ìë™í™” 3ê°€ì§€ë§Œ ì¡ìœ¼ë©´ ê¸ˆë°© ì–‡ì•„ì§‘ë‹ˆë‹¤. ì•„ë˜ ê·¸ëŒ€ë¡œ ì ìš©í•´ë³´ì.</p>

<hr />

<h1 id="1-êµ¬ì¡°-25_jobsë¥¼-íƒ€ì…ì—°ë„ìƒíƒœë¡œ-ìª¼ê°œê¸°">1) êµ¬ì¡°: 25_Jobsë¥¼ â€œíƒ€ì…Ã—ì—°ë„Ã—ìƒíƒœâ€ë¡œ ìª¼ê°œê¸°</h1>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Work/
  25_Jobs/                          â† ì‚°ì¶œ ì‘ì—… ë£¨íŠ¸
    _active/                        â† ì§€ê¸ˆ ì§„í–‰ ì¤‘(12ê°œ ì´ë‚´ ìœ ì§€)
    _templates/                     â† ë³µì œìš© ìŠ¤ìºí´ë“œ(ë¹ˆ í…œí”Œë¦¿)
    JOB/                            â† ì¼ë°˜ ì‘ì—…(ì—°ë„ë³„ ë³´ê´€)
      2025/
      2024/
    BUG/                            â† ë°°í¬ ë²„ê·¸ ì¬í˜„/ê²€ì¦
      2025/
    SMOKE/                          â† ìƒˆ íˆ´ ìŠ¤ëª¨í¬/feasibility
      2025/
    LAB/                            â† êµìœ¡ ì‹¤ìŠµ ì¤‘ â€œì¬í˜„í˜•â€ ì‹¤ìŠµ
      2025/
    EX/                             â† ë°°í¬ ì˜ˆì œ íŒ¨í‚¤ì§•
      2025/
    REL/                            â† ë¦´ë¦¬ìŠ¤ ì¤€ë¹„/ê²€ì¦(Job í˜•íƒœ)
      2025/
</code></pre></div></div>

<ul>
  <li>
    <p>ìƒˆ ì‘ì—…ì€ <strong>í•­ìƒ <code class="language-plaintext highlighter-rouge">25_Jobs/_active/íƒ€ì…-YYYY-NNN_ì œëª©/</code></strong>ë¡œ ì‹œì‘ â†’ ëë‚˜ë©´ <strong>ë™ì¼ íƒ€ì…ì˜ ì—°ë„ í´ë”ë¡œ ì´ë™</strong>.</p>
  </li>
  <li>
    <p>í…œí”Œë¦¿ì€ ì „ë¶€ <strong><code class="language-plaintext highlighter-rouge">_templates/</code>ì— ëª¨ì•„ë‘ê³ </strong> ë³µì œë§Œ í•œë‹¤(ì¤‘ë³µ í…œí”Œë¦¿ ë°©ì§€).</p>
  </li>
</ul>

<blockquote>
  <p>ì˜ˆ) ì§„í–‰ ì¤‘ ë²„ê·¸: <code class="language-plaintext highlighter-rouge">_active/BUG-2025-013_crash_xxx/</code><br />
 ì™„ë£Œ í›„ ì´ë™: <code class="language-plaintext highlighter-rouge">BUG/2025/BUG-2025-013_crash_xxx/</code></p>
</blockquote>

<hr />

<h1 id="2-ì •ì±…-ìˆ˜ëª…ì£¼ê¸°hot--warm--cold">2) ì •ì±…: ìˆ˜ëª…ì£¼ê¸°(Hot â†’ Warm â†’ Cold)</h1>

<table>
  <thead>
    <tr>
      <th>ë‹¨ê³„</th>
      <th>ìœ„ì¹˜</th>
      <th>ê¸°ê°„/ê¸°ì¤€</th>
      <th>í•´ì•¼ í•  ì¼</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Hot</strong></td>
      <td><code class="language-plaintext highlighter-rouge">_active/</code></td>
      <td>ì‘ì—… ì¤‘</td>
      <td>ë§¤ì¼ í¸ì§‘, ë¡œê·¸/ë©”ëª¨ ì‚´ë¦¼</td>
    </tr>
    <tr>
      <td><strong>Warm</strong></td>
      <td><code class="language-plaintext highlighter-rouge">íƒ€ì…/2025/</code></td>
      <td><strong>ì™„ë£Œ í›„ ~90ì¼</strong></td>
      <td>ì¤‘ê°„ì‚°ì¶œë¬¼ ì •ë¦¬, <code class="language-plaintext highlighter-rouge">05_Output/intermediate</code> ì••ì¶•/ì‚­ì œ</td>
    </tr>
    <tr>
      <td><strong>Cold</strong></td>
      <td><code class="language-plaintext highlighter-rouge">99_Archive/25_Jobs/2025/</code></td>
      <td>90ì¼â†‘ ë˜ëŠ” ì¬ì‚¬ìš© ë‚®ìŒ</td>
      <td>ì „ì²´ í´ë” ì´ë™(ì½ê¸° ì „ìš©), í•„ìš” íŒŒì¼ë§Œ <code class="language-plaintext highlighter-rouge">70_Exports</code> ë§í¬</td>
    </tr>
  </tbody>
</table>

<ul>
  <li>
    <p><strong>ìƒí•œì„ </strong> : <code class="language-plaintext highlighter-rouge">_active/</code>ëŠ” <strong>12ê°œ ì´ë‚´</strong> (ë„˜ìœ¼ë©´ ê°€ì¥ ì˜¤ë˜ëœ ê²ƒë¶€í„° Warmìœ¼ë¡œ ì´ë™).</p>
  </li>
  <li>
    <p><strong>ì›ì²œë°ì´í„°</strong> : í° íŒŒì¼ì€ <code class="language-plaintext highlighter-rouge">02_Input/raw</code>ì— <strong>ì‹¬ë³¼ë¦­ ë§í¬/ê²½ë¡œë§Œ</strong>(ì‹¤íŒŒì¼ì€ ë³„ë„ ë°ì´í„° ì €ì¥ì†Œ; ì•„ë˜ 5ë²ˆ ì°¸ê³ ).</p>
  </li>
</ul>

<hr />

<h1 id="3-ì¸ë±ìŠ¤-ê°€ë²¼ìš´-ì¹´íƒˆë¡œê·¸-1ì¥ê²€ìƒ‰ì •ë¦¬ìš©">3) ì¸ë±ìŠ¤: ê°€ë²¼ìš´ ì¹´íƒˆë¡œê·¸ 1ì¥(ê²€ìƒ‰Â·ì •ë¦¬ìš©)</h1>

<p><code class="language-plaintext highlighter-rouge">25_Jobs/index.csv</code> (ë˜ëŠ” <code class="language-plaintext highlighter-rouge">catalog.json</code>) â€” ìµœì†Œ í•„ë“œ:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>job_code,type,year,title,status,owner,tags,start,end,path
JOB-2025-041,JOB,2025,"ë³´ê³ ì„œ A",done,me,"report,pdf",2025-08-20,2025-08-22,25_Jobs/JOB/2025/JOB-2025-041_ë³´ê³ ì„œA
BUG-2025-013,BUG,2025,"crash on save",warm,me,"win11,pyinstaller",2025-08-15,2025-08-16,25_Jobs/BUG/2025/BUG-2025-013_crash
</code></pre></div></div>

<ul>
  <li>
    <p>ìƒˆ Job ë§Œë“¤ ë•Œ <strong>í•œ ì¤„ ì¶”ê°€</strong> â†’ ì™„ë£Œ ì‹œ <code class="language-plaintext highlighter-rouge">status</code>ë§Œ <code class="language-plaintext highlighter-rouge">done</code>ìœ¼ë¡œ ë°”ê¿”ë„ ê²€ìƒ‰ì´ í¸í•¨.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">work-run</code>(ìë™ íƒìƒ‰ ëŸ¬ë„ˆ)ë‚˜ ê°„ë‹¨ ìŠ¤í¬ë¦½íŠ¸ê°€ ì´ ì¸ë±ìŠ¤ë¥¼ ì°¸ê³ í•˜ë©´ ë” ë¹¨ë¼ì ¸ìš”.</p>
  </li>
</ul>

<hr />

<h1 id="4-ìë™í™”-ì–‡ê²Œ-ìœ ì§€í•˜ëŠ”-4ê°€ì§€-ë£¨í‹´">4) ìë™í™”: ì–‡ê²Œ ìœ ì§€í•˜ëŠ” 4ê°€ì§€ ë£¨í‹´</h1>

<h3 id="a-close--moveí•«--ì›œ">A) â€œClose &amp; Moveâ€(í•« â†’ ì›œ)</h3>

<ul>
  <li>
    <p>ì¢…ë£Œ ì»¤ë°‹/ì •ë¦¬ í›„:</p>

    <ol>
      <li>
        <p><code class="language-plaintext highlighter-rouge">05_Output/intermediate</code> ì••ì¶• ë˜ëŠ” ì‚­ì œ</p>
      </li>
      <li>
        <p><code class="language-plaintext highlighter-rouge">06_Export</code>ë§Œ ë‚¨ê¸°ê³  ë‚˜ë¨¸ì§€ ë¡œê·¸ëŠ” 7~30ì¼ ë³´ì¡´</p>
      </li>
      <li>
        <p>í´ë”ë¥¼ <code class="language-plaintext highlighter-rouge">íƒ€ì…/ì—°ë„/</code>ë¡œ <strong>mv</strong></p>
      </li>
      <li>
        <p><code class="language-plaintext highlighter-rouge">index.csv</code> ìƒíƒœ <code class="language-plaintext highlighter-rouge">done</code> ì—…ë°ì´íŠ¸</p>
      </li>
    </ol>
  </li>
</ul>

<h3 id="b-archiveì›œ--ì½œë“œ">B) â€œArchiveâ€(ì›œ â†’ ì½œë“œ)</h3>

<ul>
  <li>
    <p>90ì¼ ì§€ë‚œ <code class="language-plaintext highlighter-rouge">done</code> â†’ <code class="language-plaintext highlighter-rouge">99_Archive/25_Jobs/ì—°ë„/</code>ë¡œ ì´ë™</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">70_Exports</code>ì—” ìµœì¢…ë³¸ ë§í¬ ë˜ëŠ” ë³µì‚¬</p>
  </li>
</ul>

<h3 id="c-thin-logs">C) â€œThin Logsâ€</h3>

<ul>
  <li>
    <p>30ì¼ ì§€ë‚œ <code class="language-plaintext highlighter-rouge">*.log</code>ëŠ” <code class="language-plaintext highlighter-rouge">gzip</code></p>
  </li>
  <li>
    <p>ëŒ€ìš©ëŸ‰ <code class="language-plaintext highlighter-rouge">*.csv</code> ì¤‘ê°„ ì‚°ì¶œì€ í•´ì‹œë§Œ ë‚¨ê¸°ê³  ì‚­ì œ ê°€ëŠ¥</p>
  </li>
</ul>

<h3 id="d-top-n-active-rule">D) â€œTop-N Active Ruleâ€</h3>

<ul>
  <li><code class="language-plaintext highlighter-rouge">_active/</code>ê°€ 12ê°œ ì´ˆê³¼ ì‹œ todayì— ê²½ê³ : <strong>ê°€ì¥ ì˜¤ë˜ëœ 3ê°œ</strong> ë¥¼ Warmë¡œ ì´ë™</li>
</ul>

<blockquote>
  <p>ì›í•˜ë©´ ìœ„ 4ê°œë¥¼ ë¬¶ì€ <strong>ì£¼ê°„ ìŠ¤ìœ• ìŠ¤í¬ë¦½íŠ¸</strong> ë„ ë‚´ì¤„ ìˆ˜ ìˆì–´ìš”(ì‰˜/PS/tcsh ë²„ì „).</p>
</blockquote>

<hr />

<h1 id="5-ì„ íƒ-ëŒ€ìš©ëŸ‰-ë°ì´í„°-ë¶„ë¦¬">5) (ì„ íƒ) ëŒ€ìš©ëŸ‰ ë°ì´í„° ë¶„ë¦¬</h1>

<p>ëŒ€ìš©ëŸ‰ ì›ì²œ/ì¤‘ê°„ ë°ì´í„°ê°€ ë§ì€ í¸ì´ë©´ ì•„ë˜ì²˜ëŸ¼ ë¶„ë¦¬í•˜ë©´ Jobsê°€ ê°€ë²¼ì›Œì§‘ë‹ˆë‹¤.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Work/
  26_Data/
    raw/&lt;dataset or source&gt;/...
    cache/&lt;tool or proj&gt;/...
</code></pre></div></div>

<ul>
  <li>
    <p>Jobì˜ <code class="language-plaintext highlighter-rouge">02_Input/raw</code>ì—ëŠ” <strong>ì‹¬ë³¼ë¦­ ë§í¬</strong> ë˜ëŠ” <strong>ê²½ë¡œë§Œ</strong> ë‘ê¸°</p>
  </li>
  <li>
    <p>ë°ì´í„° ë²„ì „ ê¸°ë¡ì€ Jobì˜ <code class="language-plaintext highlighter-rouge">03_Config/params.yml</code>ì— í•´ì‹œ/ë²„ì „/ê²½ë¡œë¡œ ë‚¨ê¹€</p>
  </li>
</ul>

<hr />

<h1 id="6-ì½˜ì†”ì—ì„œ-ë¹ ë¥´ê²Œ-ì°¾ê¸°ì—´ê¸°-ì˜ˆì‹œ-ìŠ¤ë‹ˆí«">6) ì½˜ì†”ì—ì„œ ë¹ ë¥´ê²Œ ì°¾ê¸°/ì—´ê¸° (ì˜ˆì‹œ ìŠ¤ë‹ˆí«)</h1>

<h3 id="bashzsh-íƒ€ì…ë³„ìƒíƒœë³„-ë¦¬ìŠ¤íŠ¸">Bash/Zsh: íƒ€ì…ë³„/ìƒíƒœë³„ ë¦¬ìŠ¤íŠ¸</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jobs-find<span class="o">()</span> <span class="o">{</span> find <span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/Work/25_Jobs/</span><span class="k">${</span><span class="nv">1</span><span class="k">:-</span><span class="nv">_active</span><span class="k">}</span><span class="s2">"</span> <span class="nt">-maxdepth</span> 2 <span class="nt">-type</span> d <span class="nt">-name</span> <span class="s2">"*-20*"</span> | <span class="nb">sort</span><span class="p">;</span> <span class="o">}</span>
jobs-open<span class="o">()</span> <span class="o">{</span> <span class="nb">cd</span> <span class="s2">"</span><span class="si">$(</span>jobs-find <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span> | fzf<span class="si">)</span><span class="s2">"</span> <span class="o">||</span> <span class="k">return</span><span class="p">;</span> <span class="o">}</span>
<span class="c"># ì‚¬ìš©: jobs-open _active  /  jobs-open BUG/2025</span>
</code></pre></div></div>

<h3 id="powershell-2">PowerShell:</h3>
<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kr">function</span><span class="w"> </span><span class="nf">JobsOpen</span><span class="p">(</span><span class="nv">$path</span><span class="o">=</span><span class="s2">"</span><span class="bp">$_</span><span class="s2">active"</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nv">$root</span><span class="o">=</span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work\25_Jobs\</span><span class="nv">$path</span><span class="s2">"</span><span class="w">
  </span><span class="n">Get-ChildItem</span><span class="w"> </span><span class="nv">$root</span><span class="w"> </span><span class="nt">-Recurse</span><span class="w"> </span><span class="nt">-Depth</span><span class="w"> </span><span class="nx">2</span><span class="w"> </span><span class="nt">-Directory</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Out-GridView</span><span class="w"> </span><span class="nt">-PassThru</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Set-Location</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><em>(tcsh ë²„ì „ë„ ì›í•˜ë©´ ì¤„ê²Œìš”.)</em></p>

<hr />

<h1 id="7-í…œí”Œë¦¿ì€-í•œ-ê³³ì—ë§Œ">7) í…œí”Œë¦¿ì€ í•œ ê³³ì—ë§Œ</h1>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">25_Jobs/_templates/</code> ì— <strong>JOB/BUG/SMOKE/LAB/EX/REL</strong> ìŠ¤ì¼ˆë ˆí†¤ 6ê°œë§Œ ìœ ì§€</p>
  </li>
  <li>
    <p>ìƒˆ ì‘ì—…ì€ í•­ìƒ ì—¬ê¸°ì„œ <strong>ë³µì œ</strong> â†’ í…œí”Œë¦¿ ì¤‘ë³µì„ ì—†ì• ê³  í•œ ë²ˆë§Œ ê´€ë¦¬</p>
  </li>
</ul>

<hr />

<h1 id="8-todayëŸ°ì²˜ì™€ì˜-ì—°ë™-ê°€ë³ê²Œ">8) Today/ëŸ°ì²˜ì™€ì˜ ì—°ë™ (ê°€ë³ê²Œ)</h1>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">_active/</code>ë§Œ <strong>ëŸ°ì²˜ ëŒ€ìƒ</strong> ì— í¬í•¨ â†’ ì™„ë£Œì™€ ë™ì‹œì— ìë™ ì œì™¸</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">work-run</code> ìë™ íƒìƒ‰ ëŸ¬ë„ˆë¥¼ ì“°ë©´ <code class="language-plaintext highlighter-rouge">_active/**/04_Run/*.sh|ps1</code>ë§Œ ìš°ì„  ìˆœìœ„ë¡œ ìŠ¤ìº”</p>
  </li>
</ul>

<hr />

<h2 id="ì˜¤ëŠ˜-í• -ì¼3ë¶„-ì…‹ì—…">ì˜¤ëŠ˜ í•  ì¼(3ë¶„ ì…‹ì—…)</h2>

<ol>
  <li>
    <p><code class="language-plaintext highlighter-rouge">25_Jobs</code> ì•ˆì— <strong><code class="language-plaintext highlighter-rouge">_active/</code>, <code class="language-plaintext highlighter-rouge">_templates/</code>, <code class="language-plaintext highlighter-rouge">JOB/2025</code>, <code class="language-plaintext highlighter-rouge">BUG/2025</code>, <code class="language-plaintext highlighter-rouge">SMOKE/2025</code>, <code class="language-plaintext highlighter-rouge">LAB/2025</code>, <code class="language-plaintext highlighter-rouge">EX/2025</code>, <code class="language-plaintext highlighter-rouge">REL/2025</code></strong> ë§Œë“¤ê¸°</p>
  </li>
  <li>
    <p>ì§„í–‰ ì¤‘ Jobì„ ì „ë¶€ <code class="language-plaintext highlighter-rouge">_active/</code>ë¡œ ì˜®ê¸°ê¸°(12ê°œ ì´í•˜ë¡œ)</p>
  </li>
  <li>
    <p>ì™„ë£Œëœ ê²ƒë“¤ì€ íƒ€ì…/ì—°ë„ í´ë”ë¡œ ì •ë¦¬</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">index.csv</code> ì´ˆì•ˆ ë§Œë“¤ì–´ ìƒë‹¨ 10ê°œë§Œ ìš°ì„  ì±„ìš°ê¸°</p>
  </li>
</ol>

<hr />

<h3 id="ìš”ì•½-2">ìš”ì•½</h3>

<ul>
  <li>
    <p><strong>ëª¨ë“  ìƒˆ ì‘ì—…ì€<code class="language-plaintext highlighter-rouge">_active/</code>ì—ì„œ ì‹œì‘ â†’ ëë‚˜ë©´ íƒ€ì…/ì—°ë„ë¡œ ì´ë™ â†’ ì˜¤ë˜ë˜ë©´ 99_Archive.</strong></p>
  </li>
  <li>
    <p>í…œí”Œë¦¿ì€ <strong>í•œ êµ°ë°</strong>(<code class="language-plaintext highlighter-rouge">_templates/</code>)ë§Œ.</p>
  </li>
  <li>
    <p>(ì›í•˜ë©´) <strong>26_Data</strong> ë¡œ ëŒ€ìš©ëŸ‰ ë¶„ë¦¬.</p>
  </li>
  <li>
    <p>ì£¼ê°„ ìŠ¤ìœ• ìŠ¤í¬ë¦½íŠ¸/ìë™ íƒìƒ‰ ëŸ¬ë„ˆë¡œ <strong>ì† ê°€ëŠ” ì •ë¦¬ ì‘ì—… 0ì— ê°€ê¹ê²Œ</strong>.</p>
  </li>
</ul>

<p>í•„ìš”í•˜ë©´ ìœ„ êµ¬ì¡°ë¡œ <strong>í´ë”/ì¸ë±ìŠ¤/ìŠ¤ìœ• ìŠ¤í¬ë¦½íŠ¸ ì„¸íŠ¸</strong> ë¥¼ ë°”ë¡œ ë§Œë“¤ì–´ ë“œë¦´ê²Œâ€”ì“°ëŠ” ì…¸(bash/zsh/PowerShell/tcsh)ë§Œ ì•Œë ¤ì¤˜!</p>

<p class="chat--user">

DB ê°™ì€ ë°ì´í„°ì…‹ë“¤ì„ ì €ì¥í•˜ê³  ì‹¶ì„ ë• ì–´ë””ì— í•´ì•¼í• ê¹Œ?

</p>

<p>ì¢‹ì€ ì§ˆë¬¸! <strong>DB ê°™ì€ ë°ì´í„°ì…‹</strong> ì€ ì½”ë“œ/ì‚°ì¶œê³¼ ë¶„ë¦¬í•´ì„œ <strong>ì „ìš© ë£¨íŠ¸</strong> ì— ë³´ê´€í•˜ëŠ” ê²Œ ìµœê³ ì˜ˆìš”.<br />
ë‚´ì—­ ì¶”ì Â·ë³µêµ¬Â·ìš©ëŸ‰ ê´€ë¦¬ê°€ ì‰¬ì›Œì§€ê³ , 25_Jobsë„ ê°€ë²¼ì›Œì§‘ë‹ˆë‹¤.</p>

<hr />

<h1 id="ì¶”ì²œ-ìœ„ì¹˜-work26_data-ë°ì´í„°-ì „ìš©-ë£¨íŠ¸">ì¶”ì²œ ìœ„ì¹˜: <code class="language-plaintext highlighter-rouge">Work/26_Data/</code> (ë°ì´í„° ì „ìš© ë£¨íŠ¸)</h1>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>26_Data/                                   â† ë°ì´í„°ì…‹ ì¤‘ì•™ ì €ì¥ì†Œ
â”œâ”€ registry/                               â† ì¹´íƒˆë¡œê·¸(ë©”íƒ€ë°ì´í„°)
â”‚  â”œâ”€ catalog.csv
â”‚  â””â”€ README.md
â”œâ”€ raw/                                    â† ì›ë³¸(ë¶ˆë³€) ìŠ¤ëƒ…ìƒ·/ë¤í”„
â”‚  â”œâ”€ db/
â”‚  â”‚  â”œâ”€ postgres/&lt;db_name&gt;/snapshots/YYYY/&lt;TS&gt;/  â† .dump(.gz) or .sql.gz
â”‚  â”‚  â”‚  â”œâ”€ dump.sql.gz
â”‚  â”‚  â”‚  â”œâ”€ SHA256SUMS
â”‚  â”‚  â”‚  â””â”€ manifest.yml                   â† ì¶œì²˜/ë²„ì „/í…Œì´ë¸”/PII/ë¼ì´ì„ ìŠ¤ ë“±
â”‚  â”‚  â””â”€ mysql/&lt;db_name&gt;/snapshots/...
â”‚  â””â”€ files/&lt;source&gt;/&lt;dataset&gt;/&lt;YYYY-MM-DD&gt;/  â† CSV/JSON/ZIP ë“± ì™¸ë¶€ íŒŒì¼ ì›ë³¸
â”œâ”€ processed/                              â† ì •ì œ/ì •ê·œí™”/íŒŒì¼€ì´(Parquet) ë“± 2ì°¨ ì‚°ì¶œ
â”‚  â””â”€ &lt;dataset&gt;/&lt;version&gt;/
â”œâ”€ samples/                                â† ì˜ˆì œ/í…ŒìŠ¤íŠ¸ìš© ì†Œìš©ëŸ‰ ì„œë¸Œì…‹
â”‚  â””â”€ &lt;dataset&gt;/&lt;version&gt;/
â”œâ”€ cache/                                  â† ì¼ì‹œ ìºì‹œ(ì‚­ì œ ê°€ëŠ¥)
â”‚  â”œâ”€ project/&lt;PRJ-slug&gt;/
â”‚  â””â”€ job/&lt;JOB-code&gt;/
â””â”€ schemas/                                â† DDL/ìŠ¤í‚¤ë§ˆ(JSON/SQL)
   â””â”€ &lt;engine&gt;/&lt;db_name&gt;/
</code></pre></div></div>

<blockquote>
  <p><strong>ì›ì¹™</strong></p>

  <ul>
    <li>
      <p><code class="language-plaintext highlighter-rouge">raw/</code>ëŠ” <strong>ë¶ˆë³€(immutable)</strong> ë¡œ ì·¨ê¸‰: ë®ì–´ì“°ì§€ ë§ê³  <strong>ìŠ¤ëƒ…ìƒ·ì„ ì¶”ê°€</strong> ë§Œ í•©ë‹ˆë‹¤.</p>
    </li>
    <li>
      <p><code class="language-plaintext highlighter-rouge">processed/</code>ëŠ” íŒŒìƒ ë°ì´í„°(ì •ì œ/ì§‘ê³„), <code class="language-plaintext highlighter-rouge">samples/</code>ëŠ” ì‘ì€ í•™ìŠµ/í…ŒìŠ¤íŠ¸ì…‹.</p>
    </li>
    <li>
      <p><code class="language-plaintext highlighter-rouge">cache/</code>ëŠ” ì–¸ì œë“  ì§€ì›Œë„ ë˜ëŠ” ì¤‘ê°„ë¬¼.</p>
    </li>
    <li>
      <p>í° ì›ë³¸ì€ <strong>ì—¬ê¸°</strong> ì— ë‘ê³ , <strong>Job/Projectì—ì„œëŠ” ê²½ë¡œ ì°¸ì¡°ë‚˜ ì‹¬ë³¼ë¦­ ë§í¬</strong> ë§Œ ì‚¬ìš©.</p>
    </li>
  </ul>

</blockquote>

<hr />

<h2 id="db-ë¤í”„ìŠ¤ëƒ…ìƒ·-í‘œì¤€-ë„¤ì´ë°">DB ë¤í”„/ìŠ¤ëƒ…ìƒ· í‘œì¤€ ë„¤ì´ë°</h2>

<ul>
  <li>
    <p>ë””ë ‰í„°ë¦¬: <code class="language-plaintext highlighter-rouge">raw/db/&lt;engine&gt;/&lt;db_name&gt;/snapshots/&lt;YYYY&gt;/&lt;YYYYMMDD-HHMMSS&gt;/</code></p>
  </li>
  <li>
    <p>íŒŒì¼:</p>

    <ul>
      <li>
        <p>Postgres: <code class="language-plaintext highlighter-rouge">&lt;db_name&gt;_&lt;YYYYMMDD-HHMMSS&gt;.dump.gz</code> (pg_dump -Fc í›„ gzip)</p>
      </li>
      <li>
        <p>MySQL: <code class="language-plaintext highlighter-rouge">&lt;db_name&gt;_&lt;YYYYMMDD-HHMMSS&gt;.sql.gz</code></p>
      </li>
    </ul>
  </li>
  <li>
    <p>ë¬´ê²°ì„±: <code class="language-plaintext highlighter-rouge">SHA256SUMS</code> (ì—¬ëŸ¬ íŒŒì¼ì´ë©´ ëª¨ë‘ ê¸°ë¡)</p>
  </li>
  <li>
    <p>ë©”íƒ€: <code class="language-plaintext highlighter-rouge">manifest.yml</code> ì˜ˆì‹œ
```yaml
dataset: postgres/salesdb
snapshot: 2025-08-26T10-20-00
source: prod-rds
pii_level: medium          # none/low/medium/high
license: internal
tables:</p>
    <ul>
      <li>customers: {rows: 120342}</li>
      <li>orders: {rows: 502113}
checksum:
  dump.sql.gz: "ab12â€¦ef"
restore:
  engine: postgres
  target_db: salesdb_local
```</li>
    </ul>
  </li>
</ul>

<hr />

<h2 id="26_data-ì¹´íƒˆë¡œê·¸ì¸ë±ìŠ¤-ì˜ˆì‹œ">26_Data ì¹´íƒˆë¡œê·¸(ì¸ë±ìŠ¤) ì˜ˆì‹œ</h2>

<p><code class="language-plaintext highlighter-rouge">26_Data/registry/catalog.csv</code></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>kind,engine,name,version_or_ts,tags,path,pii,notes
db,postgres,salesdb,2025-08-26T10-20-00,"prod,snapshot",raw/db/postgres/salesdb/snapshots/2025/20250826-102000,medium,"month-end"
files,ext,ad_events,2025-08-01,"ads,csv",raw/files/ad_platform/ad_events/2025-08-01,low,"export via API"
</code></pre></div></div>

<hr />

<h1 id="ì›Œí¬í”Œë¡œ-db-ê¸°ì¤€-postgres-ì˜ˆì‹œ">ì›Œí¬í”Œë¡œ (DB ê¸°ì¤€, Postgres ì˜ˆì‹œ)</h1>

<h2 id="1-ìŠ¤ëƒ…ìƒ·ë¤í”„-ë§Œë“¤ê¸°--26_dataì—-ë³´ê´€">1) ìŠ¤ëƒ…ìƒ·(ë¤í”„) ë§Œë“¤ê¸° â†’ 26_Dataì— ë³´ê´€</h2>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># ì˜ˆ: Postgres</span>
<span class="nv">TS</span><span class="o">=</span><span class="si">$(</span><span class="nb">date</span> +%Y%m%d-%H%M%S<span class="si">)</span>
<span class="nv">BASE</span><span class="o">=</span>~/Work/26_Data/raw/db/postgres/salesdb/snapshots/<span class="si">$(</span><span class="nb">date</span> +%Y<span class="si">)</span>
<span class="nv">DEST</span><span class="o">=</span><span class="nv">$BASE</span>/<span class="nv">$TS</span>
<span class="nb">mkdir</span> <span class="nt">-p</span> <span class="s2">"</span><span class="nv">$DEST</span><span class="s2">"</span>
pg_dump <span class="nt">-Fc</span> <span class="s2">"postgresql://user:pass@host:5432/salesdb"</span> <span class="nt">-f</span> <span class="s2">"</span><span class="nv">$DEST</span><span class="s2">/dump.dump"</span>
<span class="nb">gzip</span> <span class="s2">"</span><span class="nv">$DEST</span><span class="s2">/dump.dump"</span>
<span class="nb">sha256sum</span> <span class="s2">"</span><span class="nv">$DEST</span><span class="s2">/dump.dump.gz"</span> <span class="o">&gt;</span> <span class="s2">"</span><span class="nv">$DEST</span><span class="s2">/SHA256SUMS"</span>
<span class="c"># manifest.yml ì‘ì„±(í…œí”Œë¦¿ ë³µì‚¬ í›„ ìˆ˜ì •)</span>
</code></pre></div></div>

<blockquote>
  <p><strong>MySQL</strong> : <code class="language-plaintext highlighter-rouge">mysqldump -u user -p --databases salesdb | gzip &gt; "$DEST/dump.sql.gz"</code></p>
</blockquote>

<ul>
  <li><strong>ìê²©ì¦ëª…</strong> ì€ <code class="language-plaintext highlighter-rouge">90_PersonalConfigs/secrets/.env-db.local</code> ê°™ì€ ê³³ì— ë‘ê³ , ìŠ¤í¬ë¦½íŠ¸ëŠ” <strong>í™˜ê²½ë³€ìˆ˜ ì°¸ì¡°</strong> ë§Œ í•˜ì„¸ìš”(ë¹„ë°€ ì§ì ‘ ê¸°ë¡ ê¸ˆì§€).</li>
</ul>

<h2 id="2-ë¡œì»¬-ë³µì›ì‹¤í—˜jobìš©">2) ë¡œì»¬ ë³µì›(ì‹¤í—˜/Jobìš©)</h2>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Postgres</span>
createdb salesdb_local
<span class="nb">gunzip</span> <span class="nt">-c</span> <span class="s2">"</span><span class="nv">$DEST</span><span class="s2">/dump.dump.gz"</span> | pg_restore <span class="nt">-d</span> salesdb_local
<span class="c"># ë˜ëŠ”: pg_restore -d salesdb_local "$DEST/dump.dump.gz"</span>
</code></pre></div></div>

<ul>
  <li>ì»¨í…Œì´ë„ˆ ì‚¬ìš© ì‹œ(ê¶Œì¥): <code class="language-plaintext highlighter-rouge">85_Environments/docker/docker-compose.yml</code>ì— DB ì„œë¹„ìŠ¤ ì •ì˜í•˜ê³ ,<br />
<code class="language-plaintext highlighter-rouge">26_Data/db/postgres/_volumes/&lt;name&gt;:/var/lib/postgresql/data</code> ë³¼ë¥¨ìœ¼ë¡œ ë¶™ì…ë‹ˆë‹¤.</li>
</ul>

<h2 id="3-jobprojectì—ì„œ-ì“°ê¸°-ë§í¬-ë˜ëŠ”-ê²½ë¡œ-ì°¸ì¡°">3) Job/Projectì—ì„œ ì“°ê¸° (ë§í¬ ë˜ëŠ” ê²½ë¡œ ì°¸ì¡°)</h2>

<ul>
  <li><strong>ë§í¬(ë§¥/ë¦¬ëˆ…ìŠ¤)</strong> :
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">ln</span> <span class="nt">-s</span> ~/Work/26_Data/raw/db/postgres/salesdb/snapshots/2025/20250826-102000 <span class="se">\</span>
      ~/Work/25_Jobs/JOB-2025-041_report/02_Input/raw/salesdb_20250826
</code></pre></div>    </div>
  </li>
  <li><strong>ê²½ë¡œ ì„¤ì •</strong> : <code class="language-plaintext highlighter-rouge">25_Jobs/.../03_Config/params.yml</code>ì— ê¸°ë¡
    <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">inputs</span><span class="pi">:</span>
  <span class="na">salesdb_snapshot</span><span class="pi">:</span> <span class="s2">"</span><span class="s">../../../26_Data/raw/db/postgres/salesdb/snapshots/2025/20250826-102000"</span>
</code></pre></div>    </div>
  </li>
  <li><strong>í¬ë ˆë´ì…œ</strong> : <code class="language-plaintext highlighter-rouge">90_PersonalConfigs/secrets/.env-db.local</code>ì—, Job ìŠ¤í¬ë¦½íŠ¸ëŠ” <code class="language-plaintext highlighter-rouge">source</code>ë§Œ.</li>
</ul>

<h2 id="4-ìƒ˜í”Œì„œë¸Œì…‹-ë§Œë“¤ê¸°">4) ìƒ˜í”Œ/ì„œë¸Œì…‹ ë§Œë“¤ê¸°</h2>

<ul>
  <li>í…Œì´ë¸” ì¼ë¶€ë§Œ CSVë¡œ ë¤í”„:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>psql salesdb_local <span class="nt">-c</span> <span class="s2">"</span><span class="se">\c</span><span class="s2">opy (SELECT * FROM customers LIMIT 1000) TO 'customers_sample.csv' CSV HEADER"</span>
<span class="nb">mv </span>customers_sample.csv ~/Work/26_Data/samples/salesdb/v2025.08/
</code></pre></div>    </div>
  </li>
  <li>ë°˜ë³µ ì“°ë©´ ìŠ¤í¬ë¦½íŠ¸í™” â†’ <code class="language-plaintext highlighter-rouge">80_Tools/scripts/make_sample_salesdb.sh</code>ë¡œ <strong>ìŠ¹ê²©</strong>.</li>
</ul>

<h2 id="5-ì •ì œì •ê·œí™”-íŒŒì´í”„ë¼ì¸">5) ì •ì œ/ì •ê·œí™” íŒŒì´í”„ë¼ì¸</h2>

<ul>
  <li>
    <p>ETL/ì •ì œ ê²°ê³¼ëŠ” <code class="language-plaintext highlighter-rouge">processed/&lt;dataset&gt;/&lt;version&gt;/...</code>ì— ì €ì¥(Parquet ê¶Œì¥).</p>
  </li>
  <li>
    <p>íŒŒë¼ë¯¸í„°/ì½”ë“œ/í™˜ê²½ì€ í•´ë‹¹ Job/Project ìª½ì— ë‚¨ê¸°ê³ , <strong>ê²°ê³¼ë¬¼ë§Œ</strong> processedì—.</p>
  </li>
</ul>

<hr />

<h1 id="ë³´ì•ˆê±°ë²„ë„ŒìŠ¤-ì²´í¬ë¦¬ìŠ¤íŠ¸">ë³´ì•ˆ/ê±°ë²„ë„ŒìŠ¤ ì²´í¬ë¦¬ìŠ¤íŠ¸</h1>

<ul>
  <li>
    <p><strong>PII/ë¯¼ê°ë„ íƒœê¹…</strong> : <code class="language-plaintext highlighter-rouge">manifest.yml</code>ì— <code class="language-plaintext highlighter-rouge">pii_level</code> í•„ìˆ˜.</p>
  </li>
  <li><strong>ì ‘ê·¼ê¶Œí•œ</strong> : ê³ (é«˜) ë¯¼ê°ë„ ìŠ¤ëƒ…ìƒ·ì€ ë””ìŠ¤í¬ ì•”í˜¸í™” ë˜ëŠ” gpgë¡œ íŒŒì¼ ë‹¨ìœ„ ì•”í˜¸í™”:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gpg <span class="nt">-c</span> dump.dump.gz   <span class="c"># ë³µí˜¸í™”ëŠ” gpg dump.dump.gz.gpg</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p><strong>ë³´ì¡´ ì •ì±…</strong> : <code class="language-plaintext highlighter-rouge">raw/</code>ëŠ” Nê°œì›” ë³´ê´€(ì˜ˆ: 12ê°œì›”); <code class="language-plaintext highlighter-rouge">cache/</code>ëŠ” 7~30ì¼ í›„ ì •ë¦¬.</p>
  </li>
  <li><strong>.gitignore</strong> : Work ì „ì²´ë¥¼ gitì— ì˜¬ë¦¬ì§€ ì•Šë”ë¼ë„, <code class="language-plaintext highlighter-rouge">26_Data</code> ë£¨íŠ¸ì— ë³´í˜¸ìš© <code class="language-plaintext highlighter-rouge">.gitignore</code> ê¶Œì¥:
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>*
!registry/
!registry/catalog.csv
!.gitignore
</code></pre></div>    </div>
  </li>
</ul>

<p>(ì˜ë„ì¹˜ ì•Šì€ ì—…ë¡œë“œ ë°©ì§€)</p>

<hr />

<h1 id="25_jobsê°€-ê°€ë²¼ì›Œì§€ëŠ”-ì´ìœ ">25_Jobsê°€ ê°€ë²¼ì›Œì§€ëŠ” ì´ìœ </h1>

<ul>
  <li>
    <p><strong>ëŒ€ìš©ëŸ‰ì€ ì „ë¶€<code class="language-plaintext highlighter-rouge">26_Data</code></strong>: Jobì—ëŠ” <strong>ë§í¬/ê²½ë¡œ/manifestë§Œ</strong>.</p>
  </li>
  <li>
    <p>ì™„ë£Œëœ Jobì„ ì•„ì¹´ì´ë¸Œí•´ë„ ë°ì´í„°ëŠ” ì¤‘ì•™(<code class="language-plaintext highlighter-rouge">26_Data</code>)ì— ë‚¨ì•„ <strong>ì¤‘ë³µ ì €ì¥ ì—†ìŒ</strong>.</p>
  </li>
</ul>

<hr />

<h1 id="todayëŸ°ì²˜-ì—°ê²°ì„ íƒ">Today/ëŸ°ì²˜ ì—°ê²°(ì„ íƒ)</h1>

<p><code class="language-plaintext highlighter-rouge">10_Today/shortcuts.list</code> ë˜ëŠ” <code class="language-plaintext highlighter-rouge">work-run</code> ìë™ ëŸ¬ë„ˆì—ì„œ ìŠ¤ëƒ…ìƒ·Â·ë³µì› ìŠ¤í¬ë¦½íŠ¸ë¥¼ í˜¸ì¶œ:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Snapshot salesdb | 26_Data/raw/db/postgres/salesdb/snapshots | ./../../../../80_Tools/scripts/pg_snapshot_salesdb.sh
Restore salesdb  | 26_Data/raw/db/postgres/salesdb/snapshots/2025/20250826-102000 | ./../../../../80_Tools/scripts/pg_restore_local.sh
</code></pre></div></div>

<hr />

<h2 id="ìš”ì•½-3">ìš”ì•½</h2>

<ul>
  <li>
    <p><strong>ë°ì´í„°ëŠ”<code class="language-plaintext highlighter-rouge">26_Data</code>ë¡œ ì¼ì›í™”</strong>: <code class="language-plaintext highlighter-rouge">raw/</code>(ë¶ˆë³€) Â· <code class="language-plaintext highlighter-rouge">processed/</code> Â· <code class="language-plaintext highlighter-rouge">samples/</code> Â· <code class="language-plaintext highlighter-rouge">cache/</code> Â· <code class="language-plaintext highlighter-rouge">schemas/</code> Â· <code class="language-plaintext highlighter-rouge">registry/</code>.</p>
  </li>
  <li>
    <p><strong>DB ìŠ¤ëƒ…ìƒ·ì€ ì—”ì§„/DB/ì—°ë„/íƒ€ì„ìŠ¤íƒ¬í”„</strong> ì²´ê³„ë¡œ ë³´ê´€ + <code class="language-plaintext highlighter-rouge">manifest.yml</code> + <code class="language-plaintext highlighter-rouge">SHA256SUMS</code>.</p>
  </li>
  <li>
    <p><strong>Job/ProjectëŠ” ê²½ë¡œ ì°¸ì¡°/ì‹¬ë§í¬</strong> ë§Œ ì‚¬ìš© â†’ 25_Jobs ë¹„ëŒ€í™” ë°©ì§€.</p>
  </li>
  <li>
    <p><strong>ë¹„ë°€/í¬ë ˆë´ì…œì€<code class="language-plaintext highlighter-rouge">90_PersonalConfigs/secrets</code></strong>, ì„¤ì • í‘œì¤€ì€ <code class="language-plaintext highlighter-rouge">32_SharedConfigs</code>, ê°œì¸ ì˜¤ë²„ë¼ì´ë“œëŠ” <code class="language-plaintext highlighter-rouge">90_PersonalConfigs</code>.</p>
  </li>
</ul>

<p>ì›í•˜ë©´ Postgres/MySQL ê¸°ì¤€ìœ¼ë¡œ <strong>ìŠ¤ëƒ…ìƒ·/ë³µì› ìŠ¤í¬ë¦½íŠ¸ ë‘ ê°œ(ë¦¬ëˆ…ìŠ¤Â·PowerShellÂ·tcsh)</strong>ì™€ <code class="language-plaintext highlighter-rouge">manifest.yml</code> í…œí”Œë¦¿, ê·¸ë¦¬ê³  <code class="language-plaintext highlighter-rouge">registry/catalog.csv</code> ì´ˆê¸° íŒŒì¼ê¹Œì§€ <strong>ì‹¤ì œ íŒŒì¼</strong> ë¡œ ë§Œë“¤ì–´ì¤„ê²Œ.</p>

<p class="chat--user">

ê·¸ëŸ° dbëŠ” ì•„ë‹ˆê³  dataset (input/output ë“±)ì„ ì €ì¥í•˜ë ¤ê³ 

</p>

<p>êµ¿! <strong>DB ë¤í”„ê°€ ì•„ë‹ˆë¼ â€˜ë°ì´í„°ì…‹(ì…ë ¥/ì¶œë ¥)â€™</strong>ì„ ë³´ê´€í•˜ë ¤ëŠ” ê±°ë¼ë©´, ì½”ë“œëŠ” ê·¸ëŒ€ë¡œ ë‘ê³  <strong>ë°ì´í„°ë§Œ ì¤‘ì•™í™”</strong> í•˜ë©´ ê¹”ë”í•´ìš”. ì•„ë˜ì²˜ëŸ¼ ì •ë¦¬í•˜ë©´ ë©ë‹ˆë‹¤.</p>

<hr />

<h1 id="í•œ-ì¤„-ìš”ì•½">í•œ ì¤„ ìš”ì•½</h1>

<ul>
  <li>
    <p><strong>ì¤‘ì•™ ì €ì¥ì†Œ</strong> : <code class="language-plaintext highlighter-rouge">Work/26_Data/</code></p>
  </li>
  <li>
    <p><strong>ì…ë ¥ ë°ì´í„°ì…‹</strong> : <code class="language-plaintext highlighter-rouge">26_Data/datasets/â€¦</code></p>
  </li>
  <li>
    <p><strong>ê°€ê³µ/ì¶œë ¥ ë°ì´í„°ì…‹</strong>(ì—¬ëŸ¬ Jobì—ì„œ ì¬ì‚¬ìš©í•  ê°€ì¹˜ê°€ ìˆëŠ” ê²°ê³¼): <code class="language-plaintext highlighter-rouge">26_Data/derived/â€¦</code></p>
  </li>
  <li>
    <p><strong>Job/Project</strong> ì—ì„œëŠ” <strong>ê²½ë¡œ ì°¸ì¡° ë˜ëŠ” ì‹¬ë³¼ë¦­ ë§í¬ë§Œ ì‚¬ìš©</strong> (ë³µì‚¬ ê¸ˆì§€)</p>
  </li>
</ul>

<hr />

<h1 id="í´ë”-êµ¬ì¡°ê¶Œì¥">í´ë” êµ¬ì¡°(ê¶Œì¥)</h1>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>26_Data/                                  â† ë°ì´í„° ì „ìš© ë£¨íŠ¸
â”œâ”€ registry/                               â† ì¹´íƒˆë¡œê·¸/ìƒ‰ì¸
â”‚  â”œâ”€ catalog.csv                          â† ë°ì´í„°ì…‹ ëª©ë¡/ë²„ì „/ê²½ë¡œ
â”‚  â””â”€ README.md                            â† ë“±ë¡ ê·œì¹™
â”œâ”€ datasets/                               â† â€œì…ë ¥â€ ë°ì´í„°ì…‹(ì›ë³¸/ì •ì œ)
â”‚  â””â”€ &lt;dataset_name&gt;/
â”‚     â””â”€ vYYYY.MMDD/                       â† ë‚ ì§œ ë²„ì „ ì¶”ì²œ(ë˜ëŠ” semver)
â”‚        â”œâ”€ raw/                           â† ì£¼ë¡œ ì™¸ë¶€ ì›ë³¸(ê°€ê¸‰ì  ë¶ˆë³€)
â”‚        â”œâ”€ interim/                       â† ì¼ì‹œ ì •ì œ(ì¤‘ê°„ë¬¼)
â”‚        â”œâ”€ processed/                     â† ë¶„ì„/ëª¨ë¸ì— íˆ¬ì… ê°€ëŠ¥í•œ ì •ì œë³¸
â”‚        â”œâ”€ samples/                       â† ì†Œìš©ëŸ‰ ì„œë¸Œì…‹(í…ŒìŠ¤íŠ¸/ì˜ˆì œ)
â”‚        â”œâ”€ docs/                          â† README, dataset_card.md
â”‚        â”œâ”€ manifest.yml                   â† ì¶œì²˜/ë¼ì´ì„ ìŠ¤/ì²´í¬ì„¬ ë“± ë©”íƒ€
â”‚        â””â”€ SHA256SUMS                     â† ë¬´ê²°ì„±
â”œâ”€ derived/                                â† â€œì¶œë ¥/ê°€ê³µ ê²°ê³¼â€ ë°ì´í„°ì…‹(ì¬ì‚¬ìš© ê°€ì¹˜ ìˆìŒ)
â”‚  â””â”€ &lt;artifact_name&gt;/
â”‚     â””â”€ vYYYY.MMDD/
â”‚        â”œâ”€ data/                          â† ê²°ê³¼ë¬¼(ì˜ˆ: parquet/csv/images)
â”‚        â”œâ”€ metrics/                       â† ì ìˆ˜/ë¦¬í¬íŠ¸/ì§€í‘œ
â”‚        â”œâ”€ docs/
â”‚        â”œâ”€ manifest.yml
â”‚        â””â”€ SHA256SUMS
â””â”€ cache/                                  â† ì–¸ì œ ì§€ì›Œë„ ë˜ëŠ” ìºì‹œ(ì†ë„ìš©)
</code></pre></div></div>

<blockquote>
  <p><strong>ì˜ë¯¸</strong></p>

  <ul>
    <li>
      <p><code class="language-plaintext highlighter-rouge">datasets/</code> = ì…ë ¥ ì¸¡ â€œê³µê¸‰ì›â€ ì €ì¥ì†Œ</p>
    </li>
    <li>
      <p><code class="language-plaintext highlighter-rouge">derived/</code> = ì—¬ëŸ¬ Jobì—ì„œ ì¬ì‚¬ìš©í•  <strong>ê²°ê³¼ë¬¼</strong> ì €ì¥ì†Œ(â€œì¶œë ¥ ë°ì´í„°ì…‹â€ ìŠ¹ê²©ë³¸)</p>
    </li>
    <li>
      <p>Job ì•ˆì˜ <code class="language-plaintext highlighter-rouge">06_Export</code>ëŠ” <strong>ì „ë‹¬ë³¸</strong> ì´ê³ , ì¥ê¸° ì¬ì‚¬ìš© ê°€ì¹˜ê°€ ìƒê¸°ë©´ <code class="language-plaintext highlighter-rouge">derived/</code>ë¡œ ìŠ¹ê²©</p>
    </li>
  </ul>

</blockquote>

<hr />

<h1 id="ë„¤ì´ë°--ë©”íƒ€ì§§ê²Œ">ë„¤ì´ë° &amp; ë©”íƒ€(ì§§ê²Œ)</h1>

<ul>
  <li>
    <p><strong>ë²„ì „</strong> : <code class="language-plaintext highlighter-rouge">vYYYY.MMDD</code> (ì˜ˆ: <code class="language-plaintext highlighter-rouge">v2025.0825</code>) ê¶Œì¥. ë°”ê¾¸ë©´ <code class="language-plaintext highlighter-rouge">manifest.yml</code>ì— ì´ìœ  ê¸°ë¡.</p>
  </li>
  <li>
    <p><strong>íŒŒì¼ í˜•ì‹</strong> : ê°€ëŠ¥í•˜ë©´ <strong>Parquet</strong>(ì—´ ì§€í–¥, ìŠ¤í‚¤ë§ˆ/ì••ì¶• ìœ ë¦¬), ê·¸ ì™¸ CSV/JSON.</p>
  </li>
  <li><strong>manifest.yml ì˜ˆì‹œ</strong>
    <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">name</span><span class="pi">:</span> <span class="s">ad_events</span>
<span class="na">version</span><span class="pi">:</span> <span class="s">v2025.0826</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">dataset</span>            <span class="c1"># or derived</span>
<span class="na">license</span><span class="pi">:</span> <span class="s">internal</span>
<span class="na">source</span><span class="pi">:</span> <span class="s2">"</span><span class="s">ad_platform</span><span class="nv"> </span><span class="s">export</span><span class="nv"> </span><span class="s">API"</span>
<span class="na">schema</span><span class="pi">:</span> <span class="pi">{</span><span class="nv">rows</span><span class="pi">:</span> <span class="nv">5_021_113</span><span class="pi">,</span> <span class="nv">format</span><span class="pi">:</span> <span class="nv">parquet</span><span class="pi">}</span>
<span class="na">pii_level</span><span class="pi">:</span> <span class="s">low</span>           <span class="c1"># none/low/medium/high</span>
<span class="na">checksum</span><span class="pi">:</span>
  <span class="na">processed/events.parquet</span><span class="pi">:</span> <span class="s2">"</span><span class="s">ab12...ef"</span>
<span class="na">notes</span><span class="pi">:</span> <span class="s2">"</span><span class="s">tz</span><span class="nv"> </span><span class="s">normalized</span><span class="nv"> </span><span class="s">to</span><span class="nv"> </span><span class="s">UTC,</span><span class="nv"> </span><span class="s">invalid</span><span class="nv"> </span><span class="s">rows</span><span class="nv"> </span><span class="s">dropped"</span>
</code></pre></div>    </div>
  </li>
  <li><strong>dataset_card.md</strong> : ìš©ë„/ì „ì²˜ë¦¬/ì—´ ì„¤ëª…/ì˜ˆì‹œ ì¿¼ë¦¬ 1~2ê°œë§Œ.</li>
</ul>

<hr />

<h1 id="jobprojectì—ì„œ-ì“°ëŠ”-ë²•ë³µì‚¬-ê¸ˆì§€-ë§í¬ê²½ë¡œ-ì°¸ì¡°">Job/Projectì—ì„œ ì“°ëŠ” ë²•(ë³µì‚¬ ê¸ˆì§€! ë§í¬/ê²½ë¡œ ì°¸ì¡°)</h1>

<h3 id="ì‹¬ë³¼ë¦­-ë§í¬ë§¥ë¦¬ëˆ…ìŠ¤">ì‹¬ë³¼ë¦­ ë§í¬(ë§¥/ë¦¬ëˆ…ìŠ¤)</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">ln</span> <span class="nt">-s</span> ~/Work/26_Data/datasets/ad_events/v2025.0826/processed <span class="se">\</span>
      ~/Work/25_Jobs/JOB-2025-041_report/02_Input/raw/ad_events
</code></pre></div></div>

<h3 id="powershellìœˆë„ìš°-ë””ë ‰í„°ë¦¬-ë§í¬">PowerShell(ìœˆë„ìš°, ë””ë ‰í„°ë¦¬ ë§í¬)</h3>
<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">cmd</span><span class="w"> </span><span class="nx">/c</span><span class="w"> </span><span class="nx">mklink</span><span class="w"> </span><span class="nx">/D</span><span class="w"> </span><span class="err">^</span><span class="w">
  </span><span class="s2">"%USERPROFILE%\Work\25_Jobs\JOB-2025-041_report\02_Input\raw\ad_events"</span><span class="w"> </span><span class="err">^</span><span class="w">
  </span><span class="s2">"%USERPROFILE%\Work\26_Data\datasets\ad_events\v2025.0826\processed"</span><span class="w">
</span></code></pre></div></div>

<h3 id="job-ì„¤ì •ì—-ê²½ë¡œ-ê¸°ì…">Job ì„¤ì •ì— ê²½ë¡œ ê¸°ì…</h3>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># 25_Jobs/.../03_Config/params.yml</span>
<span class="na">inputs</span><span class="pi">:</span>
  <span class="na">ad_events_dir</span><span class="pi">:</span> <span class="s2">"</span><span class="s">../../../26_Data/datasets/ad_events/v2025.0826/processed"</span>
</code></pre></div></div>

<hr />

<h1 id="ì›Œí¬í”Œë¡œìš°ê°„ë‹¨">ì›Œí¬í”Œë¡œìš°(ê°„ë‹¨)</h1>

<h2 id="a-ìƒˆ-ì…ë ¥-ë°ì´í„°ì…‹-ì¶”ê°€">A) ìƒˆ â€œì…ë ¥â€ ë°ì´í„°ì…‹ ì¶”ê°€</h2>

<ol>
  <li>
    <p><code class="language-plaintext highlighter-rouge">26_Data/datasets/&lt;name&gt;/vYYYY.MMDD/</code> ìƒì„±</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">raw/</code>ì— ì›ë³¸ ë°°ì¹˜ â†’ í•„ìš” ì‹œ <code class="language-plaintext highlighter-rouge">interim/</code>â†’<code class="language-plaintext highlighter-rouge">processed/</code> ì •ì œ</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">manifest.yml</code>/<code class="language-plaintext highlighter-rouge">dataset_card.md</code>/<code class="language-plaintext highlighter-rouge">SHA256SUMS</code> ì‘ì„±</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">registry/catalog.csv</code>ì— í•œ ì¤„ ë“±ë¡</p>
  </li>
</ol>

<h2 id="b-jobì—ì„œ-ì‚¬ìš©">B) Jobì—ì„œ ì‚¬ìš©</h2>

<ol>
  <li>
    <p>ì‹¬ë§í¬ or <code class="language-plaintext highlighter-rouge">params.yml</code>ì— ì ˆëŒ€/ìƒëŒ€ ê²½ë¡œ ì§€ì •</p>
  </li>
  <li>
    <p>ì‹¤í–‰ ì‹œ <strong>ì…ë ¥ë²„ì „</strong> ì„ ë§¤ë‹ˆí˜ìŠ¤íŠ¸ì— ê¸°ë¡(ì¬í˜„ì„±)</p>
  </li>
</ol>

<h2 id="c-job-ì¶œë ¥ì„-ì¬ì‚¬ìš©-ë°ì´í„°ì…‹ìœ¼ë¡œ-ìŠ¹ê²©">C) Job â€œì¶œë ¥â€ì„ ì¬ì‚¬ìš© ë°ì´í„°ì…‹ìœ¼ë¡œ ìŠ¹ê²©</h2>

<ol>
  <li>
    <p>Jobì˜ <code class="language-plaintext highlighter-rouge">06_Export</code> ê²°ê³¼ ì¤‘ <strong>ì¼ë°˜í™”ëœ ì‚°ì¶œë¬¼</strong> ë§Œ ì¶”ë ¤</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">26_Data/derived/&lt;artifact&gt;/vYYYY.MMDD/</code>ì— ë°°ì¹˜</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">manifest.yml</code>ê³¼ ì§€í‘œ(<code class="language-plaintext highlighter-rouge">metrics/</code>) ì‘ì„± â†’ <code class="language-plaintext highlighter-rouge">catalog.csv</code> ë“±ë¡</p>
  </li>
</ol>

<h2 id="d-ì •ë¦¬ì²­ì†Œ">D) ì •ë¦¬/ì²­ì†Œ</h2>

<ul>
  <li>
    <p>60~90ì¼ ì§€ë‚œ <code class="language-plaintext highlighter-rouge">interim/</code>, ëŒ€ìš©ëŸ‰ CSVëŠ” <strong>ì••ì¶• ë˜ëŠ” ì‚­ì œ</strong>(hash/ë¡œê·¸ë§Œ ë³´ì¡´)</p>
  </li>
  <li>
    <p><strong>cache/</strong>ëŠ” ì–¸ì œë“  ì‚­ì œ ê°€ëŠ¥</p>
  </li>
</ul>

<hr />

<h1 id="do--dont-1">Do / Donâ€™t</h1>

<ul>
  <li>
    <p>âœ… <strong>ì¤‘ì•™í™”</strong> : ì…ë ¥/ì¶œë ¥ ë°ì´í„°ì…‹ì€ <strong>26_Data</strong> ì—ë§Œ, Job/ProjectëŠ” ë§í¬/ê²½ë¡œë§Œ</p>
  </li>
  <li>
    <p>âœ… <strong>ë²„ì „ ê³ ì •</strong> : Job ë§¤ë‹ˆí˜ìŠ¤íŠ¸ì— <strong>dataset ë²„ì „</strong> ì„ ë°•ì•„ë‘ê¸°</p>
  </li>
  <li>
    <p>âœ… <strong>ì‘ì€ ìƒ˜í”Œ</strong> : <code class="language-plaintext highlighter-rouge">samples/</code>ë¥¼ ë§Œë“¤ì–´ í…ŒìŠ¤íŠ¸/ì˜ˆì œì— í™œìš©</p>
  </li>
  <li>
    <p>âŒ <strong>ë³µì‚¬ë³¸ ë‚¨ê¸°ê¸°</strong> : Job ì•ˆì— ì›ë³¸ ë°ì´í„°ë¥¼ ë³µì œí•´ì„œ ìŒ“ì§€ ì•Šê¸°</p>
  </li>
  <li>
    <p>âŒ <strong>ë¹„ë°€ ë„£ê¸°</strong> : ìê²©ì¦ëª…/í† í°ì€ <code class="language-plaintext highlighter-rouge">90_PersonalConfigs/secrets/</code>ì—ë§Œ</p>
  </li>
</ul>

<hr />

<p>ì›í•˜ë©´ <strong>ì´ˆê¸° ìŠ¤ìºí´ë“œ(í´ë”/manifest í…œí”Œë¦¿/csv ì¹´íƒˆë¡œê·¸)</strong>ì™€<br />
<code class="language-plaintext highlighter-rouge">symlink</code>/<code class="language-plaintext highlighter-rouge">catalog ë“±ë¡</code>ì„ ìë™ìœ¼ë¡œ í•´ì£¼ëŠ” ê°„ë‹¨ ìŠ¤í¬ë¦½íŠ¸(bashÂ·PowerShellÂ·tcsh)ë„ ë°”ë¡œ ë§Œë“¤ì–´ ì¤„ê²Œ.</p>

<p class="chat--user">

ë²ˆí˜¸ëŠ” 26ë²ˆ ê´œì°®ì•„?

</p>

<p>ì§§ì€ ê²°ë¡ : <strong>ë„¤, 26ë²ˆ ì•„ì£¼ ê´œì°®ì•„ìš”.</strong><br />
ì§€ê¸ˆ ì“°ëŠ” ë²ˆí˜¸ ì²´ê³„(20=Projects, 25=Jobs, 30ëŒ€=ìš´ì˜/í•™ìŠµ, 40=ë ˆí¼ëŸ°ìŠ¤â€¦)ì—ì„œ <strong>ë°ì´í„°ì…‹ì€ Jobsë³´ë‹¤ ì‚´ì§ ë’¤</strong> ì— ë‘ë©´ â€œì½”ë“œâ†’ì‹¤í–‰â†’ë°ì´í„° ìì‚°â€ íë¦„ì´ ìì—°ìŠ¤ëŸ½ê³ , 26ì€ ê·¸ ëª©ì ì— ë”± ë§ìŠµë‹ˆë‹¤.</p>

<hr />

<h2 id="ì™œ-26ì¸ê°€-step-by-step">ì™œ 26ì¸ê°€ (step-by-step)</h2>

<ol>
  <li>
    <p><strong>ì‹œê°ì  ê·¸ë£¹í™”</strong> :<br />
<code class="language-plaintext highlighter-rouge">20_Projects â†’ 25_Jobs â†’ 26_(Data|Datasets) â†’ 30_Areas</code><br />
= ì½”ë“œ â†’ ì‹¤í–‰ â†’ <strong>ë°ì´í„° ìì‚°(ê³µìœ  ì…ë ¥/ì¶œë ¥)</strong> â†’ ì¥ê¸° ìš´ì˜ ìˆœì„œë¡œ ì •ë ¬.</p>
  </li>
  <li>
    <p><strong>ê·¼ì ‘ì„±</strong> :<br />
Jobì´ ì“°ëŠ” ì…ë ¥/ì¶œë ¥ ê²½ë¡œë¥¼ <strong>í•œ ë‹¨ê³„ ì˜†(25â†”26)</strong> ì— ë‘ë©´ ê²½ë¡œ ì°¸ì¡°/ì‹¬ë³¼ë¦­ ë§í¬ê°€ ì§§ê³  ê´€ë¦¬ê°€ ì‰¬ì›€.</p>
  </li>
  <li>
    <p><strong>í™•ì¥ ì—¬ì§€</strong> :<br />
27~29 ë¹„ì›Œë‘¬ì„œ, ë‚˜ì¤‘ì— <code class="language-plaintext highlighter-rouge">27_ModelStore</code>, <code class="language-plaintext highlighter-rouge">28_FeatureStore</code> ê°™ì€ í™•ì¥ë„ ìì—°ìŠ¤ëŸ½ê²Œ ë¼ì›Œ ë„£ê¸° ê°€ëŠ¥.</p>
  </li>
</ol>

<hr />

<h2 id="ì´ë¦„ì€-26_data-vs-26_datasets-ì¤‘-íƒ1">ì´ë¦„ì€ <code class="language-plaintext highlighter-rouge">26_Data</code> vs <code class="language-plaintext highlighter-rouge">26_Datasets</code> ì¤‘ íƒ1</h2>

<ul>
  <li>
    <p><strong>26_Datasets</strong> : â€œì…ë ¥/ì¶œë ¥ ë°ì´í„°ì…‹â€ì— ì´ˆì (ë‹¹ì‹  ëª©ì ì— ê°€ì¥ ëª…í™•)</p>
  </li>
  <li>
    <p><strong>26_Data</strong> : DB ë¤í”„Â·ì›ì²œ íŒŒì¼Â·ìºì‹œê¹Œì§€ <strong>ë„“ê²Œ</strong> í¬í•¨í•  ë•Œ</p>
  </li>
</ul>

<blockquote>
  <p>ì§€ê¸ˆ ëŒ€í™” ë§¥ë½ìƒ <strong><code class="language-plaintext highlighter-rouge">26_Datasets</code></strong> ì¶”ì²œ. (ì›í•˜ë©´ <code class="language-plaintext highlighter-rouge">datasets/derived/cache/registry</code> í•˜ìœ„ ê·¸ëŒ€ë¡œ ìœ ì§€)</p>
</blockquote>

<p>ì˜ˆì‹œ:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>26_Datasets/
  registry/         # ì¹´íƒˆë¡œê·¸
  datasets/         # ì…ë ¥ ë°ì´í„°ì…‹(ë²„ì „ë³„: vYYYY.MMDD)
  derived/          # ì—¬ëŸ¬ Jobì—ì„œ ì¬ì‚¬ìš©í•  ì¶œë ¥ ë°ì´í„°ì…‹(ìŠ¹ê²©ë³¸)
  cache/            # ì‚­ì œ ê°€ëŠ¥ ìºì‹œ
</code></pre></div></div>

<hr />

<h2 id="ì´ë¯¸-ë§Œë“¤ì–´-ë‘”-êµ¬ì¡°ì™€ì˜-ì—°ê²°-ê·œì¹™ìš”ì•½">ì´ë¯¸ ë§Œë“¤ì–´ ë‘” êµ¬ì¡°ì™€ì˜ ì—°ê²° ê·œì¹™(ìš”ì•½)</h2>

<ul>
  <li>
    <p><strong>Job/Projectì—ëŠ” ë³µì‚¬ ê¸ˆì§€</strong> â†’ <strong>ì‹¬ë³¼ë¦­ ë§í¬/ê²½ë¡œë§Œ</strong> ì°¸ì¡°</p>
  </li>
  <li>
    <p>Job ë§¤ë‹ˆí˜ìŠ¤íŠ¸ì— <strong>dataset ë²„ì „</strong> ê¸°ë¡(ì¬í˜„ì„±)</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">06_Export</code>ì˜ ê²°ê³¼ ì¤‘ â€œì¬ì‚¬ìš© ê°€ì¹˜â€ ìˆëŠ” ê±´ <code class="language-plaintext highlighter-rouge">26_Datasets/derived</code>ë¡œ <strong>ìŠ¹ê²©</strong></p>
  </li>
</ul>

<hr />

<h2 id="ë°”ê¾¸ê³ -ì‹¶ì„-ë•Œì•ˆì „-ë¦¬ë„¤ì„">ë°”ê¾¸ê³  ì‹¶ì„ ë•Œ(ì•ˆì „ ë¦¬ë„¤ì„)</h2>

<p>bash/zsh:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> ~/Work
<span class="nb">mv </span>26_Data 26_Datasets 2&gt;/dev/null <span class="o">||</span> <span class="nb">true
sed</span> <span class="nt">-i</span> <span class="s1">''</span> <span class="s1">'s#/26_Data/#/26_Datasets/#g'</span> 10_Today/shortcuts.list 2&gt;/dev/null <span class="o">||</span> <span class="nb">true</span>
</code></pre></div></div>

<p>PowerShell:</p>
<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Rename-Item</span><span class="w"> </span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work\26_Data"</span><span class="w"> </span><span class="s2">"26_Datasets"</span><span class="w"> </span><span class="nt">-ErrorAction</span><span class="w"> </span><span class="nx">SilentlyContinue</span><span class="w">
</span><span class="p">(</span><span class="n">Get-Content</span><span class="w"> </span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work\10_Today\shortcuts.list"</span><span class="p">)</span><span class="w"> </span><span class="o">-replace</span><span class="w"> </span><span class="s1">'/26_Data/'</span><span class="p">,</span><span class="s1">'/26_Datasets/'</span><span class="w"> </span><span class="o">|</span><span class="w">
  </span><span class="n">Set-Content</span><span class="w"> </span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work\10_Today\shortcuts.list"</span><span class="w">
</span></code></pre></div></div>

<hr />

<h2 id="ìµœì¢…-ì¶”ì²œ-í•œ-ì¤„">ìµœì¢… ì¶”ì²œ í•œ ì¤„</h2>

<ul>
  <li><strong>ë²ˆí˜¸ëŠ” 26 ìœ ì§€</strong> , ì´ë¦„ì€ <strong><code class="language-plaintext highlighter-rouge">26_Datasets</code></strong>ë¡œ ëª…í™•ì„±â†‘ â€” ì§€ê¸ˆ ì“°ëŠ” ì›Œí¬í”Œë¡œ(25_Jobs, 75_Releases, 32_SharedConfigs, 90_PersonalConfigs)ì™€ë„ ì •ë ¬ì´ ì•„ì£¼ ì˜ ë§ìŠµë‹ˆë‹¤.</li>
</ul>

<p class="chat--user">

ì „ì²´ êµ¬ì¡°ë¥¼ ë§ˆì§€ë§‰ìœ¼ë¡œ í•œ ë²ˆ ë§Œë“¤ì–´ì¤˜(ë„ì–´ì“°ê¸° ëŒ€ì‹ ì— í´ë” ì„ ì„ ì´ìš©í•´ì„œ í‘œí˜„í•´ì¤¬ìœ¼ë©´ ì¢‹ê² ì–´, í´ë”ëª…ì€ ì˜ì–´, ì„¤ëª…ì€ í•œê¸€ë¡œ). ê·¸ë¦¬ê³  ì‚¬ìš© ì‹œ ì£¼ìš” ì£¼ì˜ì ë„ ë°‘ì— ì¨ì¤˜.

</p>

<p>ì•„ë˜ íŠ¸ë¦¬ë¥¼ ê·¸ëŒ€ë¡œ ë³µë¶™í•´ì„œ ë¬¸ì„œì— ì“°ë©´ ë¼ìš”.<br />
(ì¢Œì¸¡ì€ <strong>í´ë”ëª…(ì˜ë¬¸)</strong> , <code class="language-plaintext highlighter-rouge">-</code> ì˜¤ë¥¸ìª½ì€ <strong>ì„¤ëª…(í•œê¸€)</strong> ì…ë‹ˆë‹¤. í•˜ìœ„ ì˜ˆì‹œë„ ë„£ì—ˆì–´ìš”.)</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Work/                                           - 1ì¸ ê°œë°œìš© ì‘ì—… ë£¨íŠ¸
â”œâ”€ 00_Inbox/                                    - ê¸‰íˆ ë˜ì ¸ë‘ëŠ” ì„ì‹œí•¨(ë§¤ì¼/ì£¼ê¸°ì  ë¹„ìš°ê¸°)
â”œâ”€ 10_Today/                                    - ì˜¤ëŠ˜ ì‘ì—… ëŒ€ì‹œë³´ë“œ(ì½˜ì†” ì‹¤í–‰ ì¶œë°œì )
â”‚  â”œâ”€ shortcuts.list                             - today ëŸ°ì²˜ê°€ ì½ëŠ” "ë¼ë²¨ | ê²½ë¡œ | ëª…ë ¹" ëª©ë¡
â”‚  â””â”€ wrappers/                                  - íŒŒì´í”„/ë³µì¡ ì¸ììš© ì„ì‹œ ë˜í¼ ìŠ¤í¬ë¦½íŠ¸(ë‹¨ê¸° ë³´ê´€)
â”œâ”€ 20_Projects/                                 - íˆ´(íŒŒì´ì¬ íŒ¨í‚¤ì§€) ê°œë°œ(ì½”ë“œ ìˆ˜ëª… ì¤‘ì‹¬)
â”‚  â””â”€ PRJ-YYYY-NNN_name/                         - ê°œë³„ í”„ë¡œì íŠ¸(ì˜ˆ: PRJ-2025-001_sample_app)
â”‚     â”œâ”€ src/&lt;package_name&gt;/                     - íŒ¨í‚¤ì§€ ì†ŒìŠ¤(ì˜ˆ: sample_app/)
â”‚     â”œâ”€ tests/                                  - pytest í…ŒìŠ¤íŠ¸
â”‚     â”œâ”€ scripts/                                - install/run/build/lint/test ìŠ¤í¬ë¦½íŠ¸(.sh/.ps1)
â”‚     â”œâ”€ examples/{data,scripts,docs}/           - ë°°í¬ìš© ìµœì†Œ ì‹¤í–‰ ì˜ˆì œ
â”‚     â”œâ”€ issues/BUG-YYYY-NNN/                    - ë²„ê·¸/ê°œì„  ì´ìŠˆ ë…¸íŠ¸
â”‚     â”œâ”€ docs/                                   - ì„¤ê³„Â·ADRÂ·ê°€ì´ë“œ
â”‚     â”œâ”€ .devcontainer/                          - ê°œë°œ ì»¨í…Œì´ë„ˆ ì„¤ì •
â”‚     â””â”€ pyproject.toml, README.md, .gitignore, .editorconfig
â”œâ”€ 25_Jobs/                                     - â€œì‚°ì¶œë¬¼ ì‘ì—… ë‹¨ìœ„â€(í”„ë¡œì„¸ìŠ¤ ìˆ˜ëª… ì¤‘ì‹¬)
â”‚  â”œâ”€ _active/                                   - ì§„í–‰ ì¤‘ ì‘ì—…(ìµœëŒ€ 12ê°œ ìœ ì§€)
â”‚  â”œâ”€ _templates/                                - ë³µì œìš© ìŠ¤ìºí´ë“œ(JOB/BUG/SMOKE/LAB/EX/REL)
â”‚  â”œâ”€ JOB/                                       - ì¼ë°˜ ì‚°ì¶œ ì‘ì—…(ì—°ë„ë³„ ë³´ê´€)
â”‚  â”‚  â””â”€ 2025/
â”‚  â”œâ”€ BUG/                                       - ë°°í¬ ë²„ê·¸ ì¬í˜„/ì¦ê±°/ê²€ì¦
â”‚  â”‚  â””â”€ 2025/
â”‚  â”œâ”€ SMOKE/                                     - ìƒˆ íˆ´ ìŠ¤ëª¨í¬/feasibility
â”‚  â”‚  â””â”€ 2025/
â”‚  â”œâ”€ LAB/                                       - ì¬í˜„í˜• êµìœ¡ ì‹¤ìŠµ
â”‚  â”‚  â””â”€ 2025/
â”‚  â”œâ”€ EX/                                        - ë°°í¬ ì˜ˆì œ íŒ¨í‚¤ì§•
â”‚  â”‚  â””â”€ 2025/
â”‚  â””â”€ REL/                                       - ë¦´ë¦¬ìŠ¤ ì¤€ë¹„/ê²€ì¦(Job í˜•íƒœ)
â”‚     â””â”€ 2025/
â”œâ”€ 26_Datasets/                                 - ë°ì´í„°ì…‹ ì¤‘ì•™ ì €ì¥ì†Œ(ì…ë ¥/ì¶œë ¥ ìì‚°)
â”‚  â”œâ”€ registry/                                   - ì¹´íƒˆë¡œê·¸(ìƒ‰ì¸)
â”‚  â”‚  â”œâ”€ catalog.csv                              - ë°ì´í„°ì…‹ ëª©ë¡/ë²„ì „/ê²½ë¡œ
â”‚  â”‚  â””â”€ README.md                                - ë“±ë¡ ê·œì¹™
â”‚  â”œâ”€ datasets/                                   - â€œì…ë ¥â€ ë°ì´í„°ì…‹(ì›ë³¸/ì •ì œ)
â”‚  â”‚  â””â”€ &lt;dataset_name&gt;/vYYYY.MMDD/               - ë‚ ì§œ ë²„ì „ ê¶Œì¥(ì˜ˆ: v2025.0826)
â”‚  â”‚     â”œâ”€ raw/                                  - ì™¸ë¶€ ì›ë³¸(ë¶ˆë³€ ì·¨ê¸‰)
â”‚  â”‚     â”œâ”€ interim/                              - ì¼ì‹œ ì •ì œ(ì¤‘ê°„ë¬¼)
â”‚  â”‚     â”œâ”€ processed/                            - ë¶„ì„/ëª¨ë¸ íˆ¬ì…ìš© ì •ì œë³¸
â”‚  â”‚     â”œâ”€ samples/                              - ì†Œìš©ëŸ‰ ì„œë¸Œì…‹(í…ŒìŠ¤íŠ¸/ì˜ˆì œ)
â”‚  â”‚     â”œâ”€ docs/                                 - README, dataset_card.md
â”‚  â”‚     â”œâ”€ manifest.yml                          - ì¶œì²˜/ìŠ¤í‚¤ë§ˆ/ì²´í¬ì„¬/ë¼ì´ì„ ìŠ¤
â”‚  â”‚     â””â”€ SHA256SUMS                            - ë¬´ê²°ì„± ì²´í¬ì„¬
â”‚  â”œâ”€ derived/                                    - ì¬ì‚¬ìš© ê°€ì¹˜ ìˆëŠ” â€œì¶œë ¥â€ ë°ì´í„°ì…‹(ìŠ¹ê²©ë³¸)
â”‚  â”‚  â””â”€ &lt;artifact_name&gt;/vYYYY.MMDD/
â”‚  â”‚     â”œâ”€ data/                                 - ê²°ê³¼ë¬¼(ì˜ˆ: parquet/csv/images)
â”‚  â”‚     â”œâ”€ metrics/                              - ì ìˆ˜Â·ì§€í‘œÂ·ë¦¬í¬íŠ¸
â”‚  â”‚     â”œâ”€ docs/, manifest.yml, SHA256SUMS
â”‚  â””â”€ cache/                                      - ì–¸ì œ ì§€ì›Œë„ ë˜ëŠ” ìºì‹œ
â”œâ”€ 30_Areas/                                    - ì¥ê¸° ìš´ì˜ ì˜ì—­(ì§€ì† ì—…ë¬´)
â”‚  â”œâ”€ worklog/YYYY/YY-MM/DATE.md                 - ì¼ì¼/ì£¼ê°„ 5ì¤„ ë¡œê·¸
â”‚  â”œâ”€ environments/                               - ê³µí†µ í™˜ê²½ ì „ëµ(ì˜ˆ: íŒŒì´ì¬ ë²„ì „ ì •ì±…)
â”‚  â””â”€ knowledge_base/{tips,cheatsheets,howtos}/   - ì¶•ì  ì§€ì‹: íŒ/ì¹˜íŠ¸ì‹œíŠ¸/ê°€ì´ë“œ
â”œâ”€ 31_Labs/                                     - ì‹¤í—˜ì‹¤(ì§§ì€ ì‹¤ìŠµ/í”„ë¡œí† íƒ€ì…; ì¬í˜„ ë¶ˆí•„ìš”)
â”‚  â””â”€ jupyter/                                   - ìŠ¤í¬ë˜ì¹˜ ë…¸íŠ¸ë¶(ì˜ˆ: regex_scratch.ipynb)
â”œâ”€ 32_SharedConfigs/                            - ê³µìœ /ê³¨ë“  ì„¤ì •(ë¬¸ì„œí™”Â·ì¬ì‚¬ìš©)
â”‚  â”œâ”€ global/{vscode,ruff,pytest,pyinstaller,pyside6,jupyter}/
â”‚  â””â”€ projects/&lt;project_slug&gt;/                   - íŠ¹ì • í”„ë¡œì íŠ¸ ê¸°ë³¸ì„¤ì •
â”œâ”€ 40_Resources/                                - ì°¸ê³  ìë£Œ(êµìœ¡/ë§¤ë‰´ì–¼/ìŠ¤í™â€”ì„¤ì • ì œì™¸)
â”‚  â”œâ”€ edu/{courses,tutorials,papers/{to_read,reading_notes,summaries}}/
â”‚  â”œâ”€ manuals/&lt;vendor&gt;/&lt;product&gt;/&lt;version&gt;/      - ë§¤ë‰´ì–¼/ê°€ì´ë“œ(PDF/HTML/MD)
â”‚  â””â”€ reference/                                 - í‘œì¤€/ìŠ¤í™ ë¬¸ì„œ ë“± ì½ì„ê±°ë¦¬
â”œâ”€ 50_Snippets/{sql,text,bash}/                 - ì¬ì‚¬ìš© ì½”ë“œ/ë¬¸êµ¬ ì¡°ê°(ì§§ì€ ì˜ˆì œÂ·ì›ë¼ì´ë„ˆ)
â”œâ”€ 60_Assets/                                   - ë¡œê³ /í°íŠ¸/í…œí”Œë¦¿ ë“± ë¸Œëœë”© ë¦¬ì†ŒìŠ¤
â”œâ”€ 70_Exports/                                  - ì—¬ëŸ¬ Jobì˜ â€œìµœì¢… ì „ë‹¬ë³¸â€ ëª¨ì•„ë³´ê¸°(ì„ íƒ)
â”œâ”€ 75_Releases/                                 - ìœ ì € ë°°í¬ ì „ìš©(ë²„ì „ë“œ)
â”‚  â””â”€ &lt;project_slug&gt;/
â”‚     â”œâ”€ vX.Y.Z/{installers,wheels,portable,docs,licenses,checksums,ReleaseNotes.md}
â”‚     â””â”€ latest/                                - ìµœì‹  ë²„ì „ í¬ì¸í„°
â”œâ”€ 80_Tools/                                    - ì„¤ì¹˜íŒŒì¼/í¬í„°ë¸”/ìë™í™” ìŠ¤í¬ë¦½íŠ¸
â”‚  â”œâ”€ installers/                                - ì˜¤í”„ë¼ì¸ ì„¤ì¹˜ + install_notes.md(ë²„ì „Â·ì²´í¬ì„¬)
â”‚  â”œâ”€ bin/                                       - í¬í„°ë¸” ì‹¤í–‰íŒŒì¼(PATH ì¶”ê°€ ê°€ëŠ¥)
â”‚  â”œâ”€ scripts/                                   - bootstrap/release/checksum ë“± ê³µìš© ìŠ¤í¬ë¦½íŠ¸
â”‚  â””â”€ devcontainer/                              - ê°œë°œ ì»¨í…Œì´ë„ˆ ë„êµ¬
â”œâ”€ 85_Environments/                             - ì¬í˜„ ê°€ëŠ¥í•œ ê°œë°œ í™˜ê²½ ìƒ˜í”Œ
â”‚  â”œâ”€ conda/environment.yml
â”‚  â”œâ”€ venv/README.md
â”‚  â””â”€ docker/Dockerfile
â”œâ”€ 90_PersonalConfigs/                          - ê°œì¸ ì„¤ì •(ì˜¤ë²„ë¼ì´ë“œÂ·ë¹„ê³µê°œ)
â”‚  â”œâ”€ os/{mac,win,linux}/                        - OSë³„ ì„¤ì •(í‚¤ë§µ/ì…ë ¥ê¸° ë“±)
â”‚  â”œâ”€ shell/{bash,zsh,tcsh,powershell}/          - í”„ë¡œí•„Â·ë³„ì¹­
â”‚  â”œâ”€ editors/vscode/{settings.user.json,keybindings.user.json}
â”‚  â”œâ”€ git/.gitconfig.local
â”‚  â”œâ”€ python/{pip.conf,poetry.toml,pypirc}
â”‚  â”œâ”€ tools/                                     - ê° íˆ´ ê°œì¸ í”„ë¦¬ì…‹
â”‚  â”œâ”€ secrets/README.md                          - (ì‹¤ì œ ë¹„ë°€ì€ ë‘ì§€ ë§ ê²ƒ)
â”‚  â””â”€ .gitignore                                 - *.local, secrets/*, *.pem ë“± ë„“ê²Œ ì œì™¸
â””â”€ 99_Archive/                                  - ì™„ë£Œ Project/Job/ìë£Œ ì¥ê¸° ë³´ê´€(ì½ê¸° ì „ìš©)
</code></pre></div></div>

<hr />

<h2 id="ì‚¬ìš©-ì‹œ-ì£¼ìš”-ì£¼ì˜ì -í•µì‹¬-ì²´í¬ë¦¬ìŠ¤íŠ¸">ì‚¬ìš© ì‹œ ì£¼ìš” ì£¼ì˜ì  (í•µì‹¬ ì²´í¬ë¦¬ìŠ¤íŠ¸)</h2>

<ol>
  <li>
    <p><strong>ë‹¨ì¼ ì •ë³¸ ì›ì¹™</strong></p>

    <ul>
      <li>
        <p>ì½”ë“œ ì •ë³¸ì€ <code class="language-plaintext highlighter-rouge">20_Projects/</code>, ì‚°ì¶œ íŒŒì´í”„ë¼ì¸ì€ <code class="language-plaintext highlighter-rouge">25_Jobs/</code>, ë°ì´í„°ì…‹ì€ <code class="language-plaintext highlighter-rouge">26_Datasets/</code>ì—ë§Œ ë‘¡ë‹ˆë‹¤.</p>
      </li>
      <li>
        <p>ë‹¤ë¥¸ ìœ„ì¹˜ì—ëŠ” <strong>ë³µì‚¬í•˜ì§€ ë§ê³ </strong> ê²½ë¡œ ì°¸ì¡°/ì‹¬ë³¼ë¦­ ë§í¬ë§Œ ì‚¬ìš©í•˜ì„¸ìš”.</p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>10_TodayëŠ” â€˜ëŒ€ì‹œë³´ë“œâ€™</strong></p>

    <ul>
      <li>
        <p>ì›ë³¸ì„ ì˜®ê¸°ì§€ ì•ŠìŠµë‹ˆë‹¤. ë§í¬/ëŸ°ì²˜ë§Œ ë‘ê³ , í¸ì§‘ì€ ë³¸ë˜ ìœ„ì¹˜ì—ì„œ.</p>
      </li>
      <li>
        <p>ì½˜ì†” ìœ„ì£¼ë©´ <code class="language-plaintext highlighter-rouge">shortcuts.list</code> ë˜ëŠ” <code class="language-plaintext highlighter-rouge">work-run</code> ìë™ íƒìƒ‰ ëŸ¬ë„ˆë§Œ ì‚¬ìš©.</p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>25_Jobs ë¹„ëŒ€í™” ë°©ì§€</strong></p>

    <ul>
      <li>
        <p>ìƒˆ ì‘ì—…ì€ í•­ìƒ <code class="language-plaintext highlighter-rouge">25_Jobs/_active/íƒ€ì…-YYYY-NNN_ì œëª©/</code>ì—ì„œ ì‹œì‘ â†’ ì™„ë£Œ ì¦‰ì‹œ <code class="language-plaintext highlighter-rouge">íƒ€ì…/ì—°ë„/</code>ë¡œ ì´ë™.</p>
      </li>
      <li>
        <p><code class="language-plaintext highlighter-rouge">_active/</code>ëŠ” ìµœëŒ€ 12ê°œ ê·œì¹™, 30ì¼ ì§€ë‚œ ë¡œê·¸ëŠ” ì••ì¶•, ì¤‘ê°„ë¬¼ì€ ì •ë¦¬.</p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>ë°ì´í„° ë²„ì „/ë¬´ê²°ì„±</strong></p>

    <ul>
      <li>
        <p>ì…ë ¥/ì¶œë ¥ ë°ì´í„°ì…‹ì€ <code class="language-plaintext highlighter-rouge">vYYYY.MMDD</code> ë²„ì „ìœ¼ë¡œ ê´€ë¦¬í•˜ê³  <code class="language-plaintext highlighter-rouge">manifest.yml</code> + <code class="language-plaintext highlighter-rouge">SHA256SUMS</code>ë¥¼ í•„ìˆ˜ ê¸°ë¡.</p>
      </li>
      <li>
        <p><code class="language-plaintext highlighter-rouge">26_Datasets/cache/</code>ëŠ” ì–¸ì œë“  ì‚­ì œ ê°€ëŠ¥. ì¤‘ìš”í•œ ë°ì´í„°ëŠ” <code class="language-plaintext highlighter-rouge">raw/</code> ë˜ëŠ” <code class="language-plaintext highlighter-rouge">processed/</code>ì—.</p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>ì„¤ì • ë ˆì´ì–´ë§(ìš°ì„ ìˆœìœ„)</strong></p>

    <ul>
      <li>
        <p>Project ë¡œì»¬ â†’ <code class="language-plaintext highlighter-rouge">90_PersonalConfigs</code>(ê°œì¸ ì˜¤ë²„ë¼ì´ë“œ) â†’ <code class="language-plaintext highlighter-rouge">32_SharedConfigs/projects/&lt;proj&gt;</code> â†’ <code class="language-plaintext highlighter-rouge">32_SharedConfigs/global</code>.</p>
      </li>
      <li>
        <p>VSCode/ruff/pytest ë“±ì€ <code class="language-plaintext highlighter-rouge">*.local.*</code>ë¡œ ê°œì¸ ì„¤ì •ì„ ë¶„ë¦¬í•˜ë©´ ì¶©ëŒ ìµœì†Œí™”.</p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>ë³´ì•ˆ/ë¹„ë°€ ê´€ë¦¬</strong></p>

    <ul>
      <li>
        <p>ìê²©ì¦ëª…/í† í°/í‚¤ëŠ” <code class="language-plaintext highlighter-rouge">90_PersonalConfigs/secrets/</code>ì—ë§Œ ë‘ê³ , ì½”ë“œ/ìŠ¤í¬ë¦½íŠ¸ëŠ” <strong>í™˜ê²½ë³€ìˆ˜ë¡œ ì½ê¸°</strong>.</p>
      </li>
      <li>
        <p>ë ˆí¬ì— ì˜¬ë¦´ ë• <code class="language-plaintext highlighter-rouge">.gitignore</code>ê°€ ë¹„ë°€/ëŒ€ìš©ëŸ‰ì„ í™•ì‹¤íˆ ì œì™¸í•˜ëŠ”ì§€ í™•ì¸.</p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>ê¹Šì´ ì œí•œ &amp; ë„¤ì´ë°</strong></p>

    <ul>
      <li>
        <p>í´ë” ê¹Šì´ëŠ” <strong>ìµœëŒ€ 3ë‹¨</strong> ì„ ëª©í‘œë¡œ(íƒìƒ‰/ê¶Œí•œ/ë™ê¸°í™” ì´ìŠˆ ê°ì†Œ).</p>
      </li>
      <li>
        <p>ê·œì¹™ì  ë„¤ì´ë°: <code class="language-plaintext highlighter-rouge">PRJ-ì—°ë„-ë²ˆí˜¸_ì´ë¦„</code>, <code class="language-plaintext highlighter-rouge">JOB/BUG/SMOKE/LAB/EX/REL-ì—°ë„-ë²ˆí˜¸_ì´ë¦„</code>, íŒŒì¼ì€ <code class="language-plaintext highlighter-rouge">YYYY-MM-DD_ì œëª©_v001.ext</code>.</p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>ë¦´ë¦¬ìŠ¤ í’ˆì§ˆ ë³´ì¥</strong></p>

    <ul>
      <li>
        <p>ë°°í¬ëŠ” í•­ìƒ <code class="language-plaintext highlighter-rouge">75_Releases/&lt;project&gt;/vX.Y.Z/</code>ë¡œë§Œ ê³µìœ . checksums/ì™€ <code class="language-plaintext highlighter-rouge">ReleaseNotes.md</code> í¬í•¨.</p>
      </li>
      <li>
        <p><code class="language-plaintext highlighter-rouge">latest/</code> ì—…ë°ì´íŠ¸ ì‹œ ì‹¤ì œ ë²„ì „ í´ë” ë‚´ìš©ê³¼ ì¼ì¹˜ í™•ì¸.</p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>ëŒ€ìš©ëŸ‰ ë°ì´í„° ë¶„ë¦¬ ê³ ë ¤</strong></p>

    <ul>
      <li>ì •ë§ í° ì›ì²œ/ìºì‹œëŠ” <code class="language-plaintext highlighter-rouge">26_Datasets</code> í•˜ìœ„ì—ë§Œ ë‘ê³ , Job/Projectì—ëŠ” ë§í¬ë¡œë§Œ ì—°ê²°. ë°±ì—… ì •ì±…ë„ ë³„ë„ë¡œ.</li>
    </ul>
  </li>
  <li>
    <p><strong>ìš´ì˜ ë£¨í‹´</strong></p>
  </li>
</ol>

<ul>
  <li>
    <p>ë§¤ì¼: <code class="language-plaintext highlighter-rouge">00_Inbox</code> ë¹„ìš°ê¸°, Today ì •ë¦¬.</p>
  </li>
  <li>
    <p>ì£¼ 1íšŒ: <code class="language-plaintext highlighter-rouge">_active</code> ìŠ¬ë¦¼í™”, <code class="language-plaintext highlighter-rouge">shortcuts.list</code> Top10 ìœ ì§€, ë¡œê·¸ ì••ì¶•.</p>
  </li>
  <li>
    <p>ì›” 1íšŒ: ë°ì´í„° ì¹´íƒˆë¡œê·¸ ê°±ì‹ , ë¶ˆìš© Job/ë°ì´í„° ì•„ì¹´ì´ë¸Œ.</p>
  </li>
</ul>

<p>í•„ìš”í•˜ë©´ ì´ êµ¬ì¡°ë¥¼ <strong>ì´ˆê¸° í´ë”/README/ìƒ˜í”Œ íŒŒì¼ ì„¸íŠ¸</strong> ë¡œ ë°”ë¡œ ìƒì„±í•´ ë“œë¦´ê²Œìš”. (ì„ í˜¸ ì…¸: bash/zsh/tcsh/PowerShell ì•Œë ¤ì£¼ë©´ í•´ë‹¹ ìŠ¤í¬ë¦½íŠ¸ë„ í¬í•¨í•´ì„œ!)</p>

<p class="chat--user">

manifest.ymlëŠ” ì–´ë–»ê²Œ ì‘ì„±í•´ì•¼í•´? ê·¸ë¦¬ê³  checksumëŠ” ì–´ë–»ê²Œ ë§Œë“¤ì–´?

</p>

<p>ì¢‹ì•„! <strong>manifest.yml</strong> ì€ â€œì´ ë°ì´í„°ì…‹ì´ ë¬´ì—‡ì´ë©°, ì–´ë””ì„œ ì™”ê³ , ì–´ë–»ê²Œ ë§Œë“¤ì—ˆê³ , ë¬´ì—‡ìœ¼ë¡œ ê²€ì¦í–ˆëŠ”ê°€â€ë¥¼ ê¸°ë¡í•˜ëŠ” <strong>ì¦ë¹™ ì¹´ë“œ</strong> ì˜ˆìš”.<br />
<strong>checksum</strong> ì€ íŒŒì¼ ë¬´ê²°ì„±ì„ í™•ì¸í•˜ê¸° ìœ„í•œ <strong>ì§€ë¬¸</strong> ì´ê³ , ë³´í†µ <code class="language-plaintext highlighter-rouge">SHA256SUMS</code>ë¼ëŠ” í…ìŠ¤íŠ¸ íŒŒì¼ë¡œ í•¨ê»˜ ë‘¡ë‹ˆë‹¤.</p>

<p>ì•„ë˜ë¥¼ ê·¸ëŒ€ë¡œ ë”°ë¼ í•˜ë©´ ë©ë‹ˆë‹¤.</p>

<hr />

<h1 id="1-manifestyml-ì‘ì„±-ê°€ì´ë“œ">1) <code class="language-plaintext highlighter-rouge">manifest.yml</code> ì‘ì„± ê°€ì´ë“œ</h1>

<h2 id="ìœ„ì¹˜">ìœ„ì¹˜</h2>

<ul>
  <li>ê° ë²„ì „ ë£¨íŠ¸ì— ë‘¡ë‹ˆë‹¤.<br />
ì˜ˆ:<br />
<code class="language-plaintext highlighter-rouge">Work/26_Datasets/datasets/&lt;dataset_name&gt;/vYYYY.MMDD/manifest.yml</code><br />
<code class="language-plaintext highlighter-rouge">Work/26_Datasets/derived/&lt;artifact_name&gt;/vYYYY.MMDD/manifest.yml</code></li>
</ul>

<h2 id="ìµœì†Œ-í•„ìˆ˜-í•„ë“œ-ì‘ê²Œ-ì‹œì‘">ìµœì†Œ í•„ìˆ˜ í•„ë“œ (ì‘ê²Œ ì‹œì‘)</h2>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">name</span><span class="pi">:</span> <span class="s">ad_events</span>                  <span class="c1"># ë°ì´í„°ì…‹/ì•„í‹°íŒ©íŠ¸ ì´ë¦„</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">dataset</span>                    <span class="c1"># dataset | derived</span>
<span class="na">version</span><span class="pi">:</span> <span class="s">v2025.0826</span>             <span class="c1"># ë²„ì „(ê¶Œì¥: vYYYY.MMDD)</span>
<span class="na">created_at</span><span class="pi">:</span> <span class="s">2025-08-26T14:30:00+09:00</span>
<span class="na">owner</span><span class="pi">:</span> <span class="s">your.name@company.com</span>

<span class="na">source</span><span class="pi">:</span>                          <span class="c1"># ì–´ë””ì„œ ì™”ëŠ”ê°€(ì…ë ¥ ë°ì´í„°ì…‹ì´ë©´ í•„ìˆ˜)</span>
  <span class="na">type</span><span class="pi">:</span> <span class="s">external</span>                 <span class="c1"># external | internal | manual</span>
  <span class="na">detail</span><span class="pi">:</span> <span class="s2">"</span><span class="s">ad_platform</span><span class="nv"> </span><span class="s">export</span><span class="nv"> </span><span class="s">API</span><span class="nv"> </span><span class="s">v3"</span>

<span class="na">schema</span><span class="pi">:</span>                          <span class="c1"># ê°„ë‹¨ ìŠ¤í‚¤ë§ˆ(ìš”ì•½)</span>
  <span class="na">format</span><span class="pi">:</span> <span class="s">parquet</span>                <span class="c1"># parquet | csv | json | image | ...</span>
  <span class="na">rows</span><span class="pi">:</span> <span class="m">5021113</span>
  <span class="na">columns</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="pi">{</span><span class="nv">name</span><span class="pi">:</span> <span class="nv">event_id</span><span class="pi">,</span> <span class="nv">type</span><span class="pi">:</span> <span class="nv">string</span><span class="pi">}</span>
    <span class="pi">-</span> <span class="pi">{</span><span class="nv">name</span><span class="pi">:</span> <span class="nv">ts_utc</span><span class="pi">,</span>   <span class="nv">type</span><span class="pi">:</span> <span class="nv">timestamp</span><span class="pi">}</span>
    <span class="pi">-</span> <span class="pi">{</span><span class="nv">name</span><span class="pi">:</span> <span class="nv">campaign</span><span class="pi">,</span> <span class="nv">type</span><span class="pi">:</span> <span class="nv">string</span><span class="pi">}</span>
    <span class="pi">-</span> <span class="pi">{</span><span class="nv">name</span><span class="pi">:</span> <span class="nv">cost</span><span class="pi">,</span>     <span class="nv">type</span><span class="pi">:</span> <span class="nv">float</span><span class="pi">}</span>

<span class="na">pii_level</span><span class="pi">:</span> <span class="s">low</span>                   <span class="c1"># none | low | medium | high</span>
<span class="na">license</span><span class="pi">:</span> <span class="s">internal</span>                <span class="c1"># ë¼ì´ì„ ìŠ¤/ì‚¬ìš© ì œí•œ</span>

<span class="na">files</span><span class="pi">:</span>                           <span class="c1"># í¬í•¨ íŒŒì¼ ìš”ì•½(ìƒëŒ€ê²½ë¡œ)</span>
  <span class="pi">-</span> <span class="na">path</span><span class="pi">:</span> <span class="s">processed/events.parquet</span>
    <span class="na">bytes</span><span class="pi">:</span> <span class="m">812345678</span>
    <span class="na">sha256</span><span class="pi">:</span> <span class="s2">"</span><span class="s">ab12...ef"</span>          <span class="c1"># ì„ íƒ(ìˆìœ¼ë©´ SHA256SUMSì™€ ë™ì¼í•´ì•¼ í•¨)</span>

<span class="na">notes</span><span class="pi">:</span> <span class="s2">"</span><span class="s">tz</span><span class="nv"> </span><span class="s">normalized</span><span class="nv"> </span><span class="s">to</span><span class="nv"> </span><span class="s">UTC,</span><span class="nv"> </span><span class="s">invalid</span><span class="nv"> </span><span class="s">rows</span><span class="nv"> </span><span class="s">dropped"</span>
</code></pre></div></div>

<h2 id="íŒŒìƒderived-ë°ì´í„°ì…‹ì¼-ë•Œì˜-ì¶”ê°€-í•„ë“œ">íŒŒìƒ(derived) ë°ì´í„°ì…‹ì¼ ë•Œì˜ ì¶”ê°€ í•„ë“œ</h2>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">kind</span><span class="pi">:</span> <span class="s">derived</span>
<span class="na">lineage</span><span class="pi">:</span>                          <span class="c1"># ì–´ë–¤ ì…ë ¥/ì½”ë“œ/ì‹¤í–‰ì—ì„œ ë‚˜ì™”ëŠ”ê°€</span>
  <span class="na">inputs</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="pi">{</span><span class="nv">name</span><span class="pi">:</span> <span class="nv">ad_events</span><span class="pi">,</span> <span class="nv">version</span><span class="pi">:</span> <span class="nv">v2025.0826</span><span class="pi">,</span> <span class="nv">path</span><span class="pi">:</span> <span class="s2">"</span><span class="s">../../../datasets/ad_events/v2025.0826/processed"</span><span class="pi">}</span>
  <span class="na">code</span><span class="pi">:</span>
    <span class="na">repo</span><span class="pi">:</span> <span class="s2">"</span><span class="s">PRJ-2025-001_sample_app"</span>       <span class="c1"># ë˜ëŠ” Git URL</span>
    <span class="na">commit</span><span class="pi">:</span> <span class="s2">"</span><span class="s">a1b2c3d"</span>                     <span class="c1"># ìƒì„±ì— ì‚¬ìš©í•œ ì»¤ë°‹/íƒœê·¸</span>
  <span class="na">job</span><span class="pi">:</span>
    <span class="na">id</span><span class="pi">:</span> <span class="s2">"</span><span class="s">JOB-2025-041_reportX"</span>            <span class="c1"># (ìˆìœ¼ë©´) ìƒì‚° Job ì½”ë“œ</span>

<span class="na">metrics</span><span class="pi">:</span>                          <span class="c1"># í’ˆì§ˆ/ì„±ëŠ¥ ìš”ì•½(ì„ íƒ)</span>
  <span class="na">records_after_filters</span><span class="pi">:</span> <span class="m">4988333</span>
  <span class="na">null_rate_cost</span><span class="pi">:</span> <span class="m">0.0004</span>
  <span class="na">sanity_checks</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s2">"</span><span class="s">timestamp</span><span class="nv"> </span><span class="s">not</span><span class="nv"> </span><span class="s">null:</span><span class="nv"> </span><span class="s">pass"</span>
    <span class="pi">-</span> <span class="s2">"</span><span class="s">cost</span><span class="nv"> </span><span class="s">&gt;=</span><span class="nv"> </span><span class="s">0:</span><span class="nv"> </span><span class="s">pass"</span>
</code></pre></div></div>

<h2 id="í™•ì¥-í•„ë“œí•„ìš”í• -ë•Œë§Œ">í™•ì¥ í•„ë“œ(í•„ìš”í•  ë•Œë§Œ)</h2>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">tool_versions</code>: Python/íŒ¨í‚¤ì§€/CLI ë²„ì „</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">constraints</code>: ì‚¬ìš© ì œí•œ, ë§Œë£Œì¼</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">hash_tree</code>: ì „ì²´ ë””ë ‰í„°ë¦¬ í•´ì‹œ(ê³ ê¸‰)</p>
  </li>
</ul>

<blockquote>
  <p><strong>ê·œì¹™</strong></p>

  <ul>
    <li>
      <p><strong>ì§§ê²Œ</strong> ì‹œì‘(í•„ìˆ˜ë§Œ) â†’ ì§„ì§œ í•„ìš”í•œ ë©”íƒ€ë§Œ ì ì§„ì ìœ¼ë¡œ ì¶”ê°€</p>
    </li>
    <li>
      <p><strong>ê²½ë¡œëŠ” ìƒëŒ€ê²½ë¡œ</strong> ë¡œ ì ë˜, í•­ìƒ <strong>ë²„ì „ ë£¨íŠ¸ ê¸°ì¤€</strong> ìœ¼ë¡œ ê¸°ë¡</p>
    </li>
  </ul>

</blockquote>

<hr />

<h1 id="2-sha256sums-ë§Œë“¤ê¸°-ë¬´ê²°ì„±-ì²´í¬ì„¬">2) <code class="language-plaintext highlighter-rouge">SHA256SUMS</code> ë§Œë“¤ê¸° (ë¬´ê²°ì„± ì²´í¬ì„¬)</h1>

<h2 id="íŒŒì¼-ìœ„ì¹˜ì´ë¦„">íŒŒì¼ ìœ„ì¹˜/ì´ë¦„</h2>

<ul>
  <li>
    <p>ê° ë²„ì „ ë£¨íŠ¸ì— <code class="language-plaintext highlighter-rouge">SHA256SUMS</code>(í™•ì¥ì ì—†ìŒ)ë¡œ ë‘¡ë‹ˆë‹¤.</p>
  </li>
  <li>
    <p>ë‚´ìš© í¬ë§·:</p>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;sha256&gt;  &lt;ìƒëŒ€ê²½ë¡œ&gt;
</code></pre></div>    </div>
  </li>
</ul>

<p>ì˜ˆ:<br />
<code class="language-plaintext highlighter-rouge">d2c7...9fa processed/events.parquet</code></p>

<h2 id="macos--linux-bashzsh">macOS / Linux (bash/zsh)</h2>

<p><strong>ë²„ì „ ë£¨íŠ¸ì—ì„œ ì‹¤í–‰:</strong></p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 1) ê¸°ì¡´ íŒŒì¼ ì œê±°(ìˆë‹¤ë©´)</span>
<span class="nb">rm</span> <span class="nt">-f</span> SHA256SUMS

<span class="c"># 2) ëª¨ë“  íŒŒì¼ì— ëŒ€í•´ sha256 ìƒì„±(ìˆ¨ê¹€Â·SUMS ì œì™¸)</span>
find <span class="nb">.</span> <span class="nt">-type</span> f <span class="o">!</span> <span class="nt">-name</span> <span class="s1">'SHA256SUMS'</span> <span class="o">!</span> <span class="nt">-name</span> <span class="s1">'.*'</span> <span class="nt">-print0</span> <span class="se">\</span>
| xargs <span class="nt">-0</span> <span class="nb">sha256sum</span> <span class="o">&gt;</span> SHA256SUMS
<span class="c"># macOSì—ëŠ” sha256sumì´ ì—†ì„ ìˆ˜ ìˆìŒ â†’ ëŒ€ì²´:</span>
<span class="c"># find . -type f ! -name 'SHA256SUMS' ! -name '.*' -exec sh -c 'shasum -a 256 "$1" | sed "s#  #  #"' _ {} \; &gt; SHA256SUMS</span>

<span class="c"># 3) ê²€ì¦(ì„ íƒ)</span>
<span class="nb">sha256sum</span> <span class="nt">-c</span> SHA256SUMS
<span class="c"># macOS ëŒ€ì²´:</span>
<span class="c"># awk '{print $2}' SHA256SUMS | while read -r f; do</span>
<span class="c">#   calc=$(shasum -a 256 "$f" | awk '{print $1}')</span>
<span class="c">#   want=$(grep "  $f$" SHA256SUMS | awk '{print $1}')</span>
<span class="c">#   [[ "$calc" == "$want" ]] &amp;&amp; echo "OK  $f" || echo "FAIL  $f"</span>
<span class="c"># done</span>
</code></pre></div></div>

<h2 id="windows-powershell-2">Windows (PowerShell)</h2>
<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># ë²„ì „ ë£¨íŠ¸ì—ì„œ ì‹¤í–‰:</span><span class="w">
</span><span class="n">Remove-Item</span><span class="w"> </span><span class="nt">-Force</span><span class="w"> </span><span class="nx">SHA256SUMS</span><span class="w"> </span><span class="nt">-ErrorAction</span><span class="w"> </span><span class="nx">SilentlyContinue</span><span class="w">
</span><span class="n">Get-ChildItem</span><span class="w"> </span><span class="nt">-Recurse</span><span class="w"> </span><span class="nt">-File</span><span class="w"> </span><span class="nt">-Force</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Where-Object</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="bp">$_</span><span class="o">.</span><span class="nf">Name</span><span class="w"> </span><span class="o">-ne</span><span class="w"> </span><span class="s1">'SHA256SUMS'</span><span class="w"> </span><span class="o">-and</span><span class="w"> </span><span class="o">-not</span><span class="w"> </span><span class="bp">$_</span><span class="o">.</span><span class="nf">Name</span><span class="o">.</span><span class="nf">StartsWith</span><span class="p">(</span><span class="s1">'.'</span><span class="p">)</span><span class="w">
</span><span class="p">}</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">ForEach-Object</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nv">$h</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">Get-FileHash</span><span class="w"> </span><span class="bp">$_</span><span class="o">.</span><span class="nf">FullName</span><span class="w"> </span><span class="nt">-Algorithm</span><span class="w"> </span><span class="nx">SHA256</span><span class="p">)</span><span class="o">.</span><span class="nf">Hash</span><span class="o">.</span><span class="nf">ToLower</span><span class="p">()</span><span class="w">
  </span><span class="nv">$rel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">$_</span><span class="o">.</span><span class="nf">FullName</span><span class="o">.</span><span class="nf">Substring</span><span class="p">((</span><span class="n">Get-Location</span><span class="p">)</span><span class="o">.</span><span class="nf">Path</span><span class="o">.</span><span class="nf">Length</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">1</span><span class="p">)</span><span class="o">.</span><span class="nf">Replace</span><span class="p">(</span><span class="s1">'\'</span><span class="p">,</span><span class="s1">'/'</span><span class="p">)</span><span class="w">
  </span><span class="s2">"</span><span class="nv">$h</span><span class="s2">  </span><span class="nv">$rel</span><span class="s2">"</span><span class="w">
</span><span class="p">}</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Set-Content</span><span class="w"> </span><span class="nt">-NoNewline</span><span class="w"> </span><span class="nt">-Path</span><span class="w"> </span><span class="nx">SHA256SUMS</span><span class="w">

</span><span class="c"># ê²€ì¦:</span><span class="w">
</span><span class="n">Get-Content</span><span class="w"> </span><span class="nx">SHA256SUMS</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">ForEach-Object</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nv">$parts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">$_</span><span class="w"> </span><span class="o">-split</span><span class="w"> </span><span class="s1">'\s\s'</span><span class="w">
  </span><span class="nv">$want</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">$parts</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span><span class="w"> </span><span class="nv">$file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">$parts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w">
  </span><span class="nv">$got</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">Get-FileHash</span><span class="w"> </span><span class="nv">$file</span><span class="w"> </span><span class="nt">-Algorithm</span><span class="w"> </span><span class="nx">SHA256</span><span class="p">)</span><span class="o">.</span><span class="nf">Hash</span><span class="o">.</span><span class="nf">ToLower</span><span class="p">()</span><span class="w">
  </span><span class="nx">if</span><span class="w"> </span><span class="p">(</span><span class="nv">$got</span><span class="w"> </span><span class="o">-eq</span><span class="w"> </span><span class="nv">$want</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s2">"OK  </span><span class="nv">$file</span><span class="s2">"</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">else</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s2">"FAIL  </span><span class="nv">$file</span><span class="s2">"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h2 id="tcsh-1">tcsh</h2>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh

# ë²„ì „ ë£¨íŠ¸ì—ì„œ ì‹¤í–‰:
rm -f SHA256SUMS
# GNU coreutils(sha256sum)ê°€ ìˆìœ¼ë©´:
find . -type f ! -name 'SHA256SUMS' ! -name '.*' -print0 | xargs -0 sha256sum &gt; SHA256SUMS
# ì—†ê³  macOS ê¸°ë³¸ì´ë¼ë©´:
# find . -type f ! -name 'SHA256SUMS' ! -name '.*' -exec sh -c 'shasum -a 256 "$1"' _ {} \; &gt; SHA256SUMS
</code></pre></div></div>

<h3 id="ìƒì„±ê²€ì¦-ìŠ¤í¬ë¦½íŠ¸ë¡œ-ê³ ì •ì¶”ì²œ">ìƒì„±/ê²€ì¦ ìŠ¤í¬ë¦½íŠ¸ë¡œ ê³ ì •(ì¶”ì²œ)</h3>

<ul>
  <li>
    <p><strong>ê³µìš©</strong> : <code class="language-plaintext highlighter-rouge">Work/80_Tools/scripts/checksum_all.sh|ps1|csh</code></p>
  </li>
  <li>
    <p><strong>ì‚¬ìš©ë²•</strong> : ë²„ì „ ë£¨íŠ¸ì—ì„œ <code class="language-plaintext highlighter-rouge">checksum_all.sh</code> ì‹¤í–‰ â†’ <code class="language-plaintext highlighter-rouge">SHA256SUMS</code> ìƒì„± â†’ <code class="language-plaintext highlighter-rouge">-c</code> ì˜µì…˜ìœ¼ë¡œ ê²€ì¦</p>
  </li>
</ul>

<hr />

<h1 id="3-í•¨ê»˜-ì“°ëŠ”-ìš´ì˜-íŒ">3) í•¨ê»˜ ì“°ëŠ” ìš´ì˜ íŒ</h1>

<ul>
  <li>
    <p><strong>manifest vs SHA256SUMS</strong></p>

    <ul>
      <li>
        <p><strong>SHA256SUMS</strong> : íŒŒì¼ <strong>ì „ì²´ ëª©ë¡</strong> ê³¼ í•´ì‹œ(ë¨¸ì‹ ìš©, ê²€ì¦ ì „ìš©)</p>
      </li>
      <li>
        <p><strong>manifest.yml</strong> : ì£¼ìš” íŒŒì¼ ìš”ì•½/ë©”íƒ€(<strong>ì‚¬ëŒì´ ì½ê¸° ì‰¬ìš´ ì¹´ë“œ</strong>)<br />
â†’ ë‘˜ ë‹¤ ìˆë˜, manifestì˜ <code class="language-plaintext highlighter-rouge">files[].sha256</code>ì€ <strong>í•µì‹¬ íŒŒì¼ë§Œ</strong> ë„£ì–´ë„ ì¶©ë¶„</p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>ë¬´ê²°ì„± ì‹¤íŒ¨ ì‹œ</strong></p>

    <ul>
      <li>
        <p>ì „ì†¡/ì••ì¶•/ë³µì‚¬ ê³¼ì •ì—ì„œ ì†ìƒ ê°€ëŠ¥ â†’ ì›ë³¸ì—ì„œ ë‹¤ì‹œ ê°€ì ¸ì™€ SUMS ì¬ìƒì„±</p>
      </li>
      <li>
        <p>ë¼ì¸ ì—”ë”©/ê¶Œí•œê³¼ ë¬´ê´€(ë°”ì´ë„ˆë¦¬ ê¸°ì¤€)ì´ë¼ ì‹ ë¢°ë„ ë†’ìŒ</p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>ì œì™¸ ëŒ€ìƒ</strong></p>

    <ul>
      <li>
        <p>SUMS ë§Œë“¤ ë•Œ <strong>ìˆ¨ê¹€íŒŒì¼(<code class="language-plaintext highlighter-rouge">.*</code>)</strong>ê³¼ <code class="language-plaintext highlighter-rouge">SHA256SUMS</code> ìì‹ ì€ ì œì™¸</p>
      </li>
      <li>
        <p>ìºì‹œ/ì„ì‹œ íŒŒì¼ì€ <code class="language-plaintext highlighter-rouge">cache/</code>ì—ë§Œ ë‘ê³  SUMSì—ì„œ ìì—°íˆ ì œì™¸ë˜ê²Œ</p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>ëŒ€ìš©ëŸ‰ ìµœì í™”</strong></p>

    <ul>
      <li>Parquet ë“± ëŒ€í˜• íŒŒì¼ì€ <strong>ìƒì„± ì§í›„</strong> SUMSë¥¼ ë§Œë“¤ì–´ë‘ê³ , ë‚˜ì¤‘ì—” ë³€ê²½ ê¸ˆì§€(ë¶ˆë³€ ì›ì¹™)</li>
    </ul>
  </li>
  <li>
    <p><strong>ë²„ì „ ê·œì¹™</strong></p>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">vYYYY.MMDD</code>ë¡œ <strong>ìŠ¤ëƒ…ìƒ· ì˜ë¯¸</strong> ê°€ ë¶„ëª…í•´ì§. íŒŒìƒë¬¼ë„ ë™ì¼ ê·œì¹™ ì‚¬ìš©</li>
    </ul>
  </li>
</ul>

<hr />

<h2 id="ë¹ ë¥¸-ì‹œì‘ë³µë¶™ìš©-í…œí”Œë¦¿">ë¹ ë¥¸ ì‹œì‘(ë³µë¶™ìš© í…œí”Œë¦¿)</h2>

<p><strong>ì…ë ¥ ë°ì´í„°ì…‹:<code class="language-plaintext highlighter-rouge">manifest.yml</code></strong></p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">name</span><span class="pi">:</span> <span class="s">&lt;dataset_name&gt;</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">dataset</span>
<span class="na">version</span><span class="pi">:</span> <span class="s">vYYYY.MMDD</span>
<span class="na">created_at</span><span class="pi">:</span> <span class="s">2025-08-26T00:00:00+09:00</span>
<span class="na">owner</span><span class="pi">:</span> <span class="s">your.name@company.com</span>
<span class="na">source</span><span class="pi">:</span>
  <span class="na">type</span><span class="pi">:</span> <span class="s">&lt;external|internal|manual&gt;</span>
  <span class="na">detail</span><span class="pi">:</span> <span class="s2">"</span><span class="s">&lt;ì„¤ëª…/ë§í¬&gt;"</span>
<span class="na">schema</span><span class="pi">:</span>
  <span class="na">format</span><span class="pi">:</span> <span class="s">&lt;parquet|csv|json|image|...&gt;</span>
  <span class="na">rows</span><span class="pi">:</span> <span class="s">&lt;int or unknown&gt;</span>
  <span class="na">columns</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="pi">{</span><span class="nv">name</span><span class="pi">:</span> <span class="nv">&lt;col1&gt;</span><span class="pi">,</span> <span class="nv">type</span><span class="pi">:</span> <span class="nv">&lt;type&gt;</span><span class="pi">}</span>
<span class="na">pii_level</span><span class="pi">:</span> <span class="s">&lt;none|low|medium|high&gt;</span>
<span class="na">license</span><span class="pi">:</span> <span class="s">&lt;internal|...&gt;</span>
<span class="na">files</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="pi">{</span><span class="nv">path</span><span class="pi">:</span> <span class="nv">&lt;relative/file&gt;</span><span class="pi">,</span> <span class="nv">bytes</span><span class="pi">:</span> <span class="nv">&lt;int&gt;</span><span class="pi">,</span> <span class="nv">sha256</span><span class="pi">:</span> <span class="s2">"</span><span class="s">&lt;optional&gt;"</span><span class="pi">}</span>
<span class="na">notes</span><span class="pi">:</span> <span class="s2">"</span><span class="s">&lt;ì¤‘ìš”</span><span class="nv"> </span><span class="s">ì •ì œ/ì „ì²˜ë¦¬</span><span class="nv"> </span><span class="s">ë…¸íŠ¸&gt;"</span>
</code></pre></div></div>

<p><strong>íŒŒìƒ ë°ì´í„°ì…‹:<code class="language-plaintext highlighter-rouge">manifest.yml</code></strong></p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">name</span><span class="pi">:</span> <span class="s">&lt;artifact_name&gt;</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">derived</span>
<span class="na">version</span><span class="pi">:</span> <span class="s">vYYYY.MMDD</span>
<span class="na">created_at</span><span class="pi">:</span> <span class="s">2025-08-26T00:00:00+09:00</span>
<span class="na">owner</span><span class="pi">:</span> <span class="s">your.name@company.com</span>
<span class="na">lineage</span><span class="pi">:</span>
  <span class="na">inputs</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="pi">{</span><span class="nv">name</span><span class="pi">:</span> <span class="nv">&lt;dataset_a&gt;</span><span class="pi">,</span> <span class="nv">version</span><span class="pi">:</span> <span class="nv">vYYYY.MMDD</span><span class="pi">,</span> <span class="nv">path</span><span class="pi">:</span> <span class="s2">"</span><span class="s">../../../datasets/&lt;dataset_a&gt;/vYYYY.MMDD/processed"</span><span class="pi">}</span>
  <span class="na">code</span><span class="pi">:</span>
    <span class="na">repo</span><span class="pi">:</span> <span class="s2">"</span><span class="s">&lt;PRJ-...</span><span class="nv"> </span><span class="s">or</span><span class="nv"> </span><span class="s">git</span><span class="nv"> </span><span class="s">URL&gt;"</span>
    <span class="na">commit</span><span class="pi">:</span> <span class="s2">"</span><span class="s">&lt;hash</span><span class="nv"> </span><span class="s">or</span><span class="nv"> </span><span class="s">tag&gt;"</span>
  <span class="na">job</span><span class="pi">:</span>
    <span class="na">id</span><span class="pi">:</span> <span class="s2">"</span><span class="s">&lt;JOB-YYYY-NNN_title&gt;"</span>
<span class="na">schema</span><span class="pi">:</span>
  <span class="na">format</span><span class="pi">:</span> <span class="s">&lt;parquet|csv|...&gt;</span>
  <span class="na">rows</span><span class="pi">:</span> <span class="s">&lt;int&gt;</span>
<span class="na">metrics</span><span class="pi">:</span>
  <span class="na">records_after_filters</span><span class="pi">:</span> <span class="s">&lt;int&gt;</span>
  <span class="na">sanity_checks</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s2">"</span><span class="s">rule:</span><span class="nv"> </span><span class="s">pass/fail"</span>
<span class="na">notes</span><span class="pi">:</span> <span class="s2">"</span><span class="s">&lt;ë³€í™˜</span><span class="nv"> </span><span class="s">ìš”ì•½/ì œì•½&gt;"</span>
</code></pre></div></div>

<p>í•„ìš”í•˜ë©´ ìœ„ <strong>ì²´í¬ì„¬ ìƒì„±/ê²€ì¦ ìŠ¤í¬ë¦½íŠ¸</strong> ë¥¼ <code class="language-plaintext highlighter-rouge">80_Tools/scripts/</code>ì— ë„£ì€ ë²„ì „ìœ¼ë¡œ ë§Œë“¤ì–´ ì¤„ê²Œâ€”ì“°ëŠ” ì…¸(bash/zsh/PowerShell/tcsh)ë§Œ ë§í•´ì¤˜!</p>

<p class="chat--user">

í°íŠ¸ íŒŒì¼ì€ ì–´ë”” ì €ì¥í•´?

</p>

<p>ì§§ê²Œ: <strong><code class="language-plaintext highlighter-rouge">Work/60_Assets/fonts/</code></strong> ì•„ë˜ì— ë‘¬ìš”.<br />
ì—¬ê¸´ ë¡œê³ /í…œí”Œë¦¿ê³¼ ê°™ì€ â€œë¸Œëœë”©/ì‹œê° ìì‚°â€ ì˜ì—­ì´ë¼ í°íŠ¸ì˜ <strong>ì •ë³¸ ìœ„ì¹˜</strong> ë¡œ ë”± ë§ìŠµë‹ˆë‹¤.</p>

<hr />

<h1 id="ê¶Œì¥-í´ë”-íŠ¸ë¦¬ë³µë¶™">ê¶Œì¥ í´ë” íŠ¸ë¦¬(ë³µë¶™)</h1>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Work/
â””â”€ 60_Assets/                               - ë¸Œëœë”©/ì‹œê° ìì‚°
   â””â”€ fonts/                                - í°íŠ¸ ì •ë³¸ ì €ì¥ì†Œ
      â”œâ”€ _catalog.csv                       - (ì„ íƒ) í°íŠ¸ ëª©ë¡/ë²„ì „/ë¼ì´ì„ ìŠ¤ ì¸ë±ìŠ¤
      â”œâ”€ &lt;FamilyName&gt;/                      - ì˜ˆ: Pretendard, Inter, NotoSansKR
      â”‚  â””â”€ vX.Y/                           - í°íŠ¸ íŒ¨ë°€ë¦¬ ë²„ì „(ì—†ìœ¼ë©´ v1.0 ë“±)
      â”‚     â”œâ”€ desktop/                     - ì•±/ë¬¸ì„œìš©: OTF/TTF
      â”‚     â”œâ”€ web/                         - ì›¹/ê²½ëŸ‰ ë°°í¬: WOFF2(ê¶Œì¥), WOFF
      â”‚     â”œâ”€ variable/                    - ê°€ë³€ í°íŠ¸(ì˜µì…˜)
      â”‚     â”œâ”€ subsets/                     - ë¶€ë¶„ ì„œë¸Œì…‹(ì˜ˆ: KR-basic, UI-only)
      â”‚     â”œâ”€ license/                     - LICENSE, README-LICENSE.md
      â”‚     â”œâ”€ specimen/                    - ìƒ˜í”Œ ì´ë¯¸ì§€/ë¯¸ë¦¬ë³´ê¸°
      â”‚     â””â”€ SHA256SUMS                   - ë¬´ê²°ì„± ì²´í¬ì„¬(ì˜µì…˜)
      â””â”€ &lt;FamilyName2&gt;/
         â””â”€ vX.Y/...
</code></pre></div></div>

<blockquote>
  <p><strong>í”„ë¡œì íŠ¸ ì „ìš© í°íŠ¸?</strong><br />
 ì •ë³¸ì€ ìœ„ì— ë‘ê³ , í”„ë¡œì íŠ¸ì—ì„œëŠ” <strong>ë§í¬/ë¹Œë“œì‹œ ë³µì‚¬</strong> ë§Œ í•´ìš”. (ë³µì‚¬ë³¸ì´ ì •ë³¸ì´ ë˜ì§€ ì•Šë„ë¡!)</p>
</blockquote>

<hr />

<h2 id="ìš´ìš©-ê·œì¹™í•µì‹¬">ìš´ìš© ê·œì¹™(í•µì‹¬)</h2>

<ul>
  <li>
    <p><strong>ì •ë³¸ì€ 60_Assets/fonts</strong> : ì—¬ê¸°ë§Œ ê°±ì‹ í•˜ê³ , ë‚˜ë¨¸ì§€ëŠ” <strong>ì°¸ì¡°/ë™ê¸°í™”</strong>.</p>
  </li>
  <li>
    <p><strong>ë²„ì €ë‹</strong> : í°íŠ¸ íŒ¨ë°€ë¦¬ë§ˆë‹¤ <code class="language-plaintext highlighter-rouge">vX.Y</code> í´ë”ë¥¼ ë§Œë“¤ì–´ ë²„ì „ ì¶©ëŒì„ ë°©ì§€.</p>
  </li>
  <li>
    <p><strong>ë¼ì´ì„ ìŠ¤ ë™ë´‰</strong> : <code class="language-plaintext highlighter-rouge">license/</code>ì— LICENSE, ì‚¬ìš©ë²”ìœ„ ë©”ëª¨(ì›¹ ì„ë² ë“œ ê°€ëŠ¥ ì—¬ë¶€ ë“±).</p>
  </li>
  <li>
    <p><strong>ë¬´ê²°ì„±(ì„ íƒ)</strong> : ëŒ€ì™¸ ë°°í¬/ë¦´ë¦¬ìŠ¤ì— ë“¤ì–´ê°€ë©´ <code class="language-plaintext highlighter-rouge">SHA256SUMS</code> ìƒì„±(ì•„ë˜ ì˜ˆì‹œ).</p>
  </li>
  <li>
    <p><strong>ê°œì¸ ì„¤ì¹˜ë³¸</strong> ì€ OSì— ì„¤ì¹˜í•˜ë˜(ì‹œìŠ¤í…œ í´ë”), <strong>ì •ë³¸ì€ ë³€í•˜ì§€ ì•Šê²Œ</strong> 60_Assetsì— ìœ ì§€.</p>
  </li>
</ul>

<hr />

<h2 id="í”„ë¡œì íŠ¸ì—ì„œ-ì“°ëŠ”-ë²•">í”„ë¡œì íŠ¸ì—ì„œ ì“°ëŠ” ë²•</h2>

<h3 id="1-ë°ìŠ¤í¬íƒ‘-ì•±pyside6qt-ë“±ì—ì„œ-ë²ˆë“¤">1) ë°ìŠ¤í¬íƒ‘ ì•±(PySide6/Qt ë“±)ì—ì„œ ë²ˆë“¤</h3>

<ul>
  <li><strong>ë³µì‚¬ ë°©ì‹(ë¹Œë“œ ì‹œ)</strong> : ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸ì—ì„œ í•„ìš”í•œ íŒŒì¼ë§Œ í”„ë¡œì íŠ¸ë¡œ ë™ê¸°í™”.
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># ì˜ˆ: Inter v4.0ì˜ OTFë§Œ ì•± ë¦¬í¬ì§€í† ë¦¬ë¡œ ë™ê¸°í™”</span>
rsync <span class="nt">-av</span> <span class="se">\</span>
  <span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/Work/60_Assets/fonts/Inter/v4.0/desktop/"</span> <span class="se">\</span>
  <span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/Work/20_Projects/PRJ-2025-001_app/assets/fonts/"</span>
</code></pre></div>    </div>
  </li>
  <li><strong>ëŸ°íƒ€ì„ ë¡œë“œ(PySide6)</strong> :
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">PySide6.QtGui</span> <span class="kn">import</span> <span class="n">QFontDatabase</span><span class="p">,</span> <span class="n">QFont</span>
<span class="n">QFontDatabase</span><span class="p">.</span><span class="nf">addApplicationFont</span><span class="p">(</span><span class="sh">"</span><span class="s">:/assets/fonts/Inter-Regular.otf</span><span class="sh">"</span><span class="p">)</span>
<span class="n">QApplication</span><span class="p">.</span><span class="nf">setFont</span><span class="p">(</span><span class="nc">QFont</span><span class="p">(</span><span class="sh">"</span><span class="s">Inter</span><span class="sh">"</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="2-ì›¹cssì—ì„œ-ì„ë² ë“œ">2) ì›¹/CSSì—ì„œ ì„ë² ë“œ</h3>
<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">/* WOFF2 ìš°ì„  */</span>
<span class="k">@font-face</span><span class="p">{</span>
  <span class="nl">font-family</span><span class="p">:</span><span class="s1">"Inter"</span><span class="p">;</span>
  <span class="nl">src</span><span class="p">:</span> <span class="nf">url</span><span class="p">(</span><span class="s1">"/assets/fonts/Inter/v4.0/web/Inter-Variable.woff2"</span><span class="p">)</span> <span class="nf">format</span><span class="p">(</span><span class="s1">"woff2"</span><span class="p">);</span>
  <span class="nl">font-weight</span><span class="p">:</span> <span class="m">100</span> <span class="m">900</span><span class="p">;</span> <span class="c">/* variable */</span>
  <span class="nl">font-style</span><span class="p">:</span> <span class="nb">normal</span><span class="p">;</span>
  <span class="nl">font-display</span><span class="p">:</span> <span class="nb">swap</span><span class="p">;</span>
<span class="p">}</span>
<span class="nt">body</span><span class="p">{</span> <span class="nl">font-family</span><span class="p">:</span> <span class="s1">"Inter"</span><span class="p">,</span> <span class="s1">"Noto Sans KR"</span><span class="p">,</span> <span class="n">system-ui</span><span class="p">,</span> <span class="o">-</span><span class="n">apple-system</span><span class="p">,</span> <span class="nb">sans-serif</span><span class="p">;</span> <span class="p">}</span>
</code></pre></div></div>

<h3 id="3-ë¦´ë¦¬ìŠ¤ì—-í¬í•¨ì„ íƒ">3) ë¦´ë¦¬ìŠ¤ì— í¬í•¨(ì„ íƒ)</h3>

<ul>
  <li>í°íŠ¸ë¥¼ ì•±ê³¼ í•¨ê»˜ ë°°í¬í•˜ë©´, í•´ë‹¹ í”„ë¡œì íŠ¸ì˜ <code class="language-plaintext highlighter-rouge">75_Releases/&lt;project&gt;/vX.Y.Z/docs/</code>ì—<br />
<strong>ë¼ì´ì„ ìŠ¤ ìš”ì•½</strong> ì„ ë°˜ë“œì‹œ í¬í•¨í•˜ì„¸ìš”(ë°°í¬ê¶Œí•œ í™•ì¸).</li>
</ul>

<hr />

<h2 id="ì„œë¸Œì…‹ê°€ë³€-í°íŠ¸-íŒ">ì„œë¸Œì…‹/ê°€ë³€ í°íŠ¸ íŒ</h2>

<ul>
  <li>
    <p><strong>ê°€ë³€ í°íŠ¸(variable)</strong>ê°€ ìˆë‹¤ë©´ ìš°ì„  ê³ ë ¤(íŒŒì¼ ìˆ˜â†“, í’ˆì§ˆâ†‘).</p>
  </li>
  <li>
    <p>ì›¹/ê²½ëŸ‰ ë°°í¬ëŠ” <strong>WOFF2ë§Œ</strong> ìœ¼ë¡œ ì¶©ë¶„í•œ ê²½ìš°ê°€ ë§ìŒ.</p>
  </li>
  <li>
    <p><strong>ì„œë¸Œì…‹</strong> ì€ UIì— í•„ìš”í•œ ê¸€ë¦¬í”„ë§Œ ì¶”ì¶œí•´ ìš©ëŸ‰ì„ í¬ê²Œ ì¤„ì¼ ìˆ˜ ìˆì–´ìš”.<br />
(íˆ´: <code class="language-plaintext highlighter-rouge">pyftsubset</code> ë“±â€”ì›í•˜ë©´ ìŠ¤í¬ë¦½íŠ¸ ë§Œë“¤ì–´ ë“œë¦¼)</p>
  </li>
</ul>

<hr />

<h2 id="ë¼ì´ì„ ìŠ¤ë³´ì•ˆ-ì£¼ì˜">ë¼ì´ì„ ìŠ¤/ë³´ì•ˆ ì£¼ì˜</h2>

<ul>
  <li>
    <p>ìƒì—…ìš©/ë°°í¬ì œí•œ í°íŠ¸ëŠ” ë¦¬í¬ì§€í† ë¦¬ì— ì˜¬ë¦¬ì§€ ë§ê³ ,<br />
<code class="language-plaintext highlighter-rouge">60_Assets/fonts/&lt;Family&gt;/vX.Y/license/</code>ì— <strong>ì‚¬ìš©ë²”ìœ„ ë©”ëª¨</strong> ë¥¼ ëª…í™•íˆ.</p>
  </li>
  <li>
    <p>íŒ€ ê³µìœ ê°€ ë¶ˆê°€í•˜ë©´, ê°œì¸ í™˜ê²½ì—ëŠ” <strong>OS ì„¤ì¹˜</strong> ë§Œ í•˜ê³  ì •ë³¸ì€ ë‚´ë¶€ ì„œë²„/ìŠ¤í† ë¦¬ì§€ì— ë‘ê¸°.</p>
  </li>
  <li>
    <p>ì™¸ë¶€ ë°°í¬ ì‹œ <code class="language-plaintext highlighter-rouge">README-LICENSE.md</code>ì— ì¶œì²˜/í—ˆìš©ë²”ìœ„/ê¸ˆì§€ì‚¬í•­ ìš”ì•½.</p>
  </li>
</ul>

<hr />

<h2 id="ì²´í¬ì„¬sha256-ë§Œë“¤ê¸°ì˜µì…˜">ì²´í¬ì„¬(SHA256) ë§Œë“¤ê¸°(ì˜µì…˜)</h2>

<p>ë²„ì „ ë£¨íŠ¸ì—ì„œ:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># macOS/Linux (sha256sum ìˆì„ ë•Œ)</span>
find <span class="nb">.</span> <span class="nt">-type</span> f <span class="o">!</span> <span class="nt">-name</span> <span class="s1">'SHA256SUMS'</span> <span class="o">!</span> <span class="nt">-name</span> <span class="s1">'.*'</span> <span class="nt">-print0</span> | xargs <span class="nt">-0</span> <span class="nb">sha256sum</span> <span class="o">&gt;</span> SHA256SUMS

<span class="c"># macOS ê¸°ë³¸(shasum) ëŒ€ì²´</span>
find <span class="nb">.</span> <span class="nt">-type</span> f <span class="o">!</span> <span class="nt">-name</span> <span class="s1">'SHA256SUMS'</span> <span class="o">!</span> <span class="nt">-name</span> <span class="s1">'.*'</span> <span class="nt">-exec</span> sh <span class="nt">-c</span> <span class="s1">'shasum -a 256 "$1" | sed "s#  #  #"'</span> _ <span class="o">{}</span> <span class="se">\;</span> <span class="o">&gt;</span> SHA256SUMS
</code></pre></div></div>

<p>Windows PowerShell:</p>
<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Remove-Item</span><span class="w"> </span><span class="nt">-Force</span><span class="w"> </span><span class="nx">SHA256SUMS</span><span class="w"> </span><span class="nt">-ErrorAction</span><span class="w"> </span><span class="nx">SilentlyContinue</span><span class="w">
</span><span class="n">Get-ChildItem</span><span class="w"> </span><span class="nt">-Recurse</span><span class="w"> </span><span class="nt">-File</span><span class="w"> </span><span class="nt">-Force</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Where-Object</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="bp">$_</span><span class="o">.</span><span class="nf">Name</span><span class="w"> </span><span class="o">-ne</span><span class="w"> </span><span class="s1">'SHA256SUMS'</span><span class="w"> </span><span class="o">-and</span><span class="w"> </span><span class="o">-not</span><span class="w"> </span><span class="bp">$_</span><span class="o">.</span><span class="nf">Name</span><span class="o">.</span><span class="nf">StartsWith</span><span class="p">(</span><span class="s1">'.'</span><span class="p">)</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">|</span><span class="w">
  </span><span class="n">ForEach-Object</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nv">$h</span><span class="o">=</span><span class="p">(</span><span class="n">Get-FileHash</span><span class="w"> </span><span class="bp">$_</span><span class="o">.</span><span class="nf">FullName</span><span class="w"> </span><span class="nt">-Algorithm</span><span class="w"> </span><span class="nx">SHA256</span><span class="p">)</span><span class="o">.</span><span class="nf">Hash</span><span class="o">.</span><span class="nf">ToLower</span><span class="p">()</span><span class="w">
    </span><span class="nv">$rel</span><span class="o">=</span><span class="bp">$_</span><span class="o">.</span><span class="nf">FullName</span><span class="o">.</span><span class="nf">Substring</span><span class="p">((</span><span class="n">Get-Location</span><span class="p">)</span><span class="o">.</span><span class="nf">Path</span><span class="o">.</span><span class="nf">Length</span><span class="o">+</span><span class="nx">1</span><span class="p">)</span><span class="o">.</span><span class="nf">Replace</span><span class="p">(</span><span class="s1">'\'</span><span class="p">,</span><span class="s1">'/'</span><span class="p">)</span><span class="w">
    </span><span class="s2">"</span><span class="nv">$h</span><span class="s2">  </span><span class="nv">$rel</span><span class="s2">"</span><span class="w">
  </span><span class="p">}</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Set-Content</span><span class="w"> </span><span class="nt">-NoNewline</span><span class="w"> </span><span class="nx">SHA256SUMS</span><span class="w">
</span></code></pre></div></div>

<hr />

<h2 id="ë¹ ë¥¸-ì²´í¬ë¦¬ìŠ¤íŠ¸">ë¹ ë¥¸ ì²´í¬ë¦¬ìŠ¤íŠ¸</h2>

<ul>
  <li>
    <p>í°íŠ¸ ì •ë³¸: <strong><code class="language-plaintext highlighter-rouge">60_Assets/fonts</code></strong> (ë²„ì „Â·ë¼ì´ì„ ìŠ¤ ë™ë´‰)</p>
  </li>
  <li>
    <p>í”„ë¡œì íŠ¸: <strong>ë¹Œë“œì‹œ ë™ê¸°í™”/ë³µì‚¬</strong> ë˜ëŠ” <strong>ëŸ°íƒ€ì„ ë¡œë“œ</strong>(ì •ë³¸ì€ ê±´ë“œë¦¬ì§€ ì•Šê¸°)</p>
  </li>
  <li>
    <p>ì›¹: <strong>WOFF2 +<code class="language-plaintext highlighter-rouge">font-display: swap</code></strong>, ì‹œìŠ¤í…œ í°íŠ¸ ì ì ˆí•œ í´ë°±</p>
  </li>
  <li>
    <p>ë°ìŠ¤í¬íƒ‘: ì• í”Œë¦¬ì¼€ì´ì…˜ ë²ˆë“¤ì— í¬í•¨í•˜ë©´ <strong>ë¼ì´ì„ ìŠ¤ í™•ì¸ í•„ìˆ˜</strong></p>
  </li>
  <li>
    <p>ì„œë¸Œì…‹/ê°€ë³€ í°íŠ¸ë¡œ <strong>ìš©ëŸ‰ ìµœì í™”</strong> , í•„ìš” ì‹œ ìŠ¤í¬ë¦½íŠ¸í™”</p>
  </li>
</ul>

<p>ì›í•˜ë©´ ë„¤ê°€ ì“°ëŠ” í°íŠ¸ íŒ¨ë°€ë¦¬(ì˜ˆ: Pretendard, Noto Sans KR) ê¸°ì¤€ìœ¼ë¡œ<br />
<strong>ì´ˆê¸° íŠ¸ë¦¬ + ë¹Œë“œ ë™ê¸°í™” ìŠ¤í¬ë¦½íŠ¸</strong>(bash/PowerShell/tcsh)ê¹Œì§€ ë§Œë“¤ì–´ì¤„ê²Œ.</p>

<p class="chat--user">

ë‹¤ìš´ë¡œë“œ íŒŒì¼ë“¤ ì €ì¥í•  í´ë”ë„ ì¶”ê°€í•´ì¤˜

</p>

<p>ì¢‹ì•„, <strong>ë‹¤ìš´ë¡œë“œ ì „ìš© ì°©ë¥™ì§€(Landing Zone)</strong>ë¥¼ ì¶”ê°€í•˜ì.<br />
ê¸°ì¡´ <code class="language-plaintext highlighter-rouge">00_Inbox</code>(ìˆ˜ì‘ì—… ìŠ¤í¬ë©/ì„ì‹œ)ì™€ êµ¬ë¶„í•´ì„œ, <strong>ë¸Œë¼ìš°ì €/CLIê°€ ë‚´ë ¤ë°›ëŠ” íŒŒì¼</strong> ì€ ì—¬ê¸°ë¡œ ëª¨ìœ¼ê³  ì •ë¦¬ í›„ ê° â€œì •ë³¸ ìœ„ì¹˜â€ë¡œ ì´ë™í•˜ëŠ” íë¦„ì´ ê¹”ë”í•´.</p>

<hr />

<h2 id="ì¶”ê°€-íŠ¸ë¦¬-ë³µë¶™ìš©--ì˜ë¬¸-í´ë”ëª…--í•œê¸€-ì„¤ëª…">ì¶”ê°€ íŠ¸ë¦¬ (ë³µë¶™ìš©) â€” <em>ì˜ë¬¸ í´ë”ëª… + í•œê¸€ ì„¤ëª…</em></h2>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Work/
â”œâ”€ 05_Downloads/                               - ë‹¤ìš´ë¡œë“œ ì°©ë¥™ì§€(Landing Zone, ì •ë¦¬ ì „ ì„ì‹œ)
â”‚  â”œâ”€ _inbox/                                  - ë¸Œë¼ìš°ì €/íˆ´ ê¸°ë³¸ ì €ì¥ ê²½ë¡œ(ì •ë¦¬ ì „)
â”‚  â”œâ”€ installers/                              - ì„¤ì¹˜ íŒŒì¼ ì„ì‹œ(.exe/.msi/.pkg/.dmg/.whl/.zip)
â”‚  â”œâ”€ datasets/                                - ë°ì´í„°ì…‹ ì••ì¶•/CSV ì„ì‹œ(í•´ì œ ì „)
â”‚  â”œâ”€ manuals/                                 - ë§¤ë‰´ì–¼/ê°€ì´ë“œ PDF/HTML ì„ì‹œ
â”‚  â”œâ”€ assets/                                  - í°íŠ¸/ì•„ì´ì½˜/í…œí”Œë¦¿ ë“± ì„ì‹œ
â”‚  â”œâ”€ quarantine/                              - ì˜ì‹¬ íŒŒì¼(ê²€ì‚¬ ì „ ê²©ë¦¬)
â”‚  â””â”€ README_SORTING.md                        - ë¶„ë¥˜ ê·œì¹™ ìš”ì•½(ì–´ë””ë¡œ ì˜®ê¸¸ì§€ ì•ˆë‚´)
â”œâ”€ 10_Today/
â”œâ”€ 20_Projects/
â”œâ”€ 25_Jobs/
â”œâ”€ 26_Datasets/
â”œâ”€ 30_Areas/
â”œâ”€ 31_Labs/
â”œâ”€ 32_SharedConfigs/
â”œâ”€ 40_Resources/
â”œâ”€ 50_Snippets/
â”œâ”€ 60_Assets/
â”œâ”€ 70_Exports/
â”œâ”€ 75_Releases/
â”œâ”€ 80_Tools/
â”œâ”€ 85_Environments/
â”œâ”€ 90_PersonalConfigs/
â””â”€ 99_Archive/
</code></pre></div></div>

<hr />

<h2 id="ë¼ìš°íŒ…-ê·œì¹™ë‹¤ìš´ë¡œë“œ--ì •ë³¸-ìœ„ì¹˜">ë¼ìš°íŒ… ê·œì¹™(ë‹¤ìš´ë¡œë“œ â†’ ì •ë³¸ ìœ„ì¹˜)</h2>

<table>
  <thead>
    <tr>
      <th>ë¶„ë¥˜(05_Downloads í•˜ìœ„)</th>
      <th>ì •ë¦¬ ì™„ë£Œ ì‹œ ìµœì¢… ìœ„ì¹˜(ì •ë³¸)</th>
      <th>ë¹„ê³ </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>installers/</strong></td>
      <td><code class="language-plaintext highlighter-rouge">80_Tools/installers/</code></td>
      <td>ë²„ì „Â·ì²´í¬ì„¬ ê¸°ë¡(install_notes.md, SHA256)</td>
    </tr>
    <tr>
      <td><strong>datasets/</strong></td>
      <td><code class="language-plaintext highlighter-rouge">26_Datasets/datasets/&lt;name&gt;/vYYYY.MMDD/{rawâ†’processed}</code></td>
      <td>ì••ì¶• í•´ì œ í›„ manifest.yml ì‘ì„±</td>
    </tr>
    <tr>
      <td><strong>manuals/</strong></td>
      <td><code class="language-plaintext highlighter-rouge">40_Resources/manuals/&lt;vendor&gt;/&lt;product&gt;/&lt;version&gt;/</code></td>
      <td>PDF/HTML/MD</td>
    </tr>
    <tr>
      <td><strong>assets/</strong> (í°íŠ¸ ë“±)</td>
      <td><code class="language-plaintext highlighter-rouge">60_Assets/fonts/â€¦</code> <code class="language-plaintext highlighter-rouge">60_Assets/...</code></td>
      <td>ë¼ì´ì„ ìŠ¤ ë™ë´‰, ë²„ì „ í´ë” ìœ ì§€</td>
    </tr>
    <tr>
      <td><strong>_inbox/</strong> ê¸°íƒ€</td>
      <td>ìš©ë„ì— ë”°ë¼ ìœ„ ì¹´í…Œê³ ë¦¬ë¡œ ì´ë™</td>
      <td>ìŠ¤í¬ë¦°ìƒ·/ë©”ëª¨ëŠ” <code class="language-plaintext highlighter-rouge">00_Inbox</code>ê°€ ë” ì í•©</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p>ì›ì¹™: <strong>05_DownloadsëŠ” ì„ì‹œ</strong>. ì •ë¦¬ ëë‚˜ë©´ <strong>ë¹„ì›Œì„œ ê°€ë³ê²Œ</strong> ìœ ì§€!</p>
</blockquote>

<hr />

<h2 id="ë¸Œë¼ìš°ì €íˆ´-ì—°ë™ì„ íƒ">ë¸Œë¼ìš°ì €/íˆ´ ì—°ë™(ì„ íƒ)</h2>

<ul>
  <li>
    <p><strong>ê¸°ë³¸ ë‹¤ìš´ë¡œë“œ ê²½ë¡œ</strong> ë¥¼ <code class="language-plaintext highlighter-rouge">Work/05_Downloads/_inbox</code>ë¡œ ì§€ì •.</p>
  </li>
  <li>
    <p>ì‹œìŠ¤í…œ â€œë‹¤ìš´ë¡œë“œâ€ í´ë”ë¥¼ ë°”ê¾¸ê³  ì‹¶ë‹¤ë©´, <strong>ì‹¬ë³¼ë¦­ ë§í¬</strong> ë¡œ ì—°ê²°:</p>
  </li>
</ul>

<p><strong>macOS/Linux</strong></p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># ê¸°ì¡´ ~/Downloadsë¥¼ ë°±ì—…/ì‚­ì œ í›„ Today ì°©ë¥™ì§€ë¡œ ë§í¬</span>
<span class="nb">mv</span> ~/Downloads ~/Downloads.bak 2&gt;/dev/null <span class="o">||</span> <span class="nb">true
ln</span> <span class="nt">-s</span> <span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/Work/05_Downloads/_inbox"</span> <span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/Downloads"</span>
</code></pre></div></div>

<p><strong>Windows (PowerShell ê´€ë¦¬ì)</strong></p>
<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">ren</span><span class="w"> </span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Downloads"</span><span class="w"> </span><span class="nx">Downloads.bak</span><span class="w">
</span><span class="n">cmd</span><span class="w"> </span><span class="nx">/c</span><span class="w"> </span><span class="nx">mklink</span><span class="w"> </span><span class="nx">/D</span><span class="w"> </span><span class="s2">"%USERPROFILE%\Downloads"</span><span class="w"> </span><span class="s2">"%USERPROFILE%\Work\05_Downloads\_inbox"</span><span class="w">
</span></code></pre></div></div>

<blockquote>
  <p>ë¶€ë‹´ë˜ë©´, ë¸Œë¼ìš°ì €(Chrome/Edge/Firefox)ì—ì„œ <strong>í•´ë‹¹ ê²½ë¡œë§Œ ê¸°ë³¸ í´ë”ë¡œ</strong> ì§€ì •í•´ë„ ì¶©ë¶„.</p>
</blockquote>

<hr />

<h2 id="ì£¼ê°„-ì •ë¦¬-ë£¨í‹´ê°€ë³ê²Œ">ì£¼ê°„ ì •ë¦¬ ë£¨í‹´(ê°€ë³ê²Œ)</h2>

<ol>
  <li>
    <p><strong>installers/</strong> â†’ <code class="language-plaintext highlighter-rouge">80_Tools/installers/</code>ë¡œ ì´ë™ + <code class="language-plaintext highlighter-rouge">install_notes.md</code> ì—…ë°ì´íŠ¸</p>
  </li>
  <li>
    <p><strong>datasets/</strong> â†’ ì••ì¶• í•´ì œ â†’ <code class="language-plaintext highlighter-rouge">26_Datasets/datasets/&lt;name&gt;/vYYYY.MMDD/raw</code>ì— ë°°ì¹˜</p>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">manifest.yml</code> ì´ˆì•ˆ ì‘ì„±, <code class="language-plaintext highlighter-rouge">SHA256SUMS</code> ìƒì„±(ë¬´ê²°ì„±)</li>
    </ul>
  </li>
  <li>
    <p><strong>manuals/</strong> â†’ <code class="language-plaintext highlighter-rouge">40_Resources/manuals/...</code>ë¡œ ì´ë™</p>
  </li>
  <li>
    <p><strong>assets/</strong>(í°íŠ¸ ë“±) â†’ <code class="language-plaintext highlighter-rouge">60_Assets/...</code>ë¡œ ì´ë™</p>
  </li>
  <li>
    <p><strong>_inbox/</strong> â†’ ë¹„ìš°ê¸°(ë¶ˆí•„ìš” íŒŒì¼ ì‚­ì œ, ê¸°íƒ€ëŠ” ì ì ˆí•œ ê³³ìœ¼ë¡œ ë¼ìš°íŒ…)</p>
  </li>
  <li>
    <p><strong>quarantine/</strong> â†’ ë°”ì´ëŸ¬ìŠ¤/ì •ì±… ê²€ì‚¬ í›„ ì²˜ë¦¬</p>
  </li>
</ol>

<hr />

<h2 id="todayëŸ°ì²˜ì—-í•œ-ì¤„-ì¶”ê°€ì„ íƒ">today/ëŸ°ì²˜ì— í•œ ì¤„ ì¶”ê°€(ì„ íƒ)</h2>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Sort downloads       | 05_Downloads               | ${EDITOR:-vi} README_SORTING.md
Open installers box  | 80_Tools/installers        | ls -al
</code></pre></div></div>

<hr />

<h2 id="ì‚¬ìš©-ì‹œ-ì£¼ìš”-ì£¼ì˜ì ">ì‚¬ìš© ì‹œ ì£¼ìš” ì£¼ì˜ì </h2>

<ul>
  <li>
    <p><strong>ì •ë³¸ì€ ê° ì „ìš© í´ë”</strong> : 05_DownloadsëŠ” <strong>ì ˆëŒ€ ì •ë³¸ ë³´ê´€ì†Œê°€ ì•„ë‹˜</strong>. ì •ë¦¬ í›„ ë°˜ë“œì‹œ ì´ë™.</p>
  </li>
  <li>
    <p><strong>ì²´í¬ì„¬/ë©”íƒ€</strong> : ë°ì´í„°ì…‹Â·ì„¤ì¹˜íŒŒì¼ì€ ì´ë™ ì „ì— <strong>SHA256SUMS</strong> ìƒì„±, <code class="language-plaintext highlighter-rouge">manifest.yml</code>/<code class="language-plaintext highlighter-rouge">install_notes.md</code> ê¸°ë¡.</p>
  </li>
  <li>
    <p><strong>ë³´ì•ˆ</strong> : ì•Œ ìˆ˜ ì—†ëŠ” íŒŒì¼ì€ <strong>quarantine/</strong>ë¡œ ì˜®ê²¨ ê²€ì‚¬ í›„ ì‚¬ìš©.</p>
  </li>
  <li>
    <p><strong>ìš©ëŸ‰ ê´€ë¦¬</strong> : <code class="language-plaintext highlighter-rouge">_inbox</code>ì™€ <code class="language-plaintext highlighter-rouge">datasets</code>ì˜ ì••ì¶•ë³¸ì€ <strong>í•´ì œ í›„ ì‚­ì œ</strong>(ì •ë³¸ì€ 26_Datasets).</p>
  </li>
  <li>
    <p><strong>.gitignore</strong> : Workë¥¼ ë ˆí¬ë¡œ ê´€ë¦¬í•œë‹¤ë©´ <code class="language-plaintext highlighter-rouge">05_Downloads/**</code>ëŠ” ë°˜ë“œì‹œ <strong>ë¬´ì‹œ</strong>.</p>
  </li>
  <li>
    <p><strong>ì¤‘ë³µ ë°©ì§€</strong> : ë™ì¼ íŒŒì¼ì´ ì •ë³¸ ìœ„ì¹˜ì— ìˆìœ¼ë©´ <strong>ë³µì‚¬ ê¸ˆì§€</strong> , ë®ì–´ì“°ê¸° ëŒ€ì‹  <strong>ë²„ì „ í´ë”</strong> ì‚¬ìš©.</p>
  </li>
</ul>

<p>í•„ìš”í•˜ë©´ 05_Downloadsì—ì„œ <strong>ìë™ ë¶„ë¥˜(installers/datasets/manuals/â€¦)</strong> í•˜ê³ <br />
ì •ë³¸ ìœ„ì¹˜ë¡œ ì˜®ê¸°ë©´ì„œ <strong>ì²´í¬ì„¬ê¹Œì§€ ìƒì„±</strong> í•˜ëŠ” ìŠ¤ìœ• ìŠ¤í¬ë¦½íŠ¸(bash/PowerShell/tcsh)ë„ ë§Œë“¤ì–´ì¤„ê²Œ.</p>

<p class="chat--user">

ì˜¤ ìƒê°ë³´ë‹¤ ë¹ ë¥¸ ë²ˆí˜¸ë„¤ ë‚˜ëŠ” 98 ì •ë„ ìƒê°í–ˆì–´

</p>

<p>ì¢‹ì•„, ë²ˆí˜¸ëŠ” <strong>ì·¨í–¥/ìš´ì˜ ì² í•™</strong> ë¬¸ì œë¼ 05ë“  98ì´ë“  OKì•¼.<br />
ì•„ë˜ì²˜ëŸ¼ <strong>ì¥ë‹¨ì  ë¹„êµ â†’ 98ë¡œ ì“¸ ë•Œì˜ ìµœì¢…ì•ˆ(íŠ¸ë¦¬/ê·œì¹™/ë¦¬ë„¤ì„ ëª…ë ¹)</strong>ê¹Œì§€ í•œ ë²ˆì— ì •ë¦¬í•´ì¤„ê²Œ.</p>

<hr />

<h2 id="ì–´ë–¤-ë²ˆí˜¸ê°€-ì¢‹ì„ê¹Œ-ì§§ì€-íŒë‹¨-ê¸°ì¤€">ì–´ë–¤ ë²ˆí˜¸ê°€ ì¢‹ì„ê¹Œ? (ì§§ì€ íŒë‹¨ ê¸°ì¤€)</h2>

<ol>
  <li>
    <p><strong>05_Downloads (ìƒë‹¨ ë°°ì¹˜)</strong></p>

    <ul>
      <li>
        <p>ì¥ì : íŒŒì¼ íƒìƒ‰ê¸°ì—ì„œ í•­ìƒ <strong>ë§¨ ìœ„</strong> ì— ë³´ì—¬ì„œ â€œë°›ìë§ˆì ë¶„ë¥˜â€ê°€ ì‰¬ì›€.</p>
      </li>
      <li>
        <p>ë‹¨ì : ìƒë‹¨ì´ ë³µì¡í•´ ë³´ì¼ ìˆ˜ ìˆìŒ.</p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>98_Downloads (í•˜ë‹¨ ë°°ì¹˜)</strong> â† ë„¤ê°€ ì„ í˜¸</p>

    <ul>
      <li>
        <p>ì¥ì : <strong>ì‘ì—… íŠ¸ë¦¬ì˜ ë§ë¯¸</strong> ì— ìˆì–´ ì‹œê°ì  ì†ŒìŒ â†“, â€œì„ì‹œ/ì •ë¦¬ëŒ€ìƒâ€ ëŠë‚Œì´ ë¶„ëª….</p>
      </li>
      <li>
        <p>ë‹¨ì : ìŠ¤í¬ë¡¤ì´ ì¡°ê¸ˆ ëŠ˜ì–´ë‚¨. (ëŒ€ì‹  ë¸Œë¼ìš°ì € ê¸°ë³¸ê²½ë¡œë§Œ ì˜ ë§ì¶”ë©´ ë¬¸ì œ ì—†ìŒ)</p>
      </li>
    </ul>
  </li>
</ol>

<blockquote>
  <p>ê²°ë¡ : <strong>98ë„ ì¶©ë¶„íˆ í•©ë¦¬ì </strong>. â€œì„ì‹œÂ·ì •ë¦¬ëŒ€ìƒâ€ì„ ë’¤ë¡œ ë¯¸ë£¨ê³  ì‹¶ë‹¤ë©´ 98ì´ ì¢‹ì•„.</p>
</blockquote>

<hr />

<h2 id="98ë¡œ-ì“°ëŠ”-ìµœì¢…ì•ˆ-ë³µë¶™ìš©">98ë¡œ ì“°ëŠ” ìµœì¢…ì•ˆ (ë³µë¶™ìš©)</h2>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Work/
â”œâ”€ 00_Inbox/                                  - ìˆ˜ì‘ì—… ìŠ¤í¬ë©/ì„ì‹œ(ë…¸íŠ¸Â·ìŠ¤í¬ë¦°ìƒ·)
â”œâ”€ 10_Today/
â”œâ”€ 20_Projects/
â”œâ”€ 25_Jobs/
â”œâ”€ 26_Datasets/
â”œâ”€ 30_Areas/
â”œâ”€ 31_Labs/
â”œâ”€ 32_SharedConfigs/
â”œâ”€ 40_Resources/
â”œâ”€ 50_Snippets/
â”œâ”€ 60_Assets/
â”œâ”€ 70_Exports/
â”œâ”€ 75_Releases/
â”œâ”€ 80_Tools/
â”œâ”€ 85_Environments/
â”œâ”€ 90_PersonalConfigs/
â”œâ”€ 98_Downloads/                              - ë‹¤ìš´ë¡œë“œ ì°©ë¥™ì§€(Landing Zone, ì •ë¦¬ ì „ ì„ì‹œ)
â”‚  â”œâ”€ _inbox/                                 - ë¸Œë¼ìš°ì €/íˆ´ ê¸°ë³¸ ì €ì¥ ê²½ë¡œ
â”‚  â”œâ”€ installers/                             - ì„¤ì¹˜ íŒŒì¼(.exe/.msi/.pkg/.dmg/.whl/.zip)
â”‚  â”œâ”€ datasets/                               - ë°ì´í„°ì…‹ ì••ì¶•/CSV ì„ì‹œ(í•´ì œ ì „)
â”‚  â”œâ”€ manuals/                                - ë§¤ë‰´ì–¼/ê°€ì´ë“œ PDF/HTML ì„ì‹œ
â”‚  â”œâ”€ assets/                                 - í°íŠ¸/ì•„ì´ì½˜/í…œí”Œë¦¿ ë“± ì„ì‹œ
â”‚  â”œâ”€ quarantine/                             - ì˜ì‹¬ íŒŒì¼(ê²€ì‚¬ ì „ ê²©ë¦¬)
â”‚  â””â”€ README_SORTING.md                       - ë¶„ë¥˜ ê·œì¹™ ìš”ì•½(ìµœì¢… ìœ„ì¹˜ ì•ˆë‚´)
â””â”€ 99_Archive/
</code></pre></div></div>

<h3 id="ë¼ìš°íŒ…-ê·œì¹™ë³€ê²½-ì—†ìŒ-í´ë”ë§Œ-98ë¡œ-êµì²´">ë¼ìš°íŒ… ê·œì¹™(ë³€ê²½ ì—†ìŒ, í´ë”ë§Œ 98ë¡œ êµì²´)</h3>

<table>
  <thead>
    <tr>
      <th>98_Downloads í•˜ìœ„</th>
      <th>ì •ë³¸ ìµœì¢… ìœ„ì¹˜</th>
      <th>ë¹„ê³ </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>installers/</td>
      <td><code class="language-plaintext highlighter-rouge">80_Tools/installers/</code></td>
      <td>ë²„ì „Â·ì²´í¬ì„¬ <code class="language-plaintext highlighter-rouge">install_notes.md</code>, <code class="language-plaintext highlighter-rouge">SHA256SUMS</code></td>
    </tr>
    <tr>
      <td>datasets/</td>
      <td><code class="language-plaintext highlighter-rouge">26_Datasets/datasets/&lt;name&gt;/vYYYY.MMDD/{rawâ†’processed}</code></td>
      <td><code class="language-plaintext highlighter-rouge">manifest.yml</code> ì‘ì„±</td>
    </tr>
    <tr>
      <td>manuals/</td>
      <td><code class="language-plaintext highlighter-rouge">40_Resources/manuals/&lt;vendor&gt;/&lt;product&gt;/&lt;version&gt;/</code></td>
      <td>Â </td>
    </tr>
    <tr>
      <td>assets/</td>
      <td><code class="language-plaintext highlighter-rouge">60_Assets/...</code></td>
      <td>í°íŠ¸ëŠ” <code class="language-plaintext highlighter-rouge">60_Assets/fonts/...</code></td>
    </tr>
    <tr>
      <td>_inbox/ ê¸°íƒ€</td>
      <td>ìƒí™©ì— ë§ê²Œ ìœ„ ì¹´í…Œê³ ë¦¬ë¡œ ì´ë™</td>
      <td>Â </td>
    </tr>
  </tbody>
</table>

<hr />

<h2 id="ì•ˆì „í•œ-ë¦¬ë„¤ì„--ë¸Œë¼ìš°ì €-ì—°ë™">ì•ˆì „í•œ ë¦¬ë„¤ì„ &amp; ë¸Œë¼ìš°ì € ì—°ë™</h2>

<h3 id="macoslinux-bashzsh-1">macOS/Linux (bash/zsh)</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> ~/Work
<span class="nb">mkdir</span> <span class="nt">-p</span> 98_Downloads/<span class="o">{</span>_inbox,installers,datasets,manuals,assets,quarantine<span class="o">}</span>
<span class="c"># ê¸°ì¡´ 05_Downloadsë¥¼ ì¼ë‹¤ë©´:</span>
<span class="o">[</span> <span class="nt">-d</span> 05_Downloads <span class="o">]</span> <span class="o">&amp;&amp;</span> <span class="nb">mv </span>05_Downloads/<span class="k">*</span> 98_Downloads/ <span class="o">&amp;&amp;</span> <span class="nb">rmdir </span>05_Downloads 2&gt;/dev/null <span class="o">||</span> <span class="nb">true</span>

<span class="c"># OSì˜ ~/Downloadsë¥¼ Work/98_Downloads/_inboxë¡œ ì‹¬ë³¼ë¦­ ë§í¬(ì„ íƒ)</span>
<span class="nb">mv</span> ~/Downloads ~/Downloads.bak 2&gt;/dev/null <span class="o">||</span> <span class="nb">true
ln</span> <span class="nt">-s</span> <span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/Work/98_Downloads/_inbox"</span> <span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/Downloads"</span>
</code></pre></div></div>

<h3 id="windows-powershell-3">Windows (PowerShell)</h3>
<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">New-Item</span><span class="w"> </span><span class="nt">-ItemType</span><span class="w"> </span><span class="nx">Directory</span><span class="w"> </span><span class="nt">-Force</span><span class="w"> </span><span class="nt">-Path</span><span class="w"> </span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work\98_Downloads\_inbox"</span><span class="p">,</span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work\98_Downloads\installers"</span><span class="p">,</span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work\98_Downloads\datasets"</span><span class="p">,</span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work\98_Downloads\manuals"</span><span class="p">,</span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work\98_Downloads\assets"</span><span class="p">,</span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work\98_Downloads\quarantine"</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Out-Null</span><span class="w">
</span><span class="c"># ê¸°ì¡´ 05_Downloads ì‚¬ìš©ë¶„ ì´ë™(ìˆì„ ë•Œë§Œ)</span><span class="w">
</span><span class="kr">if</span><span class="w"> </span><span class="p">(</span><span class="n">Test-Path</span><span class="w"> </span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work\05_Downloads"</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">Move-Item</span><span class="w"> </span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work\05_Downloads\*"</span><span class="w"> </span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work\98_Downloads"</span><span class="w"> </span><span class="nt">-Force</span><span class="p">;</span><span class="w"> </span><span class="n">Remove-Item</span><span class="w"> </span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work\05_Downloads"</span><span class="w"> </span><span class="nt">-Force</span><span class="w"> </span><span class="p">}</span><span class="w">

</span><span class="c"># ì‚¬ìš©ì Downloads â†’ _inbox ë§í¬(ì„ íƒ, ê´€ë¦¬ì ê¶Œì¥)</span><span class="w">
</span><span class="n">Rename-Item</span><span class="w"> </span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Downloads"</span><span class="w"> </span><span class="s2">"Downloads.bak"</span><span class="w"> </span><span class="nt">-ErrorAction</span><span class="w"> </span><span class="nx">SilentlyContinue</span><span class="w">
</span><span class="n">cmd</span><span class="w"> </span><span class="nx">/c</span><span class="w"> </span><span class="nx">mklink</span><span class="w"> </span><span class="nx">/D</span><span class="w"> </span><span class="s2">"%USERPROFILE%\Downloads"</span><span class="w"> </span><span class="s2">"%USERPROFILE%\Work\98_Downloads\_inbox"</span><span class="w">
</span></code></pre></div></div>

<blockquote>
  <p>ë¸Œë¼ìš°ì €(Chrome/Edge/Firefox)ì˜ <strong>ê¸°ë³¸ ë‹¤ìš´ë¡œë“œ í´ë”</strong> ë¥¼ <code class="language-plaintext highlighter-rouge">Work/98_Downloads/_inbox</code>ë¡œ ë°”ê¿”ë‘ë©´ ë” í¸í•¨.</p>
</blockquote>

<hr />

<h2 id="ì£¼ì˜ì ë²ˆí˜¸-ë°”ê¿”ë„-ë³€í•˜ì§€-ì•ŠëŠ”-ì›ì¹™">ì£¼ì˜ì (ë²ˆí˜¸ ë°”ê¿”ë„ ë³€í•˜ì§€ ì•ŠëŠ” ì›ì¹™)</h2>

<ul>
  <li>
    <p><strong>ì •ë³¸ì€ ê° ì „ìš© í´ë”</strong> : 98_DownloadsëŠ” <strong>ì„ì‹œ ì°©ë¥™ì§€</strong> ì¼ ë¿. ì •ë¦¬ í›„ ë°˜ë“œì‹œ</p>

    <ul>
      <li>
        <p>ì„¤ì¹˜íŒŒì¼ â†’ <code class="language-plaintext highlighter-rouge">80_Tools/installers/</code></p>
      </li>
      <li>
        <p>ë°ì´í„°ì…‹ â†’ <code class="language-plaintext highlighter-rouge">26_Datasets/...</code></p>
      </li>
      <li>
        <p>ë§¤ë‰´ì–¼ â†’ <code class="language-plaintext highlighter-rouge">40_Resources/manuals/...</code></p>
      </li>
      <li>
        <p>ìì‚°(í°íŠ¸ ë“±) â†’ <code class="language-plaintext highlighter-rouge">60_Assets/...</code></p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>ì²´í¬ì„¬Â·ë©”íƒ€ í•„ìˆ˜</strong> : ë°ì´í„°ì…‹/ì„¤ì¹˜íŒŒì¼ì€ ì´ë™ ì „ì— <code class="language-plaintext highlighter-rouge">SHA256SUMS</code>/<code class="language-plaintext highlighter-rouge">manifest.yml</code>(ë°ì´í„°ì…‹), <code class="language-plaintext highlighter-rouge">install_notes.md</code>(ì„¤ì¹˜íŒŒì¼)ë¥¼ ë‚¨ê²¨ ì¬í˜„ì„± í™•ë³´.</p>
  </li>
  <li>
    <p><strong>ë³´ì•ˆ</strong> : ì¶œì²˜ ë¶ˆëª…ì€ <code class="language-plaintext highlighter-rouge">quarantine/</code>ì— ë‘ê³  ê²€ì‚¬ í›„ ì‚¬ìš©.</p>
  </li>
  <li>
    <p><strong>.gitignore</strong> : Workë¥¼ ë ˆí¬ë¡œ ê´€ë¦¬í•œë‹¤ë©´ <code class="language-plaintext highlighter-rouge">98_Downloads/**</code>ëŠ” <strong>ë¬´ì¡°ê±´ ë¬´ì‹œ</strong>.</p>
  </li>
  <li>
    <p><strong>ì •ë¦¬ ì£¼ê¸°</strong> : ì£¼ 1íšŒ <code class="language-plaintext highlighter-rouge">_inbox</code> ë¹„ìš°ê¸°, í•˜ìœ„ ì¹´í…Œê³ ë¦¬ë„ ì •ë³¸ìœ¼ë¡œ ì´ë™ í›„ ë¹„ìš°ê¸°.</p>
  </li>
</ul>

<hr />

<h2 id="ì„ íƒ-todayëŸ°ì²˜ì—-ê²½ë¡œë§Œ-êµì²´">(ì„ íƒ) today/ëŸ°ì²˜ì— ê²½ë¡œë§Œ êµì²´</h2>

<p>ê¸°ì¡´ ì˜ˆì‹œì—ì„œ <code class="language-plaintext highlighter-rouge">05_Downloads</code> â†’ <code class="language-plaintext highlighter-rouge">98_Downloads</code>ë¡œ ë°”ê¾¸ë©´ ë.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Sort downloads       | 98_Downloads               | ${EDITOR:-vi} README_SORTING.md
Open installers box  | 80_Tools/installers        | ls -al
</code></pre></div></div>

<p>ì›í•˜ë©´ <strong>ì£¼ê°„ ìë™ì •ë¦¬ ìŠ¤í¬ë¦½íŠ¸</strong>(ë‹¤ìš´ë¡œë“œ ìë™ ë¶„ë¥˜â†’ì •ë³¸ ì´ë™â†’ì²´í¬ì„¬ ìƒì„±)ë„ 98 ê²½ë¡œ ê¸°ì¤€ìœ¼ë¡œ ë§Œë“¤ì–´ì¤„ê²Œ.</p>

<p class="chat--user">

ì„ì‹œ ë³´ê´€ì†Œë¼ëŠ” ê´€ì ì—ì„œëŠ” ì•ìª½ ë²ˆí˜¸ê°€ ì–´ìš¸ë¦°ë‹¤ê³  ë³´ëŠ”ê±´ê°€

</p>

<p>ì§§ì€ ë‹µ: <strong>ë„¤. â€œì„ì‹œ ë³´ê´€ì†Œâ€ëŠ” ì•ìª½ ë²ˆí˜¸(ìƒë‹¨ ë°°ì¹˜)ê°€ ë” ì–´ìš¸ë¦½ë‹ˆë‹¤.</strong><br />
ì´ìœ ëŠ” â€œë¹¨ë¦¬ ë³´ê³  ë¹¨ë¦¬ ë¹„ìš°ê²Œâ€ ë§Œë“œëŠ” ì‹œê°ì /ë™ì„  íš¨ê³¼ê°€ ì»¤ì„œì˜ˆìš”.</p>

<h2 id="ì™œ-ì•ë²ˆí˜¸ìƒë‹¨ê°€-ìœ ë¦¬í•œê°€">ì™œ ì•ë²ˆí˜¸(ìƒë‹¨)ê°€ ìœ ë¦¬í•œê°€</h2>

<ol>
  <li>
    <p><strong>ê°€ì‹œì„± â†’ í–‰ë™ ìœ ë„</strong><br />
í´ë” íŠ¸ë¦¬ ìƒë‹¨(00~10ëŒ€)ì— ìˆìœ¼ë©´ ë§¤ì¼ ì‹œì•¼ì— ë“¤ì–´ì™€ì„œ â€œì •ë¦¬í•´ì•¼ì§€â€ê°€ ìì—°ìŠ¤ë ˆ ì‘ë™í•©ë‹ˆë‹¤.</p>
  </li>
  <li>
    <p><strong>íë¦„ ì •ë ¬</strong><br />
í•˜ë£¨ íë¦„ì´ <code class="language-plaintext highlighter-rouge">00_Inbox â†’ 05_Downloads â†’ 10_Today â†’ 20_Projects/25_Jobsâ€¦</code>ë¡œ ì´ì–´ì ¸ <strong>ìˆ˜ì§‘â†’ì •ë¦¬â†’ì§‘ì¤‘ ì‘ì—…</strong> ìˆœì„œê°€ ê¹”ë”í•´ì§‘ë‹ˆë‹¤.</p>
  </li>
  <li>
    <p><strong>ë§ˆì°° ìµœì†Œí™”</strong><br />
ë¸Œë¼ìš°ì €/íˆ´ì˜ ê¸°ë³¸ ì €ì¥ í´ë”ë¥¼ ìƒë‹¨ í´ë”ë¡œ ì§€ì •í•˜ê¸° ì‰½ê³ , ê²½ë¡œê°€ ì§§ì•„ ì¡°ì‘ì´ ë¹ ë¦…ë‹ˆë‹¤.</p>
  </li>
</ol>

<h2 id="ì–¸ì œ-ë’¤ë²ˆí˜¸í•˜ë‹¨ê°€-ë”-ë‚«ë‚˜">ì–¸ì œ ë’¤ë²ˆí˜¸(í•˜ë‹¨)ê°€ ë” ë‚«ë‚˜</h2>

<ul>
  <li>
    <p>íŠ¸ë¦¬ ìƒë‹¨ì„ â€œì—…ë¬´ í•µì‹¬ë§Œâ€ ë³´ì´ê²Œ í•˜ê³  ì‹¶ê±°ë‚˜, ë‹¤ìš´ë¡œë“œë¥¼ <strong>ìì£¼ ì•ˆ ì“°ëŠ”</strong> ê²½ìš°.</p>
  </li>
  <li>
    <p>íŒ€ ê·œì¹™/ê°œì¸ ì·¨í–¥ìƒ â€œì„ì‹œëŠ” ë’¤ë¡œ ë³´ë‚´ ì‹œê°ì  ì†ŒìŒ â†“â€ê°€ ë” í¸í•œ ê²½ìš°.<br />
â†’ ì´ëŸ° ìƒí™©ì´ë©´ <strong>98_Downloads</strong> ë„ ì¶©ë¶„íˆ í•©ë¦¬ì ì´ì—ìš”.</p>
  </li>
</ul>

<h2 id="í˜„ì‹¤ì ì¸-ê¶Œì¥ì•ˆ-ë‘˜-ì¤‘-í•˜ë‚˜">í˜„ì‹¤ì ì¸ ê¶Œì¥ì•ˆ (ë‘˜ ì¤‘ í•˜ë‚˜)</h2>

<ul>
  <li>
    <p><strong>Aì•ˆ(ìƒë‹¨ ì„ì‹œ ì¡´)</strong> :<br />
<code class="language-plaintext highlighter-rouge">00_Inbox</code>(ìˆ˜ì‘ì—… ìŠ¤í¬ë©) + <code class="language-plaintext highlighter-rouge">05_Downloads</code>(ìë™ ì°©ë¥™ì§€) + <code class="language-plaintext highlighter-rouge">10_Today</code>(ì‹¤í–‰ ëŒ€ì‹œë³´ë“œ)</p>

    <ul>
      <li>ë§¤ì¼ ì•„ì¹¨: <code class="language-plaintext highlighter-rouge">05_Downloads/_inbox</code> ë¹„ìš°ê¸° â†’ ì •ë³¸ ìœ„ì¹˜ë¡œ ì´ë™</li>
    </ul>
  </li>
  <li>
    <p><strong>Bì•ˆ(í•˜ë‹¨ ì„ì‹œ ì¡´)</strong> :<br />
<code class="language-plaintext highlighter-rouge">98_Downloads</code>ë¡œ ë‘ë˜ ë¸Œë¼ìš°ì € ê¸°ë³¸ê²½ë¡œë§Œ <code class="language-plaintext highlighter-rouge">â€¦/98_Downloads/_inbox</code>ë¡œ ê³ ì •,<br />
Today/ëŸ°ì²˜ì—ì„œ ë°”ë¡œ ì—´ ìˆ˜ ìˆê²Œ ë‹¨ì¶•ë§Œ ë‘ </p>
  </li>
</ul>

<h2 id="ê²°ì •-ê·œì¹™ê°„ë‹¨">ê²°ì • ê·œì¹™(ê°„ë‹¨)</h2>

<ul>
  <li>
    <p><strong>ë§¤ì¼/ìì£¼ ë¹„ìš¸ ê±°ë‹¤</strong> â†’ ì•ë²ˆí˜¸(05)</p>
  </li>
  <li>
    <p><strong>ê±°ì˜ ì‹ ê²½ ì•ˆ ì“°ê³  ê°€ë” ì •ë¦¬</strong> â†’ ë’·ë²ˆí˜¸(98)</p>
  </li>
  <li>
    <p>ì–´ë–¤ ë²ˆí˜¸ë¥¼ ì“°ë“  <strong>ì •ë³¸ì€ í•´ë‹¹ ì „ìš© í´ë”</strong>(26_Datasets, 80_Tools/installers, 60_Assets/fonts, 40_Resources/manualsâ€¦)ë¡œ ë°˜ë“œì‹œ ì´ë™í•˜ì„¸ìš”.</p>
  </li>
</ul>

<p>ì›í•˜ë©´ ì§€ê¸ˆ êµ¬ì¡°ë¥¼ Aì•ˆ(05) ë˜ëŠ” Bì•ˆ(98) ì¤‘ ì›í•˜ëŠ” ìª½ìœ¼ë¡œ ìµœì¢…ë³¸ íŠ¸ë¦¬ì™€ ìŠ¤í¬ë¦½íŠ¸(ë¸Œë¼ìš°ì € ê¸°ë³¸ ê²½ë¡œ ì„¤ì •/ì£¼ê°„ ìë™ì •ë¦¬)ê¹Œì§€ ë§ì¶°ì„œ ì •ë¦¬í•´ ì¤„ê²Œ.</p>

<p class="chat--user">

ìì£¼ ì •ë¦¬í•˜ëŠ”ê²Œ ë§ê¸´í•˜ì§€ë§Œ ê·€ì°®ì•„ì„œ ìŒ“ì•„ë‘ê¸´í•´ ë‚´ ì„±ê²©ìƒ;

</p>

<p>ê·¸ëŸ¼ â€œìŒ“ì´ëŠ” ì„±ê²©â€ ì „ì œë¡œ, <strong>ì† ì•ˆ ëŒ€ë„ êµ´ëŸ¬ê°€ëŠ” ìë™ ì •ë¦¬ ì„¸íŒ…</strong> ìœ¼ë¡œ ê°€ì.<br />
ì•„ë˜ ê·¸ëŒ€ë¡œ ë„£ìœ¼ë©´ <strong>ì£¼ 1íšŒ/ë§¤ì¼ ìë™ìœ¼ë¡œ</strong> <code class="language-plaintext highlighter-rouge">98_Downloads/_inbox</code>ì— ìŒ“ì¸ ê±¸ ê·œì¹™ëŒ€ë¡œ ë¶„ë¥˜Â·ì´ë™í•˜ê³ , ì²´í¬ì„¬ë„ ë‚¨ê²¨ì¤˜.</p>

<hr />

<h1 id="í•µì‹¬-ì•„ì´ë””ì–´-ê·€ì°®ìŒ-ìµœì†Œí™”">í•µì‹¬ ì•„ì´ë””ì–´ (ê·€ì°®ìŒ ìµœì†Œí™”)</h1>

<ul>
  <li>
    <p><strong>ë‹¤ìš´ë¡œë“œ ì°©ë¥™ì§€</strong> : <code class="language-plaintext highlighter-rouge">Work/98_Downloads/_inbox</code></p>
  </li>
  <li>
    <p><strong>ìë™ ìŠ¤ìœ• ê·œì¹™</strong></p>

    <ul>
      <li>
        <p>ì„¤ì¹˜íŒŒì¼( <code class="language-plaintext highlighter-rouge">.exe .msi .pkg .dmg .whl .deb .rpm .zip</code>(ì„¤ì¹˜ í‚¤ì›Œë“œ)) â†’ <code class="language-plaintext highlighter-rouge">80_Tools/installers/</code> + <code class="language-plaintext highlighter-rouge">SHA256SUMS</code> + <code class="language-plaintext highlighter-rouge">install_notes.md</code> append</p>
      </li>
      <li>
        <p>ë°ì´í„°ì…‹( <code class="language-plaintext highlighter-rouge">.csv .tsv .parquet .json .xlsx</code> / ì••ì¶• ë‚´ë¶€ì— csv/parquetê°€ ìˆìœ¼ë©´ í¬í•¨) â†’ <code class="language-plaintext highlighter-rouge">26_Datasets/_staging/YYYY-MM-DD/</code> + <code class="language-plaintext highlighter-rouge">SHA256SUMS</code></p>
      </li>
      <li>
        <table>
          <tbody>
            <tr>
              <td>ë§¤ë‰´ì–¼( <code class="language-plaintext highlighter-rouge">.pdf .chm .html .htm</code> / ì´ë¦„ì— manual</td>
              <td>guide</td>
              <td>user</td>
              <td>spec) â†’ <code class="language-plaintext highlighter-rouge">40_Resources/manuals/_incoming/</code></td>
            </tr>
          </tbody>
        </table>
      </li>
      <li>
        <p>í°íŠ¸( <code class="language-plaintext highlighter-rouge">.ttf .otf .woff .woff2</code>) â†’ <code class="language-plaintext highlighter-rouge">60_Assets/fonts/_incoming/</code></p>
      </li>
      <li>ê·¸ ì™¸ â†’ ê·¸ëŒ€ë¡œ ë‘ (ë‹¤ìŒ ìŠ¤ìœ•ì—ì„œ ì¬ì‹œë„)</li>
    </ul>
  </li>
  <li>
    <p><strong>ì‚­ì œ ê¸ˆì§€</strong> : ìë™í™”ëŠ” â€œì´ë™+ê¸°ë¡â€ë§Œ. (ì‹¤ìˆ˜ ë°©ì§€)</p>
  </li>
</ul>

<hr />

<h1 id="1-macoslinuxìš©-ìë™-ìŠ¤ìœ•-ìŠ¤í¬ë¦½íŠ¸">1) macOS/Linuxìš©: ìë™ ìŠ¤ìœ• ìŠ¤í¬ë¦½íŠ¸</h1>

<p><code class="language-plaintext highlighter-rouge">~/Work/80_Tools/scripts/sweep_downloads.sh</code></p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/usr/bin/env bash</span>
<span class="nb">set</span> <span class="nt">-euo</span> pipefail

<span class="nv">W</span><span class="o">=</span><span class="s2">"</span><span class="k">${</span><span class="nv">WORK_DIR</span><span class="k">:-</span><span class="nv">$HOME</span><span class="p">/Work</span><span class="k">}</span><span class="s2">"</span>
<span class="c"># ì°©ë¥™ì§€: 98ì´ ì—†ìœ¼ë©´ 05ë¡œ í´ë°±</span>
<span class="nv">DL</span><span class="o">=</span><span class="s2">"</span><span class="nv">$W</span><span class="s2">/98_Downloads/_inbox"</span>
<span class="o">[[</span> <span class="nt">-d</span> <span class="s2">"</span><span class="nv">$DL</span><span class="s2">"</span> <span class="o">]]</span> <span class="o">||</span> <span class="nv">DL</span><span class="o">=</span><span class="s2">"</span><span class="nv">$W</span><span class="s2">/05_Downloads/_inbox"</span>

<span class="nv">DEST_INSTALL</span><span class="o">=</span><span class="s2">"</span><span class="nv">$W</span><span class="s2">/80_Tools/installers"</span>
<span class="nv">DEST_DATA_STAGE</span><span class="o">=</span><span class="s2">"</span><span class="nv">$W</span><span class="s2">/26_Datasets/_staging/</span><span class="si">$(</span><span class="nb">date</span> +%Y-%m-%d<span class="si">)</span><span class="s2">"</span>
<span class="nv">DEST_MANUALS</span><span class="o">=</span><span class="s2">"</span><span class="nv">$W</span><span class="s2">/40_Resources/manuals/_incoming"</span>
<span class="nv">DEST_FONTS</span><span class="o">=</span><span class="s2">"</span><span class="nv">$W</span><span class="s2">/60_Assets/fonts/_incoming"</span>

<span class="nb">mkdir</span> <span class="nt">-p</span> <span class="s2">"</span><span class="nv">$DEST_INSTALL</span><span class="s2">"</span> <span class="s2">"</span><span class="nv">$DEST_DATA_STAGE</span><span class="s2">"</span> <span class="s2">"</span><span class="nv">$DEST_MANUALS</span><span class="s2">"</span> <span class="s2">"</span><span class="nv">$DEST_FONTS</span><span class="s2">"</span>

log<span class="o">()</span> <span class="o">{</span> <span class="nb">printf</span> <span class="s2">"[%s] %s</span><span class="se">\n</span><span class="s2">"</span> <span class="s2">"</span><span class="si">$(</span><span class="nb">date</span> <span class="s1">'+%F %T'</span><span class="si">)</span><span class="s2">"</span> <span class="s2">"</span><span class="nv">$*</span><span class="s2">"</span><span class="p">;</span> <span class="o">}</span>

<span class="c"># sha256 í•¨ìˆ˜ (macOS í˜¸í™˜)</span>
sha256<span class="o">()</span> <span class="o">{</span>
  <span class="k">if </span><span class="nb">command</span> <span class="nt">-v</span> <span class="nb">sha256sum</span> <span class="o">&gt;</span>/dev/null 2&gt;&amp;1<span class="p">;</span> <span class="k">then </span><span class="nb">sha256sum</span> <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span> | <span class="nb">awk</span> <span class="s1">'{print $1}'</span><span class="p">;</span>
  <span class="k">else </span>shasum <span class="nt">-a</span> 256 <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span> | <span class="nb">awk</span> <span class="s1">'{print $1}'</span><span class="p">;</span> <span class="k">fi</span>
<span class="o">}</span>

is_installer<span class="o">()</span> <span class="o">{</span>
  <span class="nb">local </span><span class="nv">f</span><span class="o">=</span><span class="s2">"</span><span class="si">$(</span><span class="nb">echo</span> <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span> | <span class="nb">tr</span> <span class="s1">'[:upper:]'</span> <span class="s1">'[:lower:]'</span><span class="si">)</span><span class="s2">"</span>
  <span class="o">[[</span> <span class="s2">"</span><span class="nv">$f</span><span class="s2">"</span> <span class="o">=</span>~ <span class="se">\.</span><span class="o">(</span>exe|msi|pkg|dmg|deb|rpm|whl<span class="o">)</span><span class="nv">$ </span><span class="o">]]</span> <span class="o">&amp;&amp;</span> <span class="k">return </span>0
  <span class="o">[[</span> <span class="s2">"</span><span class="nv">$f</span><span class="s2">"</span> <span class="o">==</span> <span class="k">*</span>.zip <span class="o">&amp;&amp;</span> <span class="s2">"</span><span class="nv">$f</span><span class="s2">"</span> <span class="o">=</span>~ <span class="o">(</span>setup|install|installer|msi|driver<span class="o">)</span> <span class="o">]]</span> <span class="o">&amp;&amp;</span> <span class="k">return </span>0
  <span class="k">return </span>1
<span class="o">}</span>

is_manual<span class="o">()</span> <span class="o">{</span>
  <span class="nb">local </span><span class="nv">f</span><span class="o">=</span><span class="s2">"</span><span class="si">$(</span><span class="nb">echo</span> <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span> | <span class="nb">tr</span> <span class="s1">'[:upper:]'</span> <span class="s1">'[:lower:]'</span><span class="si">)</span><span class="s2">"</span>
  <span class="o">[[</span> <span class="s2">"</span><span class="nv">$f</span><span class="s2">"</span> <span class="o">=</span>~ <span class="se">\.</span><span class="o">(</span>pdf|chm|html|htm<span class="o">)</span><span class="nv">$ </span><span class="o">]]</span> <span class="o">||</span> <span class="k">return </span>1
  <span class="k">return </span>0
<span class="o">}</span>

is_font<span class="o">()</span> <span class="o">{</span>
  <span class="nb">local </span><span class="nv">f</span><span class="o">=</span><span class="s2">"</span><span class="si">$(</span><span class="nb">echo</span> <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span> | <span class="nb">tr</span> <span class="s1">'[:upper:]'</span> <span class="s1">'[:lower:]'</span><span class="si">)</span><span class="s2">"</span>
  <span class="o">[[</span> <span class="s2">"</span><span class="nv">$f</span><span class="s2">"</span> <span class="o">=</span>~ <span class="se">\.</span><span class="o">(</span>ttf|otf|woff2?|ttc<span class="o">)</span><span class="nv">$ </span><span class="o">]]</span> <span class="o">&amp;&amp;</span> <span class="k">return </span>0 <span class="o">||</span> <span class="k">return </span>1
<span class="o">}</span>

zip_has_dataset<span class="o">()</span> <span class="o">{</span>
  <span class="nb">local </span><span class="nv">z</span><span class="o">=</span><span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span>
  <span class="nb">command</span> <span class="nt">-v</span> unzip <span class="o">&gt;</span>/dev/null 2&gt;&amp;1 <span class="o">||</span> <span class="k">return </span>1
  unzip <span class="nt">-l</span> <span class="s2">"</span><span class="nv">$z</span><span class="s2">"</span> | <span class="nb">awk</span> <span class="s1">'{print $4}'</span> | <span class="nb">grep</span> <span class="nt">-Eiq</span> <span class="s1">'\.(csv|tsv|json|parquet|xlsx)$'</span>
<span class="o">}</span>

is_dataset<span class="o">()</span> <span class="o">{</span>
  <span class="nb">local </span><span class="nv">f</span><span class="o">=</span><span class="s2">"</span><span class="si">$(</span><span class="nb">echo</span> <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span> | <span class="nb">tr</span> <span class="s1">'[:upper:]'</span> <span class="s1">'[:lower:]'</span><span class="si">)</span><span class="s2">"</span>
  <span class="o">[[</span> <span class="s2">"</span><span class="nv">$f</span><span class="s2">"</span> <span class="o">=</span>~ <span class="se">\.</span><span class="o">(</span>csv|tsv|json|parquet|xlsx<span class="o">)</span><span class="nv">$ </span><span class="o">]]</span> <span class="o">&amp;&amp;</span> <span class="k">return </span>0
  <span class="k">if</span> <span class="o">[[</span> <span class="s2">"</span><span class="nv">$f</span><span class="s2">"</span> <span class="o">==</span> <span class="k">*</span>.zip <span class="o">||</span> <span class="s2">"</span><span class="nv">$f</span><span class="s2">"</span> <span class="o">==</span> <span class="k">*</span>.tar.gz <span class="o">||</span> <span class="s2">"</span><span class="nv">$f</span><span class="s2">"</span> <span class="o">==</span> <span class="k">*</span>.tgz <span class="o">]]</span><span class="p">;</span> <span class="k">then
    </span>zip_has_dataset <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span> <span class="o">&amp;&amp;</span> <span class="k">return </span>0
  <span class="k">fi
  return </span>1
<span class="o">}</span>

append_install_notes<span class="o">()</span> <span class="o">{</span>
  <span class="nb">local </span><span class="nv">file</span><span class="o">=</span><span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span> <span class="nv">sha</span><span class="o">=</span><span class="s2">"</span><span class="nv">$2</span><span class="s2">"</span>
  <span class="nb">local </span><span class="nv">notes</span><span class="o">=</span><span class="s2">"</span><span class="nv">$DEST_INSTALL</span><span class="s2">/install_notes.md"</span>
  <span class="o">[[</span> <span class="nt">-f</span> <span class="s2">"</span><span class="nv">$notes</span><span class="s2">"</span> <span class="o">]]</span> <span class="o">||</span> <span class="nb">printf</span> <span class="s2">"# Installers notes</span><span class="se">\n\n</span><span class="s2">"</span> <span class="o">&gt;</span> <span class="s2">"</span><span class="nv">$notes</span><span class="s2">"</span>
  <span class="nb">printf</span> <span class="s2">"- %s  </span><span class="se">\`</span><span class="s2">%s</span><span class="se">\`</span><span class="s2">  sha256=%s</span><span class="se">\n</span><span class="s2">"</span> <span class="s2">"</span><span class="si">$(</span><span class="nb">date</span> <span class="s1">'+%F %T'</span><span class="si">)</span><span class="s2">"</span> <span class="s2">"</span><span class="si">$(</span><span class="nb">basename</span> <span class="s2">"</span><span class="nv">$file</span><span class="s2">"</span><span class="si">)</span><span class="s2">"</span> <span class="s2">"</span><span class="nv">$sha</span><span class="s2">"</span> <span class="o">&gt;&gt;</span> <span class="s2">"</span><span class="nv">$notes</span><span class="s2">"</span>
<span class="o">}</span>

<span class="c"># ë©”ì¸ ë£¨í”„</span>
<span class="nb">shopt</span> <span class="nt">-s</span> nullglob
<span class="nv">found_any</span><span class="o">=</span>0
<span class="k">for </span>p <span class="k">in</span> <span class="s2">"</span><span class="nv">$DL</span><span class="s2">"</span>/<span class="k">*</span><span class="p">;</span> <span class="k">do</span>
  <span class="o">[[</span> <span class="nt">-f</span> <span class="s2">"</span><span class="nv">$p</span><span class="s2">"</span> <span class="o">]]</span> <span class="o">||</span> <span class="k">continue
  </span><span class="nv">found_any</span><span class="o">=</span>1
  <span class="nv">base</span><span class="o">=</span><span class="s2">"</span><span class="si">$(</span><span class="nb">basename</span> <span class="s2">"</span><span class="nv">$p</span><span class="s2">"</span><span class="si">)</span><span class="s2">"</span>
  <span class="k">if </span>is_installer <span class="s2">"</span><span class="nv">$p</span><span class="s2">"</span><span class="p">;</span> <span class="k">then
    </span><span class="nb">mv</span> <span class="nt">-n</span> <span class="s2">"</span><span class="nv">$p</span><span class="s2">"</span> <span class="s2">"</span><span class="nv">$DEST_INSTALL</span><span class="s2">/</span><span class="nv">$base</span><span class="s2">"</span>
    <span class="nv">sha</span><span class="o">=</span><span class="si">$(</span>sha256 <span class="s2">"</span><span class="nv">$DEST_INSTALL</span><span class="s2">/</span><span class="nv">$base</span><span class="s2">"</span><span class="si">)</span>
    <span class="nb">echo</span> <span class="s2">"</span><span class="nv">$sha</span><span class="s2">  </span><span class="si">$(</span><span class="nb">basename</span> <span class="s2">"</span><span class="nv">$base</span><span class="s2">"</span><span class="si">)</span><span class="s2">"</span> <span class="o">&gt;&gt;</span> <span class="s2">"</span><span class="nv">$DEST_INSTALL</span><span class="s2">/SHA256SUMS"</span>
    append_install_notes <span class="s2">"</span><span class="nv">$DEST_INSTALL</span><span class="s2">/</span><span class="nv">$base</span><span class="s2">"</span> <span class="s2">"</span><span class="nv">$sha</span><span class="s2">"</span>
    log <span class="s2">"INSTALLER â†’ </span><span class="nv">$DEST_INSTALL</span><span class="s2">/</span><span class="nv">$base</span><span class="s2">"</span>
  <span class="k">elif </span>is_dataset <span class="s2">"</span><span class="nv">$p</span><span class="s2">"</span><span class="p">;</span> <span class="k">then
    </span><span class="nb">mkdir</span> <span class="nt">-p</span> <span class="s2">"</span><span class="nv">$DEST_DATA_STAGE</span><span class="s2">"</span>
    <span class="nb">mv</span> <span class="nt">-n</span> <span class="s2">"</span><span class="nv">$p</span><span class="s2">"</span> <span class="s2">"</span><span class="nv">$DEST_DATA_STAGE</span><span class="s2">/</span><span class="nv">$base</span><span class="s2">"</span>
    <span class="nv">sha</span><span class="o">=</span><span class="si">$(</span>sha256 <span class="s2">"</span><span class="nv">$DEST_DATA_STAGE</span><span class="s2">/</span><span class="nv">$base</span><span class="s2">"</span><span class="si">)</span>
    <span class="nb">echo</span> <span class="s2">"</span><span class="nv">$sha</span><span class="s2">  </span><span class="si">$(</span><span class="nb">basename</span> <span class="s2">"</span><span class="nv">$base</span><span class="s2">"</span><span class="si">)</span><span class="s2">"</span> <span class="o">&gt;&gt;</span> <span class="s2">"</span><span class="nv">$DEST_DATA_STAGE</span><span class="s2">/SHA256SUMS"</span>
    log <span class="s2">"DATASET â†’ </span><span class="nv">$DEST_DATA_STAGE</span><span class="s2">/</span><span class="nv">$base</span><span class="s2">"</span>
  <span class="k">elif </span>is_manual <span class="s2">"</span><span class="nv">$p</span><span class="s2">"</span><span class="p">;</span> <span class="k">then
    </span><span class="nb">mv</span> <span class="nt">-n</span> <span class="s2">"</span><span class="nv">$p</span><span class="s2">"</span> <span class="s2">"</span><span class="nv">$DEST_MANUALS</span><span class="s2">/</span><span class="nv">$base</span><span class="s2">"</span>
    log <span class="s2">"MANUAL â†’ </span><span class="nv">$DEST_MANUALS</span><span class="s2">/</span><span class="nv">$base</span><span class="s2">"</span>
  <span class="k">elif </span>is_font <span class="s2">"</span><span class="nv">$p</span><span class="s2">"</span><span class="p">;</span> <span class="k">then
    </span><span class="nb">mv</span> <span class="nt">-n</span> <span class="s2">"</span><span class="nv">$p</span><span class="s2">"</span> <span class="s2">"</span><span class="nv">$DEST_FONTS</span><span class="s2">/</span><span class="nv">$base</span><span class="s2">"</span>
    log <span class="s2">"FONT â†’ </span><span class="nv">$DEST_FONTS</span><span class="s2">/</span><span class="nv">$base</span><span class="s2">"</span>
  <span class="k">else
    </span>log <span class="s2">"SKIP (unknown) </span><span class="nv">$base</span><span class="s2">"</span>
  <span class="k">fi
done

if</span> <span class="o">[[</span> <span class="nv">$found_any</span> <span class="nt">-eq</span> 0 <span class="o">]]</span><span class="p">;</span> <span class="k">then
  </span>log <span class="s2">"No files in </span><span class="nv">$DL</span><span class="s2">"</span>
<span class="k">fi</span>
</code></pre></div></div>

<p>ì‹¤í–‰ê¶Œí•œ:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">chmod</span> +x ~/Work/80_Tools/scripts/sweep_downloads.sh
</code></pre></div></div>

<h3 id="ìë™-ì‹¤í–‰ë‘˜-ì¤‘-íƒ1">ìë™ ì‹¤í–‰(ë‘˜ ì¤‘ íƒ1)</h3>

<ul>
  <li>
    <p><strong>macOS (launchd, ë§¤ì¼ 19:00)</strong></p>

    <ol>
      <li><code class="language-plaintext highlighter-rouge">~/Library/LaunchAgents/com.work.sweepdownloads.plist</code> ìƒì„±:
        <div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="cp">&lt;!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt;</span>
<span class="nt">&lt;plist</span> <span class="na">version=</span><span class="s">"1.0"</span><span class="nt">&gt;&lt;dict&gt;</span>
  <span class="nt">&lt;key&gt;</span>Label<span class="nt">&lt;/key&gt;&lt;string&gt;</span>com.work.sweepdownloads<span class="nt">&lt;/string&gt;</span>
  <span class="nt">&lt;key&gt;</span>ProgramArguments<span class="nt">&lt;/key&gt;</span>
  <span class="nt">&lt;array&gt;&lt;string&gt;</span>/Users/$(whoami)/Work/80_Tools/scripts/sweep_downloads.sh<span class="nt">&lt;/string&gt;&lt;/array&gt;</span>
  <span class="nt">&lt;key&gt;</span>StartCalendarInterval<span class="nt">&lt;/key&gt;&lt;dict&gt;&lt;key&gt;</span>Hour<span class="nt">&lt;/key&gt;&lt;integer&gt;</span>19<span class="nt">&lt;/integer&gt;&lt;key&gt;</span>Minute<span class="nt">&lt;/key&gt;&lt;integer&gt;</span>0<span class="nt">&lt;/integer&gt;&lt;/dict&gt;</span>
  <span class="nt">&lt;key&gt;</span>StandardOutPath<span class="nt">&lt;/key&gt;&lt;string&gt;</span>/tmp/sweepdownloads.out<span class="nt">&lt;/string&gt;</span>
  <span class="nt">&lt;key&gt;</span>StandardErrorPath<span class="nt">&lt;/key&gt;&lt;string&gt;</span>/tmp/sweepdownloads.err<span class="nt">&lt;/string&gt;</span>
  <span class="nt">&lt;key&gt;</span>EnvironmentVariables<span class="nt">&lt;/key&gt;&lt;dict&gt;&lt;key&gt;</span>WORK_DIR<span class="nt">&lt;/key&gt;&lt;string&gt;</span>/Users/$(whoami)/Work<span class="nt">&lt;/string&gt;&lt;/dict&gt;</span>
<span class="nt">&lt;/dict&gt;&lt;/plist&gt;</span>
</code></pre></div>        </div>
      </li>
      <li>ë¡œë“œ: <code class="language-plaintext highlighter-rouge">launchctl load ~/Library/LaunchAgents/com.work.sweepdownloads.plist</code></li>
    </ol>
  </li>
  <li>
    <p><strong>Linux (cron, ë§¤ì£¼ ê¸ˆ 19:00)</strong><br />
<code class="language-plaintext highlighter-rouge">crontab -e</code>:</p>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>0 19 * * 5 WORK_DIR=$HOME/Work $HOME/Work/80_Tools/scripts/sweep_downloads.sh &gt;&gt; $HOME/sweepdownloads.log 2&gt;&amp;1
</code></pre></div>    </div>
  </li>
</ul>

<hr />

<h1 id="2-windowsìš©-powershell-ìŠ¤ìœ•">2) Windowsìš©: PowerShell ìŠ¤ìœ•</h1>

<p><code class="language-plaintext highlighter-rouge">$HOME\Work\80_Tools\scripts\sweep_downloads.ps1</code></p>
<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$W</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">WORK_DIR</span><span class="p">;</span><span class="w"> </span><span class="kr">if</span><span class="w"> </span><span class="p">(</span><span class="o">-not</span><span class="w"> </span><span class="nv">$W</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">$W</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span><span class="nv">$DL</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Join-Path</span><span class="w"> </span><span class="nv">$W</span><span class="w"> </span><span class="s2">"98_Downloads\_inbox"</span><span class="w">
</span><span class="kr">if</span><span class="w"> </span><span class="p">(</span><span class="o">-not</span><span class="w"> </span><span class="p">(</span><span class="n">Test-Path</span><span class="w"> </span><span class="nv">$DL</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">$DL</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Join-Path</span><span class="w"> </span><span class="nv">$W</span><span class="w"> </span><span class="s2">"05_Downloads\_inbox"</span><span class="w"> </span><span class="p">}</span><span class="w">

</span><span class="nv">$DEST_INSTALL</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Join-Path</span><span class="w"> </span><span class="nv">$W</span><span class="w"> </span><span class="s2">"80_Tools\installers"</span><span class="w">
</span><span class="nv">$DEST_DATA_STAGE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Join-Path</span><span class="w"> </span><span class="nv">$W</span><span class="w"> </span><span class="p">(</span><span class="s2">"26_Datasets\_staging\"</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">Get-Date</span><span class="w"> </span><span class="nt">-Format</span><span class="w"> </span><span class="s2">"yyyy-MM-dd"</span><span class="p">))</span><span class="w">
</span><span class="nv">$DEST_MANUALS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Join-Path</span><span class="w"> </span><span class="nv">$W</span><span class="w"> </span><span class="s2">"40_Resources\manuals\_incoming"</span><span class="w">
</span><span class="nv">$DEST_FONTS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Join-Path</span><span class="w"> </span><span class="nv">$W</span><span class="w"> </span><span class="s2">"60_Assets\fonts\_incoming"</span><span class="w">
</span><span class="n">New-Item</span><span class="w"> </span><span class="nt">-ItemType</span><span class="w"> </span><span class="nx">Directory</span><span class="w"> </span><span class="nt">-Force</span><span class="w"> </span><span class="nt">-Path</span><span class="w"> </span><span class="nv">$DEST_INSTALL</span><span class="p">,</span><span class="nv">$DEST_DATA_STAGE</span><span class="p">,</span><span class="nv">$DEST_MANUALS</span><span class="p">,</span><span class="nv">$DEST_FONTS</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Out-Null</span><span class="w">

</span><span class="kr">function</span><span class="w"> </span><span class="nf">Is-Installer</span><span class="p">(</span><span class="nv">$p</span><span class="p">){</span><span class="w"> </span><span class="nv">$e</span><span class="o">=</span><span class="p">[</span><span class="n">IO.Path</span><span class="p">]::</span><span class="n">GetExtension</span><span class="p">(</span><span class="nv">$p</span><span class="p">)</span><span class="o">.</span><span class="nf">ToLower</span><span class="p">();</span><span class="w"> </span><span class="kr">return</span><span class="w"> </span><span class="s2">".exe"</span><span class="p">,</span><span class="s2">".msi"</span><span class="p">,</span><span class="s2">".pkg"</span><span class="p">,</span><span class="s2">".dmg"</span><span class="p">,</span><span class="s2">".whl"</span><span class="p">,</span><span class="s2">".deb"</span><span class="p">,</span><span class="s2">".rpm"</span><span class="w"> </span><span class="o">-contains</span><span class="w"> </span><span class="nv">$e</span><span class="w"> </span><span class="o">-or</span><span class="w"> </span><span class="p">(</span><span class="nv">$e</span><span class="w"> </span><span class="o">-eq</span><span class="w"> </span><span class="s2">".zip"</span><span class="w"> </span><span class="o">-and</span><span class="w"> </span><span class="p">(</span><span class="n">Split-Path</span><span class="w"> </span><span class="nv">$p</span><span class="w"> </span><span class="nt">-Leaf</span><span class="p">)</span><span class="w"> </span><span class="o">-match</span><span class="w"> </span><span class="s2">"(setup|install|installer|msi|driver)"</span><span class="p">)</span><span class="w"> </span><span class="p">}</span><span class="w">
</span><span class="kr">function</span><span class="w"> </span><span class="nf">Is-Manual</span><span class="p">(</span><span class="nv">$p</span><span class="p">){</span><span class="w"> </span><span class="s2">".pdf"</span><span class="p">,</span><span class="s2">".chm"</span><span class="p">,</span><span class="s2">".html"</span><span class="p">,</span><span class="s2">".htm"</span><span class="w"> </span><span class="o">-contains</span><span class="w"> </span><span class="p">([</span><span class="n">IO.Path</span><span class="p">]::</span><span class="n">GetExtension</span><span class="p">(</span><span class="nv">$p</span><span class="p">)</span><span class="o">.</span><span class="nf">ToLower</span><span class="p">())</span><span class="w"> </span><span class="p">}</span><span class="w">
</span><span class="kr">function</span><span class="w"> </span><span class="nf">Is-Font</span><span class="p">(</span><span class="nv">$p</span><span class="p">){</span><span class="w"> </span><span class="s2">".ttf"</span><span class="p">,</span><span class="s2">".otf"</span><span class="p">,</span><span class="s2">".woff"</span><span class="p">,</span><span class="s2">".woff2"</span><span class="p">,</span><span class="s2">".ttc"</span><span class="w"> </span><span class="o">-contains</span><span class="w"> </span><span class="p">([</span><span class="n">IO.Path</span><span class="p">]::</span><span class="n">GetExtension</span><span class="p">(</span><span class="nv">$p</span><span class="p">)</span><span class="o">.</span><span class="nf">ToLower</span><span class="p">())</span><span class="w"> </span><span class="p">}</span><span class="w">
</span><span class="kr">function</span><span class="w"> </span><span class="nf">ZipHasDataset</span><span class="p">(</span><span class="nv">$zip</span><span class="p">){</span><span class="w">
  </span><span class="kr">try</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">Add-Type</span><span class="w"> </span><span class="nt">-AssemblyName</span><span class="w"> </span><span class="nx">System.IO.Compression.FileSystem</span><span class="w"> </span><span class="nt">-ErrorAction</span><span class="w"> </span><span class="nx">Stop</span><span class="w">
    </span><span class="nv">$z</span><span class="o">=</span><span class="p">[</span><span class="n">IO.Compression.ZipFile</span><span class="p">]::</span><span class="n">OpenRead</span><span class="p">(</span><span class="nv">$zip</span><span class="p">)</span><span class="w">
    </span><span class="nv">$m</span><span class="o">=</span><span class="bp">$false</span><span class="w">
    </span><span class="kr">foreach</span><span class="p">(</span><span class="nv">$e</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nv">$z</span><span class="o">.</span><span class="nf">Entries</span><span class="p">){</span><span class="w"> </span><span class="kr">if</span><span class="p">(</span><span class="nv">$e</span><span class="o">.</span><span class="nf">FullName</span><span class="w"> </span><span class="o">-match</span><span class="w"> </span><span class="s1">'\.(csv|tsv|json|parquet|xlsx)$'</span><span class="p">){</span><span class="w"> </span><span class="nv">$m</span><span class="o">=</span><span class="bp">$true</span><span class="p">;</span><span class="w"> </span><span class="kr">break</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w">
    </span><span class="nv">$z</span><span class="o">.</span><span class="nf">Dispose</span><span class="p">();</span><span class="w"> </span><span class="kr">return</span><span class="w"> </span><span class="nv">$m</span><span class="w">
  </span><span class="p">}</span><span class="w"> </span><span class="kr">catch</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="kr">return</span><span class="w"> </span><span class="bp">$false</span><span class="w"> </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span><span class="kr">function</span><span class="w"> </span><span class="nf">Is-Dataset</span><span class="p">(</span><span class="nv">$p</span><span class="p">){</span><span class="w">
  </span><span class="nv">$e</span><span class="o">=</span><span class="p">[</span><span class="n">IO.Path</span><span class="p">]::</span><span class="n">GetExtension</span><span class="p">(</span><span class="nv">$p</span><span class="p">)</span><span class="o">.</span><span class="nf">ToLower</span><span class="p">()</span><span class="w">
  </span><span class="kr">if</span><span class="w"> </span><span class="p">(</span><span class="s2">".csv"</span><span class="p">,</span><span class="s2">".tsv"</span><span class="p">,</span><span class="s2">".json"</span><span class="p">,</span><span class="s2">".parquet"</span><span class="p">,</span><span class="s2">".xlsx"</span><span class="w"> </span><span class="o">-contains</span><span class="w"> </span><span class="nv">$e</span><span class="p">){</span><span class="w"> </span><span class="kr">return</span><span class="w"> </span><span class="bp">$true</span><span class="w"> </span><span class="p">}</span><span class="w">
  </span><span class="kr">if</span><span class="w"> </span><span class="p">(</span><span class="s2">".zip"</span><span class="p">,</span><span class="s2">".gz"</span><span class="p">,</span><span class="s2">".tgz"</span><span class="w"> </span><span class="o">-contains</span><span class="w"> </span><span class="nv">$e</span><span class="w"> </span><span class="o">-and</span><span class="w"> </span><span class="p">(</span><span class="n">ZipHasDataset</span><span class="w"> </span><span class="nv">$p</span><span class="p">)){</span><span class="w"> </span><span class="kr">return</span><span class="w"> </span><span class="bp">$true</span><span class="w"> </span><span class="p">}</span><span class="w">
  </span><span class="kr">return</span><span class="w"> </span><span class="bp">$false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span><span class="kr">function</span><span class="w"> </span><span class="nf">Sha256</span><span class="p">(</span><span class="nv">$p</span><span class="p">){</span><span class="w"> </span><span class="p">(</span><span class="n">Get-FileHash</span><span class="w"> </span><span class="nv">$p</span><span class="w"> </span><span class="nt">-Algorithm</span><span class="w"> </span><span class="nx">SHA256</span><span class="p">)</span><span class="o">.</span><span class="nf">Hash</span><span class="o">.</span><span class="nf">ToLower</span><span class="p">()</span><span class="w"> </span><span class="p">}</span><span class="w">

</span><span class="n">Get-ChildItem</span><span class="w"> </span><span class="nv">$DL</span><span class="w"> </span><span class="nt">-File</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">ForEach-Object</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nv">$src</span><span class="o">=</span><span class="bp">$_</span><span class="o">.</span><span class="nf">FullName</span><span class="p">;</span><span class="w"> </span><span class="nv">$name</span><span class="o">=</span><span class="bp">$_</span><span class="o">.</span><span class="nf">Name</span><span class="w">
  </span><span class="kr">if</span><span class="w"> </span><span class="p">(</span><span class="n">Is-Installer</span><span class="w"> </span><span class="nv">$src</span><span class="p">){</span><span class="w">
    </span><span class="nv">$dst</span><span class="o">=</span><span class="n">Join-Path</span><span class="w"> </span><span class="nv">$DEST_INSTALL</span><span class="w"> </span><span class="nv">$name</span><span class="p">;</span><span class="w"> </span><span class="n">Move-Item</span><span class="w"> </span><span class="nv">$src</span><span class="w"> </span><span class="nv">$dst</span><span class="w"> </span><span class="nt">-Force</span><span class="w">
    </span><span class="nv">$sha</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Sha256</span><span class="w"> </span><span class="nv">$dst</span><span class="w">
    </span><span class="s2">"</span><span class="nv">$sha</span><span class="s2">  </span><span class="nv">$name</span><span class="s2">"</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Add-Content</span><span class="w"> </span><span class="p">(</span><span class="n">Join-Path</span><span class="w"> </span><span class="nv">$DEST_INSTALL</span><span class="w"> </span><span class="s2">"SHA256SUMS"</span><span class="p">)</span><span class="w">
    </span><span class="nv">$notes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Join-Path</span><span class="w"> </span><span class="nv">$DEST_INSTALL</span><span class="w"> </span><span class="s2">"install_notes.md"</span><span class="w">
    </span><span class="kr">if</span><span class="w"> </span><span class="p">(</span><span class="o">-not</span><span class="w"> </span><span class="p">(</span><span class="n">Test-Path</span><span class="w"> </span><span class="nv">$notes</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s2">"# Installers notes</span><span class="se">`n</span><span class="s2">"</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Out-File</span><span class="w"> </span><span class="nv">$notes</span><span class="w"> </span><span class="p">}</span><span class="w">
    </span><span class="s2">"- </span><span class="si">$(</span><span class="n">Get-Date</span><span class="w"> </span><span class="nt">-Format</span><span class="w"> </span><span class="s1">'yyyy-MM-dd HH:mm:ss'</span><span class="p">)</span><span class="s2">  </span><span class="se">`$</span><span class="s2">name</span><span class="se">` </span><span class="s2"> sha256=</span><span class="nv">$sha</span><span class="s2">"</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Add-Content</span><span class="w"> </span><span class="nv">$notes</span><span class="w">
    </span><span class="n">Write-Host</span><span class="w"> </span><span class="s2">"INSTALLER â†’ </span><span class="nv">$dst</span><span class="s2">"</span><span class="w">
  </span><span class="p">}</span><span class="w"> </span><span class="kr">elseif</span><span class="w"> </span><span class="p">(</span><span class="n">Is-Dataset</span><span class="w"> </span><span class="nv">$src</span><span class="p">){</span><span class="w">
    </span><span class="nv">$dst</span><span class="o">=</span><span class="n">Join-Path</span><span class="w"> </span><span class="nv">$DEST_DATA_STAGE</span><span class="w"> </span><span class="nv">$name</span><span class="p">;</span><span class="w"> </span><span class="n">Move-Item</span><span class="w"> </span><span class="nv">$src</span><span class="w"> </span><span class="nv">$dst</span><span class="w"> </span><span class="nt">-Force</span><span class="w">
    </span><span class="nv">$sha</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Sha256</span><span class="w"> </span><span class="nv">$dst</span><span class="w">
    </span><span class="s2">"</span><span class="nv">$sha</span><span class="s2">  </span><span class="nv">$name</span><span class="s2">"</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Add-Content</span><span class="w"> </span><span class="p">(</span><span class="n">Join-Path</span><span class="w"> </span><span class="nv">$DEST_DATA_STAGE</span><span class="w"> </span><span class="s2">"SHA256SUMS"</span><span class="p">)</span><span class="w">
    </span><span class="n">Write-Host</span><span class="w"> </span><span class="s2">"DATASET â†’ </span><span class="nv">$dst</span><span class="s2">"</span><span class="w">
  </span><span class="p">}</span><span class="w"> </span><span class="kr">elseif</span><span class="w"> </span><span class="p">(</span><span class="n">Is-Manual</span><span class="w"> </span><span class="nv">$src</span><span class="p">){</span><span class="w">
    </span><span class="nv">$dst</span><span class="o">=</span><span class="n">Join-Path</span><span class="w"> </span><span class="nv">$DEST_MANUALS</span><span class="w"> </span><span class="nv">$name</span><span class="p">;</span><span class="w"> </span><span class="n">Move-Item</span><span class="w"> </span><span class="nv">$src</span><span class="w"> </span><span class="nv">$dst</span><span class="w"> </span><span class="nt">-Force</span><span class="w">
    </span><span class="n">Write-Host</span><span class="w"> </span><span class="s2">"MANUAL â†’ </span><span class="nv">$dst</span><span class="s2">"</span><span class="w">
  </span><span class="p">}</span><span class="w"> </span><span class="kr">elseif</span><span class="w"> </span><span class="p">(</span><span class="n">Is-Font</span><span class="w"> </span><span class="nv">$src</span><span class="p">){</span><span class="w">
    </span><span class="nv">$dst</span><span class="o">=</span><span class="n">Join-Path</span><span class="w"> </span><span class="nv">$DEST_FONTS</span><span class="w"> </span><span class="nv">$name</span><span class="p">;</span><span class="w"> </span><span class="n">Move-Item</span><span class="w"> </span><span class="nv">$src</span><span class="w"> </span><span class="nv">$dst</span><span class="w"> </span><span class="nt">-Force</span><span class="w">
    </span><span class="n">Write-Host</span><span class="w"> </span><span class="s2">"FONT â†’ </span><span class="nv">$dst</span><span class="s2">"</span><span class="w">
  </span><span class="p">}</span><span class="w"> </span><span class="kr">else</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">Write-Host</span><span class="w"> </span><span class="s2">"SKIP (unknown) </span><span class="nv">$name</span><span class="s2">"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><strong>ìŠ¤ì¼€ì¤„ëŸ¬ ë“±ë¡</strong> (ë§¤ì¼ 19:00):</p>
<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$act</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">New-ScheduledTaskAction</span><span class="w"> </span><span class="nt">-Execute</span><span class="w"> </span><span class="s2">"pwsh.exe"</span><span class="w"> </span><span class="nt">-Argument</span><span class="w"> </span><span class="s2">"-NoProfile -File </span><span class="se">`"</span><span class="bp">$HOME</span><span class="s2">\Work\80_Tools\scripts\sweep_downloads.ps1</span><span class="se">`"</span><span class="s2">"</span><span class="w">
</span><span class="nv">$trg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">New-ScheduledTaskTrigger</span><span class="w"> </span><span class="nt">-Daily</span><span class="w"> </span><span class="nt">-At</span><span class="w"> </span><span class="nx">19:00</span><span class="w">
</span><span class="n">Register-ScheduledTask</span><span class="w"> </span><span class="nt">-TaskName</span><span class="w"> </span><span class="s2">"WorkSweepDownloads"</span><span class="w"> </span><span class="nt">-Action</span><span class="w"> </span><span class="nv">$act</span><span class="w"> </span><span class="nt">-Trigger</span><span class="w"> </span><span class="nv">$trg</span><span class="w"> </span><span class="nt">-Description</span><span class="w"> </span><span class="s2">"Move downloads to canonical locations"</span><span class="w">
</span></code></pre></div></div>

<hr />

<h1 id="3-todayëŸ°ì²˜ì—-ìˆ˜ë™-ì‹¤í–‰-ë²„íŠ¼ì„ íƒ">3) today/ëŸ°ì²˜ì— ìˆ˜ë™ ì‹¤í–‰ ë²„íŠ¼(ì„ íƒ)</h1>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Sweep downloads now   | 80_Tools/scripts | ./sweep_downloads.sh
</code></pre></div></div>

<p>(PowerShellì´ë©´ <code class="language-plaintext highlighter-rouge">./sweep_downloads.ps1</code>)</p>

<hr />

<h2 id="ìš´ìš©-íŒ--ì£¼ì˜ì ">ìš´ìš© íŒ &amp; ì£¼ì˜ì </h2>

<ul>
  <li>
    <p><strong>ì •ë³¸ë§Œ ì´ë™</strong> : ìŠ¤í¬ë¦½íŠ¸ëŠ” <em>ì´ë™ë§Œ</em> í•˜ë¯€ë¡œ ë˜ëŒë¦¬ê¸° ì‰¬ì›Œìš”. ì‚­ì œëŠ” ì†ëŒ€ì§€ ì•ŠìŒ.</p>
  </li>
  <li>
    <p><strong>ë°ì´í„°ì…‹ì€<code class="language-plaintext highlighter-rouge">_staging</code></strong>: ì´ë¦„/ë²„ì „ ê²°ì •ì„ ëª»í•˜ë‹ˆ <code class="language-plaintext highlighter-rouge">26_Datasets/_staging/YYYY-MM-DD/</code>ë¡œ ëª¨ìë‹ˆë‹¤. í•„ìš”í•  ë•Œë§Œ ì •ì‹ ë²„ì „(<code class="language-plaintext highlighter-rouge">datasets/&lt;name&gt;/vYYYY.MMDD/â€¦</code>)ìœ¼ë¡œ <strong>ìŠ¹ê²©</strong> í•˜ì„¸ìš”.</p>
  </li>
  <li>
    <p><strong>ì²´í¬ì„¬ ìë™ ê¸°ë¡</strong> : ì„¤ì¹˜íŒŒì¼/ë°ì´í„°ì…‹ì€ <code class="language-plaintext highlighter-rouge">SHA256SUMS</code> ìƒì„±, ì„¤ì¹˜íŒŒì¼ì€ <code class="language-plaintext highlighter-rouge">install_notes.md</code>ì— íƒ€ì„ìŠ¤íƒ¬í”„ê¹Œì§€ ë‚¨ê¹€.</p>
  </li>
  <li>
    <p><strong>ë¯¸ì¸ì‹ íŒŒì¼</strong> : ê·œì¹™ì— ì•ˆ ë§ìœ¼ë©´ ê·¸ëƒ¥ ê±´ë“œë¦¬ì§€ ì•ŠìŠµë‹ˆë‹¤(ë‹¤ìŒ ìŠ¤ìœ•ì— ì¬ì‹œë„).</p>
  </li>
  <li>
    <p><strong>ì•ˆì „ë§</strong> : ì²˜ìŒ 1~2ì£¼ ë™ì•ˆì€ <strong>ìˆ˜ë™ ì‹¤í–‰ìœ¼ë¡œ ê²°ê³¼ í™•ì¸</strong> í•´ ë³´ì„¸ìš”. ë¬¸ì œê°€ ì—†ìœ¼ë©´ ìŠ¤ì¼€ì¤„ëŸ¬ ì¼œë‘ë©´ ë.</p>
  </li>
</ul>

<p>ì›í•˜ë©´ ìœ„ ìŠ¤í¬ë¦½íŠ¸ì— <strong>ì¶”ê°€ ê·œì¹™(ì˜ˆ: íŠ¹ì • í”„ë¡œì íŠ¸ ì´ë¦„ í‚¤ì›Œë“œë¡œ ë°ì´í„°ì…‹ ìë™ í´ë”ëª… ë¶€ì—¬, zip ë‚´ë¶€ êµ¬ì¡°ì— ë”°ë¥¸ ìë™ í’€ê¸°)</strong>ë„ ì–¹ì–´ ì¤„ê²Œ.</p>

<p class="chat--user">

ê·¸ëƒ¥ 05ë¡œ í• ê²Œ

</p>

<p>ì¢‹ì•„, <strong>05ë¡œ í™•ì •!</strong> ë‹¤ìš´ë¡œë“œ ì°©ë¥™ì§€ë¥¼ <code class="language-plaintext highlighter-rouge">05_Downloads</code>ë¡œ ì“°ëŠ” ì„¤ì •ì„ í•œ ë²ˆì— ë§ˆë¬´ë¦¬í•˜ì. ì•„ë˜ ê·¸ëŒ€ë¡œ ë”°ë¼ í•˜ë©´ ëì´ì•¼.</p>

<hr />

<h1 id="1-í´ë”-ë§Œë“¤ê¸°-ë³µë¶™">1) í´ë” ë§Œë“¤ê¸° (ë³µë¶™)</h1>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Work/
â”œâ”€ 05_Downloads/                 - ë‹¤ìš´ë¡œë“œ ì°©ë¥™ì§€(Landing Zone, ì •ë¦¬ ì „ ì„ì‹œ)
â”‚  â”œâ”€ _inbox/                    - ë¸Œë¼ìš°ì €/íˆ´ ê¸°ë³¸ ì €ì¥ ê²½ë¡œ
â”‚  â”œâ”€ installers/                - ì„¤ì¹˜ íŒŒì¼(.exe/.msi/.pkg/.dmg/.whl/.zip)
â”‚  â”œâ”€ datasets/                  - ë°ì´í„°ì…‹ ì••ì¶•/CSV ì„ì‹œ(í•´ì œ ì „)
â”‚  â”œâ”€ manuals/                   - ë§¤ë‰´ì–¼/ê°€ì´ë“œ PDF/HTML ì„ì‹œ
â”‚  â”œâ”€ assets/                    - í°íŠ¸/ì•„ì´ì½˜/í…œí”Œë¦¿ ë“± ì„ì‹œ
â”‚  â””â”€ quarantine/                - ì˜ì‹¬ íŒŒì¼(ê²€ì‚¬ ì „ ê²©ë¦¬)
</code></pre></div></div>

<hr />

<h1 id="2-ì´ˆê¸°-ì…‹ì—…-step-by-step">2) ì´ˆê¸° ì…‹ì—… (step-by-step)</h1>

<h2 id="macos--linux-1">macOS / Linux</h2>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">mkdir</span> <span class="nt">-p</span> ~/Work/05_Downloads/<span class="o">{</span>_inbox,installers,datasets,manuals,assets,quarantine<span class="o">}</span>

<span class="c"># (ì„ íƒ) OS ê¸°ë³¸ Downloads â†’ Work/05_Downloads/_inbox ë¡œ ë°”ê¾¸ê¸°</span>
<span class="nb">mv</span> ~/Downloads ~/Downloads.bak 2&gt;/dev/null <span class="o">||</span> <span class="nb">true
ln</span> <span class="nt">-s</span> <span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/Work/05_Downloads/_inbox"</span> <span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/Downloads"</span>
</code></pre></div></div>

<h2 id="windows-powershell-4">Windows (PowerShell)</h2>
<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">New-Item</span><span class="w"> </span><span class="nt">-ItemType</span><span class="w"> </span><span class="nx">Directory</span><span class="w"> </span><span class="nt">-Force</span><span class="w"> </span><span class="nt">-Path</span><span class="w"> </span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work\05_Downloads\_inbox"</span><span class="p">,</span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work\05_Downloads\installers"</span><span class="p">,</span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work\05_Downloads\datasets"</span><span class="p">,</span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work\05_Downloads\manuals"</span><span class="p">,</span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work\05_Downloads\assets"</span><span class="p">,</span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work\05_Downloads\quarantine"</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Out-Null</span><span class="w">

</span><span class="c"># (ì„ íƒ) ì‚¬ìš©ì Downloads â†’ Work\05_Downloads\_inbox ë§í¬</span><span class="w">
</span><span class="n">Rename-Item</span><span class="w"> </span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Downloads"</span><span class="w"> </span><span class="s2">"Downloads.bak"</span><span class="w"> </span><span class="nt">-ErrorAction</span><span class="w"> </span><span class="nx">SilentlyContinue</span><span class="w">
</span><span class="n">cmd</span><span class="w"> </span><span class="nx">/c</span><span class="w"> </span><span class="nx">mklink</span><span class="w"> </span><span class="nx">/D</span><span class="w"> </span><span class="s2">"%USERPROFILE%\Downloads"</span><span class="w"> </span><span class="s2">"%USERPROFILE%\Work\05_Downloads\_inbox"</span><span class="w">
</span></code></pre></div></div>

<blockquote>
  <p>ë¸Œë¼ìš°ì €(Chrome/Edge/Firefox) <strong>ê¸°ë³¸ ë‹¤ìš´ë¡œë“œ í´ë”</strong> ë¥¼ <code class="language-plaintext highlighter-rouge">Work/05_Downloads/_inbox</code>ë¡œ ì„¤ì •í•˜ë©´ ë” ê¹”ë”.</p>
</blockquote>

<hr />

<h1 id="3-ì‚¬ìš©-ì¤‘ì´ë©´-98ì—ì„œ-05ë¡œ-ì´ê´€">3) (ì‚¬ìš© ì¤‘ì´ë©´) 98ì—ì„œ 05ë¡œ ì´ê´€</h1>

<h3 id="macos--linux-2">macOS / Linux</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">[</span> <span class="nt">-d</span> ~/Work/98_Downloads <span class="o">]</span> <span class="o">&amp;&amp;</span> <span class="nb">mv</span> ~/Work/98_Downloads/<span class="k">*</span> ~/Work/05_Downloads/ 2&gt;/dev/null <span class="o">||</span> <span class="nb">true
rmdir</span> ~/Work/98_Downloads 2&gt;/dev/null <span class="o">||</span> <span class="nb">true
sed</span> <span class="nt">-i</span> <span class="s1">''</span> <span class="s1">'s#/98_Downloads/#/05_Downloads/#g'</span> ~/Work/10_Today/shortcuts.list 2&gt;/dev/null <span class="o">||</span> <span class="nb">true</span>
</code></pre></div></div>

<h3 id="windows-powershell-5">Windows (PowerShell)</h3>
<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kr">if</span><span class="w"> </span><span class="p">(</span><span class="n">Test-Path</span><span class="w"> </span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work\98_Downloads"</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="n">Move-Item</span><span class="w"> </span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work\98_Downloads\*"</span><span class="w"> </span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work\05_Downloads"</span><span class="w"> </span><span class="nt">-Force</span><span class="w">
  </span><span class="n">Remove-Item</span><span class="w"> </span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work\98_Downloads"</span><span class="w"> </span><span class="nt">-Force</span><span class="w"> </span><span class="nt">-ErrorAction</span><span class="w"> </span><span class="nx">SilentlyContinue</span><span class="w">
</span><span class="p">}</span><span class="w">
</span><span class="p">(</span><span class="n">Get-Content</span><span class="w"> </span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work\10_Today\shortcuts.list"</span><span class="p">)</span><span class="w"> </span><span class="o">-replace</span><span class="w"> </span><span class="s1">'/98_Downloads/'</span><span class="p">,</span><span class="s1">'/05_Downloads/'</span><span class="w"> </span><span class="o">|</span><span class="w">
  </span><span class="n">Set-Content</span><span class="w"> </span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work\10_Today\shortcuts.list"</span><span class="w">
</span></code></pre></div></div>

<hr />

<h1 id="4-ìë™-ì •ë¦¬-ìŠ¤í¬ë¦½íŠ¸05-ìš°ì„ -ì‚¬ìš©-íŒ">4) ìë™ ì •ë¦¬ ìŠ¤í¬ë¦½íŠ¸(05 ìš°ì„ ) ì‚¬ìš© íŒ</h1>

<p>ë‚´ê°€ ì¤¬ë˜ <strong>ìŠ¤ìœ• ìŠ¤í¬ë¦½íŠ¸</strong> ë¥¼ 05 ìš°ì„ ìœ¼ë¡œ ëŒë¦¬ë ¤ë©´, ìƒë‹¨ì˜ ë‹¤ìš´ë¡œë“œ ê²½ë¡œë§Œ ì´ë ‡ê²Œ ì¡ìœ¼ë©´ ë¼.</p>

<p><strong>bash/zsh (<code class="language-plaintext highlighter-rouge">sweep_downloads.sh</code>)</strong></p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">W</span><span class="o">=</span><span class="s2">"</span><span class="k">${</span><span class="nv">WORK_DIR</span><span class="k">:-</span><span class="nv">$HOME</span><span class="p">/Work</span><span class="k">}</span><span class="s2">"</span>
<span class="nv">DL</span><span class="o">=</span><span class="s2">"</span><span class="nv">$W</span><span class="s2">/05_Downloads/_inbox"</span>
<span class="o">[[</span> <span class="nt">-d</span> <span class="s2">"</span><span class="nv">$DL</span><span class="s2">"</span> <span class="o">]]</span> <span class="o">||</span> <span class="nv">DL</span><span class="o">=</span><span class="s2">"</span><span class="nv">$W</span><span class="s2">/98_Downloads/_inbox"</span>   <span class="c"># (ìˆìœ¼ë©´ í´ë°±)</span>
</code></pre></div></div>

<p><strong>PowerShell (<code class="language-plaintext highlighter-rouge">sweep_downloads.ps1</code>)</strong></p>
<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$W</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">WORK_DIR</span><span class="p">;</span><span class="w"> </span><span class="kr">if</span><span class="w"> </span><span class="p">(</span><span class="o">-not</span><span class="w"> </span><span class="nv">$W</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">$W</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span><span class="nv">$DL</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Join-Path</span><span class="w"> </span><span class="nv">$W</span><span class="w"> </span><span class="s2">"05_Downloads\_inbox"</span><span class="w">
</span><span class="kr">if</span><span class="w"> </span><span class="p">(</span><span class="o">-not</span><span class="w"> </span><span class="p">(</span><span class="n">Test-Path</span><span class="w"> </span><span class="nv">$DL</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">$DL</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Join-Path</span><span class="w"> </span><span class="nv">$W</span><span class="w"> </span><span class="s2">"98_Downloads\_inbox"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<blockquote>
  <p>ìŠ¤ì¼€ì¤„(ë§¤ì¼/ë§¤ì£¼) ë“±ë¡ ë°©ë²•ì€ ì´ì „ ë©”ì‹œì§€ ê·¸ëŒ€ë¡œ ì“°ë©´ OK.</p>
</blockquote>

<hr />

<h1 id="5-today-ëŸ°ì²˜ì—-í•œ-ì¤„ì„ íƒ">5) Today ëŸ°ì²˜ì— í•œ ì¤„(ì„ íƒ)</h1>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Sort downloads       | 05_Downloads               | ${EDITOR:-vi} README_SORTING.md
Open installers box  | 80_Tools/installers        | ls -al
</code></pre></div></div>

<hr />

<h2 id="ì‚¬ìš©-ì‹œ-ì£¼ì˜ì ìš”ì•½">ì‚¬ìš© ì‹œ ì£¼ì˜ì (ìš”ì•½)</h2>

<ul>
  <li>
    <p><strong>05_DownloadsëŠ” ì„ì‹œ</strong> : ì •ë³¸ì€ ë°˜ë“œì‹œ ì „ìš© ìœ„ì¹˜ë¡œ</p>

    <ul>
      <li>
        <p>ì„¤ì¹˜íŒŒì¼ â†’ <code class="language-plaintext highlighter-rouge">80_Tools/installers/</code> (+ <code class="language-plaintext highlighter-rouge">install_notes.md</code>/<code class="language-plaintext highlighter-rouge">SHA256SUMS</code>)</p>
      </li>
      <li>
        <p>ë°ì´í„°ì…‹ â†’ <code class="language-plaintext highlighter-rouge">26_Datasets/...</code> (+ <code class="language-plaintext highlighter-rouge">manifest.yml</code>/<code class="language-plaintext highlighter-rouge">SHA256SUMS</code>)</p>
      </li>
      <li>
        <p>ë§¤ë‰´ì–¼ â†’ <code class="language-plaintext highlighter-rouge">40_Resources/manuals/...</code></p>
      </li>
      <li>
        <p>ìì‚°(í°íŠ¸ ë“±) â†’ <code class="language-plaintext highlighter-rouge">60_Assets/...</code></p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>ìë™í™” ì ê·¹ í™œìš©</strong> : ìŠ¤ìœ• ìŠ¤í¬ë¦½íŠ¸ë¥¼ <strong>ìŠ¤ì¼€ì¤„ëŸ¬ì— ë“±ë¡</strong> í•´ â€œì† ì•ˆ ëŒ€ê³ â€ ë¶„ë¥˜Â·ì´ë™.</p>
  </li>
  <li>
    <p><strong>ë³´ì•ˆ</strong> : ì¶œì²˜ ë¶ˆëª…ì€ <code class="language-plaintext highlighter-rouge">quarantine/</code>ì— ë¨¼ì € ë‘ê³  ê²€ì‚¬.</p>
  </li>
  <li>
    <p><strong>.gitignore</strong> : Workë¥¼ ë ˆí¬ë¡œ ê´€ë¦¬í•œë‹¤ë©´ <code class="language-plaintext highlighter-rouge">05_Downloads/**</code>ëŠ” <strong>í•­ìƒ ì œì™¸</strong>.</p>
  </li>
  <li>
    <p><strong>ì •ë¦¬ ë£¨í‹´</strong> : ìµœì†Œ ì£¼ 1íšŒ <code class="language-plaintext highlighter-rouge">_inbox</code> í™•ì¸(ìë™í™”ê°€ ëª» ì¡ì€ í•­ëª©ë§Œ ì²˜ë¦¬).</p>
  </li>
</ul>

<p>ì›í•˜ë©´ ë„¤ í™˜ê²½(ìš´ì˜ì²´ì œ/ì…¸)ì— ë§ì¶° ìŠ¤ìœ• ìŠ¤í¬ë¦½íŠ¸ë¥¼ <strong>05 ê¸°ì¤€ìœ¼ë¡œ ê³ ì •í•œ ìµœì¢…ë³¸</strong> ì„ ê¹”ë”íˆ ë¬¶ì–´ì„œ ë“œë¦´ê²Œ.</p>

<p class="chat--user">

.cshrcëŠ” ì–´ë”” ë‘ëŠ”ê²Œ ì¢‹ì„ê¹Œ

</p>

<p>ì§§ê²Œ: <strong>ì •ë³¸ì€</strong> <code class="language-plaintext highlighter-rouge">Work/90_PersonalConfigs/shell/tcsh/.tcshrc</code> ì— ë‘ê³ , <strong>í™ˆì—ëŠ” ì‹¬ë³¼ë¦­ ë§í¬</strong> ë¡œ ì—°ê²°í•˜ì„¸ìš”.<br />
(íŒ€/ê³µìœ  ê¸°ë³¸ê°’ì´ ìˆë‹¤ë©´ <code class="language-plaintext highlighter-rouge">Work/32_SharedConfigs/global/shell/tcsh/tcshrc.base</code>ë¥¼ ë¨¼ì € <code class="language-plaintext highlighter-rouge">source</code>í•˜ê³  ê°œì¸ ì„¤ì •ìœ¼ë¡œ ì˜¤ë²„ë¼ì´ë“œ.)</p>

<hr />

<h1 id="ì–´ë””ì—-ì–´ë–»ê²Œ-ë‘ë‚˜-step-by-step">ì–´ë””ì— ì–´ë–»ê²Œ ë‘ë‚˜ (step-by-step)</h1>

<h2 id="1-ìœ„ì¹˜ì •ë³¸">1) ìœ„ì¹˜(ì •ë³¸)</h2>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Work/
â””â”€ 90_PersonalConfigs/
   â””â”€ shell/
      â””â”€ tcsh/
         â”œâ”€ .tcshrc          â† ê°œì¸ ë©”ì¸ ì„¤ì •(ì •ë³¸)
         â”œâ”€ rc.d/            â† ë¶„í•  ì„¤ì •(ì˜µì…˜)
         â”‚  â”œâ”€ 00-paths.csh
         â”‚  â”œâ”€ 10-env.csh
         â”‚  â”œâ”€ 20-aliases.csh
         â”‚  â””â”€ 30-prompt.csh
         â””â”€ host.d/          â† ê¸°ê¸°ë³„ ì˜¤ë²„ë¼ì´ë“œ(ì˜µì…˜)
            â””â”€ &lt;hostname&gt;.csh
</code></pre></div></div>

<blockquote>
  <p><strong>ì™œ<code class="language-plaintext highlighter-rouge">.tcshrc</code>?</strong> tcshëŠ” <code class="language-plaintext highlighter-rouge">~/.tcshrc</code>ê°€ ìˆìœ¼ë©´ ê·¸ê±¸ ìš°ì„  ì½ê³ , ì—†ìœ¼ë©´ <code class="language-plaintext highlighter-rouge">~/.cshrc</code>ë¥¼ ì½ìŠµë‹ˆë‹¤. í˜¸í™˜ì´ í•„ìš”í•˜ë©´ <code class="language-plaintext highlighter-rouge">~/.cshrc</code>ë¥¼ <code class="language-plaintext highlighter-rouge">~/.tcshrc</code>ë¡œ ë§í¬í•´ ë‘ë©´ ë¼ìš”.</p>
</blockquote>

<h2 id="2-í™ˆì—-ì—°ê²°ì‹¬ë³¼ë¦­-ë§í¬">2) í™ˆì— ì—°ê²°(ì‹¬ë³¼ë¦­ ë§í¬)</h2>

<p><strong>macOS/Linux</strong></p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">ln</span> <span class="nt">-snf</span> <span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/Work/90_PersonalConfigs/shell/tcsh/.tcshrc"</span> <span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/.tcshrc"</span>
<span class="c"># (ì„ íƒ) csh í˜¸í™˜</span>
<span class="nb">ln</span> <span class="nt">-snf</span> <span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/.tcshrc"</span> <span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/.cshrc"</span>
</code></pre></div></div>

<p><strong>WSL/Cygwin</strong> ë„ ë™ì¼(ê²½ë¡œë§Œ ë§ì¶”ë©´ ë¨).</p>

<h2 id="3-ì¶”ì²œ-tcshrc-ê³¨ê²©ë³µë¶™">3) ì¶”ì²œ <code class="language-plaintext highlighter-rouge">.tcshrc</code> ê³¨ê²©(ë³µë¶™)</h2>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh

# --- shared base (ìˆìœ¼ë©´) ---
if ( -r "$HOME/Work/32_SharedConfigs/global/shell/tcsh/tcshrc.base" ) then
  source "$HOME/Work/32_SharedConfigs/global/shell/tcsh/tcshrc.base"
endif

# --- ê°œì¸ ê¸°ë³¸ê°’ ---
setenv WORK_DIR "$HOME/Work"

# PATH ì˜ˆì‹œ: (ì¤‘ë³µë˜ë©´ ì•ì— ë‘ê¸°)
set path = ( $HOME/Work/80_Tools/scripts $path )

# ë¶„í•  ë¡œë“œ(rc.d/*.csh)
set _rcdir = "$HOME/Work/90_PersonalConfigs/shell/tcsh/rc.d"
if ( -d "$_rcdir" ) then
  set _files = ( `/bin/ls $_rcdir/*.csh 2&gt;/dev/null` )
  foreach f ( $_files )
    if ( -r "$f" ) source "$f"
  end
endif

# í˜¸ìŠ¤íŠ¸ë³„ ì˜¤ë²„ë¼ì´ë“œ(host.d/&lt;hostname&gt;.csh)
set _host = `hostname -s`
set _hostrc = "$HOME/Work/90_PersonalConfigs/shell/tcsh/host.d/${_host}.csh"
if ( -r "$_hostrc" ) source "$_hostrc"

# ì¸í„°ë™í‹°ë¸Œì—ì„œë§Œ í”„ë¡¬í”„íŠ¸/ì»¬ëŸ¬
if ( $?prompt ) then
  set prompt = "%B%n%b@%m:%~ %# "
endif

# (ì„ íƒ) Today ëŸ°ì²˜ ë‹¨ì¶•í‚¤
if ( -x "$HOME/Work/10_Today/today.csh" ) then
  alias t "$HOME/Work/10_Today/today.csh"
endif
</code></pre></div></div>

<h3 id="ì˜ˆì‹œ-ë¶„í• -íŒŒì¼">ì˜ˆì‹œ ë¶„í•  íŒŒì¼</h3>

<p><code class="language-plaintext highlighter-rouge">rc.d/20-aliases.csh</code></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh

alias ll 'ls -alF'
alias gs 'git status'
alias gp 'git pull --rebase'
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">rc.d/00-paths.csh</code></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh

# ìì£¼ ì“°ëŠ” ê²½ë¡œ ìš°ì„ 
set path = ( $HOME/Work/80_Tools/scripts $HOME/bin $path )
</code></pre></div></div>

<blockquote>
  <p><strong>ë¹„ë°€/í† í°</strong> ì€ ì´ íŒŒì¼ë“¤ì— ì§ì ‘ ë„£ì§€ ë§ê³ , tcsh í˜•ì‹ìœ¼ë¡œ ì ì€ <code class="language-plaintext highlighter-rouge">Work/90_PersonalConfigs/secrets/.env-shell.local</code> ë“±ì„ ë”°ë¡œ ë‘ê³  í•„ìš” ì‹œ <code class="language-plaintext highlighter-rouge">source</code>í•˜ì„¸ìš”.</p>
</blockquote>

<hr />

<h1 id="ìš´ìš©-ê·œì¹™í•µì‹¬-1">ìš´ìš© ê·œì¹™(í•µì‹¬)</h1>

<ul>
  <li>
    <p><strong>ì •ë³¸ì€ 90_PersonalConfigs</strong> : í™ˆì˜ <code class="language-plaintext highlighter-rouge">~/.tcshrc</code>ëŠ” <strong>ë§í¬</strong> ë§Œ. ë°±ì—…/ë™ê¸°í™”ëŠ” ì •ë³¸ë§Œ ê´€ë¦¬.</p>
  </li>
  <li>
    <p><strong>ë ˆì´ì–´ë§</strong> : <code class="language-plaintext highlighter-rouge">32_SharedConfigs</code>(ìˆìœ¼ë©´) â†’ <code class="language-plaintext highlighter-rouge">90_PersonalConfigs</code>(ê°œì¸ ì˜¤ë²„ë¼ì´ë“œ) â†’ í˜¸ìŠ¤íŠ¸ë³„.</p>
  </li>
  <li>
    <p><strong>ëª¨ë“ˆí™”</strong> : <code class="language-plaintext highlighter-rouge">rc.d/*.csh</code>ë¡œ ìª¼ê°œ ë‘ë©´ ì¶©ëŒ/ìˆ˜ì •ì´ ì‰¬ì›€.</p>
  </li>
  <li>
    <p><strong>ì¬ì ìš©</strong> : ë³€ê²½ í›„ <code class="language-plaintext highlighter-rouge">source ~/.tcshrc</code>ë¡œ ì¦‰ì‹œ ì ìš©.</p>
  </li>
  <li>
    <p><strong>ì´ì‹ì„±</strong> : ë‹¤ë¥¸ ë¨¸ì‹ ì—ì„  <strong>ë§í¬ë§Œ</strong> ë‹¤ì‹œ ê±¸ë©´ ê°™ì€ í™˜ê²½ ì¬í˜„.</p>
  </li>
</ul>

<p>í•„ìš”í•˜ë©´ ë„¤ í˜„ì¬ <code class="language-plaintext highlighter-rouge">.cshrc</code> ë‚´ìš©ì„ ìœ„ êµ¬ì¡°ë¡œ ìë™ ë¶„í•´(aliases/env/path/prompt)í•´ ì£¼ëŠ” ìŠ¤í¬ë¦½íŠ¸ë„ ë§Œë“¤ì–´ ì¤„ê²Œâ€”ì›í•˜ë©´ ë¶™ì—¬ì¤˜!</p>

<p class="chat--user">

ì¢€ Stable í•˜ê²Œ ê¸°ë°˜ì´ ë  Toolë“¤(e.g. gcc)ë„ ê·¸ëƒ¥ 80_Toolsì— ì„¤ì¹˜í•˜ë©´ ë˜ë ¤ë‚˜? ì—¬ëŸ¬ ì‚¬ëŒì´ ê³µìœ í•  ê¸‰ì˜ ì•ˆì •ì ì´ì–´ì•¼í•˜ëŠ” íˆ´ë“¤ê³¼ ê°€ë³ê²Œ ê°œì¸ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸í•´ë³´ëŠ” íˆ´ ë“± ì „ë¶€ë‹¤ ì €ê¸° ë°•ìœ¼ë ¤ë‹ˆ ì¢€ í—·ê°ˆë¦´ê±° ê°™ê¸°ë„í•˜ê³ 

</p>

<p>ì¢‹ì€ ê³ ë¯¼ì´ì•¼. <strong>ì •ë¦¬:</strong> <em>ëª¨ë“  ê±¸ 80_Toolsì— ëª°ì§€ ë§ê³ </em> â€œì•ˆì •ì Â·ê³µìœ ìš© vs. ê°œì¸ ì‹¤í—˜ìš©â€ìœ¼ë¡œ <strong>ë¬¼ë¦¬ì  ë¶„ë¦¬</strong> í•˜ì.</p>

<hr />

<h1 id="ê¶Œì¥-ë¶„ë¦¬ì•ˆ">ê¶Œì¥ ë¶„ë¦¬ì•ˆ</h1>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Work/
â”œâ”€ 78_Toolchains/                         - íŒ€/ì¥ê¸° ê³µìš©ìš© â€˜ê³ ì • ë²„ì „â€™ íˆ´ì²´ì¸(ë§¤ìš° ì•ˆì •)
â”‚  â”œâ”€ gcc/13.2.0/{bin,lib,include,...}
â”‚  â”œâ”€ cmake/3.29.3/{bin,...}
â”‚  â”œâ”€ ninja/1.12.1/{bin,...}
â”‚  â””â”€ &lt;tool&gt;/&lt;ver&gt;/&lt;os&gt;-&lt;arch&gt;/          - í•„ìš” ì‹œ OS/ì•„í‚¤ êµ¬ë¶„ (win-x64, linux-x64, mac-arm64)
â”‚     â””â”€ latest â†’ &lt;ver&gt;                  - ì‹¬ë³¼ë¦­ ë§í¬(í˜„ì¬ í‘œì¤€)
â”œâ”€ 79_SDKs/                               - í° í”Œë«í¼ SDK/ëŸ°íƒ€ì„(JDK, Qt, Android NDK ë“±)
â”‚  â”œâ”€ jdk/21.0.2/
â”‚  â”œâ”€ qt/6.7.2/
â”‚  â””â”€ &lt;sdk&gt;/&lt;ver&gt;/
â”œâ”€ 80_Tools/                              - ê°œì¸Â·ë‹¨ê¸°Â·í¬í„°ë¸” ìœ í‹¸(ìì£¼ ë°”ë€ŒëŠ” ê²ƒ)
â”‚  â”œâ”€ installers/                         - ì„¤ì¹˜ íŒŒì¼ ë³´ê´€(ì²´í¬ì„¬, install_notes.md)
â”‚  â”œâ”€ bin/                                - ì‘ì€ ë‹¨ì¼ ë°”ì´ë„ˆë¦¬(ì‚¬ì „ PATH)
â”‚  â”œâ”€ portable/                           - ì••ì¶• í’€ì–´ ì“°ëŠ” í¬í„°ë¸” íˆ´(ê°œì¸ìš©)
â”‚  â”œâ”€ scripts/                            - ë¶€íŠ¸ìŠ¤íŠ¸ë©/ë¦´ë¦¬ìŠ¤/ì²´í¬ì„¬ ìŠ¤í¬ë¦½íŠ¸
â”‚  â””â”€ scratch/                            - ì‹¤í—˜ìš©(ìë™ ì²­ì†Œ ëŒ€ìƒ)
â””â”€ 85_Environments/                       - ë„ì»¤/ì½˜ë‹¤/venv ë“± â€œí™˜ê²½ ìº¡ìŠâ€ ìƒ˜í”Œ
</code></pre></div></div>

<blockquote>
  <p><strong>í•œ ì¤„ ê·œì¹™</strong></p>

  <ul>
    <li>
      <p><strong>íŒ€ê³¼ ê³µìœ í•  â€˜í‘œì¤€ ë²„ì „, ì˜¤ë˜ ì“°ëŠ” íˆ´â€™</strong> â†’ <code class="language-plaintext highlighter-rouge">78_Toolchains/</code></p>
    </li>
    <li>
      <p><strong>ê°œì¸ í…ŒìŠ¤íŠ¸Â·í¬í„°ë¸”Â·ìì£¼ ë°”ë€ŒëŠ” ìœ í‹¸</strong> â†’ <code class="language-plaintext highlighter-rouge">80_Tools/</code></p>
    </li>
    <li>
      <p><strong>í”Œë«í¼/ëŸ°íƒ€ì„ ë¬¶ìŒ</strong>(JDK/Qt/NDK ë“± ëŒ€í˜• SDK) â†’ <code class="language-plaintext highlighter-rouge">79_SDKs/</code></p>
    </li>
    <li>
      <p><strong>í”„ë¡œì íŠ¸ ì „ìš©/ë³µì œ ê°€ëŠ¥ í™˜ê²½</strong> â†’ <code class="language-plaintext highlighter-rouge">85_Environments/</code>(Docker/conda ë“±)ë¡œ ìº¡ìŠí™”</p>
    </li>
  </ul>

</blockquote>

<hr />

<h2 id="ì–´ë–»ê²Œ-ì„ íƒí•˜ì§€-ê²°ì •í‘œ">ì–´ë–»ê²Œ ì„ íƒí•˜ì§€? (ê²°ì •í‘œ)</h2>

<table>
  <thead>
    <tr>
      <th>ìƒí™©</th>
      <th>ìœ„ì¹˜</th>
      <th>ì´ìœ </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>íŒ€ í‘œì¤€ gcc/cmake/ninjaì²˜ëŸ¼ <strong>ë²„ì „ ê³ ì •Â·ì¥ê¸° ì‚¬ìš©</strong></td>
      <td><code class="language-plaintext highlighter-rouge">78_Toolchains/&lt;tool&gt;/&lt;ver&gt;/</code></td>
      <td>ê²½ë¡œÂ·ë²„ì „ì´ ì•ˆ í”ë“¤ë¦¼, CI/ë¬¸ì„œì™€ ì¼ì¹˜</td>
    </tr>
    <tr>
      <td>Qt/JDK/NDK ê°™ì€ <strong>ëŒ€í˜• SDK</strong></td>
      <td><code class="language-plaintext highlighter-rouge">79_SDKs/&lt;sdk&gt;/&lt;ver&gt;/</code></td>
      <td>ìš©ëŸ‰ í¼, ë‹¤ì¤‘ ë²„ì „ ê³µì¡´ í•„ìš”</td>
    </tr>
    <tr>
      <td><strong>ê°œì¸ ì‹¤í—˜/ê²½ëŸ‰ ìœ í‹¸</strong>(ripgrep, fd, bat ë“±)</td>
      <td><code class="language-plaintext highlighter-rouge">80_Tools/bin</code> or <code class="language-plaintext highlighter-rouge">80_Tools/portable</code></td>
      <td>ìì£¼ êµì²´, ì‹¤íŒ¨í•´ë„ ì˜í–¥ ì ìŒ</td>
    </tr>
    <tr>
      <td><strong>í”„ë¡œì íŠ¸ë³„ ì˜ì¡´ ìŠ¤íƒ</strong>(íŒŒì´ì¬/ì‹œìŠ¤í…œíˆ´ ì¡°í•©)</td>
      <td>`85_Environments/docker</td>
      <td>conda</td>
    </tr>
  </tbody>
</table>

<hr />

<h2 id="ë²„ì „path-ìš´ìš©ì¶©ëŒ-ì—†ì´">ë²„ì „Â·PATH ìš´ìš©(ì¶©ëŒ ì—†ì´)</h2>

<h3 id="1-latest-ì‹¬ë³¼ë¦­-ë§í¬ê³µìœ -í‘œì¤€">1) â€œlatestâ€ ì‹¬ë³¼ë¦­ ë§í¬(ê³µìœ  í‘œì¤€)</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>78_Toolchains/gcc/13.2.0/...
78_Toolchains/gcc/latest  -&gt; 13.2.0
</code></pre></div></div>

<ul>
  <li>ë¬¸ì„œ/ìŠ¤í¬ë¦½íŠ¸ì— <strong><code class="language-plaintext highlighter-rouge">.../gcc/latest/bin</code></strong>ë¥¼ ì“°ë©´ íŒ€ì´ ìµœì‹  í‘œì¤€ì„ ë°”ê¿€ ë•Œ í•˜ë‚˜ë§Œ ê°ˆì•„ë¼ë©´ ë¨.</li>
</ul>

<h3 id="2-path-ë ˆì´ì–´ìš°ì„ ìˆœìœ„">2) PATH ë ˆì´ì–´(ìš°ì„ ìˆœìœ„)</h3>

<ul>
  <li><strong>bash/zsh</strong>
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/Work/80_Tools/bin:</span><span class="nv">$HOME</span><span class="s2">/Work/78_Toolchains/gcc/latest/bin:</span><span class="nv">$HOME</span><span class="s2">/Work/78_Toolchains/cmake/latest/bin:</span><span class="nv">$PATH</span><span class="s2">"</span>
</code></pre></div>    </div>
  </li>
  <li><strong>tcsh</strong>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh
    
set path = ( $HOME/Work/80_Tools/bin $HOME/Work/78_Toolchains/gcc/latest/bin $path )
</code></pre></div>    </div>
  </li>
  <li><strong>PowerShell</strong>
    <div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">Path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work\80_Tools\bin;</span><span class="bp">$HOME</span><span class="s2">\Work\78_Toolchains\gcc\latest\bin;"</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">Path</span><span class="w">
</span></code></pre></div>    </div>
  </li>
</ul>

<h3 id="3-ì„¸ì…˜-í•œì •-ë²„ì „-ìŠ¤ìœ„ì¹˜ì¶©ëŒ-ë°©ì§€">3) ì„¸ì…˜ í•œì • ë²„ì „ ìŠ¤ìœ„ì¹˜(ì¶©ëŒ ë°©ì§€)</h3>

<ul>
  <li><strong>bash/zsh</strong>
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>use<span class="o">()</span> <span class="o">{</span>  <span class="c"># ì‚¬ìš©: use gcc 13.2.0</span>
  <span class="k">case</span> <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span> <span class="k">in
    </span>gcc|cmake|ninja<span class="p">)</span> <span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/Work/78_Toolchains/</span><span class="nv">$1</span><span class="s2">/</span><span class="nv">$2</span><span class="s2">/bin:</span><span class="nv">$PATH</span><span class="s2">"</span> <span class="p">;;</span>
    jdk<span class="p">)</span> <span class="nb">export </span><span class="nv">JAVA_HOME</span><span class="o">=</span><span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/Work/79_SDKs/jdk/</span><span class="nv">$2</span><span class="s2">"</span><span class="p">;</span> <span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="s2">"</span><span class="nv">$JAVA_HOME</span><span class="s2">/bin:</span><span class="nv">$PATH</span><span class="s2">"</span> <span class="p">;;</span>
    <span class="k">*</span><span class="p">)</span> <span class="nb">echo</span> <span class="s2">"unknown tool"</span><span class="p">;;</span>
  <span class="k">esac</span>
<span class="o">}</span>
</code></pre></div>    </div>
  </li>
  <li><strong>tcsh</strong>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh
    
alias use 'set t=\!:1; set v=\!:2; set p=$HOME/Work/78_Toolchains/$t/$v/bin; if ( -d $p ) set path = ( $p $path )'
</code></pre></div>    </div>
  </li>
  <li><strong>PowerShell</strong>
    <div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kr">function</span><span class="w"> </span><span class="nf">Use-Tool</span><span class="p">(</span><span class="nv">$t</span><span class="p">,</span><span class="nv">$v</span><span class="p">){</span><span class="w"> </span><span class="nv">$p</span><span class="o">=</span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work\78_Toolchains\</span><span class="nv">$t</span><span class="s2">\</span><span class="nv">$v</span><span class="s2">\bin"</span><span class="p">;</span><span class="w"> </span><span class="kr">if</span><span class="p">(</span><span class="n">Test-Path</span><span class="w"> </span><span class="nv">$p</span><span class="p">){</span><span class="w"> </span><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">Path</span><span class="o">=</span><span class="s2">"</span><span class="nv">$p</span><span class="s2">;</span><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">Path</span><span class="s2">"</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div>    </div>
  </li>
</ul>

<hr />

<h2 id="ì„¤ì¹˜ê¸°ë¡-ê·œì¹™ì§§ê²Œ">ì„¤ì¹˜/ê¸°ë¡ ê·œì¹™(ì§§ê²Œ)</h2>

<ul>
  <li>
    <p><strong>ì²´í¬ì„¬</strong> : ë‚´ë ¤ë°›ì€ ì•„ì¹´ì´ë¸ŒëŠ” <code class="language-plaintext highlighter-rouge">80_Tools/installers</code>ì— ë³´ê´€í•˜ê³  <code class="language-plaintext highlighter-rouge">SHA256SUMS</code> + <code class="language-plaintext highlighter-rouge">install_notes.md</code> ê¸°ë¡.</p>
  </li>
  <li>
    <p><strong>í’€ ìœ„ì¹˜</strong> :</p>

    <ul>
      <li>
        <p>ê³µìš©/ê³ ì • ë²„ì „ â†’ <code class="language-plaintext highlighter-rouge">78_Toolchains/&lt;tool&gt;/&lt;ver&gt;/</code>ì— ì••ì¶• í•´ì œ</p>
      </li>
      <li>
        <p>ê°œì¸ í…ŒìŠ¤íŠ¸ â†’ <code class="language-plaintext highlighter-rouge">80_Tools/portable/&lt;tool&gt;-&lt;ver&gt;/</code></p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>ë¬¸ì„œí™”</strong> : <code class="language-plaintext highlighter-rouge">32_SharedConfigs/global/&lt;tool&gt;/README.md</code>ì— â€œí‘œì¤€ ë²„ì „/ê²½ë¡œ/ì—…ë°ì´íŠ¸ ì ˆì°¨â€ 1í˜ì´ì§€.</p>
  </li>
</ul>

<hr />

<h2 id="ì²­ì†Œ-ì •ì±…">ì²­ì†Œ ì •ì±…</h2>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">80_Tools/scratch</code>ì™€ <code class="language-plaintext highlighter-rouge">80_Tools/portable</code>ì€ <strong>Nì¼(ì˜ˆ: 60ì¼) ë¯¸ì‚¬ìš© ì‹œ ìë™ ì‚­ì œ</strong> ìŠ¤ìœ• ìŠ¤í¬ë¦½íŠ¸ ê¶Œì¥.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">78_Toolchains</code>/<code class="language-plaintext highlighter-rouge">79_SDKs</code>ëŠ” <strong>ì‚­ì œ ê¸ˆì§€</strong>(íŒ€ í‘œì¤€). êµì²´ ì‹œ <strong>latest</strong> ë§Œ ì „í™˜í•˜ê³  êµ¬ë²„ì „ì€ ì¼ì • ê¸°ê°„ ë³´ì¡´.</p>
  </li>
</ul>

<hr />

<h2 id="ì˜ˆì‹œ-gcc-ìš´ìš©">ì˜ˆì‹œ: gcc ìš´ìš©</h2>

<ol>
  <li>
    <p>ì„¤ì¹˜ íŒŒì¼ì„ <code class="language-plaintext highlighter-rouge">05_Downloads/_inbox</code> â†’ ìŠ¤ìœ• â†’ <code class="language-plaintext highlighter-rouge">80_Tools/installers</code>ë¡œ ì´ë™(+ì²´í¬ì„¬).</p>
  </li>
  <li>
    <p>ì••ì¶•/ì„¤ì¹˜ í›„ <code class="language-plaintext highlighter-rouge">78_Toolchains/gcc/13.2.0/</code>ì— ë°°ì¹˜.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">78_Toolchains/gcc/latest â†’ 13.2.0</code> ë§í¬ ìƒì„±.</p>
  </li>
  <li>
    <p>CI/ë¬¸ì„œ/ê°œì¸ PATHì—ì„œ <code class="language-plaintext highlighter-rouge">.../gcc/latest/bin</code> ì‚¬ìš©.</p>
  </li>
  <li>
    <p>ìƒˆ í‘œì¤€ ì±„íƒ ì‹œ <code class="language-plaintext highlighter-rouge">latest</code>ë§Œ ê°ˆì•„ë¼ìš°ê³ , êµ¬ë²„ì „ì€ <code class="language-plaintext highlighter-rouge">13.1.0/</code> ê·¸ëŒ€ë¡œ ë³´ì¡´.</p>
  </li>
</ol>

<hr />

<h2 id="ë§ˆì´ê·¸ë ˆì´ì…˜ì§€ê¸ˆ-ì„ì—¬-ìˆë‹¤ë©´">ë§ˆì´ê·¸ë ˆì´ì…˜(ì§€ê¸ˆ ì„ì—¬ ìˆë‹¤ë©´)</h2>

<ol>
  <li>
    <p><code class="language-plaintext highlighter-rouge">80_Tools/portable</code>ë¡œ <strong>ê°œì¸ ì‹¤í—˜ íˆ´</strong> ì„ ë¨¼ì € ë¶„ë¦¬ ì´ë™.</p>
  </li>
  <li>
    <p>íŒ€ì´ ê³µìœ í•˜ëŠ” ê³ ì • ë²„ì „ì€ <code class="language-plaintext highlighter-rouge">78_Toolchains/&lt;tool&gt;/&lt;ver&gt;/</code>ë¡œ ì´ê´€ + <code class="language-plaintext highlighter-rouge">latest</code> ë§í¬.</p>
  </li>
  <li>
    <p>PATH/ëŸ°ì²˜/ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ì ˆëŒ€ê²½ë¡œë¥¼ <strong>78/79 ê¸°ì¤€</strong> ìœ¼ë¡œ êµì²´.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">32_SharedConfigs/global</code>ì— <strong>í‘œì¤€ ë²„ì „ í‘œ</strong> 1ì¥ ì¶”ê°€(ì—…ë°ì´íŠ¸ ì ˆì°¨ í¬í•¨).</p>
  </li>
</ol>

<hr />

<h3 id="ìš”ì•½-4">ìš”ì•½</h3>

<ul>
  <li>
    <p><strong>ì•ˆì •Â·ê³µìœ </strong> â†” <strong>ê°œì¸Â·ê°€ë³€</strong> ì„ <strong>ë¬¼ë¦¬ì ìœ¼ë¡œ ë¶„ë¦¬</strong> : <code class="language-plaintext highlighter-rouge">78_Toolchains</code>/<code class="language-plaintext highlighter-rouge">79_SDKs</code> vs <code class="language-plaintext highlighter-rouge">80_Tools</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">latest</code> ë§í¬ + <code class="language-plaintext highlighter-rouge">use</code> í•¨ìˆ˜ë¡œ <strong>ë²„ì „ ìŠ¤ìœ„ì¹­</strong> ìŠ¤íŠ¸ë ˆìŠ¤ ìµœì†Œí™”.</p>
  </li>
  <li>
    <p>ì„¤ì¹˜Â·ì²´í¬ì„¬Â·ë¬¸ì„œí™” ë£¨í‹´ì„ ê³ ì •í•´ <strong>ì˜ˆì¸¡ ê°€ëŠ¥ì„±</strong> ì„ í™•ë³´.</p>
  </li>
</ul>

<p>ì›í•˜ë©´ ë„¤ OS/ì…¸ì— ë§ëŠ” <strong>í´ë” ìƒì„±Â·latest ë§í¬Â·PATH ì„¤ì •</strong> ì„ í•œ ë²ˆì— í•´ì£¼ëŠ” ë¶€íŠ¸ìŠ¤íŠ¸ë© ìŠ¤í¬ë¦½íŠ¸(bash/tcsh/PowerShell)ë„ ë§Œë“¤ì–´ì¤„ê²Œ.</p>

<p class="chat--user">

ì§€ê¸ˆ ìƒíƒœì—ì„œ ê°ê° í´ë”ëª…ì€ ê·¸ëŒ€ë¡œ ë‘” ì±„ í´ë” ë²ˆí˜¸ë¥¼ ë‹¤ì‹œ í•©ë¦¬ì ìœ¼ë¡œ ê¼¼ê¼¼íˆ ìƒê°í•´ì„œ ë§¤ê²¨ë´ì¤˜.

</p>

<p>ì¢‹ì•„! â€œí´ë” <strong>ì´ë¦„ì€ ê·¸ëŒ€ë¡œ</strong> ë‘ê³ , <strong>ë²ˆí˜¸ë§Œ</strong> í•©ë¦¬ì ìœ¼ë¡œ ë¦¬íŒ¨í„°ë‹â€ í•´ë´¤ì–´.<br />
í•µì‹¬ì€ <strong>íë¦„(ìˆ˜ì§‘â†’ì˜¤ëŠ˜â†’ê°œë°œâ†’ì‹¤í–‰/ë°ì´í„°â†’ì§€ì‹/ì„¤ì •â†’ìë£Œâ†’ì‚°ì¶œâ†’íˆ´/í™˜ê²½â†’ê°œì¸â†’ë³´ê´€)</strong> ìˆœìœ¼ë¡œ <strong>ë²ˆí˜¸ ë¸”ë¡ì„ ë¶™ì—¬</strong> ìŠ¤ìº”í–ˆì„ ë•Œ ì§ê´€ì ìœ¼ë¡œ ë³´ì´ê²Œ í•˜ëŠ” ê±°ì•¼.</p>

<hr />

<h1 id="ë²ˆí˜¸-ì„¤ê³„-ì›ì¹™-ì§§ê²Œ">ë²ˆí˜¸ ì„¤ê³„ ì›ì¹™ (ì§§ê²Œ)</h1>

<ol>
  <li>
    <p><strong>00â€“09 ìˆ˜ì§‘/ì„ì‹œ</strong> : InboxÂ·Downloads</p>
  </li>
  <li>
    <p><strong>10â€“19 ì˜¤ëŠ˜Â·ëŸ°ì²˜</strong> : Today</p>
  </li>
  <li>
    <p><strong>20â€“29 ê°œë°œ/ì‹¤í–‰/ë°ì´í„°</strong> : ProjectsÂ·LabsÂ·JobsÂ·Datasets</p>
  </li>
  <li>
    <p><strong>30â€“39 ì§€ì‹/ì„¤ì •</strong> : AreasÂ·SharedConfigs</p>
  </li>
  <li>
    <p><strong>40â€“49 ì°¸ê³ ìë£Œ</strong> : Resources</p>
  </li>
  <li>
    <p><strong>50â€“59 ì½”ë“œì¡°ê°</strong> : Snippets</p>
  </li>
  <li>
    <p><strong>60â€“69 ì‹œê°ìì‚°</strong> : Assets</p>
  </li>
  <li>
    <p><strong>70â€“79 ì‚°ì¶œ/ë°°í¬</strong> : ExportsÂ·Releases</p>
  </li>
  <li>
    <p><strong>80â€“89 íˆ´ìŠ¤íƒ</strong> : ToolchainsÂ·SDKsÂ·ToolsÂ·Environments</p>
  </li>
  <li>
    <p><strong>90â€“99 ê°œì¸/ë³´ê´€</strong> : PersonalConfigsÂ·Archive</p>
  </li>
</ol>

<hr />

<h1 id="ì œì•ˆ-ë²ˆí˜¸-ìµœì¢…ì•ˆ">ì œì•ˆ ë²ˆí˜¸ (ìµœì¢…ì•ˆ)</h1>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>00_Inbox             - ê¸‰íˆ ë˜ì ¸ë‘ëŠ” ì„ì‹œí•¨
05_Downloads         - ë‹¤ìš´ë¡œë“œ ì°©ë¥™ì§€(_inbox/ installers/ datasets/ â€¦)
10_Today             - ì˜¤ëŠ˜ ì‘ì—… ëŒ€ì‹œë³´ë“œ(ëŸ°ì²˜/ë‹¨ì¶•)
20_Projects          - íˆ´(íŒŒì´ì¬ íŒ¨í‚¤ì§€) ê°œë°œ ë¦¬í¬
22_Labs              - ê°€ë²¼ìš´ ì‹¤í—˜/í”„ë¡œí† (ì¬í˜„ ë¶ˆí•„ìš”)
25_Jobs              - ì‚°ì¶œ ì‘ì—… ë‹¨ìœ„(ì…ë ¥â†’ì„¤ì •â†’ì‹¤í–‰â†’ì „ë‹¬)
26_Datasets          - ì…ë ¥/ì¶œë ¥ ë°ì´í„°ì…‹ ì¤‘ì•™ ì €ì¥ì†Œ
30_Areas             - ì¥ê¸° ìš´ì˜ ì˜ì—­(ì§€ì† ì—…ë¬´/ì •ì±… ë©”ëª¨)
32_SharedConfigs     - ê³µìœ /ê³¨ë“  ì„¤ì •(í‘œì¤€ ruff/pytest/VSCode ë“±)
40_Resources         - êµìœ¡/ë§¤ë‰´ì–¼/ìŠ¤í™ ë“± ì°¸ê³  ìë£Œ
50_Snippets          - ì¬ì‚¬ìš© ì½”ë“œ/ì›ë¼ì´ë„ˆ/í…ìŠ¤íŠ¸ ì¡°ê°
60_Assets            - ë¡œê³ /í°íŠ¸/í…œí”Œë¦¿ ë“± ì‹œê° ìì‚°
70_Exports           - ì—¬ëŸ¬ Jobì˜ ìµœì¢… ì „ë‹¬ë³¸ ëª¨ì•„ë³´ê¸°(ì˜µì…˜)
75_Releases          - ìœ ì € ë°°í¬ë³¸(ë²„ì „ë“œ, checksums/ ReleaseNotes)
82_Toolchains        - gcc/cmake/ninja ë“± íŒ€ í‘œì¤€ â€˜ê³ ì • ë²„ì „â€™ íˆ´ì²´ì¸
83_SDKs              - JDK/Qt/Android NDK ê°™ì€ ëŒ€í˜• SDK
84_Tools             - ê°œì¸Â·ê²½ëŸ‰Â·í¬í„°ë¸” ìœ í‹¸/ìŠ¤í¬ë¦½íŠ¸
86_Environments      - docker/conda/venv ë“± í™˜ê²½ ìº¡ìŠ
90_PersonalConfigs   - ê°œì¸ ì„¤ì •(ì˜¤ë²„ë¼ì´ë“œ/ë¹„ê³µê°œ)
99_Archive           - ì™„ë£Œ í•­ëª© ì¥ê¸° ë³´ê´€(ì½ê¸° ì „ìš©)
</code></pre></div></div>

<blockquote>
  <p>í¬ì¸íŠ¸</p>

  <ul>
    <li>
      <p><strong>Labsë¥¼ 31â†’22</strong> ë¡œ ë‹¹ê²¨ <strong>Projects(20)â€“Labs(22)â€“Jobs(25)â€“Datasets(26)</strong>ê°€ ì—°ì† íë¦„ì´ ë¨.</p>
    </li>
    <li>
      <p><strong>Toolchains/SDKs/Tools/Environments</strong> ë¥¼ <strong>82â€“86</strong> ìœ¼ë¡œ í•œ ë¸”ë¡ì— ëª¨ì•„ ì¶©ëŒ/ìš°ì„ ìˆœìœ„ ê´€ë¦¬ ì‰¬ì›€.</p>
    </li>
    <li>
      <p>ë‚˜ë¨¸ì§€ëŠ” ê¸°ì¡´ ì˜ë¯¸ ìœ ì§€(ë²ˆí˜¸ë§Œ ì •ë¦¬).</p>
    </li>
  </ul>

</blockquote>

<hr />

<h1 id="ì°¸ê³ -ê¸°ì¡´--ìƒˆ-ë²ˆí˜¸-ë§¤í•‘">(ì°¸ê³ ) ê¸°ì¡´ â†’ ìƒˆ ë²ˆí˜¸ ë§¤í•‘</h1>

<table>
  <thead>
    <tr>
      <th>ê¸°ì¡´</th>
      <th>ìƒˆ</th>
      <th>í´ë”ëª…</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>00</td>
      <td>00</td>
      <td>Inbox</td>
    </tr>
    <tr>
      <td>05 ë˜ëŠ” 98</td>
      <td>05</td>
      <td>Downloads</td>
    </tr>
    <tr>
      <td>10</td>
      <td>10</td>
      <td>Today</td>
    </tr>
    <tr>
      <td>20</td>
      <td>20</td>
      <td>Projects</td>
    </tr>
    <tr>
      <td>31</td>
      <td>22</td>
      <td>Labs</td>
    </tr>
    <tr>
      <td>25</td>
      <td>25</td>
      <td>Jobs</td>
    </tr>
    <tr>
      <td>26</td>
      <td>26</td>
      <td>Datasets</td>
    </tr>
    <tr>
      <td>30</td>
      <td>30</td>
      <td>Areas</td>
    </tr>
    <tr>
      <td>32</td>
      <td>32</td>
      <td>SharedConfigs</td>
    </tr>
    <tr>
      <td>40</td>
      <td>40</td>
      <td>Resources</td>
    </tr>
    <tr>
      <td>50</td>
      <td>50</td>
      <td>Snippets</td>
    </tr>
    <tr>
      <td>60</td>
      <td>60</td>
      <td>Assets</td>
    </tr>
    <tr>
      <td>70</td>
      <td>70</td>
      <td>Exports</td>
    </tr>
    <tr>
      <td>75</td>
      <td>75</td>
      <td>Releases</td>
    </tr>
    <tr>
      <td>78</td>
      <td>82</td>
      <td>Toolchains</td>
    </tr>
    <tr>
      <td>79</td>
      <td>83</td>
      <td>SDKs</td>
    </tr>
    <tr>
      <td>80</td>
      <td>84</td>
      <td>Tools</td>
    </tr>
    <tr>
      <td>85</td>
      <td>86</td>
      <td>Environments</td>
    </tr>
    <tr>
      <td>90</td>
      <td>90</td>
      <td>PersonalConfigs</td>
    </tr>
    <tr>
      <td>99</td>
      <td>99</td>
      <td>Archive</td>
    </tr>
  </tbody>
</table>

<hr />

<h2 id="ë§ˆì´ê·¸ë ˆì´ì…˜-íŒ-ì„ íƒ">ë§ˆì´ê·¸ë ˆì´ì…˜ íŒ (ì„ íƒ)</h2>

<ul>
  <li>
    <p><strong>ì‹¬ë³¼ë¦­ ë§í¬/ìŠ¤í¬ë¦½íŠ¸ ê²½ë¡œ</strong> ì—ì„œ ìˆ«ìë§Œ ë°”ë€Œë‹ˆ, <code class="language-plaintext highlighter-rouge">sed</code>ë¡œ ì¼ê´„ ì¹˜í™˜í•˜ë©´ ë.</p>
  </li>
  <li>
    <p>Today ëŸ°ì²˜(<code class="language-plaintext highlighter-rouge">shortcuts.list</code>)ì™€ PATH ì„¤ì •ë§Œ í™•ì¸í•´ ì£¼ë©´ ëŒ€ë¶€ë¶„ ëë‚˜ìš”.</p>

    <ul>
      <li>ì˜ˆ: <code class="language-plaintext highlighter-rouge">â€¦/78_Toolchains/</code> â†’ <code class="language-plaintext highlighter-rouge">â€¦/82_Toolchains/</code>, <code class="language-plaintext highlighter-rouge">â€¦/31_Labs/</code> â†’ <code class="language-plaintext highlighter-rouge">â€¦/22_Labs/</code></li>
    </ul>
  </li>
</ul>

<p>í•„ìš”í•˜ë©´ <strong>bash/tcsh/PowerShellìš© ì•ˆì „ ë¦¬ë„¤ì„ ìŠ¤í¬ë¦½íŠ¸</strong>(ì¡´ì¬ ì‹œì—ë§Œ mv, shortcuts.list ìë™ ì¹˜í™˜)ë„ ë°”ë¡œ ë§Œë“¤ì–´ì¤„ê²Œ.</p>

<p class="chat--user">

ì™œ êµ³ì´ 82ì•¼

</p>

<p>ì¢‹ì€ ì§ˆë¬¸! <strong>82</strong> ë¡œ ë‘” ê±´ â€œ80ëŒ€=íˆ´ ìŠ¤íƒâ€ ë¸”ë¡ ì•ˆì—ì„œ <strong>ì—¬ìœ Â·ì •ë ¬Â·í™•ì¥ì„±</strong> ì„ ë™ì‹œì— ì¡ê¸° ìœ„í•œ ì˜ë„ì•¼. ê°„ë‹¨íˆ, <em>ê¸°ì´ˆ â†’ í”Œë«í¼ â†’ ê°œì¸ ìœ í‹¸ â†’ ìº¡ìŠ í™˜ê²½</em> ìˆœì„œë¡œ ì •ë ¬í•˜ë©´ì„œ ì¤‘ê°„ì— ë¹ˆ ë²ˆí˜¸ë¥¼ ë‚¨ê²¨ë‘ë ¤ëŠ” ì„ íƒì´ì—ˆì–´.</p>

<h2 id="ì™œ-82ì¸ê°€-step-by-step">ì™œ 82ì¸ê°€ (step-by-step)</h2>

<ol>
  <li>
    <p><strong>ë¸”ë¡í™”(80ëŒ€ ì „ìš©)</strong><br />
80â€“89ë¥¼ â€œíˆ´/ëŸ°íƒ€ì„/í™˜ê²½â€ ì „ìš©ìœ¼ë¡œ ë¬¶ê³ , ê·¸ ì•ˆì—ì„œ ê³„ì¸µì„ ì•„ë˜ì²˜ëŸ¼ ë°°ì¹˜:</p>

    <ul>
      <li>
        <p><strong>82_Toolchains</strong> : gcc/cmake/ninja ê°™ì€ <strong>í•µì‹¬ ë¹Œë“œ ë„êµ¬(ê¸°ì´ˆì¸µ)</strong></p>
      </li>
      <li>
        <p><strong>83_SDKs</strong> : JDK/Qt/NDK ê°™ì€ <strong>í”Œë«í¼ SDK(ê¸°ë°˜ì¸µ)</strong></p>
      </li>
      <li>
        <p><strong>84_Tools</strong> : ripgrep/bat/ì‚¬ë‚´ ìœ í‹¸ ë“± <strong>ê°œì¸/ê²½ëŸ‰ ë„êµ¬(ì‘ìš©ì¸µ)</strong></p>
      </li>
      <li>
        <p><strong>86_Environments</strong> : docker/conda/venv <strong>ìº¡ìŠ í™˜ê²½(ê²©ë¦¬ì¸µ)</strong><br />
â†’ <strong>ê¸°ì´ˆâ†’í”Œë«í¼â†’ê°œì¸â†’ê²©ë¦¬</strong> ìˆœìœ¼ë¡œ ìì—°ìŠ¤ëŸ½ê²Œ ìŠ¤ìº”ë˜ë„ë¡ ë²ˆí˜¸ê°€ ì¦ê°€í•´.</p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>ì—¬ìœ  ìŠ¬ë¡¯ í™•ë³´</strong><br />
80â€“81, 85, 87â€“89ë¥¼ ë¹„ì›Œ ë‘ë©´ ë‚˜ì¤‘ì— ë¼ì›Œë„£ê¸° ì¢‹ì•„:</p>

    <ul>
      <li>
        <p>80_Runtimes (Python/Node/Go ëŸ°íƒ€ì„ ëª¨ìŒ)</p>
      </li>
      <li>
        <p>81_PackageManagers (asdf/pyenv/nvm ë“±)</p>
      </li>
      <li>
        <p>85_Containers (ì´ë¯¸ì§€/ë² ì´ìŠ¤ë ˆì´ì–´)</p>
      </li>
      <li>
        <p>87_CIHelpers â€¦ ê°™ì€ ì‹ì˜ í™•ì¥ ì—¬ì§€</p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>ì‹œê°ì  êµ¬ë¶„ + ì¶©ëŒ ìµœì†Œí™”</strong><br />
84_Tools(ê°œì¸ ì‹¤í—˜/í¬í„°ë¸”)ë³´ë‹¤ <strong>ì•</strong> ì— 82_Toolchains(íŒ€ í‘œì¤€Â·ê³ ì •ë²„ì „)ë¥¼ ë‘ë©´<br />
â€œí‘œì¤€ ë¨¼ì €, ê°œì¸ ìœ í‹¸ ë‚˜ì¤‘â€ì´ ì •ë ¬ìƒì—ì„œë„ ë“œëŸ¬ë‚˜ê³ , ë¬¸ì„œ/PATH ìš°ì„ ìˆœìœ„ë„ ëª…í™•í•´.</p>
  </li>
</ol>

<hr />

<h2 id="ëŒ€ì•ˆ-ë²ˆí˜¸ë„-ok-ì·¨í–¥ì—-ë”°ë¼">ëŒ€ì•ˆ ë²ˆí˜¸ë„ OK (ì·¨í–¥ì— ë”°ë¼)</h2>

<ul>
  <li>
    <p><strong>ì—°ì†í˜•ì´ ë” ì¢‹ë‹¤ë©´</strong> : <code class="language-plaintext highlighter-rouge">80_Toolchains / 81_SDKs / 82_Tools / 83_Environments</code></p>

    <ul>
      <li>ì¥ì : ê¸°ì–µí•˜ê¸° ì‰¬ì›€. ë‹¨ì : ì¤‘ê°„ì— ìƒˆ ì¹´í…Œê³ ë¦¬ ë¼ìš°ê¸° ì–´ë ¤ì›€.</li>
    </ul>
  </li>
  <li>
    <p><strong>ê¸°ì¡´ 80_Tools ìœ ì§€ í˜¸í™˜í˜•</strong> : <code class="language-plaintext highlighter-rouge">78_Toolchains / 79_SDKs / 80_Tools / 85_Environments</code></p>

    <ul>
      <li>ì¥ì : ê¸°ì¡´ ê²½ë¡œ ë³€ê²½ ìµœì†Œ. ë‹¨ì : 70ëŒ€Â·80ëŒ€ê°€ ì„ì—¬ ì‹œê°ì  êµ°ì§‘ì´ ì•½í•¨.</li>
    </ul>
  </li>
</ul>

<p>ì›í•˜ë©´ ë„¤ ì„ í˜¸(ì—°ì†í˜• vs ì—¬ìœ  ìŠ¬ë¡¯í˜•)ì— ë§ì¶° <strong>ì¼ê´„ ë¦¬ë„¤ì„ ìŠ¤í¬ë¦½íŠ¸</strong> ê¹Œì§€ ë°”ë¡œ ë§Œë“¤ì–´ì¤„ê²Œ.</p>

<p class="chat--user">

80, 81, 82ê°€ ë” ë‚˜ì„ê²ƒ ê°™ì•„ì„œ

</p>

<p>ì¢‹ì•„, <strong>íˆ´ ìŠ¤íƒì„ 80â€“82 ì—°ì† ë²ˆí˜¸</strong> ë¡œ ì¬ì •ë ¬í•˜ì. ê¹”ë”í•˜ê³  ê¸°ì–µí•˜ê¸° ì‰¬ì›Œ!</p>

<h1 id="ìµœì¢…-ë²ˆí˜¸íˆ´-ìŠ¤íƒë§Œ-ë³€ê²½">ìµœì¢… ë²ˆí˜¸(íˆ´ ìŠ¤íƒë§Œ ë³€ê²½)</h1>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>80_Toolchains      - íŒ€/ì¥ê¸° ê³µìš© â€˜ê³ ì • ë²„ì „â€™ ë¹Œë“œ ë„êµ¬ (gcc/cmake/ninjaâ€¦)
81_SDKs            - í”Œë«í¼ SDK/ëŸ°íƒ€ì„ (JDK/Qt/Android NDKâ€¦)
82_Tools           - ê°œì¸Â·ê²½ëŸ‰Â·í¬í„°ë¸” ìœ í‹¸/ìŠ¤í¬ë¦½íŠ¸ (ripgrep/fd/bat ë“±)
83_Environments    - docker/conda/venv ê°™ì€ ìº¡ìŠ í™˜ê²½(â€» ì—°ì†ì„± ìœ„í•´ 83ìœ¼ë¡œ ë‹¹ê¹€)
</code></pre></div></div>

<blockquote>
  <p>ë‚˜ë¨¸ì§€ ë²ˆí˜¸(00,05,10,20,22,25,26,30,32,40,50,60,70,75,90,99)ëŠ” ê·¸ëŒ€ë¡œ.</p>
</blockquote>

<hr />

<h1 id="path-ê¶Œì¥-ìˆœì„œ-í‘œì¤€-ìš°ì„ --ê°œì¸">PATH ê¶Œì¥ ìˆœì„œ (í‘œì¤€ ìš°ì„  â†’ ê°œì¸)</h1>

<h2 id="bashzsh-2">bash/zsh</h2>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/Work/82_Tools/bin:</span><span class="nv">$HOME</span><span class="s2">/Work/80_Toolchains/gcc/latest/bin:</span><span class="nv">$HOME</span><span class="s2">/Work/80_Toolchains/cmake/latest/bin:</span><span class="nv">$PATH</span><span class="s2">"</span>
</code></pre></div></div>

<h2 id="tcsh-2">tcsh</h2>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh

set path = ( $HOME/Work/82_Tools/bin $HOME/Work/80_Toolchains/gcc/latest/bin $path )
</code></pre></div></div>

<h2 id="powershell-3">PowerShell</h2>
<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">Path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work\82_Tools\bin;</span><span class="bp">$HOME</span><span class="s2">\Work\80_Toolchains\gcc\latest\bin;"</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">Path</span><span class="w">
</span></code></pre></div></div>

<hr />

<h1 id="ë§ˆì´ê·¸ë ˆì´ì…˜-step-by-step">ë§ˆì´ê·¸ë ˆì´ì…˜ (step-by-step)</h1>

<h2 id="macoslinux">macOS/Linux</h2>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> ~/Work
<span class="c"># í´ë” ë¦¬ë„¤ì„(ìˆì„ ë•Œë§Œ)</span>
<span class="o">[</span> <span class="nt">-d</span> 82_Toolchains <span class="o">]</span> <span class="o">&amp;&amp;</span> <span class="nb">mv </span>82_Toolchains 80_Toolchains
<span class="o">[</span> <span class="nt">-d</span> 83_SDKs       <span class="o">]</span> <span class="o">&amp;&amp;</span> <span class="nb">mv </span>83_SDKs       81_SDKs
<span class="o">[</span> <span class="nt">-d</span> 84_Tools      <span class="o">]</span> <span class="o">&amp;&amp;</span> <span class="nb">mv </span>84_Tools      82_Tools
<span class="o">[</span> <span class="nt">-d</span> 86_Environments <span class="o">]</span> <span class="o">&amp;&amp;</span> <span class="nb">mv </span>86_Environments 83_Environments

<span class="c"># today/ìŠ¤í¬ë¦½íŠ¸ ê²½ë¡œ ì¼ê´„ ì¹˜í™˜</span>
<span class="nb">sed</span> <span class="nt">-i</span> <span class="s1">''</span> <span class="nt">-e</span> <span class="s1">'s#/82_Toolchains/#/80_Toolchains/#g'</span> <span class="se">\</span>
          <span class="nt">-e</span> <span class="s1">'s#/83_SDKs/#/81_SDKs/#g'</span> <span class="se">\</span>
          <span class="nt">-e</span> <span class="s1">'s#/84_Tools/#/82_Tools/#g'</span> <span class="se">\</span>
          <span class="nt">-e</span> <span class="s1">'s#/86_Environments/#/83_Environments/#g'</span> 10_Today/shortcuts.list 2&gt;/dev/null <span class="o">||</span> <span class="nb">true</span>
</code></pre></div></div>

<h2 id="windows-powershell-6">Windows (PowerShell)</h2>
<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Set-Location</span><span class="w"> </span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work"</span><span class="w">
</span><span class="kr">if</span><span class="w"> </span><span class="p">(</span><span class="n">Test-Path</span><span class="w"> </span><span class="s2">"82_Toolchains"</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">Rename-Item</span><span class="w"> </span><span class="s2">"82_Toolchains"</span><span class="w"> </span><span class="s2">"80_Toolchains"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span><span class="kr">if</span><span class="w"> </span><span class="p">(</span><span class="n">Test-Path</span><span class="w"> </span><span class="s2">"83_SDKs"</span><span class="p">)</span><span class="w">       </span><span class="p">{</span><span class="w"> </span><span class="n">Rename-Item</span><span class="w"> </span><span class="s2">"83_SDKs"</span><span class="w">       </span><span class="s2">"81_SDKs"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span><span class="kr">if</span><span class="w"> </span><span class="p">(</span><span class="n">Test-Path</span><span class="w"> </span><span class="s2">"84_Tools"</span><span class="p">)</span><span class="w">      </span><span class="p">{</span><span class="w"> </span><span class="n">Rename-Item</span><span class="w"> </span><span class="s2">"84_Tools"</span><span class="w">      </span><span class="s2">"82_Tools"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span><span class="kr">if</span><span class="w"> </span><span class="p">(</span><span class="n">Test-Path</span><span class="w"> </span><span class="s2">"86_Environments"</span><span class="p">){</span><span class="w"> </span><span class="n">Rename-Item</span><span class="w"> </span><span class="s2">"86_Environments"</span><span class="w"> </span><span class="s2">"83_Environments"</span><span class="w"> </span><span class="p">}</span><span class="w">

</span><span class="c"># today/ìŠ¤í¬ë¦½íŠ¸ ê²½ë¡œ ì¹˜í™˜</span><span class="w">
</span><span class="p">(</span><span class="n">Get-Content</span><span class="w"> </span><span class="s2">"10_Today\shortcuts.list"</span><span class="p">)</span><span class="w"> </span><span class="se">`
</span><span class="w">  </span><span class="o">-replace</span><span class="w"> </span><span class="s1">'/82_Toolchains/'</span><span class="p">,</span><span class="s1">'/80_Toolchains/'</span><span class="w"> </span><span class="se">`
</span><span class="w">  </span><span class="o">-replace</span><span class="w"> </span><span class="s1">'/83_SDKs/'</span><span class="p">,</span><span class="s1">'/81_SDKs/'</span><span class="w"> </span><span class="se">`
</span><span class="w">  </span><span class="o">-replace</span><span class="w"> </span><span class="s1">'/84_Tools/'</span><span class="p">,</span><span class="s1">'/82_Tools/'</span><span class="w"> </span><span class="se">`
</span><span class="w">  </span><span class="o">-replace</span><span class="w"> </span><span class="s1">'/86_Environments/'</span><span class="p">,</span><span class="s1">'/83_Environments/'</span><span class="w"> </span><span class="o">|</span><span class="w">
  </span><span class="n">Set-Content</span><span class="w"> </span><span class="s2">"10_Today\shortcuts.list"</span><span class="w">
</span></code></pre></div></div>

<hr />

<h1 id="ì•ìœ¼ë¡œ-ë”-ì•ˆì •ì ìœ¼ë¡œ-ì“°ëŠ”-íŒ-ì‘ì€-ìŠµê´€">ì•ìœ¼ë¡œ ë” ì•ˆì •ì ìœ¼ë¡œ ì“°ëŠ” íŒ (ì‘ì€ ìŠµê´€)</h1>

<ol>
  <li>
    <p><strong>latest ì‹¬ë³¼ë¦­ ë§í¬</strong> ìœ ì§€:<br />
<code class="language-plaintext highlighter-rouge">80_Toolchains/gcc/latest â†’ 13.2.0</code> ì²˜ëŸ¼ í‘œì¤€ ì „í™˜ ì‹œ ë§í¬ë§Œ ê°ˆì•„ë¼ìš°ê¸°.</p>
  </li>
  <li>
    <p><strong>í™˜ê²½ë³€ìˆ˜ ë ˆì´ì–´</strong>(ë¦¬ë„¤ì„ ë‚´ì„±â†‘):</p>
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">WORK_TC</span><span class="o">=</span><span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/Work/80_Toolchains"</span>
<span class="nb">export </span><span class="nv">WORK_SDK</span><span class="o">=</span><span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/Work/81_SDKs"</span>
<span class="nb">export </span><span class="nv">WORK_TOOLS</span><span class="o">=</span><span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/Work/82_Tools"</span>
<span class="nb">export </span><span class="nv">WORK_ENV</span><span class="o">=</span><span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/Work/83_Environments"</span>
</code></pre></div>    </div>
  </li>
</ol>

<p>ìŠ¤í¬ë¦½íŠ¸ì— ì ˆëŒ€ê²½ë¡œ ëŒ€ì‹  ìœ„ ë³€ìˆ˜ ì‚¬ìš©.</p>

<ol>
  <li>
    <p><strong>ì—­í•  ê²½ê³„</strong> :</p>

    <ul>
      <li>
        <p>ê³ ì •Â·ê³µìœ : <strong>80_Toolchains</strong> , <strong>81_SDKs</strong></p>
      </li>
      <li>
        <p>ê°œì¸Â·ê°€ë³€: <strong>82_Tools</strong></p>
      </li>
      <li>
        <p>ê²©ë¦¬ëœ ì¡°í•©: <strong>83_Environments</strong>(docker/conda/venv)</p>
      </li>
    </ul>
  </li>
</ol>

<p>ì›í•˜ë©´ ìœ„ ë³€ê²½ì„ ë°˜ì˜í•´ <strong>PATH ì´ˆê¸°í™” ìŠ¤í¬ë¦½íŠ¸</strong>(bash/tcsh/PowerShell)ë‘ <code class="language-plaintext highlighter-rouge">latest</code> ë§í¬ ìƒì„± ìŠ¤í¬ë¦½íŠ¸ë„ ë°”ë¡œ ë§Œë“¤ì–´ì¤„ê²Œ.</p>

<p class="chat--user">

ì•„ë‹ˆ 85 EnvironmentëŠ” ê·¸ëƒ¥ ë‘ì. ê° 80, 81, 82, 83 í´ë”ì˜ ë‚´ë¶€ subdirectory ì˜ˆì‹œë„ ë§Œë“¤ì–´ì¤˜. ì»´íŒŒì¼ì€ ì–´ë””ì„œ í•´ì•¼í•˜ëŠ”ì§€ ë“±ë“±

</p>

<p>ì¢‹ì•„! <strong>85_EnvironmentsëŠ” ê·¸ëŒ€ë¡œ ìœ ì§€</strong> í•˜ë©´ì„œ,<br />
<strong>80/81/82/83</strong> ì˜ â€œì—­í• Â·í•˜ìœ„ êµ¬ì¡° ì˜ˆì‹œÂ·ì»´íŒŒì¼(ë¹Œë“œ) ìœ„ì¹˜â€ë¥¼ ì •ë¦¬í•´ ì¤„ê²Œ.</p>

<hr />

<h1 id="í•œëˆˆì—-ê·œì¹™">í•œëˆˆì— ê·œì¹™</h1>

<ul>
  <li>
    <p><strong>ì†ŒìŠ¤ì½”ë“œ ì»´íŒŒì¼(ì•±/ë¼ì´ë¸ŒëŸ¬ë¦¬)</strong> ğŸ‘‰ <strong><code class="language-plaintext highlighter-rouge">20_Projects/&lt;PRJ&gt;</code> ì•ˆì—ì„œë§Œ</strong> í•´ìš”.<br />
(ì˜ˆ: <code class="language-plaintext highlighter-rouge">PRJ-.../build/</code> out-of-source ë¹Œë“œ)</p>
  </li>
  <li>
    <p><strong>íˆ´ì²´ì¸/SDK ìì²´ ì„¤ì¹˜</strong> ğŸ‘‰ <strong><code class="language-plaintext highlighter-rouge">80/81/82/83</code>ì— â€œì„¤ì¹˜/ë°°ì¹˜â€ë§Œ</strong> í•˜ê³ ,<br />
ë¹Œë“œëŠ” <strong>ë³„ë„ì˜ Job</strong>(ì˜ˆ: <code class="language-plaintext highlighter-rouge">25_Jobs/REL-...</code> ë˜ëŠ” <code class="language-plaintext highlighter-rouge">SMOKE-...</code>)ì—ì„œ ìˆ˜í–‰ í›„ ê²°ê³¼ë§Œ ë°°ì¹˜.</p>
  </li>
</ul>

<hr />

<h1 id="80_toolchains--íŒ€-í‘œì¤€-ê³ ì •-ë²„ì „-ë¹Œë“œ-ë„êµ¬">80_Toolchains â€” â€œíŒ€ í‘œì¤€, ê³ ì • ë²„ì „ ë¹Œë“œ ë„êµ¬â€</h1>

<ul>
  <li>
    <p>ëŒ€ìƒ: <code class="language-plaintext highlighter-rouge">gcc</code>, <code class="language-plaintext highlighter-rouge">clang</code>, <code class="language-plaintext highlighter-rouge">cmake</code>, <code class="language-plaintext highlighter-rouge">ninja</code>, <code class="language-plaintext highlighter-rouge">make</code>, <code class="language-plaintext highlighter-rouge">lld</code>, <code class="language-plaintext highlighter-rouge">gdb</code> ë“±</p>
  </li>
  <li>
    <p>ì›ì¹™: <strong>ë²„ì „ë³„ í´ë”</strong> + <strong><code class="language-plaintext highlighter-rouge">latest</code> ë§í¬</strong>, <strong>OS/ARCH ë¶„ë¦¬</strong> ê°€ëŠ¥</p>
  </li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>80_Toolchains/
â”œâ”€ gcc/
â”‚  â”œâ”€ 13.2.0/
â”‚  â”‚  â”œâ”€ bin/ lib/ include/ share/
â”‚  â”‚  â””â”€ manifest.yml          - ì„¤ì¹˜ ì¶œì²˜/ì²´í¬ì„¬/ë¹Œë“œì˜µì…˜ ìš”ì•½
â”‚  â””â”€ latest â†’ 13.2.0
â”œâ”€ cmake/
â”‚  â”œâ”€ 3.29.3/{bin,share}/
â”‚  â””â”€ latest â†’ 3.29.3
â”œâ”€ ninja/
â”‚  â””â”€ 1.12.1/{bin,doc}/
â””â”€ (optional) linux-x64/, mac-arm64/, win-x64/ ì•„ë˜ë¡œ OS/ARCH ë ˆë²¨ì„ í•œ ë²ˆ ë” ë‘ì–´ë„ OK
</code></pre></div></div>

<h3 id="path-ì˜ˆì‹œ">PATH ì˜ˆì‹œ</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/Work/80_Toolchains/gcc/latest/bin:</span><span class="nv">$HOME</span><span class="s2">/Work/80_Toolchains/cmake/latest/bin:</span><span class="nv">$PATH</span><span class="s2">"</span>
</code></pre></div></div>

<h3 id="ì»´íŒŒì¼ì€-ì–´ë””ì„œ">ì»´íŒŒì¼ì€ ì–´ë””ì„œ?</h3>

<ul>
  <li>âœ… <strong>í”„ë¡œì íŠ¸</strong> : <code class="language-plaintext highlighter-rouge">20_Projects/PRJ-.../</code>
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> ~/Work/20_Projects/PRJ-2025-001_app
cmake <span class="nt">-S</span> <span class="nb">.</span> <span class="nt">-B</span> build <span class="nt">-G</span> Ninja <span class="se">\</span>
      <span class="nt">-DCMAKE_C_COMPILER</span><span class="o">=</span><span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/Work/80_Toolchains/gcc/latest/bin/gcc"</span> <span class="se">\</span>
      <span class="nt">-DCMAKE_CXX_COMPILER</span><span class="o">=</span><span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/Work/80_Toolchains/gcc/latest/bin/g++"</span>
cmake <span class="nt">--build</span> build <span class="nt">--config</span> Release
</code></pre></div>    </div>
  </li>
  <li>âŒ <strong>80_Toolchains ë‚´ë¶€ì—ì„œ ì½”ë“œ ë¹Œë“œ ê¸ˆì§€</strong> (ì—¬ê¸´ â€œíˆ´ ë³´ê´€ì†Œâ€)</li>
</ul>

<hr />

<h1 id="81_sdks--í”Œë«í¼-sdkëŸ°íƒ€ì„ëŒ€í˜•-ë²ˆë“¤">81_SDKs â€” â€œí”Œë«í¼ SDK/ëŸ°íƒ€ì„(ëŒ€í˜• ë²ˆë“¤)â€</h1>

<ul>
  <li>ëŒ€ìƒ: <code class="language-plaintext highlighter-rouge">JDK</code>, <code class="language-plaintext highlighter-rouge">Qt</code>, <code class="language-plaintext highlighter-rouge">Android NDK/SDK</code>, <code class="language-plaintext highlighter-rouge">.NET SDK</code>, <code class="language-plaintext highlighter-rouge">CUDA</code> ë“±</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>81_SDKs/
â”œâ”€ jdk/
â”‚  â”œâ”€ 21.0.2/           - JAVA_HOMEë¡œ ì§€ì •
â”‚  â””â”€ latest â†’ 21.0.2
â”œâ”€ qt/
â”‚  â”œâ”€ 6.7.2/
â”‚  â”‚  â”œâ”€ bin/ lib/ plugins/ qml/ mkspecs/
â”‚  â”‚  â””â”€ README_install_notes.md
â”‚  â””â”€ latest â†’ 6.7.2
â”œâ”€ android-ndk/
â”‚  â””â”€ r26d/
â””â”€ cuda/
   â””â”€ 12.5/
</code></pre></div></div>

<h3 id="í”„ë¡œì íŠ¸ì—ì„œ-ì“°ê¸°">í”„ë¡œì íŠ¸ì—ì„œ ì“°ê¸°</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">JAVA_HOME</span><span class="o">=</span><span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/Work/81_SDKs/jdk/latest"</span>
<span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="s2">"</span><span class="nv">$JAVA_HOME</span><span class="s2">/bin:</span><span class="nv">$PATH</span><span class="s2">"</span>

<span class="c"># Qt ì˜ˆ (CMake)</span>
cmake <span class="nt">-S</span> <span class="nb">.</span> <span class="nt">-B</span> build <span class="nt">-G</span> Ninja <span class="se">\</span>
  <span class="nt">-DCMAKE_PREFIX_PATH</span><span class="o">=</span><span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/Work/81_SDKs/qt/latest"</span>
cmake <span class="nt">--build</span> build
</code></pre></div></div>

<hr />

<h1 id="82_tools--ê°œì¸ê²½ëŸ‰í¬í„°ë¸”-ìœ í‹¸">82_Tools â€” â€œê°œì¸Â·ê²½ëŸ‰Â·í¬í„°ë¸” ìœ í‹¸â€</h1>

<ul>
  <li>
    <p>ëŒ€ìƒ: <code class="language-plaintext highlighter-rouge">ripgrep</code>, <code class="language-plaintext highlighter-rouge">fd</code>, <code class="language-plaintext highlighter-rouge">bat</code>, <code class="language-plaintext highlighter-rouge">jq</code>, <code class="language-plaintext highlighter-rouge">yq</code>, ì‘ì€ CLIÂ·ìŠ¤ã‚¯ãƒªÙ¾íŠ¸</p>
  </li>
  <li>
    <p>ì›ì¹™: <strong>ìì£¼ ë°”ë€œ</strong> â†’ ì •ë¦¬/êµì²´ ì‰¬ìš´ êµ¬ì¡°</p>
  </li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>82_Tools/
â”œâ”€ bin/                      - ë‹¨ì¼ ì‹¤í–‰íŒŒì¼(ìš°ì„  PATH)
â”‚  â”œâ”€ rg
â”‚  â”œâ”€ fd
â”‚  â””â”€ jq
â”œâ”€ portable/                 - ì••ì¶• í’€ì–´ ì“°ëŠ” í¬í„°ë¸” ë„êµ¬
â”‚  â”œâ”€ my-cli-1.2.3/
â”‚  â””â”€ some-tool-0.9/
â”œâ”€ scripts/                  - ê°œì¸ ìŠ¤í¬ë¦½íŠ¸(bootstrap/release/checksum ë“±)
â”‚  â””â”€ checksum_all.sh
â””â”€ scratch/                  - ì„ì‹œ í…ŒìŠ¤íŠ¸ìš©(ì£¼ê¸°ì  ì²­ì†Œ)
</code></pre></div></div>

<h3 id="path-ì˜ˆì‹œ-1">PATH ì˜ˆì‹œ</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/Work/82_Tools/bin:</span><span class="nv">$PATH</span><span class="s2">"</span>
</code></pre></div></div>

<h3 id="ì£¼ì˜">ì£¼ì˜</h3>

<ul>
  <li>ìœ ìš©ì„±ì´ <strong>ì¥ê¸°Â·ê³µìœ </strong> ë¡œ ë°œì „í•˜ë©´ <strong>80/81ë¡œ ìŠ¹ê²©</strong>(ë¬¸ì„œí™” + ê³ ì • ë²„ì „).</li>
</ul>

<hr />

<h1 id="83_runtimes--ì–¸ì–´-ëŸ°íƒ€ì„--íŒ¨í‚¤ì§€-ê´€ë¦¬ì-ì„ íƒ-ìŠ¬ë¡¯">83_Runtimes â€” â€œì–¸ì–´ ëŸ°íƒ€ì„ &amp; íŒ¨í‚¤ì§€ ê´€ë¦¬ì (ì„ íƒ ìŠ¬ë¡¯)â€</h1>

<ul>
  <li>
    <p>ëª©ì : â€œíˆ´ì²´ì¸(80)Â·SDK(81)ê³¼ëŠ” ë³„ê°œâ€ë¡œ <strong>ì–¸ì–´ ëŸ°íƒ€ì„/ë²„ì „ ê´€ë¦¬ì</strong> ë¥¼ ëª¨ì•„ ë‘ </p>
  </li>
  <li>
    <p>ëŒ€ìƒ: <code class="language-plaintext highlighter-rouge">python</code>(standalone ë˜ëŠ” asdf/pyenv), <code class="language-plaintext highlighter-rouge">node</code>(nvm), <code class="language-plaintext highlighter-rouge">go</code>, <code class="language-plaintext highlighter-rouge">rustup</code>, <code class="language-plaintext highlighter-rouge">dotnet</code> ëŸ°íƒ€ì„ ë“±<br />
<em>(ì´ë¯¸ ì‹œìŠ¤í…œ/í™ˆ ê´€ë¦¬ì ì“°ë©´ ìƒëµí•´ë„ ë¨. í´ë”ë§Œ ì˜ˆì•½ ìŠ¬ë¡¯ìœ¼ë¡œ ì‚¬ìš©)</em></p>
  </li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>83_Runtimes/
â”œâ”€ python/
â”‚  â”œâ”€ 3.11.9/
â”‚  â”‚  â”œâ”€ bin/python3  - ë…ë¦½ ë°°í¬ë³¸(ì„ë² ë””ë“œ/í”„ë¦¬ë¹ŒíŠ¸)
â”‚  â”‚  â””â”€ README.md
â”‚  â””â”€ 3.12.4/
â”œâ”€ node/
â”‚  â”œâ”€ 20.16.0/
â”‚  â””â”€ nvm/              - nvm ìì²´ë¥¼ ë³´ê´€í•  ìˆ˜ë„
â”œâ”€ go/
â”‚  â””â”€ 1.22.5/
â””â”€ rust/
   â””â”€ toolchains/stable/
</code></pre></div></div>

<h3 id="ì‚¬ìš©-ì˜ˆ">ì‚¬ìš© ì˜ˆ</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># íŠ¹ì • ëŸ°íƒ€ì„ì„ í•œ ì„¸ì…˜ì—ë§Œ ìš°ì„ </span>
<span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/Work/83_Runtimes/python/3.12.4/bin:</span><span class="nv">$PATH</span><span class="s2">"</span>
python <span class="nt">--version</span>  <span class="c"># 3.12.4</span>
</code></pre></div></div>

<blockquote>
  <p><em>83ì„ ì“°ì§€ ì•Šê³  ì‹œìŠ¤í…œ ëŸ°íƒ€ì„/íŒ¨í‚¤ì§€ê´€ë¦¬ìë¥¼ ê·¸ëŒ€ë¡œ ì¨ë„ OK.<br />
 ì´ ìŠ¬ë¡¯ì€ â€œì •ë¦¬ëœ ìœ„ì¹˜ì— ëª¨ì•„ë‘ê³  ì‹¶ì„ ë•Œâ€ ìœ ìš©í•´ìš”.</em></p>
</blockquote>

<hr />

<h1 id="85_environments--ìº¡ìŠ-í™˜ê²½ê·¸ëŒ€ë¡œ-ìœ ì§€">85_Environments â€” â€œìº¡ìŠ í™˜ê²½(ê·¸ëŒ€ë¡œ ìœ ì§€)â€</h1>

<ul>
  <li>
    <p>ëŒ€ìƒ: <code class="language-plaintext highlighter-rouge">docker/compose</code>, <code class="language-plaintext highlighter-rouge">conda</code>/<code class="language-plaintext highlighter-rouge">venv</code>, <code class="language-plaintext highlighter-rouge">devcontainer</code></p>
  </li>
  <li>
    <p>ì“°ì„: <strong>í”„ë¡œì íŠ¸ë³„ ì¡°í•©ì„ ê²©ë¦¬</strong> í•´ì„œ ì¬í˜„ì„± ë³´ì¥</p>
  </li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>85_Environments/
â”œâ”€ docker/
â”‚  â”œâ”€ Dockerfile
â”‚  â””â”€ compose.yml
â”œâ”€ conda/
â”‚  â”œâ”€ envs/
â”‚  â”‚  â””â”€ py311/           - ì‹¤ì œ ìƒì„±ëœ env(ì„ íƒ)
â”‚  â””â”€ environment.yml     - í‘œì¤€ ìŠ¤í™
â””â”€ devcontainer/
   â””â”€ base/
      â”œâ”€ Dockerfile
      â””â”€ devcontainer.json
</code></pre></div></div>

<h3 id="í”„ë¡œì íŠ¸ì—ì„œ-ì“°ê¸°-1">í”„ë¡œì íŠ¸ì—ì„œ ì“°ê¸°</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># conda</span>
conda <span class="nb">env </span>create <span class="nt">-f</span> ~/Work/85_Environments/conda/environment.yml
conda activate py311

<span class="c"># docker</span>
docker compose <span class="nt">-f</span> ~/Work/85_Environments/docker/compose.yml up <span class="nt">-d</span>
</code></pre></div></div>

<hr />

<h2 id="ì»´íŒŒì¼ì€-ì–´ë””ì„œ-ìš”ì -ì¬ì •ë¦¬">â€œì»´íŒŒì¼ì€ ì–´ë””ì„œ?â€ ìš”ì  ì¬ì •ë¦¬</h2>

<ul>
  <li>
    <p><strong>ì•±/ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¹Œë“œ</strong> : í•­ìƒ <strong><code class="language-plaintext highlighter-rouge">20_Projects/&lt;PRJ&gt;/build/</code></strong>(out-of-source).</p>

    <ul>
      <li>ë„êµ¬/SDK ê²½ë¡œëŠ” <code class="language-plaintext highlighter-rouge">80/81/83</code>ì—ì„œ <strong>ì°¸ì¡°ë§Œ</strong>.</li>
    </ul>
  </li>
  <li>
    <p><strong>íˆ´ì²´ì¸/SDK ìì²´ë¥¼ ì†ŒìŠ¤ì—ì„œ ë¹Œë“œí•´ì•¼ í•  ë•Œ</strong> :</p>

    <ol>
      <li>
        <p><strong>Job ìƒì„±</strong> : <code class="language-plaintext highlighter-rouge">25_Jobs/REL-YYYY-NNN_&lt;tool&gt;-&lt;ver&gt;/</code></p>
      </li>
      <li>
        <p>ê±°ê¸°ì„œ ì†ŒìŠ¤ ë¹Œë“œ &amp; í…ŒìŠ¤íŠ¸</p>
      </li>
      <li>
        <p>ì‚°ì¶œë¬¼ì„ <strong><code class="language-plaintext highlighter-rouge">80_Toolchains/&lt;tool&gt;/&lt;ver&gt;/</code> ë˜ëŠ” <code class="language-plaintext highlighter-rouge">81_SDKs/&lt;sdk&gt;/&lt;ver&gt;/</code></strong>ë¡œ <strong>ë°°ì¹˜</strong></p>
      </li>
      <li>
        <p><code class="language-plaintext highlighter-rouge">latest</code> ë§í¬ ì—…ë°ì´íŠ¸ + <code class="language-plaintext highlighter-rouge">manifest.yml</code>/<code class="language-plaintext highlighter-rouge">SHA256SUMS</code> ê¸°ë¡</p>
      </li>
    </ol>
  </li>
  <li>
    <p><strong>ê°œì¸ ìœ í‹¸ í…ŒìŠ¤íŠ¸</strong> : <code class="language-plaintext highlighter-rouge">82_Tools/portable</code> or <code class="language-plaintext highlighter-rouge">82_Tools/scratch</code> (ì•ˆì •í™”ë˜ë©´ ìŠ¹ê²©)</p>
  </li>
</ul>

<hr />

<h2 id="ë¹ ë¥¸-ì²´í¬ë¦¬ìŠ¤íŠ¸-1">ë¹ ë¥¸ ì²´í¬ë¦¬ìŠ¤íŠ¸</h2>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">80</code>(í‘œì¤€ ë¹Œë“œ ë„êµ¬) â†’ <strong>ê³ ì • ë²„ì „ + latest ë§í¬</strong></p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">81</code>(ëŒ€í˜• SDK) â†’ <strong>ê²½ë¡œ ë³€ìˆ˜(JAVA_HOME ë“±)ì™€ í•¨ê»˜ ë¬¸ì„œí™”</strong></p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">82</code>(ê°œì¸ ìœ í‹¸) â†’ <strong>ê°€ë³ê²Œ, í•„ìš” ì‹œ ìŠ¹ê²©</strong></p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">83</code>(ëŸ°íƒ€ì„) â†’ <strong>ì–¸ì–´ë³„ ë²„ì „ ëª¨ìŒ(ì„ íƒ ìŠ¬ë¡¯)</strong></p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">85</code>(í™˜ê²½) â†’ <strong>ì¡°í•© ê²©ë¦¬/ì¬í˜„, í”„ë¡œì íŠ¸ì—ì„œ activate</strong></p>
  </li>
</ul>

<p>ì›í•˜ë©´ ìœ„ êµ¬ì¡°ëŒ€ë¡œ <strong>í´ë”ì™€ README/manifest í…œí”Œë¦¿, PATH ì´ˆê¸°í™” ìŠ¤í¬ë¦½íŠ¸</strong> ê¹Œì§€ í•œ ë²ˆì— ë§Œë“¤ì–´ì£¼ëŠ” ì„¸íŒ… ìŠ¤í¬ë¦½íŠ¸( bash / tcsh / PowerShell )ë„ ë°”ë¡œ ë§Œë“¤ì–´ì¤„ê²Œ.</p>

<p class="chat--user">

installer í´ë”ê°€ ì‚¬ë¼ì¡Œë„¤?

</p>

<p>ì¢‹ì€ ìºì¹˜! ë²ˆí˜¸ ì¬ì •ë ¬í•˜ë©´ì„œ <strong>installers ìƒì</strong> ë¥¼ í‘œê¸°ì—ì„œ ë¹¼ë¨¹ì—ˆì–´ìš”.<br />
ì •ë‹µì€:</p>

<blockquote>
  <p><strong>ì •ë³¸ ë³´ê´€ì†Œ:</strong> <code class="language-plaintext highlighter-rouge">82_Tools/installers/</code><br />
 <strong>ì„ì‹œ ì°©ë¥™ì§€:</strong> <code class="language-plaintext highlighter-rouge">05_Downloads/_inbox</code> (ë¸Œë¼ìš°ì €/CLI ê¸°ë³¸ ì €ì¥) â†’ ìŠ¤ìœ• í›„ <code class="language-plaintext highlighter-rouge">82_Tools/installers/</code>ë¡œ ì´ë™</p>
</blockquote>

<hr />

<h1 id="ì™œ-82_toolsinstallersì¸ê°€-step-by-step">ì™œ <code class="language-plaintext highlighter-rouge">82_Tools/installers/</code>ì¸ê°€ (step-by-step)</h1>

<ol>
  <li>
    <p><strong>í•œ ê³³ì— ëª¨ìœ¼ê¸°</strong> : gccÂ·cmake ê°™ì€ íˆ´ì²´ì¸(80), JDK/Qt ê°™ì€ SDK(81), ê°œì¸ ìœ í‹¸(82) <strong>ëª¨ë‘ì˜ ì„¤ì¹˜ ì›ë³¸</strong> ì„ í•œ êµ°ë°ì— ì•„ì¹´ì´ë¸Œ.</p>
  </li>
  <li>
    <p><strong>íë¦„ ë‹¨ìˆœí™”</strong> : ë‹¤ìš´ë¡œë“œ(05) â†’ <strong>installersë¡œ ì´ë™</strong> â†’ ì‹¤ì œ ë°°ì¹˜</p>

    <ul>
      <li>
        <p>Toolchainsì€ <code class="language-plaintext highlighter-rouge">80_Toolchains/&lt;tool&gt;/&lt;ver&gt;/</code></p>
      </li>
      <li>
        <p>SDKëŠ” <code class="language-plaintext highlighter-rouge">81_SDKs/&lt;sdk&gt;/&lt;ver&gt;/</code></p>
      </li>
      <li>
        <p>ê°œì¸ ìœ í‹¸ì€ <code class="language-plaintext highlighter-rouge">82_Tools/portable/&lt;tool&gt;-&lt;ver&gt;/</code> (ë˜ëŠ” <code class="language-plaintext highlighter-rouge">bin/</code>)</p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>ì¦ë¹™/ë³µêµ¬ ì‰¬ì›€</strong> : ì²´í¬ì„¬Â·ë…¸íŠ¸ê°€ installersì— ëª¨ì—¬ ìˆì–´, ë‚˜ì¤‘ì— <strong>ê²€ì¦/ì¬ì„¤ì¹˜</strong> ê°€ ë¹ ë¦„.</p>
  </li>
</ol>

<hr />

<h1 id="í´ë”-ì˜ˆì‹œ-ë³µë¶™">í´ë” ì˜ˆì‹œ (ë³µë¶™)</h1>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>82_Tools/
â”œâ”€ installers/                                 - ì„¤ì¹˜ ì›ë³¸ ì •ë³¸(ì•„ì¹´ì´ë¸Œ)
â”‚  â”œâ”€ cmake/3.29.3/cmake-3.29.3-linux-x86_64.tar.gz
â”‚  â”‚  â””â”€ SHA256SUMS, install_notes.md
â”‚  â”œâ”€ gcc/13.2.0/gcc-13.2.0-x86_64.tar.xz
â”‚  â”‚  â””â”€ SHA256SUMS, install_notes.md
â”‚  â”œâ”€ jdk/21.0.2/jdk-21.0.2_macos-aarch64.tar.gz
â”‚  â”œâ”€ qt/6.7.2/qt-opensource-mac-6.7.2.dmg
â”‚  â”œâ”€ python/wheels/&lt;project_or_vendor&gt;/...    # .whl/.tar.gz ëª¨ìŒ
â”‚  â””â”€ misc/                                    # ë¶„ë¥˜ ì–´ë ¤ìš´ ê¸°íƒ€
â”œâ”€ bin/                                        - ë‹¨ì¼ ì‹¤í–‰íŒŒì¼(ê°œì¸ PATH)
â”œâ”€ portable/                                   - í¬í„°ë¸” íˆ´ ì••ì¶• í•´ì œ ìœ„ì¹˜
â””â”€ scripts/                                    - checksum/ìŠ¤ìœ• ë“± ìŠ¤í¬ë¦½íŠ¸
</code></pre></div></div>

<blockquote>
  <p>ê° <code class="language-plaintext highlighter-rouge">&lt;tool&gt;/&lt;ver&gt;/</code> í´ë” ì•ˆì— <strong><code class="language-plaintext highlighter-rouge">SHA256SUMS</code></strong>ì™€ <strong><code class="language-plaintext highlighter-rouge">install_notes.md</code></strong>(ì¶œì²˜/ë‚ ì§œ/ì˜µì…˜) ë¶™ì´ê¸° ê¶Œì¥.</p>
</blockquote>

<hr />

<h1 id="ì›Œí¬í”Œë¡œ-ì„¤ì¹˜-ì›ë³¸-ê¸°ì¤€">ì›Œí¬í”Œë¡œ (ì„¤ì¹˜ ì›ë³¸ ê¸°ì¤€)</h1>

<ol>
  <li>
    <p><strong>ë‹¤ìš´ë¡œë“œ</strong> â†’ <code class="language-plaintext highlighter-rouge">05_Downloads/_inbox</code></p>
  </li>
  <li>
    <p><strong>ìŠ¤ìœ• ì‹¤í–‰</strong>(ìë™/ìˆ˜ë™): ì¸ìŠ¤í†¨ëŸ¬ íŒŒì¼ì„ <code class="language-plaintext highlighter-rouge">82_Tools/installers/&lt;tool&gt;/&lt;ver&gt;/</code>ë¡œ ì´ë™ + <code class="language-plaintext highlighter-rouge">SHA256SUMS</code> ìƒì„± + <code class="language-plaintext highlighter-rouge">install_notes.md</code>ì— ê¸°ë¡</p>
  </li>
  <li>
    <p><strong>ë°°ì¹˜</strong></p>

    <ul>
      <li>
        <p>íˆ´ì²´ì¸: ì••ì¶• í•´ì œ â†’ <code class="language-plaintext highlighter-rouge">80_Toolchains/&lt;tool&gt;/&lt;ver&gt;/</code> â†’ <code class="language-plaintext highlighter-rouge">latest</code> ë§í¬ ê°±ì‹ </p>
      </li>
      <li>
        <p>SDK: ì••ì¶•/ì„¤ì¹˜ â†’ <code class="language-plaintext highlighter-rouge">81_SDKs/&lt;sdk&gt;/&lt;ver&gt;/</code></p>
      </li>
      <li>
        <p>ê°œì¸ ìœ í‹¸: <code class="language-plaintext highlighter-rouge">82_Tools/portable/</code> ë˜ëŠ” <code class="language-plaintext highlighter-rouge">82_Tools/bin/</code></p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>ê²€ì¦/ê¸°ë¡</strong> : ë²„ì „Â·ê²½ë¡œë¥¼ README/ë¬¸ì„œ(<code class="language-plaintext highlighter-rouge">32_SharedConfigs/global/&lt;tool&gt;/README.md</code>)ì— ë°˜ì˜</p>
  </li>
</ol>

<hr />

<h1 id="ìŠ¤ìœ•-ìŠ¤í¬ë¦½íŠ¸-ê²½ë¡œë§Œ-ë°”ê¾¸ê¸°">ìŠ¤ìœ• ìŠ¤í¬ë¦½íŠ¸ ê²½ë¡œë§Œ ë°”ê¾¸ê¸°</h1>

<p>ì´ì „ì— ë“œë¦° ìŠ¤í¬ë¦½íŠ¸ì—ì„œ <strong>DEST_INSTALL</strong> ê²½ë¡œë¥¼ ì•„ë˜ì²˜ëŸ¼ ë°”ê¾¸ì„¸ìš”.</p>

<p><strong>bash/zsh (<code class="language-plaintext highlighter-rouge">sweep_downloads.sh</code>)</strong></p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">DEST_INSTALL</span><span class="o">=</span><span class="s2">"</span><span class="nv">$W</span><span class="s2">/82_Tools/installers"</span>
</code></pre></div></div>

<p><strong>PowerShell (<code class="language-plaintext highlighter-rouge">sweep_downloads.ps1</code>)</strong></p>
<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$DEST_INSTALL</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Join-Path</span><span class="w"> </span><span class="nv">$W</span><span class="w"> </span><span class="s2">"82_Tools\installers"</span><span class="w">
</span></code></pre></div></div>

<blockquote>
  <p>ë‚˜ë¨¸ì§€ ë¡œì§ì€ ë™ì¼í•©ë‹ˆë‹¤. (<code class="language-plaintext highlighter-rouge">05_Downloads/_inbox</code> â†’ installersë¡œ ì´ë™, ì²´í¬ì„¬ ìƒì„±, ë…¸íŠ¸ ì¶”ê°€)</p>
</blockquote>

<hr />

<h1 id="ì„ íƒ-ì•ˆì „-ë§ˆì´ê·¸ë ˆì´ì…˜">(ì„ íƒ) ì•ˆì „ ë§ˆì´ê·¸ë ˆì´ì…˜</h1>

<p><strong>macOS/Linux</strong></p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">mkdir</span> <span class="nt">-p</span> ~/Work/82_Tools/installers
<span class="o">[</span> <span class="nt">-d</span> ~/Work/80_Tools/installers <span class="o">]</span> <span class="o">&amp;&amp;</span> <span class="nb">mv</span> ~/Work/80_Tools/installers/<span class="k">*</span> ~/Work/82_Tools/installers/ 2&gt;/dev/null <span class="o">||</span> <span class="nb">true</span>
</code></pre></div></div>

<p><strong>Windows (PowerShell)</strong></p>
<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">New-Item</span><span class="w"> </span><span class="nt">-ItemType</span><span class="w"> </span><span class="nx">Directory</span><span class="w"> </span><span class="nt">-Force</span><span class="w"> </span><span class="nt">-Path</span><span class="w"> </span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work\82_Tools\installers"</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Out-Null</span><span class="w">
</span><span class="nx">if</span><span class="w"> </span><span class="p">(</span><span class="n">Test-Path</span><span class="w"> </span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work\80_Tools\installers"</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="n">Move-Item</span><span class="w"> </span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work\80_Tools\installers\*"</span><span class="w"> </span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work\82_Tools\installers"</span><span class="w"> </span><span class="nt">-Force</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<hr />

<h2 id="ìš”ì•½-5">ìš”ì•½</h2>

<ul>
  <li>
    <p><strong>installers ì •ë³¸ ìƒì</strong> ëŠ” <strong><code class="language-plaintext highlighter-rouge">82_Tools/installers/</code></strong>.</p>
  </li>
  <li>
    <p><strong>05_Downloads</strong> ëŠ” ì„ì‹œ ì°©ë¥™ì§€, ìŠ¤ìœ•ì´ ì•Œì•„ì„œ installersë¡œ ì˜®ê¹€.</p>
  </li>
  <li>
    <p>ì„¤ì¹˜ í›„ <strong>ì‹¤ì œ ì‹¤í–‰ ê²½ë¡œ</strong> ëŠ”: Toolchains(80) / SDKs(81) / ê°œì¸ìœ í‹¸(82).</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">SHA256SUMS</code> + <code class="language-plaintext highlighter-rouge">install_notes.md</code>ë¡œ <strong>ë¬´ê²°ì„±/ì¶œì²˜</strong> ë¥¼ ë‚¨ê²¨ ë³µêµ¬ì„± í™•ë³´.</p>
  </li>
</ul>

<p>í•„ìš”í•˜ë©´ <code class="language-plaintext highlighter-rouge">install_notes.md</code> ìë™ appendì™€ <code class="language-plaintext highlighter-rouge">SHA256SUMS</code> ìƒì„±ì„ ë¬¶ì€ <strong>ìµœì¢… ìŠ¤í¬ë¦½íŠ¸</strong> ë¥¼ 82 ê²½ë¡œ ê¸°ì¤€ìœ¼ë¡œ ì •ë¦¬í•´ì„œ ë“œë¦´ê²Œ.</p>

<p class="chat--user">

latestë¥¼ symbolic linkë¥¼ ë§Œë“¤ì–ì•„. ì´ê±° í•˜ëŠ” ë²• ì•Œë ¤ì¤˜. ìƒëŒ€ê²½ë¡œë¡œ ê·¸ëƒ¥ í•˜ë©´ ë˜ë‚˜?

</p>

<p>ì¢‹ì•„! <strong>ê²°ë¡ :</strong> ë„¤â€”<code class="language-plaintext highlighter-rouge">latest</code>ëŠ” <strong>ìƒëŒ€ê²½ë¡œ ì‹¬ë³¼ë¦­ ë§í¬</strong> ë¡œ ë§Œë“œëŠ” ê²Œ ê°€ì¥ ì•ˆì „í•˜ê³  ì´ì‹ì„±ì´ ì¢‹ì•„.<br />
ì•„ë˜ë¥¼ ê·¸ëŒ€ë¡œ ë”°ë¼ í•˜ë©´ ë¼. (macOS/Linux, Windows ë‘˜ ë‹¤ ì •ë¦¬)</p>

<hr />

<h2 id="ê¸°ë³¸-ì˜ˆì‹œ-ë””ë ‰í„°ë¦¬-êµ¬ì¡°">ê¸°ë³¸ ì˜ˆì‹œ (ë””ë ‰í„°ë¦¬ êµ¬ì¡°)</h2>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>80_Toolchains/
  gcc/
    13.2.0/
    latest  -&gt; 13.2.0    # â† ì´ê±¸ ë§Œë“¤ ê±°ì•¼(ìƒëŒ€ ë§í¬)
</code></pre></div></div>

<hr />

<h2 id="macos--linux-3">macOS / Linux</h2>

<h3 id="1-ìƒˆë¡œ-ë§Œë“¤ê¸°">1) ìƒˆë¡œ ë§Œë“¤ê¸°</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> ~/Work/80_Toolchains/gcc
<span class="nb">ln</span> <span class="nt">-s</span> 13.2.0 latest   <span class="c"># ìƒëŒ€ê²½ë¡œ ë§í¬: latest -&gt; 13.2.0</span>
</code></pre></div></div>

<h3 id="2-ë²„ì „-ì—…ë°ì´íŠ¸ì´ë¯¸-latestê°€-ìˆì„-ë•Œ-êµì²´">2) ë²„ì „ ì—…ë°ì´íŠ¸(ì´ë¯¸ latestê°€ ìˆì„ ë•Œ êµì²´)</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> ~/Work/80_Toolchains/gcc
<span class="nb">ln</span> <span class="nt">-sfn</span> 13.3.0 latest
<span class="c"># -s : symlink, -f : ê¸°ì¡´ ë§í¬ ë®ì–´ì“°ê¸°, -n : ë§í¬ë¥¼ ë””ë ‰í„°ë¦¬ë¡œ ë³´ì§€ ì•Šê³  'ì´ë¦„'ìœ¼ë¡œ ì·¨ê¸‰</span>
</code></pre></div></div>

<h3 id="3-í™•ì¸ì ê²€">3) í™•ì¸/ì ê²€</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">ls</span> <span class="nt">-l</span> latest         <span class="c"># latest -&gt; 13.3.0</span>
<span class="nb">readlink </span>latest      <span class="c"># 13.3.0  (ìƒëŒ€ê²½ë¡œê°€ ë³´ì´ë©´ OK)</span>
</code></pre></div></div>

<h3 id="4-ì‹¤ìˆ˜í–ˆì„-ë•Œì˜ëª»-ë§Œë“ -ìµœì‹ -ë§í¬-ì§€ìš°ê¸°">4) ì‹¤ìˆ˜í–ˆì„ ë•Œ(ì˜ëª» ë§Œë“  ìµœì‹  ë§í¬ ì§€ìš°ê¸°)</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">rm </span>latest            <span class="c"># ë§í¬ë§Œ ì§€ì›Œì§(íƒ€ê¹ƒì€ ê·¸ëŒ€ë¡œ)</span>
</code></pre></div></div>

<blockquote>
  <p><strong>ì™œ ìƒëŒ€ê²½ë¡œ?</strong> í´ë”(ì˜ˆ: <code class="language-plaintext highlighter-rouge">80_Toolchains/gcc</code>)ë¥¼ í†µì§¸ë¡œ ë‹¤ë¥¸ ìœ„ì¹˜ë¡œ ì˜®ê²¨ë„ ë§í¬ê°€ <strong>ê¹¨ì§€ì§€ ì•ŠìŒ</strong>.<br />
 ì ˆëŒ€ê²½ë¡œ(<code class="language-plaintext highlighter-rouge">/Users/...</code>)ë¡œ ë§Œë“¤ë©´ ì´ë™ ì‹œ ì „ë¶€ ë‹¤ì‹œ ë§Œë“¤ì–´ì•¼ í•´.</p>
</blockquote>

<hr />

<h2 id="windows">Windows</h2>

<p>WindowsëŠ” ë‘ ê°€ì§€ê°€ ìˆì–´:</p>

<ul>
  <li>
    <p><strong>ì‹¬ë³¼ë¦­ ë§í¬(ê¶Œì¥):</strong> <code class="language-plaintext highlighter-rouge">mklink /D</code> (ê´€ë¦¬ì ê¶Œí•œ ë˜ëŠ” Windows â€œê°œë°œì ëª¨ë“œâ€ í•„ìš”)</p>
  </li>
  <li>
    <p><strong>ë””ë ‰í„°ë¦¬ ì •ì…˜(ëŒ€ì•ˆ):</strong> <code class="language-plaintext highlighter-rouge">mklink /J</code> (ê´€ë¦¬ì ë¶ˆí•„ìš”, ë‹¤ë§Œ ë“œë¼ì´ë¸Œ ê°„ ì´ë™ì— ì·¨ì•½)</p>
  </li>
</ul>

<h3 id="1-cmd-ê´€ë¦¬ì-ê¶Œì¥">1) CMD (ê´€ë¦¬ì ê¶Œì¥)</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cmd

cd %USERPROFILE%\Work\80_Toolchains\gcc

:: ì‹¬ë³¼ë¦­ ë§í¬ (ê¶Œì¥, ê´€ë¦¬ì ë˜ëŠ” ê°œë°œì ëª¨ë“œ)
mklink /D latest 13.2.0

:: ì—…ë°ì´íŠ¸(êµì²´)
rmdir latest
mklink /D latest 13.3.0
</code></pre></div></div>

<h3 id="2-ê´€ë¦¬ì-ê¶Œí•œ-ì—†ì´-ì“°ê³ -ì‹¶ìœ¼ë©´ì •ì…˜">2) ê´€ë¦¬ì ê¶Œí•œ ì—†ì´ ì“°ê³  ì‹¶ìœ¼ë©´(ì •ì…˜)</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cmd

cd %USERPROFILE%\Work\80_Toolchains\gcc
mklink /J latest 13.2.0
</code></pre></div></div>

<h3 id="3-powershell-ì‹¬ë³¼ë¦­-ë§í¬">3) PowerShell (ì‹¬ë³¼ë¦­ ë§í¬)</h3>
<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Set-Location</span><span class="w"> </span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work\80_Toolchains\gcc"</span><span class="w">
</span><span class="n">New-Item</span><span class="w"> </span><span class="nt">-ItemType</span><span class="w"> </span><span class="nx">SymbolicLink</span><span class="w"> </span><span class="nt">-Path</span><span class="w"> </span><span class="s2">"latest"</span><span class="w"> </span><span class="nt">-Target</span><span class="w"> </span><span class="s2">"13.2.0"</span><span class="w">  </span><span class="c"># ê´€ë¦¬ì ë˜ëŠ” ê°œë°œì ëª¨ë“œ</span><span class="w">
</span></code></pre></div></div>

<h3 id="4-í™•ì¸">4) í™•ì¸</h3>
<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Get-Item</span><span class="w"> </span><span class="nx">latest</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Format-List</span><span class="w"> </span><span class="nx">Name</span><span class="p">,</span><span class="nx">LinkType</span><span class="p">,</span><span class="nx">Target</span><span class="w">
</span></code></pre></div></div>

<blockquote>
  <p><strong>íŒ:</strong> ì‹¬ë³¼ë¦­ ë§í¬ëŠ” ìƒëŒ€ê²½ë¡œ íƒ€ê²Ÿë„ ì˜ ë™ì‘í•¨. ì •ì…˜(/J)ì€ ë‚´ë¶€ì ìœ¼ë¡œ ì ˆëŒ€ê²½ë¡œë¡œ ê³ ì •ë˜ê¸° ì‰¬ì›Œ,<br />
 í´ë”ë¥¼ ë‹¤ë¥¸ ë“œë¼ì´ë¸Œë¡œ ì˜®ê¸°ë©´ ê¹¨ì§ˆ ìˆ˜ ìˆì–´. ê°€ëŠ¥í•˜ë©´ <strong>/D(ì‹¬ë³¼ë¦­)</strong>ì„ ì“°ì.</p>
</blockquote>

<hr />

<h2 id="ì‘ì€-ìë™í™”ì„ íƒ">ì‘ì€ ìë™í™”(ì„ íƒ)</h2>

<h3 id="bashzsh-set-latestsh">Bash/Zsh: <code class="language-plaintext highlighter-rouge">set-latest.sh</code></h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/usr/bin/env bash</span>
<span class="nb">set</span> <span class="nt">-euo</span> pipefail
<span class="nb">dir</span><span class="o">=</span><span class="s2">"</span><span class="k">${</span><span class="nv">1</span>:?tool<span class="p"> dir</span><span class="k">}</span><span class="s2">"</span>     <span class="c"># ì˜ˆ: ~/Work/80_Toolchains/gcc</span>
<span class="nv">ver</span><span class="o">=</span><span class="s2">"</span><span class="k">${</span><span class="nv">2</span>:?version<span class="k">}</span><span class="s2">"</span>      <span class="c"># ì˜ˆ: 13.3.0</span>
<span class="nb">cd</span> <span class="s2">"</span><span class="nv">$dir</span><span class="s2">"</span>
<span class="nb">ln</span> <span class="nt">-sfn</span> <span class="s2">"</span><span class="nv">$ver</span><span class="s2">"</span> latest
<span class="nb">echo</span> <span class="s2">"latest -&gt; </span><span class="nv">$ver</span><span class="s2">"</span>
</code></pre></div></div>

<h3 id="powershell-set-latestps1">PowerShell: <code class="language-plaintext highlighter-rouge">Set-Latest.ps1</code></h3>
<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kr">param</span><span class="p">([</span><span class="n">Parameter</span><span class="p">(</span><span class="n">Mandatory</span><span class="p">)][</span><span class="n">string</span><span class="p">]</span><span class="nv">$Dir</span><span class="p">,[</span><span class="n">Parameter</span><span class="p">(</span><span class="n">Mandatory</span><span class="p">)][</span><span class="n">string</span><span class="p">]</span><span class="nv">$Version</span><span class="p">)</span><span class="w">
</span><span class="n">Set-Location</span><span class="w"> </span><span class="nv">$Dir</span><span class="w">
</span><span class="kr">if</span><span class="w"> </span><span class="p">(</span><span class="n">Test-Path</span><span class="w"> </span><span class="nx">latest</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">Remove-Item</span><span class="w"> </span><span class="nx">latest</span><span class="w"> </span><span class="p">}</span><span class="w">
</span><span class="n">New-Item</span><span class="w"> </span><span class="nt">-ItemType</span><span class="w"> </span><span class="nx">SymbolicLink</span><span class="w"> </span><span class="nt">-Path</span><span class="w"> </span><span class="s2">"latest"</span><span class="w"> </span><span class="nt">-Target</span><span class="w"> </span><span class="nv">$Version</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Out-Null</span><span class="w">
</span><span class="s2">"latest -&gt; </span><span class="nv">$Version</span><span class="s2">"</span><span class="w">
</span></code></pre></div></div>

<hr />

<h2 id="ìì£¼-ë‚˜ëŠ”-ì‹¤ìˆ˜--ì²´í¬ë¦¬ìŠ¤íŠ¸">ìì£¼ ë‚˜ëŠ” ì‹¤ìˆ˜ &amp; ì²´í¬ë¦¬ìŠ¤íŠ¸</h2>

<ul>
  <li>
    <p>ê²½ë¡œì— <strong>ê³µë°±</strong> ì´ ìˆìœ¼ë©´ ê¼­ <strong>ë”°ì˜´í‘œ</strong> ë¡œ ê°ì‹¸ê¸°.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">ln -sfn</code>ì€ ê¸°ì¡´ <strong>ë§í¬</strong> ë§Œ ê¹”ë”íˆ êµì²´í•´ ì¤Œ. ê¸°ì¡´ì´ â€œì‹¤ì œ ë””ë ‰í„°ë¦¬â€ë¼ë©´ ë¨¼ì € <code class="language-plaintext highlighter-rouge">rm -rf latest</code> í›„ ë‹¤ì‹œ ìƒì„±.</p>
  </li>
  <li>
    <p>Windowsì—ì„œ ê¶Œí•œ ë¬¸ì œ ë‚˜ë©´: <strong>ê´€ë¦¬ì PowerShell/CMD</strong> ë¡œ ì‹¤í–‰í•˜ê±°ë‚˜ <strong>ê°œë°œì ëª¨ë“œ</strong> ì¼œê¸°.</p>
  </li>
  <li>
    <p>ë§í¬ ë§Œë“  ë’¤ <strong>PATH</strong> ì— <code class="language-plaintext highlighter-rouge">.../gcc/latest/bin</code>ì²˜ëŸ¼ <code class="language-plaintext highlighter-rouge">latest</code>ë¥¼ ë„£ì–´ë‘ë©´, ë²„ì „ ì „í™˜ ì‹œ <strong>ë§í¬ë§Œ ë°”ê¾¸ë©´</strong> ìŠ¤í¬ë¦½íŠ¸ ìˆ˜ì •ì´ í•„ìš” ì—†ìŒ.</p>
  </li>
</ul>

<p>í•„ìš”í•˜ë©´ ë„¤ê°€ ì“°ëŠ” íˆ´(ì˜ˆ: <code class="language-plaintext highlighter-rouge">gcc</code>, <code class="language-plaintext highlighter-rouge">cmake</code>, <code class="language-plaintext highlighter-rouge">jdk</code>, <code class="language-plaintext highlighter-rouge">qt</code>) ë¦¬ìŠ¤íŠ¸ë¥¼ ì•Œë ¤ì¤˜. ê° í´ë”ì— ëŒ€í•´ <code class="language-plaintext highlighter-rouge">latest</code>ë¥¼ <strong>ì¼ê´„ ìƒì„±/ê°±ì‹ </strong> í•˜ëŠ” ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë§ì¶¤ìœ¼ë¡œ ë§Œë“¤ì–´ ì¤„ê²Œ!</p>

<p class="chat--user">

í´ë” ëª…ì„ ë²„ì ¼ë§Œ ì“°ëŠ”ê²Œ ë§ì•„? gcc-13.3.0 ì´ê²Œ ë” ì¢‹ì•„ë³´ì´ê¸°ë„ í•˜ê³ .

</p>

<p>ì¢‹ì€ ì§ˆë¬¸! ê²°ë¡ ë¶€í„° ë§í•˜ë©´ <strong>â€œë²„ì „ë§Œâ€ vs â€œíˆ´-ë²„ì „â€</strong>ì€ â€œë¶€ëª¨ í´ë”ê°€ ì´ë¯¸ íˆ´ì„ ì‹ë³„í•˜ëŠëƒâ€ë¡œ ë‚˜ëˆ  ê²°ì •í•˜ë©´ ê¹”ë”í•´ìš”.</p>

<h2 id="ê²°ì •-ê·œì¹™-step-by-step">ê²°ì • ê·œì¹™ (step-by-step)</h2>

<ol>
  <li>
    <p><strong>ë¶€ëª¨ í´ë”ê°€ íˆ´ì„ ì´ë¯¸ ë§í•´ì¤€ë‹¤</strong><br />
â†’ <strong>ë²„ì „ë§Œ</strong> ì“°ëŠ” ê²Œ ì •ì„.<br />
ì˜ˆ) <code class="language-plaintext highlighter-rouge">80_Toolchains/gcc/13.3.0/</code> (âœ…), <code class="language-plaintext highlighter-rouge">latest â†’ 13.3.0</code></p>

    <ul>
      <li>
        <p>ì¤‘ë³µ ì—†ì´ ì§§ê³  ë³´ê¸° ì¢‹ìŒ</p>
      </li>
      <li>
        <p>ì—…ë°ì´íŠ¸ ì‹œ <code class="language-plaintext highlighter-rouge">ln -sfn 13.3.1 latest</code> í•œ ì¤„ì´ë©´ ë</p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>ì—¬ëŸ¬ íˆ´ì´ í•œ í´ë”ì— ì„ì—¬ ìˆë‹¤</strong>(portable ëª¨ìŒ ë“±)<br />
â†’ <strong>íˆ´-ë²„ì „</strong> ì´ ì•ˆì „.<br />
ì˜ˆ) <code class="language-plaintext highlighter-rouge">82_Tools/portable/gcc-13.3.0/</code>, <code class="language-plaintext highlighter-rouge">82_Tools/portable/cmake-3.29.3/</code> (âœ…)</p>

    <ul>
      <li>
        <p>í•œ ëˆˆì— ë¬´ì—‡ì¸ì§€ ì‹ë³„ ì‰¬ì›€</p>
      </li>
      <li>
        <p>ì •ë ¬/ê²€ìƒ‰ì— ìœ ë¦¬(<code class="language-plaintext highlighter-rouge">ls | grep gcc-</code>)</p>
      </li>
    </ul>
  </li>
</ol>

<hr />

<h2 id="ì¶”ì²œ-íŒ¨í„´-ìš”ì•½">ì¶”ì²œ íŒ¨í„´ ìš”ì•½</h2>

<ul>
  <li><strong>Toolchains/SDKs ê°™ì´ â€œíˆ´ë³„ ì „ìš© ë””ë ‰í„°ë¦¬â€ê°€ ìˆëŠ” ê³³</strong></li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>80_Toolchains/
 gcc/
   13.3.0/
   latest -&gt; 13.3.0
 cmake/
   3.29.3/
   latest -&gt; 3.29.3
</code></pre></div></div>

<p><em>ì—¬ê¸°ì„œëŠ”</em> <code class="language-plaintext highlighter-rouge">13.3.0</code>ì²˜ëŸ¼ <strong>ë²„ì „ë§Œ</strong> ì´ ë§ìŠµë‹ˆë‹¤. <code class="language-plaintext highlighter-rouge">gcc-13.3.0</code>ì€ ì¤‘ë³µ.</p>

<ul>
  <li><strong>Tools/portable ê°™ì´ â€œì—¬ëŸ¬ íˆ´ì´ ì„ì´ëŠ” ê³³â€</strong></li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>82_Tools/
 portable/
   gcc-13.3.0/
   cmake-3.29.3/
   ninja-1.12.1/
</code></pre></div></div>

<p><em>ì—¬ê¸°ì„œëŠ”</em> <strong>íˆ´-ë²„ì „</strong> ì´ ê°€ë…ì„± ìµœê³ .</p>

<hr />

<h2 id="osì•„í‚¤ë³€í˜•ê¹Œì§€-í‘œê¸°í•´ì•¼-í• -ë•Œ">OS/ì•„í‚¤/ë³€í˜•ê¹Œì§€ í‘œê¸°í•´ì•¼ í•  ë•Œ</h2>

<p>íˆ´ë³„ ë””ë ‰í„°ë¦¬(ì˜ˆ: <code class="language-plaintext highlighter-rouge">80_Toolchains/gcc/</code>)ì—ì„œë„ <strong>ë²„ì „ ë’¤ì—ë§Œ ë³€í˜•ì„ ë¶™ì´ëŠ”</strong> ë°©ì‹ì´ ê¹”ë”í•©ë‹ˆë‹¤.</p>

<ul>
  <li>
    <p>íŒ¨í„´:<br />
<code class="language-plaintext highlighter-rouge">/&lt;version&gt;[-&lt;os&gt;-&lt;arch&gt;[-&lt;libc|vendor&gt;]]/</code></p>
  </li>
  <li>
    <p>ì˜ˆì‹œ:</p>

    <ul>
      <li>
        <p><code class="language-plaintext highlighter-rouge">13.3.0-mac-arm64/</code></p>
      </li>
      <li>
        <p><code class="language-plaintext highlighter-rouge">13.3.0-linux-x64-glibc/</code></p>
      </li>
      <li>
        <p><code class="language-plaintext highlighter-rouge">6.7.2-win-x64-msvc/</code> (Qtì²˜ëŸ¼ íˆ´ì²´ì¸ì´ ë‹¤ë¥¸ ê²½ìš°)</p>
      </li>
    </ul>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">latest</code>ëŠ” í•­ìƒ í•´ë‹¹ ë³€í˜• ë””ë ‰í„°ë¦¬ë¥¼ ê°€ë¦¬í‚¤ê²Œ:<br />
<code class="language-plaintext highlighter-rouge">latest -&gt; 13.3.0-mac-arm64</code></p>
  </li>
</ul>

<blockquote>
  <p>ë°˜ëŒ€ë¡œ <strong>portable ì„ì„ í´ë”</strong> ë¼ë©´: <code class="language-plaintext highlighter-rouge">gcc-13.3.0-linux-x64/</code>ì²˜ëŸ¼ ì ‘ë‘ íˆ´ëª…ì„ ìœ ì§€.</p>
</blockquote>

<hr />

<h2 id="latest-ì‹¬ë³¼ë¦­-ë§í¬-ì˜ˆì‹œìƒëŒ€ê²½ë¡œ">latest ì‹¬ë³¼ë¦­ ë§í¬ ì˜ˆì‹œ(ìƒëŒ€ê²½ë¡œ)</h2>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> ~/Work/80_Toolchains/gcc
<span class="nb">ln</span> <span class="nt">-sfn</span> 13.3.0 latest          <span class="c"># ê¸°ë³¸</span>
<span class="c"># ë³€í˜•ì´ ìˆì„ ë•Œ</span>
<span class="nb">ln</span> <span class="nt">-sfn</span> 13.3.0-mac-arm64 latest
</code></pre></div></div>

<ul>
  <li><strong>ìƒëŒ€ê²½ë¡œ ë§í¬</strong> ë¥¼ ê¶Œì¥(í´ë”ë¥¼ í†µì§¸ë¡œ ì˜®ê²¨ë„ ì•ˆ ê¹¨ì§).</li>
</ul>

<hr />

<h2 id="ì‹¤ì œ-íŠ¸ë¦¬-ì˜ˆì‹œí˜¼í•©-ì‚¬ë¡€">ì‹¤ì œ íŠ¸ë¦¬ ì˜ˆì‹œ(í˜¼í•© ì‚¬ë¡€)</h2>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>80_Toolchains/
  gcc/
    13.3.0-linux-x64/
    13.3.0-mac-arm64/
    latest -&gt; 13.3.0-mac-arm64
  cmake/
    3.29.3/
    latest -&gt; 3.29.3

81_SDKs/
  jdk/
    21.0.2/
    latest -&gt; 21.0.2
  qt/
    6.7.2-win-x64-msvc/
    latest -&gt; 6.7.2-win-x64-msvc

82_Tools/
  bin/                   # ë‹¨ì¼ ë°”ì´ë„ˆë¦¬
    rg
    fd
  portable/              # ì„ì—¬ ìˆìœ¼ë¯€ë¡œ ì ‘ë‘ì–´-ë²„ì „
    gcc-13.3.0-linux-x64/
    cmake-3.29.3/
    ninja-1.12.1/
</code></pre></div></div>

<hr />

<h2 id="ìš´ì˜-íŒê°„ë‹¨-ë£°">ìš´ì˜ íŒ(ê°„ë‹¨ ë£°)</h2>

<ul>
  <li>
    <p><strong>íˆ´ë³„ ì „ìš© ë””ë ‰í„°ë¦¬ë©´ â†’ ë²„ì „ë§Œ</strong></p>
  </li>
  <li>
    <p><strong>ì„ì—¬ ìˆìœ¼ë©´ â†’ íˆ´-ë²„ì „</strong></p>
  </li>
  <li>
    <p><strong>ë³€í˜•ì´ í•„ìš”í•˜ë©´ â†’ ë²„ì „ ë’¤ì—ë§Œ ë¶™ì´ê¸°</strong>(<code class="language-plaintext highlighter-rouge">13.3.0-mac-arm64</code>)</p>
  </li>
  <li>
    <p><strong>latestëŠ” ìƒëŒ€ì‹¬ë³¼ë¦­</strong></p>
  </li>
  <li>
    <p>ìŠ¤í¬ë¦½íŠ¸ì—ëŠ” ê²½ë¡œ í•˜ë“œì½”ë”© ëŒ€ì‹  í™˜ê²½ë³€ìˆ˜ ì‚¬ìš©(ì˜ˆ: <code class="language-plaintext highlighter-rouge">WORK_TC</code>, <code class="language-plaintext highlighter-rouge">WORK_SDK</code>, <code class="language-plaintext highlighter-rouge">WORK_TOOLS</code>)ìœ¼ë¡œ ë¦¬ë„¤ì„ ë‚´ì„± â†‘</p>
  </li>
</ul>

<p>ì›í•˜ë©´ ì§€ê¸ˆ ì“°ëŠ” í´ë”ë“¤ ê¸°ì¤€ìœ¼ë¡œ <strong>ìë™ ë¦¬ë„¤ì´ë¨¸</strong>(ì¤‘ë³µ ì ‘ë‘ ì œê±°, ë³€í˜• ì ‘ë¯¸ ì¶”ê°€, latest ìƒì„±ê¹Œì§€) ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë§Œë“¤ì–´ì¤„ê²Œâ€”ì‚¬ìš© OS/ì…¸ë§Œ ì•Œë ¤ì¤˜!</p>

<p class="chat--user">

ln -s ë¥¼ ì¨ì„œ ì‹¬ë³¼ë¦­ì„ í–ˆëŠ”ë° -sfnëŠ” ë­ê°€ ë‹¬ë¼?

</p>

<p>ì§§ê²Œ:</p>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">-s</code> = <strong>ì‹¬ë³¼ë¦­ ë§í¬</strong> ë¡œ ë§Œë“¤ì–´</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">-f</code> = <strong>ê¸°ì¡´ ëª©ì ì§€(linkname)ê°€ ìˆìœ¼ë©´ ì§€ìš°ê³ </strong> ë‹¤ì‹œ ë§Œë“¤ì–´</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">-n</code> = <strong>linknameì´ â€œë””ë ‰í„°ë¦¬ë¥¼ ê°€ë¦¬í‚¤ëŠ” ì‹¬ë³¼ë¦­ ë§í¬â€ì—¬ë„ ë””ë ‰í„°ë¦¬ë¡œ ì·¨ê¸‰í•˜ì§€ ë§ê³  ê·¸ â€œë§í¬ ê·¸ ìì²´â€ë¥¼ êµì²´</strong></p>
  </li>
</ul>

<p>ê·¸ë˜ì„œ <code class="language-plaintext highlighter-rouge">ln -sfn ìƒˆë²„ì „ latest</code> ëŠ” â€œlatestê°€ ë¬´ì—‡ì´ë“ (íŠ¹íˆ ë””ë ‰í„°ë¦¬ë¥¼ ê°€ë¦¬í‚¤ëŠ” ê¸°ì¡´ ì‹¬ë³¼ë¦­)â€ <strong>ê°•ì œë¡œ ìµœì‹  ë§í¬ë¡œ ê°ˆì•„ë¼ìš°ëŠ” ì•ˆì „í•œ í•œ ì¤„</strong> ì´ì—ìš”.</p>

<hr />

<h2 id="ì™œ--nì´-í•„ìš”í•˜ì£ ">ì™œ <code class="language-plaintext highlighter-rouge">-n</code>ì´ í•„ìš”í•˜ì£ ?</h2>

<p>ê¸°ì¡´ì— <code class="language-plaintext highlighter-rouge">latest -&gt; 13.2.0/</code> ê°™ì€ <strong>ë””ë ‰í„°ë¦¬ ì‹¬ë³¼ë¦­</strong> ì´ ìˆì„ ë•Œ,<br />
<code class="language-plaintext highlighter-rouge">ln -sf 13.3.0 latest</code> ëŠ” í”Œë«í¼/ìƒí™©ì— ë”°ë¼ <code class="language-plaintext highlighter-rouge">latest</code>ë¥¼ <strong>ë””ë ‰í„°ë¦¬ë¡œ ë”°ë¼ê°€</strong> ì„œ ê·¸ <strong>ì•ˆì—</strong> ë­”ê°€ ë§Œë“¤ë ¤ê³  ì‹œë„í•  ìˆ˜ ìˆì–´ìš”(ì˜ë„ ì•„ë‹˜).<br />
<code class="language-plaintext highlighter-rouge">-n</code>ì„ ì£¼ë©´ <code class="language-plaintext highlighter-rouge">latest</code>ë¥¼ <strong>â€œê·¸ëƒ¥ íŒŒì¼(ë§í¬) ì´ë¦„â€ìœ¼ë¡œë§Œ</strong> ë³´ê³  <strong>ê·¸ ë§í¬ ìì²´ë¥¼ êµì²´</strong> í•©ë‹ˆë‹¤.</p>

<blockquote>
  <p>macOS/BSDì—ì„œëŠ” <code class="language-plaintext highlighter-rouge">-n</code>ì´ <code class="language-plaintext highlighter-rouge">-h</code>(symlinkë¥¼ ë”°ë¼ê°€ì§€ ì•ŠìŒ)ê³¼ ë™ì¼í•œ ì˜ë¯¸ì…ë‹ˆë‹¤.<br />
 GNU coreutils(ë¦¬ëˆ…ìŠ¤)ì—ì„œë„ <code class="language-plaintext highlighter-rouge">-n/--no-dereference</code>ê°€ ê°™ì€ ì—­í• ì„ í•©ë‹ˆë‹¤.</p>
</blockquote>

<hr />

<h2 id="ìì£¼-ì“°ëŠ”-íŒ¨í„´">ìì£¼ ì“°ëŠ” íŒ¨í„´</h2>

<h3 id="ìƒˆë¡œ-ë§Œë“¤-ë•Œ">ìƒˆë¡œ ë§Œë“¤ ë•Œ</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">ln</span> <span class="nt">-s</span> 13.3.0 latest           <span class="c"># latest -&gt; 13.3.0 (ìƒëŒ€ë§í¬ ê¶Œì¥)</span>
</code></pre></div></div>

<h3 id="ê¸°ì¡´-latestë¥¼-ìƒˆ-ë²„ì „ìœ¼ë¡œ-êµì²´ê°€ì¥-ì•ˆì „">ê¸°ì¡´ latestë¥¼ ìƒˆ ë²„ì „ìœ¼ë¡œ êµì²´(ê°€ì¥ ì•ˆì „)</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">ln</span> <span class="nt">-sfn</span> 13.3.1 latest         <span class="c"># ê¸°ì¡´ symlinkë¥¼ ê°•ì œë¡œ êµì²´</span>
</code></pre></div></div>

<h3 id="í™•ì¸">í™•ì¸</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">ls</span> <span class="nt">-l</span> latest      <span class="c"># latest -&gt; 13.3.1</span>
<span class="nb">readlink </span>latest   <span class="c"># 13.3.1</span>
</code></pre></div></div>

<hr />

<h2 id="ë¹„êµ-ìš”ì•½">ë¹„êµ ìš”ì•½</h2>

<table>
  <thead>
    <tr>
      <th>ëª…ë ¹</th>
      <th>ë™ì‘</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ln -s T L</code></td>
      <td>Lì´ ì—†ì„ ë•Œë§Œ <strong>ì‹¬ë³¼ë¦­ L â†’ T</strong> ìƒì„±(ì´ë¯¸ ìˆìœ¼ë©´ ì‹¤íŒ¨)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ln -sf T L</code></td>
      <td>Lì´ íŒŒì¼/ë§í¬ë©´ <strong>ì‚­ì œ í›„ ì¬ìƒì„±</strong>. Lì´ <strong>ë””ë ‰í„°ë¦¬(ë˜ëŠ” ê·¸ë¥¼ ê°€ë¦¬í‚¤ëŠ” ë§í¬)</strong>ì¼ ë• <strong>ì˜ë„ì™€ ë‹¤ë¥´ê²Œ ë””ë ‰í„°ë¦¬ë¡œ ë”°ë¼ê°ˆ ìˆ˜ ìˆìŒ</strong></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ln -sfn T L</code></td>
      <td>Lì´ ë””ë ‰í„°ë¦¬ë¥¼ ê°€ë¦¬í‚¤ëŠ” <strong>ì‹¬ë³¼ë¦­</strong> ì´ë”ë¼ë„ <strong>ë”°ë¼ê°€ì§€ ì•Šê³ </strong> <strong>L ìì²´ë¥¼ êµì²´</strong>(ì˜ë„ëŒ€ë¡œ ìµœì‹  ë§í¬ ì—…ë°ì´íŠ¸)</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p>ì£¼ì˜: <strong>Lì´ ì‹¤ì œ ë””ë ‰í„°ë¦¬</strong> ë¼ë©´ <code class="language-plaintext highlighter-rouge">-f</code>ë¼ë„ ì§€ìš°ì§€ ì•ŠìŠµë‹ˆë‹¤. ê·¸ëŸ° ê²½ìš°ëŠ” <code class="language-plaintext highlighter-rouge">rm -rf L</code>ë¡œ ì§ì ‘ ì§€ìš´ ë’¤ ë‹¤ì‹œ ë§Œë“œì„¸ìš”.</p>
</blockquote>

<hr />

<h2 id="ì‹¤ì „-íŒ">ì‹¤ì „ íŒ</h2>

<ul>
  <li>
    <p><strong>ìƒëŒ€ê²½ë¡œ</strong>(ì˜ˆ: <code class="language-plaintext highlighter-rouge">ln -s 13.3.0 latest</code>)ë¡œ ë§Œë“¤ì–´ ë‘ë©´ ìƒìœ„ í´ë”ë¥¼ í†µì§¸ë¡œ ì˜®ê²¨ë„ ë§í¬ê°€ ì•ˆ ê¹¨ì§‘ë‹ˆë‹¤.</p>
  </li>
  <li>
    <p><strong>ìŠ¬ë˜ì‹œ ì£¼ì˜</strong> : <code class="language-plaintext highlighter-rouge">13.3.0/</code> ì²˜ëŸ¼ íƒ€ê¹ƒì— <code class="language-plaintext highlighter-rouge">/</code>ë¥¼ ë¶™ì´ë©´ ë””ë ‰í„°ë¦¬ë¡œ ê°„ì£¼ë˜ì–´ ì˜µì…˜ ë™ì‘ì´ ë¯¸ë¬˜í•´ì§ˆ ìˆ˜ ìˆìœ¼ë‹ˆ, <strong>ê·¸ëƒ¥ <code class="language-plaintext highlighter-rouge">13.3.0</code></strong>ìœ¼ë¡œ ì“°ëŠ” ê±¸ ì¶”ì²œ.</p>
  </li>
  <li>
    <p>WindowsëŠ” <code class="language-plaintext highlighter-rouge">mklink /D latest 13.3.0</code>(ë˜ëŠ” PowerShell <code class="language-plaintext highlighter-rouge">New-Item -ItemType SymbolicLink</code>)ë¡œ ë§Œë“¤ê³ , êµì²´ëŠ” <code class="language-plaintext highlighter-rouge">rmdir latest</code> í›„ ë‹¤ì‹œ <code class="language-plaintext highlighter-rouge">mklink</code>ê°€ ì •ì„ì…ë‹ˆë‹¤.</p>
  </li>
</ul>

<p>ì›í•˜ë©´ ë„¤ íˆ´ í´ë”ë“¤(gcc, cmake, jdkâ€¦)ì„ ìˆœíšŒí•˜ë©° <strong><code class="language-plaintext highlighter-rouge">latest</code>ë¥¼ ì¼ê´„ ê°±ì‹ </strong>í•˜ëŠ” ì‘ì€ ìŠ¤í¬ë¦½íŠ¸(bash/tcsh/PowerShell)ë„ ë°”ë¡œ ë§Œë“¤ì–´ì¤„ê²Œ.</p>

<p class="chat--user">

ì´ë¯¸ ë¹Œë“œëœ í´ë”ë“¤ì„ ê·¸ëƒ¥ cp -rf ë¡œ ì˜®ê²¨ë„ ìƒê´€ì—†ë‚˜

</p>

<p>ìš”ì•½ë¶€í„°: <strong>ê·¸ëƒ¥<code class="language-plaintext highlighter-rouge">cp -rf</code>ë¡œ í†µì§¸ ë³µì‚¬í•˜ëŠ” ê±´ ë¹„ì¶”</strong>ì˜ˆìš”.<br />
ì•ˆì „í•˜ê²Œ ì˜®ê¸°ë ¤ë©´ <strong>ê°™ì€ ë””ìŠ¤í¬ë©´<code class="language-plaintext highlighter-rouge">mv</code></strong>, ë‹¤ë¥¸ ë””ìŠ¤í¬/ì¥ì¹˜ë©´ <strong><code class="language-plaintext highlighter-rouge">rsync -a</code>(ë˜ëŠ” <code class="language-plaintext highlighter-rouge">cp -a</code>/<code class="language-plaintext highlighter-rouge">-pPR</code>)</strong>ë¥¼ ì“°ê³ , â€œì˜®ê²¨ë„ ë˜ëŠ”ì§€â€ë¥¼ <strong>ì¢…ë¥˜ë³„ë¡œ</strong> íŒë‹¨í•´ì•¼ í•©ë‹ˆë‹¤.</p>

<hr />

<h1 id="1-ì–¸ì œ-ê·¸ëƒ¥-ì˜®ê²¨ë„-ë˜ë‚˜-relocatable-ok">1) ì–¸ì œ â€œê·¸ëƒ¥ ì˜®ê²¨ë„â€ ë˜ë‚˜? (Relocatable OK)</h1>

<ul>
  <li>
    <p><strong>í¬í„°ë¸”/ì••ì¶• í•´ì œí˜• CLI</strong>(tar.gzë¡œ ë°°í¬ëœ cmake/ninja ë“±)</p>
  </li>
  <li>
    <p><strong>í—¤ë”-only/ìŠ¤í¬ë¦½íŠ¸-only</strong>(íŠ¹ì • ì ˆëŒ€ê²½ë¡œì— ë¬¶ì´ì§€ ì•Šì€ ê²ƒ)</p>
  </li>
  <li>
    <p><strong>ìì²´ RPATHê°€ ìƒëŒ€í˜•</strong> ì´ê±°ë‚˜ <strong>ì •ì  ë§í¬ ë°”ì´ë„ˆë¦¬</strong><br />
â†’ ì´ëŸ° ê±´ ë³´í†µ ìœ„ì¹˜ ë…ë¦½ì ì´ë¼ í´ë”ë§Œ ì˜®ê²¨ë„ ë™ì‘í•©ë‹ˆë‹¤.</p>
  </li>
</ul>

<h1 id="2-ì˜®ê¸°ë©´-ê¹¨ì§€ê¸°-ì‰¬ìš´-ê²ƒ-relocatable-ìœ„í—˜">2) ì˜®ê¸°ë©´ ê¹¨ì§€ê¸° ì‰¬ìš´ ê²ƒ (Relocatable ìœ„í—˜)</h1>

<ul>
  <li>
    <p><strong>Python venv / conda env</strong> : ë‚´ë¶€ shebangê³¼ ê²½ë¡œê°€ <strong>ì ˆëŒ€ê²½ë¡œë¡œ ë°•í˜€</strong> ìˆì–´ìš”.<br />
â†’ <em>ê¶Œì¥</em> : venvëŠ” ë‹¤ì‹œ ë§Œë“¤ê¸°, condaëŠ” <strong>conda-pack</strong> ê°™ì€ ë„êµ¬ ì‚¬ìš©.</p>
  </li>
  <li>
    <p><strong>C/C++ íˆ´ì²´ì¸Â·ë¼ì´ë¸ŒëŸ¬ë¦¬</strong> ê°€ <strong>ì ˆëŒ€ RPATH / install prefix</strong> ë¥¼ ê°€ì§ˆ ë•Œ<br />
â†’ <code class="language-plaintext highlighter-rouge">readelf -d</code>/<code class="language-plaintext highlighter-rouge">patchelf</code>(Linux), <code class="language-plaintext highlighter-rouge">otool -l</code>/<code class="language-plaintext highlighter-rouge">install_name_tool</code>(macOS)ë¡œ í™•ì¸Â·ìˆ˜ì • í•„ìš”.</p>
  </li>
  <li>
    <p><strong>Qt/GTK ë“± í”„ë ˆì„ì›Œí¬ ì•±</strong> : í”Œë«í¼ ëŸ¬ntime ê²½ë¡œ/íˆ´(deploy ë„êµ¬) ì˜ì¡´.<br />
â†’ <code class="language-plaintext highlighter-rouge">macdeployqt</code>/<code class="language-plaintext highlighter-rouge">windeployqt</code>ë¡œ ë²ˆë“¤ë§í•œ ì‚°ì¶œë§Œ ìœ„ì¹˜ ë…ë¦½ì´ ë¨.</p>
  </li>
  <li>
    <p><strong>Windowsì— â€œì¸ìŠ¤í†¨ëŸ¬ë¡œ ì„¤ì¹˜ëœâ€ íˆ´</strong> : ë ˆì§€ìŠ¤íŠ¸ë¦¬/ì„œë¹„ìŠ¤/ì‹œìŠ¤í…œ PATH ì˜ì¡´.<br />
â†’ Program Filesì— ê¹”ë¦° ê±´ <strong>ë³µì‚¬ ë§ê³  ì¬ì„¤ì¹˜</strong> ê°€ ì•ˆì „.</p>
  </li>
</ul>

<hr />

<h1 id="3-ì•ˆì „í•œ-ë³µì‚¬ì´ë™-ì»¤ë§¨ë“œ">3) ì•ˆì „í•œ ë³µì‚¬/ì´ë™ ì»¤ë§¨ë“œ</h1>

<h2 id="ê°™ì€-ë””ìŠ¤í¬íŒŒí‹°ì…˜ë¼ë©´--ì´ë™ì´-ì •ë‹µ">ê°™ì€ ë””ìŠ¤í¬(íŒŒí‹°ì…˜)ë¼ë©´ â†’ <strong>ì´ë™ì´ ì •ë‹µ</strong></h2>

<ul>
  <li><strong>Linux/macOS</strong>
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">mv</span> /old/path/gcc/13.2.0 /new/path/gcc/
</code></pre></div>    </div>

    <ul>
      <li><em>ì¥ì </em> : ë¹ ë¦„(ë©”íƒ€ë°ì´í„°ë§Œ ê°±ì‹ ), <strong>ê¶Œí•œ/íƒ€ì„ìŠ¤íƒ¬í”„/ë§í¬ ë³´ì¡´</strong>.</li>
    </ul>
  </li>
</ul>

<h2 id="ë‹¤ë¥¸-ë””ìŠ¤í¬ì¥ì¹˜ë¡œ-ë³µì‚¬í•´ì•¼-í•œë‹¤ë©´">ë‹¤ë¥¸ ë””ìŠ¤í¬/ì¥ì¹˜ë¡œ ë³µì‚¬í•´ì•¼ í•œë‹¤ë©´</h2>

<ul>
  <li><strong>Linux</strong>
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rsync <span class="nt">-aHAX</span> <span class="nt">--info</span><span class="o">=</span>progress2 /old/path/ /new/path/
<span class="c"># ë˜ëŠ” ìµœì†Œ: rsync -a /old/path/ /new/path/</span>
<span class="c"># cp ëŒ€ì•ˆ: cp -a /old/path /new/path</span>
</code></pre></div>    </div>
  </li>
  <li><strong>macOS (BSD cpëŠ” -aê°€ ì•½í•¨)</strong>
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rsync <span class="nt">-a</span> /old/path/ /new/path/
<span class="c"># ë˜ëŠ”: cp -pPR /old/path /new/path   # -p(ì†ì„±) -P(ì‹¬ë³¼ë¦­ ë³´ì¡´) -R(ì¬ê·€)</span>
<span class="c"># ë˜ëŠ”: ditto /old/path /new/path     # xattrs/ë¦¬ì†ŒìŠ¤ í¬í¬ê¹Œì§€ ì˜ ë³´ì¡´</span>
</code></pre></div>    </div>
  </li>
  <li><strong>Windows</strong>
    <div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">robocopy</span><span class="w"> </span><span class="s2">"C:\old\path"</span><span class="w"> </span><span class="s2">"D:\new\path"</span><span class="w"> </span><span class="nx">/MIR</span><span class="w"> </span><span class="nx">/COPY:DATSO</span><span class="w"> </span><span class="nx">/DCOPY:DAT</span><span class="w"> </span><span class="nx">/SL</span><span class="w">
</span><span class="c"># /SL: ì‹¬ë³¼ë¦­ ë§í¬ë¥¼ 'ëŒ€ìƒ'ì´ ì•„ë‹ˆë¼ 'ë§í¬ ìì²´'ë¡œ ë³µì‚¬</span><span class="w">
</span></code></pre></div>    </div>
  </li>
</ul>

<blockquote>
  <p><strong>ì™œ<code class="language-plaintext highlighter-rouge">cp -rf</code>ëŠ” ìœ„í—˜?</strong><br />
 <code class="language-plaintext highlighter-rouge">-r</code>ì€ ì¬ê·€ ë³µì‚¬ì§€ë§Œ <strong>ë©”íƒ€ë°ì´í„°(ê¶Œí•œ/íƒ€ì„ìŠ¤íƒ¬í”„/ë§í¬/í™•ì¥ì†ì„±)</strong>ë¥¼ ì œëŒ€ë¡œ ì•ˆ ì§€ì¼œìš”.<br />
 ë˜í•œ <strong>ì‹¬ë³¼ë¦­ ë§í¬ë¥¼ ë”°ë¼ê°€</strong> ì‹¤ì œ ë‚´ìš©ì„ ë³µì‚¬í•´ ë²„ë¦´ ìˆ˜ ìˆì–´ êµ¬ì¡°ê°€ ë°”ë€ë‹ˆë‹¤.<br />
 â†’ <strong><code class="language-plaintext highlighter-rouge">-a</code>(archive)ë‚˜ <code class="language-plaintext highlighter-rouge">-pPR</code>/<code class="language-plaintext highlighter-rouge">rsync -a</code></strong>ë¥¼ ì“°ì„¸ìš”.</p>
</blockquote>

<hr />

<h1 id="4-ì˜®ê¸´-ë’¤-ê³ ì¥-ì²´í¬-ë¹ ë¥¸-ì ê²€í‘œ">4) ì˜®ê¸´ ë’¤ â€œê³ ì¥ ì²´í¬â€ ë¹ ë¥¸ ì ê²€í‘œ</h1>

<h3 id="ê³µí†µ">ê³µí†µ</h3>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">bin/íˆ´ --version</code> ì‹¤í–‰</p>
  </li>
  <li>
    <p><strong>ì‹¬ë³¼ë¦­ ë§í¬</strong> ê°€ ê·¸ëŒ€ë¡œì¸ì§€: <code class="language-plaintext highlighter-rouge">find . -type l -ls</code> (ë§í¬ê°€ íŒŒì¼ë¡œ â€œë³µì œâ€ë˜ì–´ ìˆì§€ ì•Šì€ì§€)</p>
  </li>
  <li>
    <p><strong>íƒ€ì„ìŠ¤íƒ¬í”„</strong> ìœ ì§€ ì—¬ë¶€(ì¦ë¶„ ë¹Œë“œ íŠ¸ë¦¬ê±° ë°©ì§€): <code class="language-plaintext highlighter-rouge">stat</code>ë¡œ ëª‡ ê°œ ìƒ˜í”Œ í™•ì¸</p>
  </li>
</ul>

<h3 id="linuxelf">Linux(ELF)</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ldd bin/somebinary                  <span class="c"># ì˜ì¡´ so í™•ì¸</span>
patchelf <span class="nt">--print-rpath</span> bin/somebinary
</code></pre></div></div>

<ul>
  <li>ì ˆëŒ€ RPATHê°€ ì´ì „ ê²½ë¡œë¥¼ ê°€ë¦¬í‚¤ë©´ ë™ì‘ ë¶ˆê°€ â†’ <code class="language-plaintext highlighter-rouge">patchelf --set-rpath</code>ë¡œ ìˆ˜ì •.</li>
</ul>

<h3 id="macosmach-o">macOS(Mach-O)</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>otool <span class="nt">-L</span> bin/somebinary             <span class="c"># ë¡œë“œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ê²½ë¡œ</span>
otool <span class="nt">-l</span> bin/somebinary | <span class="nb">grep</span> <span class="nt">-A2</span> LC_RPATH
</code></pre></div></div>

<ul>
  <li>í•„ìš” ì‹œ <code class="language-plaintext highlighter-rouge">install_name_tool -change/-add_rpath</code>ë¡œ ê²½ë¡œ ìˆ˜ì •.</li>
</ul>

<h3 id="pythonconda">Python/conda</h3>

<ul>
  <li>venvëŠ” <strong>ë‹¤ì‹œ ìƒì„±</strong> ê¶Œì¥:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python3 <span class="nt">-m</span> venv .venv <span class="o">&amp;&amp;</span> <span class="nb">.</span> .venv/bin/activate <span class="o">&amp;&amp;</span> pip <span class="nb">install</span> <span class="nt">-r</span> requirements.txt
</code></pre></div>    </div>
  </li>
  <li>condaëŠ” <strong>conda-pack</strong> ìœ¼ë¡œ ë¬¶ì–´ì„œ ì˜®ê¸´ ë’¤ <strong>ì¬ë°°ì¹˜</strong> :
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>conda-pack <span class="nt">-n</span> myenv <span class="nt">-o</span> myenv.tar.gz
<span class="nb">mkdir</span> <span class="nt">-p</span> /new/env <span class="o">&amp;&amp;</span> <span class="nb">tar</span> <span class="nt">-xzf</span> myenv.tar.gz <span class="nt">-C</span> /new/env
/new/env/bin/conda-unpack
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="windows-1">Windows</h3>

<ul>
  <li>í¬í„°ë¸” ì•±ì´ë©´ OK. <strong>ì¸ìŠ¤í†¨ëŸ¬ ê¸°ë°˜</strong>(ë ˆì§€ìŠ¤íŠ¸ë¦¬ ì‚¬ìš©) íˆ´ì€ ì¬ì„¤ì¹˜ ê¶Œì¥.</li>
</ul>

<hr />

<h1 id="5-latest-ë§í¬ëŠ”">5) <code class="language-plaintext highlighter-rouge">latest</code> ë§í¬ëŠ”?</h1>

<p>í´ë” ìœ„ì¹˜ê°€ ë°”ë€Œë©´ <strong>ìƒëŒ€ë§í¬</strong> ë¡œ ë‹¤ì‹œ ì¡ëŠ” ê²Œ ì•ˆì „:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> /new/path/gcc
<span class="nb">ln</span> <span class="nt">-sfn</span> 13.3.0 latest   <span class="c"># ìƒëŒ€ê²½ë¡œ ì‹¬ë³¼ë¦­</span>
</code></pre></div></div>

<hr />

<h2 id="ê²°ë¡ -ì‹¤ë¬´-ë£°">ê²°ë¡  (ì‹¤ë¬´ ë£°)</h2>

<ol>
  <li>
    <p><strong>ê°™ì€ ë””ìŠ¤í¬ë©´<code class="language-plaintext highlighter-rouge">mv</code></strong>, ë‹¤ë¥¸ ë””ìŠ¤í¬ë©´ <strong><code class="language-plaintext highlighter-rouge">rsync -a</code></strong> (macì€ <code class="language-plaintext highlighter-rouge">cp -pPR</code>/<code class="language-plaintext highlighter-rouge">ditto</code>ë„ OK).</p>
  </li>
  <li>
    <p><strong>venv/conda, ì¸ìŠ¤í†¨ëŸ¬ ê¸°ë°˜ íˆ´</strong> ì€ ë³µì‚¬ ëŒ€ì‹  <strong>ì¬ìƒì„±/ì¬ì„¤ì¹˜</strong>.</p>
  </li>
  <li>
    <p>ë°”ì´ë„ˆë¦¬ëŠ” <strong>RPATH/ì˜ì¡´ ë¼ì´ë¸ŒëŸ¬ë¦¬</strong> ë¥¼ ì ê²€(í•„ìš” ì‹œ <code class="language-plaintext highlighter-rouge">patchelf</code>/<code class="language-plaintext highlighter-rouge">install_name_tool</code>).</p>
  </li>
  <li>
    <p>ë³µì‚¬ í›„ì—ëŠ” <strong>latest ì‹¬ë³¼ë¦­</strong> ê³¼ PATHë§Œ ë‹¤ì‹œ í™•ì¸.</p>
  </li>
</ol>

<p>ì›í•˜ë©´ ë„¤ê°€ ì‹¤ì œë¡œ ì˜®ê¸°ë ¤ëŠ” í´ë”(ì˜ˆ: <code class="language-plaintext highlighter-rouge">gcc/13.2.0</code>, <code class="language-plaintext highlighter-rouge">qt/6.7.2</code>) ê¸°ì¤€ìœ¼ë¡œ <strong>ì•ˆì „ ëª…ë ¹ì–´ ì„¸íŠ¸</strong> ë¥¼ êµ¬ì²´ì ìœ¼ë¡œ ì¨ ì¤„ê²Œ.</p>

<p class="chat--user">

ì´ë™í•˜ë‚˜ ì¹´í”¼í•˜ë‚˜ ë˜‘ê°™ì€ê±° ì•„ë‹Œê°€

</p>

<p>ì§§ê²Œ: <strong>ì•„ë‹ˆìš”.</strong></p>

<ul>
  <li>
    <p><strong>ê°™ì€ ë””ìŠ¤í¬/íŒŒì¼ì‹œìŠ¤í…œì´ë©´</strong> <code class="language-plaintext highlighter-rouge">mv</code>ëŠ” ê±°ì˜ <strong>ì´ë¦„ë§Œ ë°”ê¾¸ëŠ”(renaming) ë©”íƒ€ë°ì´í„° ì—°ì‚°</strong> â†’ ë¹ ë¥´ê³  ì›í˜•(ê¶Œí•œ/íƒ€ì„ìŠ¤íƒ¬í”„/í•˜ë“œë§í¬ ë“±) ê·¸ëŒ€ë¡œ.</p>
  </li>
  <li>
    <p><strong>ë‹¤ë¥¸ ë””ìŠ¤í¬/íŒŒí‹°ì…˜ì´ë©´</strong> <code class="language-plaintext highlighter-rouge">mv</code>ë„ ë‚´ë¶€ì ìœ¼ë¡œ <strong>ë³µì‚¬ í›„ ì›ë³¸ ì‚­ì œ</strong> ë¼ì„œ ì‚¬ì‹¤ìƒ <code class="language-plaintext highlighter-rouge">cp</code>ì™€ ë¹„ìŠ·í•˜ì§€ë§Œ, <code class="language-plaintext highlighter-rouge">cp -rf</code>ëŠ” <strong>ë©”íƒ€ë°ì´í„°Â·ì‹¬ë³¼ë¦­ ì²˜ë¦¬</strong> ê°€ ë¶€ì •í™•í•  ìˆ˜ ìˆì–´ ìœ„í—˜.</p>
  </li>
</ul>

<p>ì•„ë˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ê³¨ë¼ ì¨ìš”.</p>

<hr />

<h1 id="step-by-step-íŒë‹¨">step-by-step íŒë‹¨</h1>

<ol>
  <li>
    <p><strong>ê°™ì€ íŒŒì¼ì‹œìŠ¤í…œ?</strong> â†’ <strong><code class="language-plaintext highlighter-rouge">mv</code></strong></p>

    <ul>
      <li>
        <p>ì¥ì : 0-copy(ì´ˆê³ ì†), <strong>ì›ë³¸ inode/ê¶Œí•œ/íƒ€ì„ìŠ¤íƒ¬í”„/xattr/í•˜ë“œë§í¬ ê·¸ëŒ€ë¡œ</strong> , <strong>ì›ìì (atomic) rename</strong>.</p>
      </li>
      <li>
        <p>ì˜ˆ: <code class="language-plaintext highlighter-rouge">mv /work/old/gcc/13.2.0 /work/80_Toolchains/gcc/</code></p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>ë‹¤ë¥¸ íŒŒì¼ì‹œìŠ¤í…œ(ë˜ëŠ” ë“œë¼ì´ë¸Œ)?</strong> â†’ <strong><code class="language-plaintext highlighter-rouge">rsync -a</code>(ë˜ëŠ” <code class="language-plaintext highlighter-rouge">cp -a</code>)</strong></p>

    <ul>
      <li>
        <p><code class="language-plaintext highlighter-rouge">rsync -a</code>ê°€ í‘œì¤€ ë‹µ: ê¶Œí•œ/íƒ€ì„ìŠ¤íƒ¬í”„/ì‹¬ë³¼ë¦­ë§í¬/í•˜ë“œë§í¬ë¥¼ ë³´ì¡´.</p>
      </li>
      <li>ì˜ˆ (Linux/macOS):
        <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rsync <span class="nt">-a</span> /old/path/ /new/path/    <span class="c"># ëì— ìŠ¬ë˜ì‹œ ì£¼ì˜</span>
<span class="c"># ëŒ€ì•ˆ: macOSëŠ” cp -pPR ë˜ëŠ” ditto / robocopy(Windows)</span>
</code></pre></div>        </div>
      </li>
      <li>ëë‚˜ë©´ ì›ë³¸ì„ ì§ì ‘ ì§€ìš°ê¸°(<code class="language-plaintext highlighter-rouge">rm -rf /old/path</code>)â€”<strong>ê²€ì¦ í›„</strong>.</li>
    </ul>
  </li>
</ol>

<blockquote>
  <p><strong>ì™œ<code class="language-plaintext highlighter-rouge">cp -rf</code>ëŠ” ë¹„ì¶”?</strong><br />
 <code class="language-plaintext highlighter-rouge">-r</code>ì€ ì‹¬ë³¼ë¦­ ë§í¬ë¥¼ <strong>ë”°ë¼ê°€ì„œ ë‚´ìš©ê¹Œì§€ ë³µì‚¬</strong> í•  ìˆ˜ ìˆê³ , xattr/ACL/íƒ€ì„ìŠ¤íƒ¬í”„ ë³´ì¡´ì´ ê¹¨ì§ˆ ìˆ˜ ìˆì–´ìš”. ìµœì†Œ <strong><code class="language-plaintext highlighter-rouge">cp -a</code></strong>(Linux)ë‚˜ <strong><code class="language-plaintext highlighter-rouge">cp -pPR</code>/<code class="language-plaintext highlighter-rouge">ditto</code>(macOS)</strong>ë¥¼ ì¨ì•¼ ì•ˆì „.</p>
</blockquote>

<hr />

<h1 id="ë¹ ë¥¸-ì²´í¬ê°™ì€-fsì¸ì§€">ë¹ ë¥¸ ì²´í¬(ê°™ì€ FSì¸ì§€)</h1>

<ul>
  <li>
    <p><strong>Linux</strong> : <code class="language-plaintext highlighter-rouge">stat -c %d &lt;path&gt;</code> ë‘ ê²½ë¡œì˜ ìˆ«ìê°€ ê°™ìœ¼ë©´ ê°™ì€ FS</p>
  </li>
  <li>
    <p><strong>macOS</strong> : <code class="language-plaintext highlighter-rouge">stat -f %d &lt;path&gt;</code></p>
  </li>
  <li>
    <p>ê°„ë‹¨ í•¨ìˆ˜:</p>
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>samefs<span class="o">()</span> <span class="o">{</span>
  <span class="k">if </span><span class="nb">stat</span> <span class="nt">-c</span> %d / <span class="o">&gt;</span>/dev/null 2&gt;&amp;1<span class="p">;</span> <span class="k">then</span>
    <span class="o">[</span> <span class="s2">"</span><span class="si">$(</span><span class="nb">stat</span> <span class="nt">-c</span> %d <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span><span class="si">)</span><span class="s2">"</span> <span class="o">=</span> <span class="s2">"</span><span class="si">$(</span><span class="nb">stat</span> <span class="nt">-c</span> %d <span class="s2">"</span><span class="nv">$2</span><span class="s2">"</span><span class="si">)</span><span class="s2">"</span> <span class="o">]</span>
  <span class="k">else</span>
    <span class="o">[</span> <span class="s2">"</span><span class="si">$(</span><span class="nb">stat</span> <span class="nt">-f</span> %d <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span><span class="si">)</span><span class="s2">"</span> <span class="o">=</span> <span class="s2">"</span><span class="si">$(</span><span class="nb">stat</span> <span class="nt">-f</span> %d <span class="s2">"</span><span class="nv">$2</span><span class="s2">"</span><span class="si">)</span><span class="s2">"</span> <span class="o">]</span>
  <span class="k">fi</span>
<span class="o">}</span>
<span class="c"># ì‚¬ìš©: samefs /src /dst &amp;&amp; mv /src /dst || rsync -a /src/ /dst/</span>
</code></pre></div>    </div>
  </li>
</ul>

<hr />

<h1 id="ë„êµ¬ë¹Œë“œ-í´ë”ì—-ëŒ€í•œ-ì‹¤ë¬´-íŒ">ë„êµ¬/ë¹Œë“œ í´ë”ì— ëŒ€í•œ ì‹¤ë¬´ íŒ</h1>

<ul>
  <li>
    <p><strong>í¬í„°ë¸” íˆ´ì²´ì¸/SDK(ì••ì¶• í’€ì–´ ì“°ëŠ” í˜•íƒœ)</strong> : ìœ„ ê·œì¹™ëŒ€ë¡œ ì˜®ê¸°ë©´ ëŒ€ì²´ë¡œ OK.</p>
  </li>
  <li>
    <p><strong>Python venv/conda</strong> : ë‚´ë¶€ ì ˆëŒ€ê²½ë¡œ ë•Œë¬¸ì— <strong>ë³µì‚¬/ì´ë™ í›„ ê¹¨ì§</strong> â†’ venvëŠ” ë‹¤ì‹œ ë§Œë“¤ê³ , condaëŠ” <code class="language-plaintext highlighter-rouge">conda-pack</code> ì‚¬ìš© ê¶Œì¥.</p>
  </li>
  <li>
    <p><strong>ELF/Mach-O ë°”ì´ë„ˆë¦¬</strong> : RPATH/install_nameì´ ì ˆëŒ€ê²½ë¡œë©´ ì´ë™ í›„ ì‹¤íŒ¨ â†’</p>

    <ul>
      <li>
        <p>Linux: <code class="language-plaintext highlighter-rouge">patchelf --print-rpath bin/...</code>ë¡œ í™•ì¸, í•„ìš”ì‹œ <code class="language-plaintext highlighter-rouge">--set-rpath</code>.</p>
      </li>
      <li>
        <p>macOS: <code class="language-plaintext highlighter-rouge">otool -L</code>/<code class="language-plaintext highlighter-rouge">install_name_tool</code>ë¡œ ìˆ˜ì •.</p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>Windows â€œì¸ìŠ¤í†¨ëŸ¬ ì„¤ì¹˜â€ ì•±</strong> : ë ˆì§€ìŠ¤íŠ¸ë¦¬/ì„œë¹„ìŠ¤ ì˜ì¡´ â†’ <strong>ì¬ì„¤ì¹˜</strong> ê°€ ì•ˆì „.</p>
  </li>
</ul>

<hr />

<h1 id="ë§ˆì§€ë§‰-í•œ-ì¤„-ê·œì¹™">ë§ˆì§€ë§‰ í•œ ì¤„ ê·œì¹™</h1>

<ul>
  <li>
    <p><strong>ê°™ì€ FS</strong> âœ <code class="language-plaintext highlighter-rouge">mv</code> (ìµœê³ )</p>
  </li>
  <li>
    <p><strong>ë‹¤ë¥¸ FS</strong> âœ <code class="language-plaintext highlighter-rouge">rsync -a</code> / <code class="language-plaintext highlighter-rouge">cp -a</code> (ê²€ì¦ í›„ ì›ë³¸ ì‚­ì œ)</p>
  </li>
  <li>
    <p><strong><code class="language-plaintext highlighter-rouge">cp -rf</code>ëŠ” ì§€ì–‘</strong> (ë§í¬/ë©”íƒ€ë°ì´í„° ê¹¨ì§ˆ ìœ„í—˜)</p>
  </li>
  <li>
    <p>ì˜®ê¸´ ë’¤ì—” <strong><code class="language-plaintext highlighter-rouge">latest</code> ì‹¬ë³¼ë¦­</strong>ê³¼ <strong>ì‹¤í–‰ ì²´í¬(<code class="language-plaintext highlighter-rouge">--version</code>)</strong>ë¡œ ê²€ì¦!</p>
  </li>
</ul>

<p class="chat--user">

today.csh ë³„ë¡œì¸ë°? ê°€ìƒí™˜ê²½ ì†Œì‹±í•˜ë„ë¡ í•˜ê³  ì‹¶ì€ë° ì»¤ë§¨ë“œë¡œ venv_user (ë‚´ ê°€ìƒí™˜ê²½ ì†Œì‹±í•˜ëŠ” alias) ë“±ë¡í•˜ë‹ˆ ê·¸ëŸ° ì»¤ë§¨ë“œê°€ ì—†ëŒ€

</p>

<p>ì¢‹ì€ í¬ì¸íŠ¸ì•¼. ì¦ìƒì€ â€œ<code class="language-plaintext highlighter-rouge">today.csh</code>ê°€ <strong>ë¹„ëŒ€í™”(non-interactive) ì…¸</strong> ì—ì„œ ì»¤ë§¨ë“œë¥¼ ì‹¤í–‰í•˜ê³ , ë„¤ <strong>alias(venv_user)</strong> ëŠ” <strong>ì¸í„°ë™í‹°ë¸Œì—ì„œë§Œ ë¡œë“œ</strong> ë˜ê¸° ë•Œë¬¸â€ì´ì—ìš”. ê²Œë‹¤ê°€ Python venvëŠ” tcshì—ì„  <code class="language-plaintext highlighter-rouge">activate.csh</code>ë¥¼ <code class="language-plaintext highlighter-rouge">source</code>í•´ì•¼ í•˜ëŠ”ë°, ì´ê±´ <strong>tcshì—ì„œë§Œ</strong> ë¨¹ìŠµë‹ˆë‹¤(= sh/bashì—ì„œ ì‹¤í–‰í•˜ë©´ ì—ëŸ¬).</p>

<p>ì•„ë˜ ì¤‘ í¸í•œ í•´ë²• í•˜ë‚˜ ê³¨ë¼ ì¨!</p>

<hr />

<h1 id="ì™œ-aliasê°€-ì•ˆ-ë¨¹ë‚˜">ì™œ aliasê°€ ì•ˆ ë¨¹ë‚˜</h1>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">today.csh</code>ê°€ ë‚´ë¶€ì—ì„œ <code class="language-plaintext highlighter-rouge">sh</code>ë‚˜ <code class="language-plaintext highlighter-rouge">tcsh -f -c "..."</code> ê°™ì€ <strong>ë¹„ëŒ€í™” ì…¸</strong> ë¡œ ì‹¤í–‰ â†’ <code class="language-plaintext highlighter-rouge">~/.tcshrc</code>ì˜ aliasê°€ ë¡œë“œë˜ì§€ ì•ŠìŒ.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">source</code>ëŠ” <strong>ì…¸ ë‚´ì¥</strong> ì´ë¼ <strong>tcsh</strong> ë¡œ ì‹¤í–‰í•´ì•¼ í•¨. (bashë¡œ ëŒë¦¬ë©´ ë‹¹ì—°íˆ â€œì—†ëŠ” ì»¤ë§¨ë“œâ€)</p>
  </li>
</ul>

<hr />

<h1 id="í•´ê²°-a-shortcutslistì—ì„œ-í•œ-ì¤„ë¡œ-venv-í™œì„±í™”-í›„-ì‹¤í–‰">í•´ê²° A) shortcuts.listì—ì„œ <strong>í•œ ì¤„ë¡œ</strong> venv í™œì„±í™” í›„ ì‹¤í–‰</h1>

<blockquote>
  <p>í”„ë¡œì íŠ¸ë§ˆë‹¤ venvê°€ ìˆë‹¤ë©´ <strong>tcshë¡œ ì‹¤í–‰</strong> í•˜ê³  <strong>activate.csh</strong> ë¥¼ <code class="language-plaintext highlighter-rouge">source</code>í•˜ì„¸ìš”.</p>
  <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>My App (venv) | 20_Projects/PRJ-2025-001_app | tcsh -c 'source .venv/bin/activate.csh; ./scripts/run.sh'
</code></pre></div>  </div>
</blockquote>

<ul>
  <li>condaë¥¼ ì“´ë‹¤ë©´:</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>My App (conda) | 20_Projects/PRJ-2025-001_app | tcsh -c 'source ~/miniconda3/etc/profile.d/conda.csh; conda activate myenv; ./scripts/run.sh'
</code></pre></div></div>

<blockquote>
  <p>í¬ì¸íŠ¸: <strong>ë°˜ë“œì‹œ tcsh -c</strong> ë¡œ ëŒë ¤ì•¼ <code class="language-plaintext highlighter-rouge">source</code>ê°€ ë¨¹ìŠµë‹ˆë‹¤.<br />
 venvëŠ” <code class="language-plaintext highlighter-rouge">bin/activate.csh</code>ë¥¼ ì“°ê³ , bashìš© <code class="language-plaintext highlighter-rouge">bin/activate</code>ë¥¼ ì“°ë©´ tcshì—ì„  ì‹¤íŒ¨í•´ìš”.</p>
</blockquote>

<hr />

<h1 id="í•´ê²°-b-ë˜í¼-ìŠ¤í¬ë¦½íŠ¸-ë¥¼-ë§Œë“¤ì–´ì„œ-ì–¸ì œë‚˜-ì‘ë™í•˜ê²Œ">í•´ê²° B) <strong>ë˜í¼ ìŠ¤í¬ë¦½íŠ¸</strong> ë¥¼ ë§Œë“¤ì–´ì„œ ì–¸ì œë‚˜ ì‘ë™í•˜ê²Œ</h1>

<p><code class="language-plaintext highlighter-rouge">10_Today/wrappers/run_in_venv.csh</code> (tcshìš©, venv ì „ìš©)</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh

#!/bin/tcsh -f
# ì‚¬ìš©: run_in_venv.csh &lt;venv_dir&gt; &lt;ì»¤ë§¨ë“œ...&gt;
if ( $#argv &lt; 1 ) then
  echo "usage: run_in_venv.csh &lt;venv_dir&gt; [command ...]"
  exit 2
endif
set venv = "$1"; shift
if ( ! -f "$venv/bin/activate.csh" ) then
  echo "activate.csh not found in $venv/bin"; exit 3
endif
source "$venv/bin/activate.csh"
if ( $#argv == 0 ) then
  exec tcsh -i
else
  # ë‚¨ì€ ì¸ìë¥¼ í•˜ë‚˜ì˜ ì»¤ë§¨ë“œë¡œ ì‹¤í–‰
  set cmd = "$*"
  exec tcsh -c "$cmd"
endif
</code></pre></div></div>

<p>ê¶Œí•œ ì£¼ê¸°:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh

chmod +x ~/Work/10_Today/wrappers/run_in_venv.csh
</code></pre></div></div>

<p>shortcuts.list ì˜ˆì‹œ:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Run PRJ in venv | 20_Projects/PRJ-2025-001_app | ../../10_Today/wrappers/run_in_venv.csh .venv './scripts/run.sh'
Open tcsh@venv  | 20_Projects/PRJ-2025-001_app | ../../10_Today/wrappers/run_in_venv.csh .venv
</code></pre></div></div>

<p><strong>conda ë²„ì „</strong>(<code class="language-plaintext highlighter-rouge">run_in_conda.csh</code>):</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh

#!/bin/tcsh -f
# ì‚¬ìš©: run_in_conda.csh &lt;env_name&gt; &lt;ì»¤ë§¨ë“œ...&gt;
source ~/miniconda3/etc/profile.d/conda.csh
if ( $#argv &lt; 1 ) then
  echo "usage: run_in_conda.csh &lt;env_name&gt; [command ...]"; exit 2
endif
set env = "$1"; shift
conda activate "$env"
if ( $#argv == 0 ) then
  exec tcsh -i
else
  exec tcsh -c "$*"
endif
</code></pre></div></div>

<hr />

<h1 id="í•´ê²°-c-alias-ëŒ€ì‹ -ì‹¤í–‰-íŒŒì¼-ë¡œ-venv_userë¥¼-ë§Œë“¤ê¸°">í•´ê²° C) alias ëŒ€ì‹  <strong>ì‹¤í–‰ íŒŒì¼</strong> ë¡œ <code class="language-plaintext highlighter-rouge">venv_user</code>ë¥¼ ë§Œë“¤ê¸°</h1>

<p>aliasëŠ” ë¹„ëŒ€í™” ì…¸ì—ì„œ ì•ˆ ë¶ˆëŸ¬ì™€ì ¸ìš”. ì•„ì˜ˆ <strong>ìŠ¤í¬ë¦½íŠ¸</strong> ë¡œ ë§Œë“¤ì–´ PATHì— ë‘ë©´ ì–´ë””ì„œë“  í˜¸ì¶œ ê°€ëŠ¥.</p>

<p><code class="language-plaintext highlighter-rouge">82_Tools/bin/venv_user</code> (tcsh ìŠ¤í¬ë¦½íŠ¸):</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh

#!/bin/tcsh -f
# ê¸°ë³¸ venv ê²½ë¡œë¥¼ í•˜ë“œì½”ë”©í•˜ê±°ë‚˜, ì¸ìë¡œ ë°›ê²Œ í•˜ì
set venv = "$HOME/Work/20_Projects/PRJ-2025-001_app/.venv"
if ( "$1" != "" ) set venv = "$1"; shift
if ( ! -f "$venv/bin/activate.csh" ) then
  echo "activate.csh not found in $venv/bin"; exit 3
endif
source "$venv/bin/activate.csh"
if ( $#argv == 0 ) then
  exec tcsh -i
else
  exec tcsh -c "$*"
endif
</code></pre></div></div>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>chmod +x ~/Work/82_Tools/bin/venv_user
</code></pre></div></div>

<p>PATHì— <code class="language-plaintext highlighter-rouge">82_Tools/bin</code>ì´ ìˆë‹¤ë©´ shortcuts.listëŠ” ì´ë ‡ê²Œ:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Run via venv_user | 20_Projects/PRJ-2025-001_app | venv_user .venv './scripts/run.sh'
</code></pre></div></div>

<hr />

<h2 id="ìì£¼-ê±¸ë¦¬ëŠ”-í•¨ì •-ì²´í¬ë¦¬ìŠ¤íŠ¸">ìì£¼ ê±¸ë¦¬ëŠ” í•¨ì • ì²´í¬ë¦¬ìŠ¤íŠ¸</h2>

<ul>
  <li>
    <p><strong>tcsh ì „ìš© í™œì„±í™”</strong> : <code class="language-plaintext highlighter-rouge">activate.csh</code>ë¥¼ <code class="language-plaintext highlighter-rouge">source</code>í•´ì•¼ í•œë‹¤.</p>
  </li>
  <li>
    <p><strong>ì…¸ ì§€ì •</strong> : <code class="language-plaintext highlighter-rouge">tcsh -c '...'</code>ë¡œ ì‹¤í–‰(ê¸°ë³¸ shë¡œ ëŒë¦¬ë©´ ì‹¤íŒ¨).</p>
  </li>
  <li>
    <p><strong>ì§€ì†ì„± ê¸°ëŒ€ ê¸ˆì§€</strong> : today ëŸ°ì²˜ê°€ <strong>í•˜ìœ„ ì…¸</strong> ì—ì„œ ì‹¤í–‰í•˜ë¯€ë¡œ, í™œì„±í™” ìƒíƒœëŠ” ê·¸ ì‹¤í–‰ì—ë§Œ ì ìš©ë¨.<br />
ì˜¤ë˜ ë¨¸ë¬´ëŠ” ì…¸ì´ í•„ìš”í•˜ë©´ ìœ„ ë˜í¼ë¡œ <code class="language-plaintext highlighter-rouge">exec tcsh -i</code>ë¥¼ ì—´ë„ë¡.</p>
  </li>
  <li>
    <p><strong>ê²½ë¡œ ê³µë°±</strong> : íŒ¨ìŠ¤/ì»¤ë§¨ë“œëŠ” ë”°ì˜´í‘œë¡œ ê°ì‹¸ì.</p>
  </li>
  <li>
    <p><strong>conda</strong> : <code class="language-plaintext highlighter-rouge">conda.csh</code>ë¥¼ <code class="language-plaintext highlighter-rouge">source</code>í•œ ë’¤ <code class="language-plaintext highlighter-rouge">conda activate</code> í•´ì•¼ í•¨.</p>
  </li>
</ul>

<p>ì›í•˜ë©´ ì§€ê¸ˆ ì“°ëŠ” <code class="language-plaintext highlighter-rouge">today.csh</code>ë¥¼ ì‚´ì§ ìˆ˜ì •í•´ì„œ <strong>í•­ìƒ tcshë¡œ ì‹¤í–‰</strong> í•˜ê³ , ì—ëŸ¬/ë¡œê·¸ ì¶œë ¥ë„ ê¹”ë”í•˜ê²Œ ë³´ëŠ” ë²„ì „ìœ¼ë¡œ ë¦¬íŒ©í„°ë§í•´ì¤„ê²Œ.</p>

<p class="chat--user">

í  ë‹¨ìˆœíˆ tcshì—ì„œ ì‘ì—… í´ë”ë¡œ ì´ë™ + command ì‹¤í–‰ -&gt; ì´í›„ tcsh ì„¸ì…˜ ìœ ì§€ ì´ëŸ° flowê°€ ì•„ë‹Œê°€ë³´ë„¤

</p>

<p>ë§ì•„â€”ì§€ê¸ˆ ëŸ¬ë„ˆëŠ” â€œë¹„ëŒ€í™” ì…¸ì—ì„œ ì‹¤í–‰ â†’ ì¢…ë£Œâ€ë¼ì„œ ë„¤ê°€ ì›í•˜ëŠ”<br />
<strong>(1) ì‘ì—… í´ë”ë¡œ ì´ë™ â†’ (2) venv/conda í™œì„±í™” â†’ (3) ì»¤ë§¨ë“œ ì‹¤í–‰ â†’ (4) ì…¸ ìœ ì§€</strong> íë¦„ì´ ì•ˆ ë‚˜ì™€.<br />
í•´ê²°ë²•ì€ ë§ˆì§€ë§‰ì— <strong><code class="language-plaintext highlighter-rouge">exec tcsh -i</code></strong>ë¡œ <strong>ì¸í„°ë™í‹°ë¸Œ ì…¸ë¡œ ì „í™˜</strong> í•´ ë¨¸ë¬´ë¥´ê²Œ í•˜ëŠ” ê±°ì•¼.</p>

<p>ì•„ë˜ ì…‹ ì¤‘ í¸í•œ ê±¸ ê³¨ë¼ ì¨.</p>

<hr />

<h1 id="ì˜µì…˜-a-í•œ-ì¤„ë¡œ-í•´ê²°-shortcutslistìš©">ì˜µì…˜ A) í•œ ì¤„ë¡œ í•´ê²° (shortcuts.listìš©)</h1>

<blockquote>
  <p>ì‹¤í–‰ í›„ ì…¸ì„ ìœ ì§€í•˜ë ¤ë©´ ëì— <strong><code class="language-plaintext highlighter-rouge">exec tcsh -i</code></strong>ê°€ í•µì‹¬!</p>
</blockquote>

<p><strong>venv ì‚¬ìš© ì˜ˆ</strong></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Label | 20_Projects/PRJ-2025-001_app | tcsh -c 'source .venv/bin/activate.csh; ./scripts/run.sh; exec tcsh -i'
</code></pre></div></div>

<p><strong>conda ì‚¬ìš© ì˜ˆ</strong></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Label | 20_Projects/PRJ-2025-001_app | tcsh -c 'source ~/miniconda3/etc/profile.d/conda.csh; conda activate myenv; ./scripts/run.sh; exec tcsh -i'
</code></pre></div></div>

<blockquote>
  <p>í¬ì¸íŠ¸: <code class="language-plaintext highlighter-rouge">tcsh -c '...'</code> ì•ˆì—ì„œ í•„ìš”í•œ ê±¸ ì‹¤í–‰í•œ ë’¤ <strong>ê·¸ í”„ë¡œì„¸ìŠ¤ë¥¼ ì¸í„°ë™í‹°ë¸Œ tcshë¡œ êµì²´</strong> í•˜ë‹ˆ, í™˜ê²½ì´ ë³´ì¡´ëœ ì±„ ì…¸ì´ ë‚¨ì•„ìˆì–´.</p>
</blockquote>

<hr />

<h1 id="ì˜µì…˜-b-ì¬ì‚¬ìš©-ë˜í¼-ìŠ¤í¬ë¦½íŠ¸-ì¶”ì²œ">ì˜µì…˜ B) ì¬ì‚¬ìš© ë˜í¼ ìŠ¤í¬ë¦½íŠ¸ (ì¶”ì²œ)</h1>

<p><code class="language-plaintext highlighter-rouge">Work/10_Today/wrappers/enter.csh</code></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh

#!/bin/tcsh -f
# ì‚¬ìš©: enter.csh &lt;path&gt; [--venv &lt;venvdir&gt; | --conda &lt;envname&gt;] [-- cmd ...]
if ( $#argv &lt; 1 ) then
  echo "usage: enter.csh &lt;path&gt; [--venv DIR | --conda NAME] [-- cmd ...]"; exit 2
endif

set cwd = "$1"; shift
cd "$cwd" || exit 3

# ì˜µì…˜ íŒŒì‹±
set use_venv = ""; set use_conda = ""; set i = 1
while ( $i &lt;= $#argv )
  if ( "$argv[$i]" == "--venv" ) then
    @ i++; set use_venv = "$argv[$i]"
  else if ( "$argv[$i]" == "--conda" ) then
    @ i++; set use_conda = "$argv[$i]"
  else if ( "$argv[$i]" == "--" ) then
    @ i++; break
  else
    break
  endif
  @ i++
end
@ cmd_start = $i

# í™˜ê²½ í™œì„±í™”
if ( "$use_venv" != "" ) then
  if ( ! -f "$use_venv/bin/activate.csh" ) then
    echo "venv activate.csh not found: $use_venv/bin/activate.csh"; exit 4
  endif
  source "$use_venv/bin/activate.csh"
else if ( "$use_conda" != "" ) then
  if ( -f ~/miniconda3/etc/profile.d/conda.csh ) then
    source ~/miniconda3/etc/profile.d/conda.csh
  endif
  conda activate "$use_conda"
endif

# ì»¤ë§¨ë“œê°€ ìˆìœ¼ë©´ ì‹¤í–‰
if ( $cmd_start &lt;= $#argv ) then
  set cmd = "$argv[$cmd_start-]"
  tcsh -c "$cmd"
endif

# ì—¬ê¸°ì„œ ì…¸ì— 'ë¨¸ë¬´ë¥´ê¸°'
exec tcsh -i
</code></pre></div></div>

<p>ê¶Œí•œ:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh

chmod +x ~/Work/10_Today/wrappers/enter.csh
</code></pre></div></div>

<p><strong>shortcuts.list ì˜ˆì‹œ</strong></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>PRJ venv &amp; stay  | 20_Projects/PRJ-2025-001_app | ../../10_Today/wrappers/enter.csh . --venv .venv -- ./scripts/run.sh
Just enter venv   | 20_Projects/PRJ-2025-001_app | ../../10_Today/wrappers/enter.csh . --venv .venv
PRJ conda &amp; stay  | 20_Projects/PRJ-2025-001_app | ../../10_Today/wrappers/enter.csh . --conda myenv -- ./scripts/run.sh
</code></pre></div></div>

<hr />

<h1 id="ì˜µì…˜-c-ì „ì—­-ì»¤ë§¨ë“œë¡œ-ê³ ì •-venv_user">ì˜µì…˜ C) ì „ì—­ ì»¤ë§¨ë“œë¡œ ê³ ì • (<code class="language-plaintext highlighter-rouge">venv_user</code>)</h1>

<p><code class="language-plaintext highlighter-rouge">Work/82_Tools/bin/venv_user</code> (PATHì— ë“¤ì–´ê°€ê²Œ)</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh

#!/bin/tcsh -f
# ì‚¬ìš©: venv_user &lt;project_path&gt; &lt;venv_dir&gt; [-- cmd ...]
set proj="$1"; set venv="$2"; shift; shift
cd "$proj" || exit 3
source "$venv/bin/activate.csh"
if ( "$1" == "--" ) shift
if ( $#argv ) then
  tcsh -c "$*"
endif
exec tcsh -i
</code></pre></div></div>

<p>ê¶Œí•œ:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh

chmod +x ~/Work/82_Tools/bin/venv_user
</code></pre></div></div>

<p><strong>ì˜ˆ</strong></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Label | / | venv_user "$HOME/Work/20_Projects/PRJ-2025-001_app" ".venv" -- ./scripts/run.sh
</code></pre></div></div>

<hr />

<h2 id="í”í•œ-í•¨ì •-ì²´í¬">í”í•œ í•¨ì • ì²´í¬</h2>

<ul>
  <li>
    <p><strong>ë°˜ë“œì‹œ<code class="language-plaintext highlighter-rouge">tcsh</code>ë¡œ ì‹¤í–‰</strong>í•´ì•¼ <code class="language-plaintext highlighter-rouge">source .../activate.csh</code>ê°€ ë¨¹ìŒ. (bashë¡œ ëŒë¦¬ë©´ ì‹¤íŒ¨)</p>
  </li>
  <li>
    <p><strong>ë§ˆì§€ë§‰ì— <code class="language-plaintext highlighter-rouge">exec tcsh -i</code></strong>ê°€ ìˆì–´ì•¼ í™˜ê²½ì„ ë“¤ê³  <strong>ë¨¸ë¬´ë¦„</strong>.</p>
  </li>
  <li>
    <p>runnerê°€ ì´ë¯¸ ê²½ë¡œë¡œ <code class="language-plaintext highlighter-rouge">cd</code>í•´ ì¤€ë‹¤ë©´ <code class="language-plaintext highlighter-rouge">enter.csh</code>ì˜ <code class="language-plaintext highlighter-rouge">&lt;path&gt;</code>ë¥¼ <code class="language-plaintext highlighter-rouge">.</code>ë¡œ ì“°ë©´ ë¨.</p>
  </li>
  <li>
    <p>ê²½ë¡œì— ê³µë°± ìˆìœ¼ë©´ <strong>ë”°ì˜´í‘œ</strong> í•„ìˆ˜.</p>
  </li>
</ul>

<p>ì´ëŒ€ë¡œ ì“°ë©´ â€œì‘ì—… í´ë” ì´ë™ â†’ ê°€ìƒí™˜ê²½ í™œì„±í™” â†’ ì»¤ë§¨ë“œ ì‹¤í–‰ â†’ tcsh ìœ ì§€â€ê°€ ë”± ê·¸ íë¦„ìœ¼ë¡œ ëŒì•„ê°ˆ ê±°ì•¼.</p>

<p class="chat--user">

ê·¸ëƒ¥ ë‚´ê°€ ì›í•˜ëŠ” íë¦„ëŒ€ë¡œ í•  ìˆœ ì—†ì–´? ì‘ì—…ëª… | ì‘ì—… í´ë”(ì ˆëŒ€ ê²½ë¡œ) | ì‘ì—… ê²½ë¡œë¡œ í˜„ì¬ ì‰˜ì—ì„œ cdë¡œ ì´ë™ í›„ ì‹¤í–‰í•  ì»¤ë§¨ë“œë“œë“¤(ë¹„ì–´ìˆì„ ìˆ˜ë„ ìˆìŒ)

</p>

<p>ê°€ëŠ¥í•´! í•µì‹¬ì€ <strong>â€œí˜„ì¬ ì…¸(tcsh)ì˜ ìƒíƒœë¥¼ ë°”ê¾¸ë ¤ë©´ ì‹¤í–‰ì´ ì•„ë‹ˆë¼ <code class="language-plaintext highlighter-rouge">source</code> í•´ì•¼ í•œë‹¤â€</strong>ëŠ” ì ì´ì•¼.<br />
ì•„ë˜ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì“°ë©´, <strong>í˜„ì¬ tcshì—ì„œ</strong> <code class="language-plaintext highlighter-rouge">cd</code>ë¡œ ì´ë™í•˜ê³  (í•„ìš”í•˜ë©´) <strong>ëª…ë ¹ì„ ì‹¤í–‰</strong> í•œ ë’¤ <strong>ê·¸ ìƒíƒœë¡œ ê³„ì† ë¨¸ë¬¼ëŸ¬</strong>.</p>

<hr />

<h1 id="1-ì›í•˜ëŠ”-í˜•ì‹ì˜-ë¦¬ìŠ¤íŠ¸-íŒŒì¼">1) ì›í•˜ëŠ” í˜•ì‹ì˜ ë¦¬ìŠ¤íŠ¸ íŒŒì¼</h1>

<p><code class="language-plaintext highlighter-rouge">~/Work/10_Today/shortcuts.list</code> (ì˜ˆ: ì ˆëŒ€ê²½ë¡œ + ì„ íƒ ëª…ë ¹)</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># label | abs path | commands (optional)
My App(run) | /Users/me/Work/20_Projects/PRJ-2025-001_app | source .venv/bin/activate.csh; ./scripts/run.sh
Just Go     | /Users/me/Work/26_Datasets/datasets/ad_events/v2025.0826/processed |
</code></pre></div></div>

<ul>
  <li>
    <p>3ë²ˆì§¸ ì¹¸ì€ <strong>ë¹„ì›Œë„ ë¨</strong>(ê·¸ëƒ¥ í´ë”ë§Œ ì´ë™).</p>
  </li>
  <li>
    <p>ëª…ë ¹ì´ ì—¬ëŸ¬ ê°œë©´ <code class="language-plaintext highlighter-rouge">;</code>ë¡œ ì´ì–´ì„œ ì“°ë©´ <strong>í˜„ì¬ ì…¸</strong> ì—ì„œ ê·¸ëŒ€ë¡œ ì‹¤í–‰ë¨.</p>
  </li>
</ul>

<hr />

<h1 id="2-tcsh-ì „ìš©-ëŸ¬ë„ˆ-í˜„ì¬-ì…¸ì—ì„œ-cd--ì‹¤í–‰--ìœ ì§€">2) tcsh ì „ìš© ëŸ¬ë„ˆ (í˜„ì¬ ì…¸ì—ì„œ cd + ì‹¤í–‰ + ìœ ì§€)</h1>

<p><code class="language-plaintext highlighter-rouge">~/Work/10_Today/jump.csh</code></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh

#!/bin/tcsh -f
# ì‚¬ìš©: source ~/Work/10_Today/jump.csh &lt;ë²ˆí˜¸|ë¼ë²¨ ì¼ë¶€&gt;
# ë™ì‘: shortcuts.listì—ì„œ ë§¤ì¹­ í•­ëª©ì„ ì°¾ì•„ "í˜„ì¬ ì…¸"ì—ì„œ cd í›„ (ìˆìœ¼ë©´) ëª…ë ¹ì„ ì‹¤í–‰.
# ì¤‘ìš”: ë°˜ë“œì‹œ sourceë¡œ í˜¸ì¶œí•´ì•¼ í˜„ì¬ ì…¸ì— ë°˜ì˜ë¨!

set _list = "$HOME/Work/10_Today/shortcuts.list"
if ( ! -r "$_list" ) then
  echo "not found: $_list"; exit 1
endif

# ì¸ì ì—†ìœ¼ë©´ ë²ˆí˜¸ ëª©ë¡ì„ ë³´ì—¬ì£¼ê³  ì¢…ë£Œ
if ( $#argv == 0 ) then
  awk -F'\\|' 'BEGIN{i=0}
    $0 ~ /^[[:space:]]*#/ {next}
    NF&gt;=2 {
      i++; for (k=1;k&lt;=NF;k++){ gsub(/^[ \t]+|[ \t]+$/,"",$k) }
      printf("%2d) %-24s  -&gt; %s\n", i, $1, $2)
    }' "$_list"
  echo 'usage: source ~/Work/10_Today/jump.csh &lt;ë²ˆí˜¸|ë¼ë²¨ ì¼ë¶€&gt;'
  exit 0
endif

# ì„ íƒ ë¡œì§: ìˆ«ì ì¸ë±ìŠ¤ ë˜ëŠ” ë¼ë²¨ ë¶€ë¶„ ì¼ì¹˜(ëŒ€ì†Œë¬¸ì ë¬´ì‹œ, ì²« ë§¤ì¹­)
set _key = "$*"

# dir
set _dir = "`awk -F'\\|' -v key=\"$_key\" '
  BEGIN{IGNORECASE=1; i=0}
  $0 ~ /^[[:space:]]*#/ {next}
  NF&gt;=2 {
    for(k=1;k&lt;=NF;k++){ gsub(/^[ \t]+|[ \t]+$/,"",$k) }
    i++
    if ( (key ~ /^[0-9]+$/ &amp;&amp; i==key) || index($1,key) ) { print $2; exit }
  }' \"$_list\"`"

# cmd (optional)
set _cmd = "`awk -F'\\|' -v key=\"$_key\" '
  BEGIN{IGNORECASE=1; i=0}
  $0 ~ /^[[:space:]]*#/ {next}
  NF&gt;=2 {
    for(k=1;k&lt;=NF;k++){ gsub(/^[ \t]+|[ \t]+$/,"",$k) }
    i++
    if ( (key ~ /^[0-9]+$/ &amp;&amp; i==key) || index($1,key) ) { if (NF&gt;=3) print $3; exit }
  }' \"$_list\"`"

if ( "$_dir" == "" ) then
  echo "not found: $_key"; exit 2
endif
if ( ! -d "$_dir" ) then
  echo "no such dir: $_dir"; exit 3
endif

# í˜„ì¬ ì…¸ì—ì„œ ì´ë™
cd "$_dir"

# ëª…ë ¹ì´ ìˆìœ¼ë©´ í˜„ì¬ ì…¸ì—ì„œ ì‹¤í–‰(í™˜ê²½ ìœ ì§€)
if ( "$_cmd" != "" ) then
  eval "$_cmd"
endif

# ì—¬ê¸°ì„œ ë. sourceë¡œ ë¶ˆë €ê¸° ë•Œë¬¸ì— ì…¸ì€ ê³„ì† ìœ ì§€ë¨.
</code></pre></div></div>

<h2 id="ì‚¬ìš©ë²•">ì‚¬ìš©ë²•</h2>

<ol>
  <li><code class="language-plaintext highlighter-rouge">.tcshrc</code>ì— ë°”ë¡œê°€ê¸° ì¶”ê°€:</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh

alias j 'source ~/Work/10_Today/jump.csh'
</code></pre></div></div>

<ol>
  <li>ì‚¬ìš© ì˜ˆ:</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh

j                 # ëª©ë¡ ë³´ê¸°
j 1               # 1ë²ˆìœ¼ë¡œ ì´ë™(+ëª…ë ¹ ì‹¤í–‰)
j "My App"        # ë¼ë²¨ ë¶€ë¶„ ë§¤ì¹­ìœ¼ë¡œ ì´ë™(+ëª…ë ¹ ì‹¤í–‰)
</code></pre></div></div>

<blockquote>
  <p><strong>ì¤‘ìš”:</strong> ë°˜ë“œì‹œ <code class="language-plaintext highlighter-rouge">source</code>ë¡œ í˜¸ì¶œí•´ì•¼ <strong>í˜„ì¬ ì…¸</strong> ì—ì„œ <code class="language-plaintext highlighter-rouge">cd</code>/í™˜ê²½ë³€ê²½ì´ ë°˜ì˜ë¼ìš”.<br />
 (ìœ„ alias <code class="language-plaintext highlighter-rouge">j</code>ê°€ ë°”ë¡œ ê·¸ê±¸ í•´ì¤ë‹ˆë‹¤.)</p>
</blockquote>

<hr />

<h2 id="íŒ-venvconda">íŒ (venv/conda)</h2>

<ul>
  <li>venv í™œì„±í™”ëŠ” ëª…ë ¹ ì¹¸ì— ê·¸ëƒ¥ ë„£ìœ¼ë©´ ë¼ìš”:
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>My App | /abs/PRJ | source .venv/bin/activate.csh; ./scripts/run.sh
</code></pre></div>    </div>
  </li>
  <li>conda:
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>PRJ(conda) | /abs/PRJ | source ~/miniconda3/etc/profile.d/conda.csh; conda activate myenv; ./scripts/run.sh
</code></pre></div>    </div>
  </li>
</ul>

<h2 id="ì•ˆì „ì¥ì¹˜">ì•ˆì „ì¥ì¹˜</h2>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">#</code>ë¡œ ì‹œì‘í•˜ëŠ” ì¤„ì€ ì£¼ì„/ë¹„í™œì„± ì²˜ë¦¬.</p>
  </li>
  <li>
    <p>ë¼ë²¨ì— ê³µë°± OK. ê²½ë¡œë‚˜ ëª…ë ¹ì— ê³µë°±ì´ ìˆì–´ë„ ìœ„ ìŠ¤í¬ë¦½íŠ¸ê°€ <strong>ê·¸ëŒ€ë¡œ</strong> ì¡ì•„ì¤ë‹ˆë‹¤.</p>
  </li>
  <li>
    <p>ë²ˆí˜¸/ë¼ë²¨ ì¤‘ <strong>ì²« ë§¤ì¹­ 1ê±´</strong> ë§Œ ì‹¤í–‰(ì¤‘ë³µ ë¼ë²¨ì€ í”¼í•˜ì„¸ìš”).</p>
  </li>
</ul>

<hr />

<p>ì›í•˜ë©´ ì´ ëŸ¬ë„ˆì— <strong>fzf ì„ íƒ</strong>(ìˆìœ¼ë©´), <strong>ë””ë ‰í„°ë¦¬ ìë™ ì™„ì„±</strong> , <strong>ì‹¤íŒ¨ ë¡œê·¸</strong> ê°™ì€ ê¸°ëŠ¥ë„ ì–¹ì–´ì¤„ ìˆ˜ ìˆì–´.</p>

<p class="chat--user">

ê·¸ëŸ°ë° ì‚¬ìš© ë°©ì‹ì€ ì´ì „ì— ë„ˆê°€ í•œê±°ì²˜ëŸ¼ ë²ˆí˜¸ ë¬»ê³  ì¸ë±ìŠ¤ ë„£ê³  ì—”í„°í•˜ë©´ ê·¸ê±¸ ì‹¤í–‰í•˜ë©´ ì¢‹ê² ì–´. ë“±ë¡í• ë•Œë„ ë§ˆì°¬ê°€ì§€ë¡œ ë¼ë²¨ ë¬»ê³  ë‹µí•˜ê³ , ì»¤ë§¨ë“œ ë¬»ê³  ë‹µí•˜ë©´ ê·¸ í›„ ë“±ë¡ë˜ëŠ” ì‹ì´ë©´ ì¢‹ê² ì–´

</p>

<p>ì¢‹ì•„, ë„ˆê°€ ì›í•˜ëŠ” <strong>ë²ˆí˜¸ ì„ íƒ â†’ ì‹¤í–‰ / ëŒ€í™”í˜• ë“±ë¡</strong> íë¦„ìœ¼ë¡œ ë”± ë§ì¶˜ <code class="language-plaintext highlighter-rouge">tcsh</code> ëŸ¬ë„ˆë¥¼ ë§Œë“¤ì–´ì¤„ê²Œ.<br />
í•µì‹¬ì€ <strong>í˜„ì¬ ì…¸ì—ì„œ<code class="language-plaintext highlighter-rouge">source</code>ë¡œ ì‹¤í–‰</strong>í•´ì•¼ <code class="language-plaintext highlighter-rouge">cd</code>/venv í™œì„±í™”ê°€ ê·¸ëŒ€ë¡œ ìœ ì§€ëœë‹¤ëŠ” ì !</p>

<hr />

<h1 id="1-shortcutslist-í¬ë§·-ê·¸ëŒ€ë¡œ-ë³µë¶™">1) <code class="language-plaintext highlighter-rouge">shortcuts.list</code> í¬ë§· (ê·¸ëŒ€ë¡œ ë³µë¶™)</h1>

<p><code class="language-plaintext highlighter-rouge">~/Work/10_Today/shortcuts.list</code></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># label | abs path | commands (optional, ;ë¡œ êµ¬ë¶„)
My App (venv run) | /Users/me/Work/20_Projects/PRJ-2025-001_app | source .venv/bin/activate.csh; ./scripts/run.sh
Just Go           | /Users/me/Work/26_Datasets/datasets/ad_events/v2025.0826/processed |
</code></pre></div></div>

<hr />

<h1 id="2-ì¸í„°ë™í‹°ë¸Œ-ëŸ¬ë„ˆ-ë²ˆí˜¸-ì‹¤í–‰--ëŒ€í™”í˜•-ë“±ë¡">2) ì¸í„°ë™í‹°ë¸Œ ëŸ¬ë„ˆ (ë²ˆí˜¸ ì‹¤í–‰ + ëŒ€í™”í˜• ë“±ë¡)</h1>

<p><code class="language-plaintext highlighter-rouge">~/Work/10_Today/jmenu.csh</code></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh

#!/bin/tcsh -f
# jmenu.csh â€” tcshìš© â€œë²ˆí˜¸ ì„ íƒ ì‹¤í–‰ + ëŒ€í™”í˜• ë“±ë¡â€ ëŸ¬ë„ˆ
# ì‚¬ìš©: source ~/Work/10_Today/jmenu.csh

set _list = "$HOME/Work/10_Today/shortcuts.list"
if ( ! -e "$_list" ) then
  echo "# label | abs path | commands (optional)" &gt; "$_list"
endif

# ë¦¬ìŠ¤íŠ¸ ì¶œë ¥ í•¨ìˆ˜
alias _jlist 'awk -F"\\|" '"'"'BEGIN{i=0}
  $0 ~ /^[[:space:]]*#/ {next}
  NF&gt;=2 {
    for (k=1;k&lt;=NF;k++){ gsub(/^[ \t]+|[ \t]+$/,"",$k) }
    if ($1=="") next
    i++; printf("%2d) %-28s -&gt; %s\n", i, $1, $2)
  }'"'"' '$_list

# Në²ˆì§¸ í•­ëª©ì˜ í•„ë“œ ê°€ì ¸ì˜¤ê¸°(1=label, 2=dir, 3=cmd)
alias _jget 'awk -F"\\|" -v idx="\!:1" -v fld="\!:2" '"'"'BEGIN{i=0}
  $0 ~ /^[[:space:]]*#/ {next}
  NF&gt;=2 {
    for (k=1;k&lt;=NF;k++){ gsub(/^[ \t]+|[ \t]+$/,"",$k) }
    if ($1=="") next
    i++; if (i==idx){ if(fld==1)print $1; else if(fld==2)print $2; else if(fld==3 &amp;&amp; NF&gt;=3)print $3; exit }
  }'"'"' '$_list

echo ""
echo "== TODAY MENU =="
echo "[R]un (ë²ˆí˜¸ë¡œ ì‹¤í–‰) / [A]dd (ë“±ë¡) / [E]dit / [Q]uit  [Enter=R]"
echo ""
_jlist
echo ""
echo -n "Action [R/A/E/Q]: "
set act = "$&lt;"
if ( "$act" == "" ) set act = "R"
set act = `echo "$act" | tr '[:lower:]' '[:upper:]'`

if ( "$act" == "E" ) then
  set ed = "$EDITOR"
  if ( "$ed" == "" ) set ed = "vi"
  $ed "$_list"
  echo "í¸ì§‘ ì™„ë£Œ."
  goto END
else if ( "$act" == "A" ) then
  echo -n "Label (ë„ì–´ì“°ê¸° ê°€ëŠ¥, '|' ê¸ˆì§€): "
  set lab = "$&lt;"
  if ( "$lab" == "" ) then
    echo "ì·¨ì†Œ: ë¼ë²¨ì´ ë¹„ì–´ìˆìŒ."
    goto END
  endif
  if ( "$lab" =~ "*|*" ) then
    echo "ì·¨ì†Œ: '|' ë¬¸ìëŠ” ì‚¬ìš©í•  ìˆ˜ ì—†ìŒ."
    goto END
  endif

  echo -n "Absolute path (ë¹„ì–´ìˆìœ¼ë©´ í˜„ì¬ ê²½ë¡œ ì‚¬ìš©): "
  set dir = "$&lt;"
  if ( "$dir" == "" ) set dir = "$cwd"
  # ìƒëŒ€ê²½ë¡œë©´ ì ˆëŒ€ê²½ë¡œë¡œ ë³´ì •
  if ( "$dir" !~ "/*" ) set dir = "$cwd/$dir"
  if ( ! -d "$dir" ) then
    echo -n "ë””ë ‰í„°ë¦¬ê°€ ì—†ìŠµë‹ˆë‹¤. ë§Œë“¤ê¹Œìš”? [y/N]: "
    set ans = "$&lt;"
    if ( "$ans" == "y" || "$ans" == "Y" ) then
      mkdir -p "$dir"
    else
      echo "ì·¨ì†Œ."
      goto END
    endif
  endif

  echo -n "Commands (ì˜µì…˜, ì—¬ëŸ¬ ê°œëŠ” ';'ë¡œ ì—°ê²°): "
  set cmd = "$&lt;"

  # ì¤„ ì¶”ê°€
  if ( "$cmd" == "" ) then
    echo "$lab | $dir |" &gt;&gt; "$_list"
  else
    echo "$lab | $dir | $cmd" &gt;&gt; "$_list"
  endif
  echo "ë“±ë¡ ì™„ë£Œ:"
  echo "  $lab | $dir | $cmd"
  echo ""
  echo "ì§€ê¸ˆ ì‹¤í–‰í• ê¹Œìš”? [y/N]: "
  set runnow = "$&lt;"
  if ( "$runnow" != "y" &amp;&amp; "$runnow" != "Y" ) goto END

  # ë°©ê¸ˆ ì¶”ê°€í•œ í•­ëª© ë²ˆí˜¸ ê³„ì‚°
  set idx = `_jlist | wc -l`
  # fallthrough to ì‹¤í–‰
  goto RUN

else if ( "$act" == "R" ) then
  echo -n "ì‹¤í–‰í•  ë²ˆí˜¸: "
  set idx = "$&lt;"
  if ( "$idx" == "" ) then
    echo "ì·¨ì†Œ: ë²ˆí˜¸ê°€ ë¹„ì–´ìˆìŒ."
    goto END
  endif
  if ( "$idx" !~ "^[0-9][0-9]*$" ) then
    echo "ì·¨ì†Œ: ìˆ«ìë¥¼ ì…ë ¥í•˜ì„¸ìš”."
    goto END
  endif
  # ì‹¤í–‰ìœ¼ë¡œ ì´ë™
  goto RUN

else
  echo "ì¢…ë£Œ."
  goto END
endif

RUN:
# í•„ë“œ ì¶”ì¶œ
set label = "`_jget $idx 1`"
set dest  = "`_jget $idx 2`"
set cmds  = "`_jget $idx 3`"

if ( "$label" == "" || "$dest" == "" ) then
  echo "í•´ë‹¹ ë²ˆí˜¸ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤."
  goto END
endif
if ( ! -d "$dest" ) then
  echo "ê²½ë¡œê°€ ì—†ìŠµë‹ˆë‹¤: $dest"
  goto END
endif

# í˜„ì¬ ì…¸ì—ì„œ ì´ë™ + (ìˆìœ¼ë©´) ëª…ë ¹ ì‹¤í–‰
cd "$dest"
if ( "$cmds" != "" ) then
  echo "% ì‹¤í–‰: $cmds"
  eval "$cmds"
endif
echo "% ìœ„ì¹˜: $cwd  (ë¼ë²¨: $label)"
# ìŠ¤í¬ë¦½íŠ¸ ì¢…ë£Œ í›„ì—ë„ í˜„ì¬ ì…¸ì€ ê³„ì† ìœ ì§€ë¨(ì´ íŒŒì¼ì€ sourceë¡œ ë¶ˆëŸ¬ì•¼ í•¨)

END:
</code></pre></div></div>

<h3 id="ê¼­-ì´ë ‡ê²Œ-ì‹¤í–‰í•˜ì„¸ìš”-í˜„ì¬-ì…¸-ìœ ì§€">ê¼­ ì´ë ‡ê²Œ ì‹¤í–‰í•˜ì„¸ìš” (í˜„ì¬ ì…¸ ìœ ì§€)</h3>

<p><code class="language-plaintext highlighter-rouge">.tcshrc</code>ì— ë‹¨ì¶•í‚¤:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh

alias jm 'source ~/Work/10_Today/jmenu.csh'
</code></pre></div></div>

<p>ì´í›„:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh

jm         # ë©”ë‰´ í‘œì‹œ â†’ Action ì…ë ¥ â†’ ë²ˆí˜¸ ì„ íƒ â†’ ì‹¤í–‰ â†’ ì…¸ ìœ ì§€
</code></pre></div></div>

<hr />

<h2 id="ì‚¬ìš©-ì˜ˆ-venvconda">ì‚¬ìš© ì˜ˆ (venv/conda)</h2>

<ul>
  <li>
    <p>venv í™œì„±í™” í›„ ì‹¤í–‰:</p>

    <ul>
      <li>Commands: <code class="language-plaintext highlighter-rouge">source .venv/bin/activate.csh; ./scripts/run.sh</code></li>
    </ul>
  </li>
  <li>
    <p>conda:</p>

    <ul>
      <li>Commands: <code class="language-plaintext highlighter-rouge">source ~/miniconda3/etc/profile.d/conda.csh; conda activate myenv; ./scripts/run.sh</code></li>
    </ul>
  </li>
</ul>

<hr />

<h2 id="í¬ì¸íŠ¸-ì¤‘ìš”">í¬ì¸íŠ¸ (ì¤‘ìš”)</h2>

<ul>
  <li>
    <p><strong>ë°˜ë“œì‹œ<code class="language-plaintext highlighter-rouge">source</code>ë¡œ ì‹¤í–‰</strong>(<code class="language-plaintext highlighter-rouge">alias jm 'source ...'</code>) â†’ í˜„ì¬ ì…¸ì—ì„œ <code class="language-plaintext highlighter-rouge">cd</code>/í™˜ê²½ ë³€ê²½ì´ ì‚´ì•„ìˆìŒ.</p>
  </li>
  <li>
    <p>ë²ˆí˜¸ ì„ íƒì€ <strong>ì£¼ì„( # )ê³¼ ë¹ˆ ì¤„ ì œì™¸</strong> ìˆœì„œë¡œ ìë™ ë²ˆí˜¸ê°€ ë§¤ê²¨ì§‘ë‹ˆë‹¤.</p>
  </li>
  <li>
    <p>ë“±ë¡(Add)ë„ <strong>ì§ˆë¬¸â†’ë‹µ</strong> í˜•ì‹ìœ¼ë¡œ ì§„í–‰í•˜ê³ , ëë‚˜ë©´ ì¦‰ì‹œ ì‹¤í–‰í• ì§€ ë¬¼ì–´ë´ìš”.</p>
  </li>
  <li>
    <p>ê²½ë¡œì— ê³µë°±/ì„¸ë¯¸ì½œë¡ ì´ ìˆìœ¼ë©´ <strong>ë”°ì˜´í‘œ</strong> ë¡œ ê°ì‹¸ì£¼ì„¸ìš”.</p>
  </li>
</ul>

<p>ì›í•˜ë©´ ì´ ëŸ¬ë„ˆì— <strong>ì‚­ì œ/ì´ë™(ë²ˆí˜¸ ê¸°ë°˜ ì¬ì •ë ¬)</strong> , <strong>fzf ì„ íƒ ì§€ì›</strong> ë„ ì¶”ê°€í•´ ì¤„ ìˆ˜ ìˆì–´.</p>

<p class="chat--user">

alias _jlist ì—ì„œë¶€í„° unmatched "'" ëœ¨ê³  ì¢…ë£Œë¼. ì¢€ ì‰½ê²Œ í•˜ëŠ” ë²• ì—†ë‚˜ íŒŒì´ì¬ ê°™ì€ê±¸ë¡œ

</p>

<p>ë§ì•„, tcsh ë”°ì˜´í‘œ ì§€ì˜¥ í”¼í•˜ë ¤ë©´ Pythonìœ¼ë¡œ â€œë²ˆí˜¸ ì„ íƒ/ë“±ë¡ â†’ í˜„ì¬ ì…¸ì—ì„œ cd+ì‹¤í–‰â€ íë¦„ì„ ë§Œë“œëŠ” ê²Œ ì œì¼ ê¹”ë”í•´. ì•„ë˜ ê·¸ëŒ€ë¡œ ì“°ë©´ ë¼.</p>

<hr />

<h1 id="0-í•µì‹¬-ì•„ì´ë””ì–´">0) í•µì‹¬ ì•„ì´ë””ì–´</h1>

<ul>
  <li>
    <p><strong>Python</strong> ìŠ¤í¬ë¦½íŠ¸ê°€ ë©”ë‰´/ë“±ë¡ì„ ì²˜ë¦¬í•˜ê³ , ì‹¤í–‰í•  <strong>tcsh ì½”ë“œ</strong> ë¥¼ <code class="language-plaintext highlighter-rouge">~/.cache/jmenu_out.csh</code>ì— ì¨ë‘ </p>
  </li>
  <li>
    <p>í˜„ì¬ ì…¸ì—ì„œëŠ” <strong>ì‘ì€ ë˜í¼(jm.csh)ë¥¼<code class="language-plaintext highlighter-rouge">source</code></strong> í•´ì„œ ê·¸ ì½”ë“œë¥¼ ì‹¤í–‰ â†’ <strong>cd/venv í™œì„±í™”ê°€ í˜„ì¬ ì…¸ì— ê·¸ëŒ€ë¡œ ë°˜ì˜</strong></p>
  </li>
</ul>

<hr />

<h1 id="1-ë¦¬ìŠ¤íŠ¸-íŒŒì¼-í¬ë§·-ê·¸ëŒ€ë¡œ-ì‚¬ìš©">1) ë¦¬ìŠ¤íŠ¸ íŒŒì¼ í¬ë§· (ê·¸ëŒ€ë¡œ ì‚¬ìš©)</h1>

<p><code class="language-plaintext highlighter-rouge">~/Work/10_Today/shortcuts.list</code></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># label | abs path | commands (optional, ì—¬ëŸ¬ ê°œëŠ” ; ë¡œ ì—°ê²°)
My App (venv run) | /Users/me/Work/20_Projects/PRJ-2025-001_app | source .venv/bin/activate.csh; ./scripts/run.sh
Just Go           | /Users/me/Work/26_Datasets/datasets/ad_events/v2025.0826/processed |
</code></pre></div></div>

<hr />

<h1 id="2-python-ë©”ë‰´ë“±ë¡-ìŠ¤í¬ë¦½íŠ¸">2) Python ë©”ë‰´/ë“±ë¡ ìŠ¤í¬ë¦½íŠ¸</h1>

<p><code class="language-plaintext highlighter-rouge">~/Work/10_Today/jmenu.py</code></p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#!/usr/bin/env python3
</span><span class="kn">import</span> <span class="n">os</span><span class="p">,</span> <span class="n">sys</span>

<span class="n">LIST_PATH</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">expanduser</span><span class="p">(</span><span class="sh">'</span><span class="s">~/Work/10_Today/shortcuts.list</span><span class="sh">'</span><span class="p">)</span>
<span class="n">OUT_PATH</span>  <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">expanduser</span><span class="p">(</span><span class="sh">'</span><span class="s">~/.cache/jmenu_out.csh</span><span class="sh">'</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">load_items</span><span class="p">():</span>
    <span class="n">items</span><span class="o">=</span><span class="p">[]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">exists</span><span class="p">(</span><span class="n">LIST_PATH</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">items</span>
    <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="n">LIST_PATH</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="sh">'</span><span class="s">utf-8</span><span class="sh">'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">s</span><span class="o">=</span><span class="n">line</span><span class="p">.</span><span class="nf">strip</span><span class="p">()</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">s</span> <span class="ow">or</span> <span class="n">s</span><span class="p">.</span><span class="nf">lstrip</span><span class="p">().</span><span class="nf">startswith</span><span class="p">(</span><span class="sh">'</span><span class="s">#</span><span class="sh">'</span><span class="p">):</span> <span class="k">continue</span>
            <span class="n">parts</span><span class="o">=</span><span class="p">[</span><span class="n">p</span><span class="p">.</span><span class="nf">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">s</span><span class="p">.</span><span class="nf">split</span><span class="p">(</span><span class="sh">'</span><span class="s">|</span><span class="sh">'</span><span class="p">)]</span>
            <span class="k">if</span> <span class="nf">len</span><span class="p">(</span><span class="n">parts</span><span class="p">)</span><span class="o">&lt;</span><span class="mi">2</span><span class="p">:</span> <span class="k">continue</span>
            <span class="n">label</span><span class="o">=</span><span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span> <span class="n">path</span><span class="o">=</span><span class="n">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">cmd</span><span class="o">=</span><span class="n">parts</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="k">if</span> <span class="nf">len</span><span class="p">(</span><span class="n">parts</span><span class="p">)</span><span class="o">&gt;=</span><span class="mi">3</span> <span class="k">else</span> <span class="sh">''</span>
            <span class="n">items</span><span class="p">.</span><span class="nf">append</span><span class="p">({</span><span class="sh">'</span><span class="s">label</span><span class="sh">'</span><span class="p">:</span><span class="n">label</span><span class="p">,</span><span class="sh">'</span><span class="s">path</span><span class="sh">'</span><span class="p">:</span><span class="n">path</span><span class="p">,</span><span class="sh">'</span><span class="s">cmd</span><span class="sh">'</span><span class="p">:</span><span class="n">cmd</span><span class="p">})</span>
    <span class="k">return</span> <span class="n">items</span>

<span class="k">def</span> <span class="nf">print_menu</span><span class="p">(</span><span class="n">items</span><span class="p">):</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">== TODAY MENU ==</span><span class="sh">"</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">items</span><span class="p">:</span> <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">(no entries yet)</span><span class="sh">"</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">it</span> <span class="ow">in</span> <span class="nf">enumerate</span><span class="p">(</span><span class="n">items</span><span class="p">,</span><span class="mi">1</span><span class="p">):</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">i</span><span class="si">:</span><span class="mi">2</span><span class="n">d</span><span class="si">}</span><span class="s">) </span><span class="si">{</span><span class="n">it</span><span class="p">[</span><span class="sh">'</span><span class="s">label</span><span class="sh">'</span><span class="p">]</span><span class="si">:</span><span class="o">&lt;</span><span class="mi">28</span><span class="si">}</span><span class="s"> -&gt; </span><span class="si">{</span><span class="n">it</span><span class="p">[</span><span class="sh">'</span><span class="s">path</span><span class="sh">'</span><span class="p">]</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">write_out</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">cmd</span><span class="p">):</span>
    <span class="n">os</span><span class="p">.</span><span class="nf">makedirs</span><span class="p">(</span><span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">dirname</span><span class="p">(</span><span class="n">OUT_PATH</span><span class="p">),</span> <span class="n">exist_ok</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="n">OUT_PATH</span><span class="p">,</span> <span class="sh">'</span><span class="s">w</span><span class="sh">'</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="sh">'</span><span class="s">utf-8</span><span class="sh">'</span><span class="p">)</span> <span class="k">as</span> <span class="n">w</span><span class="p">:</span>
        <span class="n">w</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="sh">'</span><span class="s"># generated by jmenu.py</span><span class="se">\n</span><span class="sh">'</span><span class="p">)</span>
        <span class="n">w</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="sa">f</span><span class="sh">'</span><span class="s">cd </span><span class="sh">"</span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="sh">"</span><span class="se">\n</span><span class="sh">'</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">cmd</span><span class="p">:</span> <span class="n">w</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="n">cmd</span><span class="p">.</span><span class="nf">rstrip</span><span class="p">()</span> <span class="o">+</span> <span class="sh">'</span><span class="se">\n</span><span class="sh">'</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">[jmenu] wrote </span><span class="si">{</span><span class="n">OUT_PATH</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">save_item</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">cmd</span><span class="p">):</span>
    <span class="n">os</span><span class="p">.</span><span class="nf">makedirs</span><span class="p">(</span><span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">dirname</span><span class="p">(</span><span class="n">LIST_PATH</span><span class="p">),</span> <span class="n">exist_ok</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="n">LIST_PATH</span><span class="p">,</span> <span class="sh">'</span><span class="s">a</span><span class="sh">'</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="sh">'</span><span class="s">utf-8</span><span class="sh">'</span><span class="p">)</span> <span class="k">as</span> <span class="n">w</span><span class="p">:</span>
        <span class="n">w</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">label</span><span class="si">}</span><span class="s"> | </span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s"> | </span><span class="si">{</span><span class="n">cmd</span><span class="si">}</span><span class="se">\n</span><span class="sh">"</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">items</span><span class="o">=</span><span class="nf">load_items</span><span class="p">()</span>
    <span class="nf">print_menu</span><span class="p">(</span><span class="n">items</span><span class="p">)</span>
    <span class="n">act</span><span class="o">=</span><span class="nf">input</span><span class="p">(</span><span class="sh">"</span><span class="s">Action [R]un / [A]dd / [E]dit / [Q]uit (default R): </span><span class="sh">"</span><span class="p">).</span><span class="nf">strip</span><span class="p">().</span><span class="nf">upper</span><span class="p">()</span> <span class="ow">or</span> <span class="sh">'</span><span class="s">R</span><span class="sh">'</span>
    <span class="k">if</span> <span class="n">act</span><span class="o">==</span><span class="sh">'</span><span class="s">Q</span><span class="sh">'</span><span class="p">:</span> <span class="k">return</span> <span class="mi">0</span>
    <span class="k">if</span> <span class="n">act</span><span class="o">==</span><span class="sh">'</span><span class="s">E</span><span class="sh">'</span><span class="p">:</span>
        <span class="n">editor</span><span class="o">=</span><span class="n">os</span><span class="p">.</span><span class="n">environ</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">'</span><span class="s">EDITOR</span><span class="sh">'</span><span class="p">,</span><span class="sh">'</span><span class="s">vi</span><span class="sh">'</span><span class="p">)</span>
        <span class="n">os</span><span class="p">.</span><span class="nf">execvp</span><span class="p">(</span><span class="n">editor</span><span class="p">,[</span><span class="n">editor</span><span class="p">,</span><span class="n">LIST_PATH</span><span class="p">])</span>

    <span class="k">if</span> <span class="n">act</span><span class="o">==</span><span class="sh">'</span><span class="s">A</span><span class="sh">'</span><span class="p">:</span>
        <span class="n">lab</span><span class="o">=</span><span class="nf">input</span><span class="p">(</span><span class="sh">"</span><span class="s">Label: </span><span class="sh">"</span><span class="p">).</span><span class="nf">strip</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">lab</span> <span class="ow">or</span> <span class="sh">'</span><span class="s">|</span><span class="sh">'</span> <span class="ow">in</span> <span class="n">lab</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Invalid label.</span><span class="sh">"</span><span class="p">);</span> <span class="k">return</span> <span class="mi">1</span>
        <span class="n">default_pwd</span><span class="o">=</span><span class="n">os</span><span class="p">.</span><span class="n">environ</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">'</span><span class="s">PWD</span><span class="sh">'</span><span class="p">,</span> <span class="n">os</span><span class="p">.</span><span class="nf">getcwd</span><span class="p">())</span>
        <span class="n">dir_</span><span class="o">=</span><span class="nf">input</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Absolute path [</span><span class="si">{</span><span class="n">default_pwd</span><span class="si">}</span><span class="s">]: </span><span class="sh">"</span><span class="p">).</span><span class="nf">strip</span><span class="p">()</span> <span class="ow">or</span> <span class="n">default_pwd</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">isabs</span><span class="p">(</span><span class="n">dir_</span><span class="p">):</span> <span class="n">dir_</span><span class="o">=</span><span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">abspath</span><span class="p">(</span><span class="n">dir_</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">isdir</span><span class="p">(</span><span class="n">dir_</span><span class="p">):</span>
            <span class="n">mk</span><span class="o">=</span><span class="nf">input</span><span class="p">(</span><span class="sh">"</span><span class="s">Directory not found. Create? [y/N]: </span><span class="sh">"</span><span class="p">).</span><span class="nf">strip</span><span class="p">().</span><span class="nf">lower</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">mk</span><span class="o">==</span><span class="sh">'</span><span class="s">y</span><span class="sh">'</span><span class="p">:</span> <span class="n">os</span><span class="p">.</span><span class="nf">makedirs</span><span class="p">(</span><span class="n">dir_</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span> <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Canceled.</span><span class="sh">"</span><span class="p">);</span> <span class="k">return</span> <span class="mi">1</span>
        <span class="n">cmd</span><span class="o">=</span><span class="nf">input</span><span class="p">(</span><span class="sh">"</span><span class="s">Commands (optional; use </span><span class="sh">'</span><span class="s">;</span><span class="sh">'</span><span class="s"> to chain): </span><span class="sh">"</span><span class="p">).</span><span class="nf">strip</span><span class="p">()</span>
        <span class="nf">save_item</span><span class="p">(</span><span class="n">lab</span><span class="p">,</span> <span class="n">dir_</span><span class="p">,</span> <span class="n">cmd</span><span class="p">)</span>
        <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Added.</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">if</span> <span class="nf">input</span><span class="p">(</span><span class="sh">"</span><span class="s">Run now? [y/N]: </span><span class="sh">"</span><span class="p">).</span><span class="nf">strip</span><span class="p">().</span><span class="nf">lower</span><span class="p">()</span><span class="o">==</span><span class="sh">'</span><span class="s">y</span><span class="sh">'</span><span class="p">:</span>
            <span class="nf">write_out</span><span class="p">(</span><span class="n">dir_</span><span class="p">,</span> <span class="n">cmd</span><span class="p">)</span>
        <span class="k">return</span> <span class="mi">0</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">items</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">No entries to run.</span><span class="sh">"</span><span class="p">);</span> <span class="k">return</span> <span class="mi">1</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">idx</span><span class="o">=</span><span class="nf">int</span><span class="p">(</span><span class="nf">input</span><span class="p">(</span><span class="sh">"</span><span class="s">Number to run: </span><span class="sh">"</span><span class="p">).</span><span class="nf">strip</span><span class="p">())</span>
    <span class="k">except</span> <span class="nb">Exception</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Invalid number.</span><span class="sh">"</span><span class="p">);</span> <span class="k">return</span> <span class="mi">1</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;=</span><span class="n">idx</span><span class="o">&lt;=</span><span class="nf">len</span><span class="p">(</span><span class="n">items</span><span class="p">)):</span>
        <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Out of range.</span><span class="sh">"</span><span class="p">);</span> <span class="k">return</span> <span class="mi">1</span>
    <span class="n">it</span><span class="o">=</span><span class="n">items</span><span class="p">[</span><span class="n">idx</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">path</span><span class="o">=</span><span class="n">it</span><span class="p">[</span><span class="sh">'</span><span class="s">path</span><span class="sh">'</span><span class="p">]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">isabs</span><span class="p">(</span><span class="n">path</span><span class="p">):</span> <span class="n">path</span><span class="o">=</span><span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">abspath</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="nf">write_out</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">it</span><span class="p">[</span><span class="sh">'</span><span class="s">cmd</span><span class="sh">'</span><span class="p">])</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">â†’ </span><span class="si">{</span><span class="n">it</span><span class="p">[</span><span class="sh">'</span><span class="s">label</span><span class="sh">'</span><span class="p">]</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="k">return</span> <span class="mi">0</span>

<span class="k">if</span> <span class="n">__name__</span><span class="o">==</span><span class="sh">'</span><span class="s">__main__</span><span class="sh">'</span><span class="p">:</span>
    <span class="n">sys</span><span class="p">.</span><span class="nf">exit</span><span class="p">(</span><span class="nf">main</span><span class="p">())</span>
</code></pre></div></div>

<hr />

<h1 id="3-tcsh-ë˜í¼-í˜„ì¬-ì…¸ì—-ë°˜ì˜">3) tcsh ë˜í¼ (í˜„ì¬ ì…¸ì— ë°˜ì˜)</h1>

<p><code class="language-plaintext highlighter-rouge">~/Work/10_Today/jm.csh</code></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh

#!/bin/tcsh -f
# í˜„ì¬ ì…¸ì—ì„œ source í•´ì•¼ cd/í™˜ê²½ì´ ìœ ì§€ë¨
python3 ~/Work/10_Today/jmenu.py
if ( -r ~/.cache/jmenu_out.csh ) then
  source ~/.cache/jmenu_out.csh
endif
</code></pre></div></div>

<p>ê¶Œí•œ:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh

chmod +x ~/Work/10_Today/jm.csh
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">.tcshrc</code>ì— ë‹¨ì¶•í‚¤:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh

alias jm 'source ~/Work/10_Today/jm.csh'
</code></pre></div></div>

<hr />

<h1 id="4-ì‚¬ìš©ë²•">4) ì‚¬ìš©ë²•</h1>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jm          # ë©”ë‰´ê°€ ëœ¸ â†’ R/A/E ì„ íƒ â†’ ë²ˆí˜¸ ì…ë ¥ â†’ ì‹¤í–‰
</code></pre></div></div>

<ul>
  <li>
    <p><strong>ë“±ë¡(Add)</strong> : ë¼ë²¨/ê²½ë¡œ/ì»¤ë§¨ë“œ ì°¨ë¡€ë¡œ ë¬»ê³  ì €ì¥. â€œRun now?â€ì— <code class="language-plaintext highlighter-rouge">y</code>ë©´ ì¦‰ì‹œ ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸ê°€ ë§Œë“¤ì–´ì ¸ í˜„ì¬ ì…¸ì— ë°˜ì˜ë¨.</p>
  </li>
  <li>
    <p><strong>ì‹¤í–‰(Run)</strong> : ë²ˆí˜¸ë§Œ ë„£ìœ¼ë©´ ë¨.</p>
  </li>
  <li>
    <p><strong>ìœ ì§€</strong> : ë³„ë„ <code class="language-plaintext highlighter-rouge">exec tcsh -i</code> í•„ìš” ì—†ìŒ. â€œí˜„ì¬ ì…¸ì—ì„œ sourceâ€ í•˜ë¯€ë¡œ venv/conda í™œì„±í™”ê°€ ê·¸ëŒ€ë¡œ ë‚¨ì•„ìˆìŒ.</p>
  </li>
</ul>

<blockquote>
  <p>venv ì˜ˆì‹œ ì»¤ë§¨ë“œ: <code class="language-plaintext highlighter-rouge">source .venv/bin/activate.csh; ./scripts/run.sh</code><br />
 conda ì˜ˆì‹œ: <code class="language-plaintext highlighter-rouge">source ~/miniconda3/etc/profile.d/conda.csh; conda activate myenv; ./scripts/run.sh</code></p>
</blockquote>

<hr />

<p>ì´ë ‡ê²Œ í•˜ë©´ tcsh ì¸ìš©/ë”°ì˜´í‘œ ë¬¸ì œ ì—†ì´ <strong>ë²ˆí˜¸ ì„ íƒ/ë“±ë¡</strong> ì´ ê¹”ë”í•˜ê²Œ ëŒì•„ê°€ê³ , ë„¤ê°€ ì›í•œ <strong>â€œì‘ì—… í´ë”ë¡œ ì´ë™ â†’ ëª…ë ¹ ì‹¤í–‰ â†’ ì…¸ ìœ ì§€â€</strong> íë¦„ì„ ê·¸ëŒ€ë¡œ ì“¸ ìˆ˜ ìˆì–´.</p>

<p class="chat--user">

unmatched errorëŠ” ì™œ ëœ¬ê±¸ê¹Œ

</p>

<p>ë§ì•„ìš”â€”ê·¸ â€œunmatched ' â€ ì—ëŸ¬ëŠ” <strong>tcshì˜ ë”°ì˜´í‘œ(quote) ê·œì¹™</strong> ë•Œë¬¸ì— ë‚©ë‹ˆë‹¤.</p>

<h2 id="ì™œ-ê·¸ë¬ëƒë©´-í•µì‹¬">ì™œ ê·¸ë¬ëƒë©´ (í•µì‹¬)</h2>

<ul>
  <li>
    <p>ë³´í†µ <code class="language-plaintext highlighter-rouge">alias name '...ëª…ë ¹...'</code> ì²˜ëŸ¼ <strong>ë‹¨ì¼ ì¸ìš©ë¶€í˜¸(')</strong>ë¡œ alias ë³¸ë¬¸ì„ ê°ì‹¸ìš”.</p>
  </li>
  <li>
    <p>ê·¸ëŸ°ë° alias ë³¸ë¬¸ ì•ˆì—ì„œ ë˜ <code class="language-plaintext highlighter-rouge">awk -F'\|'</code> ê°™ì´ <strong>ë‹¤ì‹œ ' ë¥¼ ì‚¬ìš©</strong> í•˜ë©´,<br />
tcshëŠ” <strong>ë°”ê¹¥ ' ê°€ ê±°ê¸°ì„œ ë‹«í˜”ë‹¤ê³  í•´ì„</strong> í•©ë‹ˆë‹¤.<br />
â†’ ê²°ê³¼ì ìœ¼ë¡œ <strong>ì—´ë¦° ' ì™€ ë‹«íŒ ' ì˜ ì§ì´ ì•ˆ ë§ì•„</strong> â€œunmatched 'â€ê°€ í„°ì ¸ìš”.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">tcsh</code>ëŠ” <strong>ë‹¨ì¼ ì¸ìš©ë¶€í˜¸ë¥¼ ë‚´ë¶€ì—ì„œ ì´ìŠ¤ì¼€ì´í”„í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</strong><br />
(sh ê³„ì—´ì—ì„œ ì“°ëŠ” <code class="language-plaintext highlighter-rouge">'\''</code> ê°™ì€ ê¼¼ìˆ˜ë„ tcshì—ì„  í†µí•˜ì§€ ì•Šì•„ìš”.)</p>
  </li>
</ul>

<p>ì‘ì€ ì¬í˜„ ì˜ˆ:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh

alias bad 'awk -F'\|' '{print $1}''   # â† ì—¬ê¸°ì„œ unmatched '
</code></pre></div></div>

<h2 id="ê°„ë‹¨í•œ-í•´ê²°ë²•-3ê°€ì§€">ê°„ë‹¨í•œ í•´ê²°ë²• 3ê°€ì§€</h2>

<ol>
  <li><strong>alias ë°”ê¹¥ì„ " (ì´ì¤‘ì¸ìš©ë¶€í˜¸)ë¡œ ê°ì‹¸ê³ </strong> , awk í”„ë¡œê·¸ë¨ì€ ' ë¡œ ìœ ì§€
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh
     
alias _jlist "awk -F'\\|' 'BEGIN{i=0} {print $0}' $_list"
</code></pre></div>    </div>

    <ul>
      <li>
        <p>ë°”ê¹¥ì€ <code class="language-plaintext highlighter-rouge">"</code> ì´ë¼ ë‚´ë¶€ì˜ <code class="language-plaintext highlighter-rouge">'...'</code> ê°€ <strong>ë¬¸ì ê·¸ëŒ€ë¡œ</strong> awkë¡œ ì „ë‹¬ë©ë‹ˆë‹¤.</p>
      </li>
      <li>
        <table>
          <tbody>
            <tr>
              <td><code class="language-plaintext highlighter-rouge">\\|</code> ëŠ” awkë¡œ <code class="language-plaintext highlighter-rouge">\|</code>ê°€ ì „ë‹¬ë˜ë„ë¡ í•œ ì´ìŠ¤ì¼€ì´í”„ì…ë‹ˆë‹¤(í•„ë“œ êµ¬ë¶„ìì— â€˜</td>
              <td>â€™ literal).</td>
            </tr>
          </tbody>
        </table>
      </li>
    </ul>
  </li>
  <li><strong>awk ìŠ¤í¬ë¦½íŠ¸ë¥¼ íŒŒì¼ë¡œ ë¶„ë¦¬</strong> (ê°€ì¥ ì•ˆì „)
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh
     
# ~/Work/10_Today/jlist.awk
BEGIN { i=0 }
$0 !~ /^[[:space:]]*#/ &amp;&amp; NF&gt;=2 {
  gsub(/^[ \t]+|[ \t]+$/,"",$1); gsub(/^[ \t]+|[ \t]+$/,"",$2);
  i++; printf("%2d) %-28s -&gt; %s\n", i, $1, $2)
}
</code></pre></div>    </div>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh
     
alias _jlist "awk -F'\\|' -f ~/Work/10_Today/jlist.awk $_list"
</code></pre></div>    </div>
  </li>
  <li><strong>(ì¶”ì²œ) ì•„ì˜ˆ tcshë¥¼ ì•ˆ ê±´ë“œë¦¬ê³  Pythonìœ¼ë¡œ ì²˜ë¦¬</strong><br />
ì´ë¯¸ ë“œë¦° <code class="language-plaintext highlighter-rouge">jmenu.py + jm.csh</code> ë°©ì‹ì´ ì´ ë¬¸ì œë¥¼ ì›ì²œ ì°¨ë‹¨í•©ë‹ˆë‹¤.<br />
(íŒŒì‹±/ë“±ë¡/ë²ˆí˜¸ ì„ íƒì€ íŒŒì´ì¬ì´ í•˜ê³ , <strong>í˜„ì¬ ì…¸</strong> ë°˜ì˜ì€ <code class="language-plaintext highlighter-rouge">source ~/.cache/jmenu_out.csh</code>ë¡œ í•´ê²°)</li>
</ol>

<h2 id="ì¶”ê°€ë¡œ-í”í•œ-í•¨ì •">ì¶”ê°€ë¡œ í”í•œ í•¨ì •</h2>

<ul>
  <li>
    <p><strong>history í™•ì¥(!)</strong> : tcshëŠ” <code class="language-plaintext highlighter-rouge">"</code> ì•ˆì—ì„œë„ <code class="language-plaintext highlighter-rouge">!</code>ë¥¼ íˆìŠ¤í† ë¦¬ë¡œ í•´ì„í•©ë‹ˆë‹¤.<br />
awk ì½”ë“œì— <code class="language-plaintext highlighter-rouge">!</code>ê°€ ë“¤ì–´ê°„ë‹¤ë©´ alias ë°”ê¹¥ì„ <code class="language-plaintext highlighter-rouge">'...'</code>ë¡œ, awk ë³¸ë¬¸ì€ <code class="language-plaintext highlighter-rouge">-f íŒŒì¼</code>ë¡œ ë¹¼ëŠ” ê²Œ ì•ˆì „í•©ë‹ˆë‹¤.</p>
  </li>
  <li>
    <p><strong>backslash ì²˜ë¦¬</strong> : <code class="language-plaintext highlighter-rouge">"</code> ì•ˆì—ì„œëŠ” <code class="language-plaintext highlighter-rouge">\</code>, <code class="language-plaintext highlighter-rouge">"</code>, <code class="language-plaintext highlighter-rouge">$</code>, <code class="language-plaintext highlighter-rouge">!</code>ë§Œ íŠ¹ë³„ ì·¨ê¸‰ë˜ê³  ë‚˜ë¨¸ì§€ <code class="language-plaintext highlighter-rouge">\</code>ëŠ” ê·¸ëŒ€ë¡œ ì „ë‹¬ë©ë‹ˆë‹¤.<br />
ê·¸ë˜ì„œ <code class="language-plaintext highlighter-rouge">-F"\\|"</code>ì²˜ëŸ¼ <strong>ë‘ ë²ˆ</strong> ì ì–´ì•¼ awkë¡œ <code class="language-plaintext highlighter-rouge">\|</code>ê°€ ì „ë‹¬ë¼ìš”.</p>
  </li>
</ul>

<hr />

<h3 id="ì •ë¦¬">ì •ë¦¬</h3>

<ul>
  <li>
    <p>ì—ëŸ¬ ì›ì¸: <strong>ë‹¨ì¼ ì¸ìš©ë¶€í˜¸ë¥¼ ì¤‘ì²©</strong> í•´ì„œ tcsh íŒŒì„œê°€ ë¬¸ìì—´ ê²½ê³„ë¥¼ ì˜¤í•´í–ˆê¸° ë•Œë¬¸.</p>
  </li>
  <li>
    <p>í•´ê²°: <strong>ë°”ê¹¥ì€ "â€¦", ì•ˆìª½ awkëŠ” 'â€¦'</strong> íŒ¨í„´ìœ¼ë¡œ ë°”ê¾¸ê±°ë‚˜, <strong>awk ìŠ¤í¬ë¦½íŠ¸ë¥¼ íŒŒì¼ë¡œ ë¶„ë¦¬</strong> ,<br />
ë˜ëŠ” <strong>Python ëŸ¬ë„ˆ</strong> ë¥¼ ì‚¬ìš©í•´ quotes ì§€ì˜¥ì„ íšŒí”¼í•˜ì„¸ìš”.</p>
  </li>
</ul>

<p>ì›í•˜ë©´, ê¸°ì¡´ tcsh-only ë²„ì „ì„ <strong>ë¬¸ìì—´ ì•ˆì „í•˜ê²Œ</strong> ê³ ì¹œ <code class="language-plaintext highlighter-rouge">_jlist</code>/<code class="language-plaintext highlighter-rouge">_jget</code> alias ì „ì²´ë¥¼ ë§Œë“¤ì–´ì„œ ë“œë¦´ê²Œ.</p>

<p class="chat--user">

ì˜¤ì¼€ì´ ì¼ë‹¨ ì‘ì—… í´ë” êµ¬ì„±ìœ¼ë¡œ ë‹¤ì‹œ ëŒì•„ê°€ì. 00_README.txt ë¡œ êµ¬ì„±í• ë ¤ê³  í•´ 01_Inbox ìµœì¢… êµ¬ì¡° ë‹¤ì‹œ ì •ë¦¬í•´ì¤˜.

</p>

<p>ì¢‹ì•„! <strong><code class="language-plaintext highlighter-rouge">00_README.txt</code> + <code class="language-plaintext highlighter-rouge">01_Inbox</code></strong> ê¸°ì¤€ìœ¼ë¡œ ìµœì¢… êµ¬ì¡°ë¥¼ ë‹¤ì‹œ ì •ë¦¬í–ˆì–´.<br />
(ì¢Œì¸¡ì€ <strong>í´ë”/íŒŒì¼ëª…(ì˜ë¬¸)</strong> , <code class="language-plaintext highlighter-rouge">-</code> ì˜¤ë¥¸ìª½ì€ <strong>ì„¤ëª…(í•œê¸€)</strong>. í•˜ìœ„ ì˜ˆì‹œ í¬í•¨)</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Work/                                           - 1ì¸ ê°œë°œìš© ì‘ì—… ë£¨íŠ¸
â”œâ”€ 00_README.txt                                - ì „ì²´ í´ë” ê·œì¹™/ìš´ì˜ ìš”ì•½(í•˜ë‹¨ í…œí”Œë¦¿ ì°¸ê³ )
â”œâ”€ 01_Inbox/                                    - ìˆ˜ì‘ì—… ì„ì‹œí•¨(ìŠ¤í¬ë¦°ìƒ·/ë©”ëª¨/ì„ì‹œ íŒŒì¼)
â”œâ”€ 05_Downloads/                                - ë‹¤ìš´ë¡œë“œ ì°©ë¥™ì§€(ì •ë¦¬ ì „ ì„ì‹œ)
â”‚  â”œâ”€ _inbox/                                   - ë¸Œë¼ìš°ì €/íˆ´ ê¸°ë³¸ ì €ì¥ ê²½ë¡œ
â”‚  â”œâ”€ installers/                               - ì„¤ì¹˜ íŒŒì¼(.exe/.msi/.pkg/.dmg/.whl/.zip)
â”‚  â”œâ”€ datasets/                                 - ë°ì´í„°ì…‹ ì••ì¶•/CSV ì„ì‹œ(í•´ì œ ì „)
â”‚  â”œâ”€ manuals/                                  - ë§¤ë‰´ì–¼/ê°€ì´ë“œ PDF/HTML ì„ì‹œ
â”‚  â”œâ”€ assets/                                   - í°íŠ¸/ì•„ì´ì½˜/í…œí”Œë¦¿ ë“± ì„ì‹œ
â”‚  â””â”€ quarantine/                               - ì˜ì‹¬ íŒŒì¼(ê²€ì‚¬ ì „ ê²©ë¦¬)
â”œâ”€ 10_Today/                                    - ì˜¤ëŠ˜ ì‘ì—… ëŒ€ì‹œë³´ë“œ(ì½˜ì†” ëŸ°ì²˜/ë‹¨ì¶•)
â”‚  â”œâ”€ shortcuts.list                            - "ë¼ë²¨ | ê²½ë¡œ | ëª…ë ¹" ëª©ë¡
â”‚  â””â”€ wrappers/                                 - ì‹¤í–‰ ë˜í¼ ìŠ¤í¬ë¦½íŠ¸(ì˜ˆ: enter.csh)
â”œâ”€ 20_Projects/                                 - íˆ´(íŒŒì´ì¬ íŒ¨í‚¤ì§€) ê°œë°œ(ì½”ë“œ ìˆ˜ëª… ì¤‘ì‹¬)
â”‚  â””â”€ PRJ-YYYY-NNN_name/                        - ì˜ˆ: PRJ-2025-001_sample_app
â”‚     â”œâ”€ src/&lt;package_name&gt;/                    - íŒ¨í‚¤ì§€ ì†ŒìŠ¤
â”‚     â”œâ”€ tests/                                 - pytest
â”‚     â”œâ”€ scripts/                               - build/lint/test/run ìŠ¤í¬ë¦½íŠ¸
â”‚     â”œâ”€ examples/{data,scripts,docs}/          - ë°°í¬ìš© ìµœì†Œ ì‹¤í–‰ ì˜ˆì œ
â”‚     â”œâ”€ issues/BUG-YYYY-NNN/                   - ë²„ê·¸/ê°œì„  ë…¸íŠ¸
â”‚     â”œâ”€ docs/                                  - ì„¤ê³„Â·ADRÂ·ê°€ì´ë“œ
â”‚     â””â”€ pyproject.toml, README.md, .gitignore, .editorconfig
â”œâ”€ 22_Labs/                                     - ê°€ë²¼ìš´ ì‹¤í—˜/í”„ë¡œí† (ì¬í˜„ ë¶ˆí•„ìš”)
â”‚  â””â”€ jupyter/                                  - ìŠ¤í¬ë˜ì¹˜ ë…¸íŠ¸ë¶(ì˜ˆ: regex_scratch.ipynb)
â”œâ”€ 25_Jobs/                                     - ì‚°ì¶œ ì‘ì—… ë‹¨ìœ„(í”„ë¡œì„¸ìŠ¤ ìˆ˜ëª… ì¤‘ì‹¬)
â”‚  â”œâ”€ _active/                                  - ì§„í–‰ ì¤‘ ì‘ì—…(ìµœëŒ€ 12ê°œ ìœ ì§€)
â”‚  â”œâ”€ _templates/                               - ë³µì œìš© ìŠ¤ìºí´ë“œ(JOB/BUG/SMOKE/LAB/EX/REL)
â”‚  â”œâ”€ JOB/2025/                                 - ì¼ë°˜ ì‚°ì¶œ ì‘ì—…
â”‚  â”œâ”€ BUG/2025/                                 - ë°°í¬ ë²„ê·¸ ì¬í˜„/ê²€ì¦
â”‚  â”œâ”€ SMOKE/2025/                               - ìƒˆ íˆ´ ìŠ¤ëª¨í¬/feasibility
â”‚  â”œâ”€ LAB/2025/                                 - ì¬í˜„í˜• êµìœ¡ ì‹¤ìŠµ(Job í˜•íƒœ)
â”‚  â”œâ”€ EX/2025/                                  - ë°°í¬ ì˜ˆì œ íŒ¨í‚¤ì§•
â”‚  â””â”€ REL/2025/                                 - ë¦´ë¦¬ìŠ¤ ì¤€ë¹„/ê²€ì¦
â”œâ”€ 26_Datasets/                                 - ë°ì´í„°ì…‹ ì¤‘ì•™ ì €ì¥ì†Œ(ì…ë ¥/ì¶œë ¥ ìì‚°)
â”‚  â”œâ”€ registry/                                 - ì¹´íƒˆë¡œê·¸(ìƒ‰ì¸: catalog.csv, README.md)
â”‚  â”œâ”€ datasets/&lt;name&gt;/vYYYY.MMDD/               - ì…ë ¥ ë°ì´í„°ì…‹(ë²„ì „)
â”‚  â”‚  â”œâ”€ raw/ interim/ processed/ samples/      - ì›ë³¸/ì¤‘ê°„/ì •ì œ/ìƒ˜í”Œ
â”‚  â”‚  â”œâ”€ docs/                                  - README, dataset_card.md
â”‚  â”‚  â”œâ”€ manifest.yml                           - ì¶œì²˜/ìŠ¤í‚¤ë§ˆ/ì²´í¬ì„¬/ë¼ì´ì„ ìŠ¤
â”‚  â”‚  â””â”€ SHA256SUMS                             - ë¬´ê²°ì„± ì²´í¬ì„¬
â”‚  â”œâ”€ derived/&lt;artifact&gt;/vYYYY.MMDD/            - ì¬ì‚¬ìš© ê°€ì¹˜ ìˆëŠ” ì¶œë ¥ë¬¼(ìŠ¹ê²©ë³¸)
â”‚  â”‚  â”œâ”€ data/ metrics/ docs/                   - ê²°ê³¼/ì§€í‘œ/ë¬¸ì„œ
â”‚  â”‚  â”œâ”€ manifest.yml                           - ê³„ë³´(lineage)/ë©”íƒ€
â”‚  â”‚  â””â”€ SHA256SUMS
â”‚  â””â”€ cache/                                    - ì–¸ì œ ì§€ì›Œë„ ë˜ëŠ” ìºì‹œ
â”œâ”€ 30_Areas/                                    - ì¥ê¸° ìš´ì˜ ì˜ì—­(ì§€ì† ì—…ë¬´/ì •ì±…)
â”‚  â”œâ”€ worklog/YYYY/YY-MM/DATE.md                - ì¼ì¼/ì£¼ê°„ 5ì¤„ ë¡œê·¸
â”‚  â”œâ”€ environments/                             - ê³µí†µ í™˜ê²½ ì „ëµ(íŒŒì´ì¬/OS ì •ì±…)
â”‚  â””â”€ knowledge_base/{tips,cheatsheets,howtos}/ - ì¶•ì  ì§€ì‹: íŒ/ì¹˜íŠ¸ì‹œíŠ¸/ê°€ì´ë“œ
â”œâ”€ 32_SharedConfigs/                            - ê³µìœ /ê³¨ë“  ì„¤ì •(í‘œì¤€ ruff/pytest/VSCode ë“±)
â”‚  â”œâ”€ global/{vscode,ruff,pytest,pyinstaller,pyside6,jupyter}/
â”‚  â””â”€ projects/&lt;project_slug&gt;/                  - íŠ¹ì • í”„ë¡œì íŠ¸ ê¸°ë³¸ì„¤ì •
â”œâ”€ 40_Resources/                                - ì°¸ê³  ìë£Œ(êµìœ¡/ë§¤ë‰´ì–¼/ìŠ¤í™â€”ì„¤ì • ì œì™¸)
â”‚  â”œâ”€ edu/{courses,tutorials,papers/{to_read,reading_notes,summaries}}/
â”‚  â”œâ”€ manuals/&lt;vendor&gt;/&lt;product&gt;/&lt;version&gt;/     - ë§¤ë‰´ì–¼/ê°€ì´ë“œ
â”‚  â””â”€ reference/                                - í‘œì¤€/ìŠ¤í™ ë¬¸ì„œ ë“± ì½ì„ê±°ë¦¬
â”œâ”€ 50_Snippets/{sql,text,bash}/                 - ì¬ì‚¬ìš© ì½”ë“œ/ì›ë¼ì´ë„ˆ/ë¬¸êµ¬ ì¡°ê°
â”œâ”€ 60_Assets/                                   - ë¡œê³ /í°íŠ¸/í…œí”Œë¦¿ ë“± ì‹œê° ìì‚°
â”‚  â””â”€ fonts/&lt;Family&gt;/vX.Y/{desktop,web,variable,license,specimen}/
â”œâ”€ 70_Exports/                                  - ì—¬ëŸ¬ Jobì˜ ìµœì¢… ì „ë‹¬ë³¸ ëª¨ì•„ë³´ê¸°(ì„ íƒ)
â”œâ”€ 75_Releases/                                 - ìœ ì € ë°°í¬ ì „ìš©(ë²„ì „ë“œ)
â”‚  â””â”€ &lt;project_slug&gt;/
â”‚     â”œâ”€ vX.Y.Z/{installers,wheels,portable,docs,licenses,checksums,ReleaseNotes.md}
â”‚     â””â”€ latest/                                - ìµœì‹  ë²„ì „ í¬ì¸í„°(ì‹¬ë³¼ë¦­)
â”œâ”€ 80_Toolchains/                               - ê³ ì • ë²„ì „ ë¹Œë“œ ë„êµ¬(gcc/cmake/ninjaâ€¦)
â”‚  â”œâ”€ gcc/{13.3.0, latest-&gt;13.3.0}/             - latestëŠ” ìƒëŒ€ ì‹¬ë³¼ë¦­ ë§í¬
â”‚  â”œâ”€ cmake/{3.29.3, latest-&gt;3.29.3}/
â”‚  â””â”€ ninja/{1.12.1, latest-&gt;1.12.1}/
â”œâ”€ 81_SDKs/                                     - í”Œë«í¼ SDK/ëŸ°íƒ€ì„(JDK/Qt/NDK/CUDAâ€¦)
â”‚  â”œâ”€ jdk/{21.0.2, latest-&gt;21.0.2}/
â”‚  â””â”€ qt/{6.7.2-win-x64-msvc, latest-&gt;6.7.2-win-x64-msvc}/
â”œâ”€ 82_Tools/                                    - ê°œì¸Â·ê²½ëŸ‰Â·í¬í„°ë¸” ìœ í‹¸
â”‚  â”œâ”€ installers/&lt;tool&gt;/&lt;ver&gt;/                  - ì„¤ì¹˜ ì›ë³¸ ì •ë³¸ + SHA256SUMS, install_notes.md
â”‚  â”œâ”€ bin/                                      - ë‹¨ì¼ ì‹¤í–‰ íŒŒì¼(PATH í¬í•¨)
â”‚  â”œâ”€ portable/&lt;tool&gt;-&lt;ver&gt;/                    - ì••ì¶• í’€ì–´ ì“°ëŠ” í¬í„°ë¸”
â”‚  â”œâ”€ scripts/                                  - bootstrap/release/checksum ë“±
â”‚  â””â”€ scratch/                                  - ì„ì‹œ í…ŒìŠ¤íŠ¸(ì£¼ê¸°ì  ì²­ì†Œ)
â”œâ”€ 83_Runtimes/                                 - ì–¸ì–´ ëŸ°íƒ€ì„ ëª¨ìŒ(ì˜µì…˜: python/node/go/rustâ€¦)
â”œâ”€ 85_Environments/                             - ë„ì»¤/ì½˜ë‹¤/venv/devcontainer â€œí™˜ê²½ ìº¡ìŠâ€
â”‚  â”œâ”€ conda/environment.yml, venv/README.md
â”‚  â”œâ”€ docker/Dockerfile, compose.yml
â”‚  â””â”€ devcontainer/base/{Dockerfile, devcontainer.json}
â”œâ”€ 90_PersonalConfigs/                          - ê°œì¸ ì„¤ì •(ì˜¤ë²„ë¼ì´ë“œ/ë¹„ê³µê°œ)
â”‚  â”œâ”€ shell/{bash,zsh,tcsh,powershell}/         - ì˜ˆ: shell/tcsh/.tcshrc (í™ˆì— ì‹¬ë§í¬)
â”‚  â”œâ”€ editors/vscode/{settings.user.json,keybindings.user.json}
â”‚  â”œâ”€ git/.gitconfig.local
â”‚  â”œâ”€ python/{pip.conf,poetry.toml,pypirc}
â”‚  â”œâ”€ tools/                                    - íˆ´ ê°œì¸ í”„ë¦¬ì…‹
â”‚  â”œâ”€ secrets/README.md                         - (ì‹¤ë¹„ë°€ì€ ë‘ì§€ ë§ ê²ƒ)
â”‚  â””â”€ .gitignore                                - *.local, secrets/*, *.pem ë“± ì œì™¸
â””â”€ 99_Archive/                                  - ì™„ë£Œ Project/Job/ìë£Œ ì¥ê¸° ë³´ê´€(ì½ê¸° ì „ìš©)
</code></pre></div></div>

<hr />

<h2 id="00_readmetxt-í…œí”Œë¦¿ì§§ê²Œ-ë³µë¶™">00_README.txt í…œí”Œë¦¿(ì§§ê²Œ ë³µë¶™)</h2>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># Work í´ë” ìš´ì˜ ê·œì¹™(ìš”ì•½)
1) ë‹¨ì¼ ì •ë³¸ ì›ì¹™:
   - ì½”ë“œ: 20_Projects / ì‹¤í–‰ ì‘ì—…: 25_Jobs / ë°ì´í„°ì…‹: 26_Datasets
   - ë§í¬/ê²½ë¡œë§Œ ì°¸ì¡°, ë³µì‚¬ë³¸ ê¸ˆì§€
2) TodayëŠ” ëŒ€ì‹œë³´ë“œ:
   - ì›ë³¸ ì´ë™ ê¸ˆì§€, shortcuts.listë¡œë§Œ ì‹¤í–‰
3) ë‹¤ìš´ë¡œë“œ ì •ë¦¬:
   - 05_Downloads/_inbox â†’ installers/datasets/manuals/assetsë¡œ ë¶„ë¥˜
   - ì„¤ì¹˜ ì›ë³¸ì€ 82_Tools/installersë¡œ ì´ë™ + SHA256SUMS/notes
4) ë°ì´í„° ë²„ì „/ë¬´ê²°ì„±:
   - vYYYY.MMDD, manifest.yml + SHA256SUMS í•„ìˆ˜
5) ì„¤ì • ë ˆì´ì–´:
   - Project ë¡œì»¬ â†’ 90_PersonalConfigs(ê°œì¸) â†’ 32_SharedConfigs(global/projects)
6) ë³´ì•ˆ:
   - ë¹„ë°€ì€ 90_PersonalConfigs/secretsë§Œ, ì½”ë“œì— í•˜ë“œì½”ë”© ê¸ˆì§€
7) ë¦´ë¦¬ìŠ¤:
   - 75_Releases/&lt;proj&gt;/vX.Y.Z + checksums/ReleaseNotes, latest ì‹¬ë§í¬
8) ì²­ì†Œ ë£¨í‹´:
   - ë§¤ì¼: 01_Inbox/05_Downloads ì •ë¦¬
   - ì£¼ 1íšŒ: 25_Jobs/_active ìŠ¬ë¦¼í™”, Today ì •ë¦¬
   - ì›” 1íšŒ: 26_Datasets ì¹´íƒˆë¡œê·¸/ë¬´ê²°ì„± ì ê²€
</code></pre></div></div>

<hr />

<h2 id="ì‚¬ìš©-ì‹œ-ì£¼ìš”-ì£¼ì˜ì í•µì‹¬">ì‚¬ìš© ì‹œ ì£¼ìš” ì£¼ì˜ì (í•µì‹¬)</h2>

<ul>
  <li>
    <p><strong>ì„ì‹œì™€ ì •ë³¸ ë¶„ë¦¬</strong> : <code class="language-plaintext highlighter-rouge">01_Inbox/05_Downloads</code>ëŠ” ì„ì‹œ, ì •ë³¸ì€ ê° ì „ìš© í´ë”.</p>
  </li>
  <li>
    <p><strong>ë°ì´í„° ì¬í˜„ì„±</strong> : <code class="language-plaintext highlighter-rouge">26_Datasets</code>ëŠ” ë²„ì „Â·ë©”íƒ€(Manifest/Checksums)ì™€ í•¨ê»˜ ê´€ë¦¬.</p>
  </li>
  <li>
    <p><strong>íˆ´ ìŠ¤íƒ ë¶„ë¦¬</strong> : í‘œì¤€(80/81) â†” ê°œì¸(82) â†” ìº¡ìŠ(85) êµ¬ë¶„, <code class="language-plaintext highlighter-rouge">latest</code>ëŠ” ìƒëŒ€ ì‹¬ë³¼ë¦­.</p>
  </li>
  <li>
    <p><strong>í”„ë¡œì íŠ¸ ë¹Œë“œ ìœ„ì¹˜</strong> : í•­ìƒ <code class="language-plaintext highlighter-rouge">20_Projects/&lt;PRJ&gt;/build</code>(out-of-source).</p>
  </li>
  <li>
    <p><strong>PATH/ëŸ°ì²˜ ê´€ë¦¬</strong> : Todayì˜ <code class="language-plaintext highlighter-rouge">shortcuts.list</code> +(ì„ íƒ) <code class="language-plaintext highlighter-rouge">jm</code> ëŸ¬ë„ˆë¡œ ë¹ ë¥¸ ì í”„/ì‹¤í–‰.</p>
  </li>
</ul>

<p>ì›í•˜ë©´ ì´ êµ¬ì¡°ë¥¼ <strong>ì‹¤ì œ í´ë”/README/ìƒ˜í”Œ íŒŒì¼</strong> ê¹Œì§€ í•œ ë²ˆì— ìƒì„±í•˜ëŠ” ìŠ¤í¬ë¦½íŠ¸(bash/tcsh/PowerShell)ë„ ë§Œë“¤ì–´ì¤„ê²Œ.</p>

<p class="chat--user">

ê·¸ëŸ°ë° ë‚´ê°€ ì¼í•˜ë‹¤ë³´ë©´ â€œì´ê±´ ì–´ë””ì— ì–´ë–¤ì‹ìœ¼ë¡œ ë„£ì–´ì•¼í•˜ì§€?â€ ê¶ê¸ˆí•  ë•Œê°€ ìˆì–´. ê·¸ ë•Œë§ˆë‹¤ ì—¬ê¸°ì— ë¬¼ì–´ë³´ë‹ˆ ë²ˆê±°ë¡œìš°ë‹ˆ, local LLMì— ë¬¼ìœ¼ë©´ì„œ ì¼í•˜ê³  ì‹¶ì–´. local LLM (ê°€ì¹­ work directory manager)ì— ë„£ì–´ì¤„ ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ ì‘ì„±ì„ ë„ì™€ì¤˜. local LLMì€ GPT-OSS 120B ëª¨ë¸ì´ì•¼. í´ë” êµ¬ì¡°ì™€ ì£¼ì˜ ì‚¬í•­ ë“±ë“± local LLM system promptì— ë„£ì–´ì¤„ í”„ë¡¬í”„íŠ¸ ì‘ì„±ì„ ë¶€íƒí•´.

</p>

<p>ì•„ë˜ ë¸”ë¡ì„ <strong>ê·¸ëŒ€ë¡œ local LLMì˜ System Prompt</strong> ë¡œ ë„£ì–´ ì£¼ì„¸ìš”.<br />
(í´ë”ëª…ì€ ì˜ì–´, ì„¤ëª…/ê·œì¹™ì€ í•œêµ­ì–´. ë£¨íŠ¸ëŠ” ê¸°ë³¸ <code class="language-plaintext highlighter-rouge">~/Work</code>ë¡œ ê°€ì •í•©ë‹ˆë‹¤.)</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[SYSTEM PROMPT] Work Directory Manager (WDM)

ì—­í• :
- ë‹¹ì‹ ì€ â€œWork Directory Manager(WDM)â€ì…ë‹ˆë‹¤. ì‚¬ìš©ìê°€ ìƒì„±/ìˆ˜ì§‘í•œ ëª¨ë“  ì‚°ì¶œë¬¼Â·íŒŒì¼Â·ì„¤ì •Â·ë°ì´í„°ë¥¼ ì•„ë˜ì˜ í‘œì¤€ ì›Œí¬ìŠ¤í˜ì´ìŠ¤ íŠ¸ë¦¬ì— ë”°ë¼ **ì–´ë””ì—, ì–´ë–¤ ì´ë¦„/ë²„ì „ìœ¼ë¡œ, ì–´ë–¤ ì ˆì°¨ë¡œ** ë°°ì¹˜í•´ì•¼ í•˜ëŠ”ì§€ ì¦‰ë‹µí•©ë‹ˆë‹¤.
- ëª©í‘œ: (1) ì •ë³¸ ìœ„ì¹˜ì˜ ì¼ê´€ì„±, (2) ì¬í˜„ì„±/ì¶”ì ì„±(ë²„ì „Â·ë©”íƒ€Â·ì²´í¬ì„¬), (3) ì„ì‹œì™€ ì •ë³¸ì˜ ë¶„ë¦¬, (4) ìµœì†Œ ë§ˆì°° ì›Œí¬í”Œë¡œ.

ì „ì œ:
- ì‘ì—… ë£¨íŠ¸ëŠ” ê¸°ë³¸ `~/Work` (ì‚¬ìš©ìê°€ ë‹¤ë¥´ê²Œ ë§í•˜ë©´ ê·¸ ê²½ë¡œë¥¼ ë£¨íŠ¸ë¡œ ì‚¬ìš©).
- ìš´ì˜ì²´ì œëŠ” macOS/Linux/Windowsë¥¼ í˜¼ìš©í•  ìˆ˜ ìˆìŒ. ê²½ë¡œ/ëª…ë ¹ ì˜ˆì‹œëŠ” OSë³„ë¡œ ì œì‹œ.
- ì‹¬ë³¼ë¦­ ë§í¬ëŠ” ê°€ëŠ¥í•œ **ìƒëŒ€ê²½ë¡œ**ë¥¼ ê¶Œì¥.

í´ë” íŠ¸ë¦¬(ì •ì˜):
- `00_README.txt` : ìš´ì˜ ê·œì¹™ ìš”ì•½ ë¬¸ì„œ(ë°˜ë“œì‹œ ìµœì‹ í™”).
- `01_Inbox/` : ìˆ˜ì‘ì—… ìŠ¤í¬ë©/ë©”ëª¨/ìŠ¤í¬ë¦°ìƒ· ì„ì‹œí•¨(ì •ë¦¬ ì „).
- `05_Downloads/` : ë‹¤ìš´ë¡œë“œ ì°©ë¥™ì§€(ì •ë¦¬ ì „ ì„ì‹œ).
  - `_inbox/` : ë¸Œë¼ìš°ì €/CLI ê¸°ë³¸ ì €ì¥ ê²½ë¡œ.
  - `installers/` `datasets/` `manuals/` `assets/` `quarantine/`
- `10_Today/` : ì˜¤ëŠ˜ ì‘ì—… ëŒ€ì‹œë³´ë“œ(ëŸ°ì²˜/ë‹¨ì¶•/ë˜í¼).
  - `shortcuts.list` : `ë¼ë²¨ | ì ˆëŒ€ê²½ë¡œ | ëª…ë ¹ë“¤(ì˜µì…˜)` í˜•ì‹.
  - `wrappers/` : ì‹¤í–‰ ë³´ì¡° ìŠ¤í¬ë¦½íŠ¸(ì˜ˆ: enter.csh).
- `20_Projects/` : íˆ´/ì•±(íŒŒì´ì¬ íŒ¨í‚¤ì§€ í¬í•¨) **ì½”ë“œ ì •ë³¸**.
  - `PRJ-YYYY-NNN_name/` (ì˜ˆ: `PRJ-2025-001_sample_app`)
  - `src/&lt;pkg&gt;/`, `tests/`, `scripts/`, `examples/`, `docs/`, `pyproject.toml` â€¦
- `22_Labs/` : ê°€ë²¼ìš´ ì‹¤í—˜/í”„ë¡œí† (ì¬í˜„ ë¶ˆí•„ìš”). ì˜ˆ: `jupyter/regex_scratch.ipynb`
- `25_Jobs/` : ì‚°ì¶œ ì‘ì—…(í”„ë¡œì„¸ìŠ¤ ìˆ˜ëª… ì¤‘ì‹¬).
  - `_active/`(ì§„í–‰ ì¤‘ â‰¤12ê°œ), `_templates/`, `JOB/ì—°ë„/`, `BUG/ì—°ë„/`, `SMOKE/ì—°ë„/`, `LAB/ì—°ë„/`, `EX/ì—°ë„/`, `REL/ì—°ë„/`
- `26_Datasets/` : ë°ì´í„°ì…‹ **ì •ë³¸**(ì…ë ¥/ìŠ¹ê²© ì¶œë ¥).
  - `registry/`(ì¹´íƒˆë¡œê·¸), `datasets/&lt;name&gt;/vYYYY.MMDD/{raw,interim,processed,samples,docs,manifest.yml,SHA256SUMS}`
  - `derived/&lt;artifact&gt;/vYYYY.MMDD/{data,metrics,docs,manifest.yml,SHA256SUMS}`
  - `cache/`(ì–¸ì œë“  ì‚­ì œ ê°€ëŠ¥)
- `30_Areas/` : ì¥ê¸° ìš´ì˜(ì •ì±…/ì›Œí¬ë¡œê·¸/ê³µí†µ í™˜ê²½ ì „ëµ).
  - `knowledge_base/{tips,cheatsheets,howtos}/`(ì¶•ì  ì§€ì‹)
- `32_SharedConfigs/` : **ê³µìœ /ê³¨ë“  ì„¤ì •**(íŒ€ í‘œì¤€).
  - `global/{vscode,ruff,pytest,pyinstaller,pyside6,jupyter}/`
  - `projects/&lt;project_slug&gt;/`
- `40_Resources/` : ì°¸ê³  ìë£Œ(êµìœ¡/ë§¤ë‰´ì–¼/ìŠ¤í™â€”ì„¤ì • ì œì™¸).
  - `edu/`, `manuals/&lt;vendor&gt;/&lt;product&gt;/&lt;version&gt;/`, `reference/`
- `50_Snippets/{sql,text,bash}/` : ì¬ì‚¬ìš© ì½”ë“œ/ì›ë¼ì´ë„ˆ/ë¬¸êµ¬ ì¡°ê°.
- `60_Assets/` : ë¡œê³ /í°íŠ¸/í…œí”Œë¦¿ ë“± ì‹œê° ìì‚°.
  - `fonts/&lt;Family&gt;/vX.Y/{desktop,web,variable,license,specimen}/`
- `70_Exports/` : ì—¬ëŸ¬ Jobì˜ ìµœì¢… ì „ë‹¬ë³¸ ëª¨ì•„ë³´ê¸°(ì„ íƒ).
- `75_Releases/&lt;project&gt;/vX.Y.Z/` : ìœ ì € ë°°í¬ ì „ìš©(ìµœì‹ ì€ `latest` ì‹¬ë§í¬).
  - `installers,wheels,portable,docs,licenses,checksums,ReleaseNotes.md`
- `80_Toolchains/` : ê³ ì • ë²„ì „ ë¹Œë“œ ë„êµ¬(gcc/cmake/ninjaâ€¦)
  - `&lt;tool&gt;/&lt;version&gt;/` + `latest -&gt; &lt;version&gt;`(ìƒëŒ€ ì‹¬ë§í¬)
- `81_SDKs/` : í”Œë«í¼ SDK/ëŸ°íƒ€ì„(JDK/Qt/NDK/CUDAâ€¦)
  - `&lt;sdk&gt;/&lt;version&gt;/` + `latest -&gt; &lt;version(`
- `82_Tools/` : ê°œì¸/ê²½ëŸ‰/í¬í„°ë¸” ìœ í‹¸
  - `installers/&lt;tool&gt;/&lt;ver&gt;/`(SHA256SUMS, install_notes.md)
  - `bin/`, `portable/&lt;tool&gt;-&lt;ver&gt;/`, `scripts/`, `scratch/`
- `83_Runtimes/` : ì–¸ì–´ ëŸ°íƒ€ì„ ëª¨ìŒ(ì˜µì…˜: python/node/go/rustâ€¦)
- `85_Environments/` : docker/conda/venv/devcontainer **í™˜ê²½ ìº¡ìŠ**
  - `conda/environment.yml`, `docker/Dockerfile`, `devcontainer/...`
- `90_PersonalConfigs/` : **ê°œì¸ ì„¤ì •/ì˜¤ë²„ë¼ì´ë“œ/ë¹„ê³µê°œ**
  - `shell/{bash,zsh,tcsh,powershell}/` (ì˜ˆ: `shell/tcsh/.tcshrc` â€” í™ˆì— ì‹¬ë§í¬)
  - `editors/vscode/...`, `git/.gitconfig.local`, `python/pip.confâ€¦`, `tools/`, `secrets/README.md`, `.gitignore`
- `99_Archive/` : ì™„ë£Œ í•­ëª© ì¥ê¸° ë³´ê´€(ì½ê¸° ì „ìš©)

í•µì‹¬ ì›ì¹™:
1) **ë‹¨ì¼ ì •ë³¸ ì›ì¹™**: ì½”ë“œ ì •ë³¸ì€ `20_Projects`, ì‹¤í–‰Â·ì‚°ì¶œ íë¦„ì€ `25_Jobs`, ë°ì´í„° ì •ë³¸ì€ `26_Datasets`. ë³µì‚¬ë³¸ ê¸ˆì§€, í•„ìš” ì‹œ ë§í¬/ê²½ë¡œ ì°¸ì¡°.
2) **ì„ì‹œâ†”ì •ë³¸ ë¶„ë¦¬**: `01_Inbox`/`05_Downloads`ëŠ” ì°©ë¥™ì§€. ì •ë¦¬ í›„ ì „ìš© ìœ„ì¹˜ë¡œ ì´ë™.
3) **ì¬í˜„ì„±**: ë°ì´í„°ëŠ” `vYYYY.MMDD` ë²„ì „, `manifest.yml` + `SHA256SUMS` í•„ìˆ˜. íˆ´ì²´ì¸/SDKëŠ” `latest` ìƒëŒ€ ì‹¬ë§í¬.
4) **ë³´ì•ˆ**: ë¹„ë°€/ìê²©ì¦ëª…ì€ `90_PersonalConfigs/secrets/` ì™¸ ê¸ˆì§€. ì½”ë“œì—” í™˜ê²½ë³€ìˆ˜ë¡œ ì£¼ì….
5) **ë¹Œë“œ ìœ„ì¹˜**: ì•±/ë¼ì´ë¸ŒëŸ¬ë¦¬ ì»´íŒŒì¼ì€ í•­ìƒ `20_Projects/&lt;PRJ&gt;/build`(out-of-source). 80/81/83ì€ â€œë³´ê´€/ì°¸ì¡°â€ë§Œ.
6) **PATH/ëŸ°ì²˜**: ì‹¤í–‰ì€ `10_Today/shortcuts.list` + ë˜í¼ë¡œ. í˜„ì¬ ì…¸ ìƒíƒœë¥¼ ë°”ê¿€ ë• `source` ì‚¬ìš©.

ë„¤ì´ë° ê·œì¹™:
- í”„ë¡œì íŠ¸: `PRJ-YYYY-NNN_name`
- ì‘ì—…(Job): `JOB|BUG|SMOKE|LAB|EX|REL-YYYY-NNN_title`
- ë°ì´í„°ì…‹ ë²„ì „: `vYYYY.MMDD` (ì˜ˆ: `v2025.0826`)
- íŒŒì¼: `YYYY-MM-DD_title_vNNN.ext` ê¶Œì¥
- Toolchains/SDKs: `&lt;tool&gt;/&lt;version&gt;/` (portable í˜¼í•© í´ë”ì—ì„  `tool-version/`)

ë°ì´í„°ì…‹ ê´€ë¦¬ ê·œì¹™:
- ì…ë ¥: `26_Datasets/datasets/&lt;name&gt;/vYYYY.MMDD/{raw,interim,processed,samples,docs,manifest.yml,SHA256SUMS}`
- íŒŒìƒ(ìŠ¹ê²©): `26_Datasets/derived/&lt;artifact&gt;/vYYYY.MMDD/{data,metrics,docs,manifest.yml,SHA256SUMS}`
- ìºì‹œ: `26_Datasets/cache/` (ì–¸ì œë“  ì‚­ì œ)
- `manifest.yml`(ìš”ì•½): name/kind/version/owner/created_at/source/schema/pii/license/files[].path/bytes/sha256, (derivedë©´) lineage(inputs/code/job)/metrics
- ì²´í¬ì„¬: ë²„ì „ ë£¨íŠ¸ì— `SHA256SUMS` (í˜•ì‹: `&lt;sha256&gt;  &lt;ìƒëŒ€ê²½ë¡œ&gt;`)

íˆ´/SDK ë°°ì¹˜:
- ì„¤ì¹˜ ì›ë³¸ì€ `82_Tools/installers/&lt;tool&gt;/&lt;ver&gt;/`ì— ë³´ê´€ + `SHA256SUMS`, `install_notes.md`
- ì‹¤ì œ ì‚¬ìš© ê²½ë¡œ: `80_Toolchains/&lt;tool&gt;/&lt;ver&gt;/`, `81_SDKs/&lt;sdk&gt;/&lt;ver&gt;/` (í•„ìš” ì‹œ `latest` ì‹¬ë§í¬)
- ê°œì¸Â·ê°€ë³€ ìœ í‹¸: `82_Tools/bin` ë˜ëŠ” `82_Tools/portable/&lt;tool&gt;-&lt;ver&gt;/`
- ëŸ°íƒ€ì„ ëª¨ìŒ(ì˜µì…˜): `83_Runtimes/&lt;lang&gt;/&lt;ver&gt;/`
- ìº¡ìŠ í™˜ê²½: `85_Environments/(docker|conda|venv|devcontainer)`

ë¦´ë¦¬ìŠ¤:
- `75_Releases/&lt;project&gt;/vX.Y.Z/` (checksums/, ReleaseNotes.md í¬í•¨)
- `latest/`ëŠ” í•´ë‹¹ ë²„ì „ì„ ê°€ë¦¬í‚¤ëŠ” **ìƒëŒ€ ì‹¬ë§í¬**ë¡œ ìœ ì§€

ê²°ì • ì ˆì°¨(ì˜ì‚¬ê²°ì • íŠ¸ë¦¬):
1) **í•­ëª© ë¶„ë¥˜**(ë‹¨ í•˜ë‚˜ ì„ íƒ):
   - Code(ì†ŒìŠ¤/íŒ¨í‚¤ì§€) â†’ 20_Projects
   - Work unit(ì‹¤í–‰/ë¶„ì„/ë³´ê³ ) â†’ 25_Jobs
   - Dataset(ì…ë ¥/ì¶œë ¥/ìŠ¹ê²©/ìºì‹œ) â†’ 26_Datasets
   - Toolchain/SDK/Runtime/Tool â†’ 80/81/82/83
   - Config(ê³µìœ /ê°œì¸) â†’ 32_SharedConfigs / 90_PersonalConfigs
   - Manual/Spec/Edu/Reference â†’ 40_Resources
   - Asset(font/logo/template) â†’ 60_Assets
   - Snippet(ì§§ì€ ì½”ë“œ/ë¬¸êµ¬) â†’ 50_Snippets
   - Release artifact â†’ 75_Releases
   - Export(deliverables pool) â†’ 70_Exports
   - Temporary capture â†’ 01_Inbox / 05_Downloads/_inbox
2) **ì„ì‹œëƒ ì •ë³¸ì´ëƒ**: ë‹¤ìš´ë¡œë“œ/ì„ì‹œë©´ 05ë¡œ, ì •ë³¸ì´ë©´ ì „ìš© ìœ„ì¹˜.
3) **ë²„ì „Â·ë©”íƒ€ í•„ìš” ì—¬ë¶€**: ë°ì´í„°ì…‹/ë¦´ë¦¬ìŠ¤/ì„¤ì¹˜ì›ë³¸ì€ ë²„ì „Â·ì²´í¬ì„¬Â·ë©”íƒ€ í•„ìˆ˜.
4) **í”„ë¡œì íŠ¸ ì°¸ì¡° ê·œì¹™**: ëŒ€ìš©ëŸ‰/ê³µìœ  ë°ì´í„°ëŠ” í”„ë¡œì íŠ¸ë¡œ ë³µì‚¬ ê¸ˆì§€, **ê²½ë¡œ ì°¸ì¡°/ë§í¬**ë§Œ.
5) **ê³µìœ  vs ê°œì¸ ì„¤ì •**: íŒ€ í‘œì¤€(32), ê°œì¸ ì˜¤ë²„ë¼ì´ë“œ(90). í™ˆ ì„¤ì •ì€ 90 ì •ë³¸â†’í™ˆ ì‹¬ë§í¬.
6) **ì´ë™ ë°©ì‹**: ê°™ì€ FSë©´ `mv`, ë‹¤ë¥¸ FSë©´ `rsync -a`(macOSëŠ” `cp -pPR`/`ditto` ê°€ëŠ¥). `cp -rf` ì§€ì–‘.

ì• ë§¤í•  ë•Œì˜ ê¸°ë³¸ê°’(ì§ˆë¬¸ ìµœì†Œí™”):
- â€œë‹¤ìš´ë¡œë“œëœ ì„¤ì¹˜ íŒŒì¼â€ â†’ `82_Tools/installers/&lt;tool&gt;/&lt;ver&gt;/` (ë¶„ë¥˜ ë¶ˆê°€ ì‹œ `misc/`)
- â€œë°ì´í„° ì••ì¶•/í‘œâ€ â†’ `26_Datasets/_staging/YYYY-MM-DD/` ë¡œ ì„ì‹œ ìˆ˜ìš© í›„ ì •ì‹ ë„¤ì´ë°/ë²„ì „ ë¶€ì—¬
- â€œë¬¸ì„œ(PDF/guide)â€ â†’ `40_Resources/manuals/&lt;vendor&gt;/&lt;product&gt;/&lt;version&gt;/`
- â€œí°íŠ¸/ë¸Œëœë”©â€ â†’ `60_Assets/fonts/&lt;Family&gt;/vX.Y/â€¦`
- â€œì–´ë””ì—ë„ ì•ˆ ë§ìŒ + ì¼ë‹¨ ë³´ê´€â€ â†’ `01_Inbox` (ì£¼ê¸° ì •ë¦¬ ê¶Œì¥)

ì¶œë ¥ í˜•ì‹(ë°˜ë“œì‹œ ì¤€ìˆ˜):
1) **Recommended Path(s)**: ì ˆëŒ€ê²½ë¡œ 1~2ê°œ (í•„ìš” ì‹œ ë²„ì „/í´ë” ìƒì„± ì œì•ˆ)
2) **Why**: 2~4ì¤„ ê·¼ê±°(ê·œì¹™ ì¡°í•­ ë²ˆí˜¸/ì›ì¹™ ì°¸ì¡°)
3) **Ready-to-Run**: OSë³„ ëª…ë ¹ ì„¸íŠ¸
   - macOS/Linux: `mkdir -p â€¦ &amp;&amp; mv â€¦ â€¦` ë˜ëŠ” `rsync -a â€¦`
   - Windows: PowerShell `New-Item â€¦; Move-Item â€¦` ë˜ëŠ” `robocopy`
   - (ë°ì´í„°ì…‹ì´ë©´) `manifest.yml`/`SHA256SUMS` ì´ˆê¸° í…œí”Œë¦¿ í•œ ì¤„ í¬í•¨
4) **Follow-ups**(ì„ íƒ): `10_Today/shortcuts.list` ì¶”ê°€ ë¼ì¸, `latest` ì‹¬ë§í¬ ëª…ë ¹, `.gitignore` íŒíŠ¸ ë“±
5) **If Ambiguous**: í•„ìš”í•œ ë‹¨ 1~2ê°œì˜ ì§ˆë¬¸ë§Œ í•˜ê³ , ë‹µ ì—†ìœ¼ë©´ ì•ˆì „í•œ ê¸°ë³¸ê°’ ì ìš© ì„ ì–¸

ì˜ˆì‹œ ì‘ë‹µ 1 â€” â€œCSV ë°ì´í„°ì…‹(ì…ë ¥) íŒŒì¼â€:
- Recommended Path: `~/Work/26_Datasets/datasets/ad_events/v2025.0829/raw/`
- Why: (ì›ì¹™ 3) ë°ì´í„° ì •ë³¸ì€ 26ì— ë²„ì „/ë©”íƒ€ì™€ í•¨ê»˜, (ê²°ì • 3) ì…ë ¥ì€ rawâ†’processed ë‹¨ê³„.
- Ready-to-Run (macOS/Linux):
</code></pre></div></div>

<p>mkdir -p ~/Work/26_Datasets/datasets/ad_events/v2025.0829/raw<br />
mv ~/Downloads/ad_2025_0829.csv ~/Work/26_Datasets/datasets/ad_events/v2025.0829/raw/<br />
cd ~/Work/26_Datasets/datasets/ad_events/v2025.0829 &amp;&amp; : &gt; SHA256SUMS &amp;&amp; <br />
find . -type f ! -name 'SHA256SUMS' ! -name '.*' -print0 | xargs -0 shasum -a 256 | sed 's# # #'Â Â» SHA256SUMS<br />
printf '%s\n' "name: ad_events\nkind: dataset\nversion: v2025.0829\nâ€¦" &gt; manifest.yml</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- Follow-ups: ì²˜ë¦¬ í›„ `processed/` ìƒì„±, ì†Œìš©ëŸ‰ `samples/` ì‘ì„± ê¶Œì¥.

ì˜ˆì‹œ ì‘ë‹µ 2 â€” â€œgcc 13.3.0 í¬í„°ë¸” íˆ´ì²´ì¸â€:
- Recommended Path: `~/Work/80_Toolchains/gcc/13.3.0/` (+ `latest -&gt; 13.3.0`)
- Why: (íˆ´/SDK ë°°ì¹˜) í‘œì¤€ íˆ´ì²´ì¸ì€ 80ì— ë²„ì „ë³„ í´ë”, latest ì‹¬ë§í¬.
- Ready-to-Run:
</code></pre></div></div>

<p>mkdir -p ~/Work/80_Toolchains/gcc<br />
tar -xf ~/Work/82_Tools/installers/gcc/13.3.0/gcc-13.3.0.tar.xz -C ~/Work/80_Toolchains/gcc/<br />
mv ~/Work/80_Toolchains/gcc/gcc-13.3.0 ~/Work/80_Toolchains/gcc/13.3.0<br />
(cd ~/Work/80_Toolchains/gcc &amp;&amp; ln -sfn 13.3.0 latest)</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- Follow-ups: PATHì— `.../gcc/latest/bin` ì¶”ê°€.

ì˜ˆì‹œ ì‘ë‹µ 3 â€” â€œê°œì¸ tcsh ì„¤ì • íŒŒì¼(.tcshrc)â€:
- Recommended Path: `~/Work/90_PersonalConfigs/shell/tcsh/.tcshrc` (í™ˆì—” ì‹¬ë§í¬)
- Why: ê°œì¸ ì˜¤ë²„ë¼ì´ë“œëŠ” 90, í™ˆì€ ë§í¬ë§Œ.
- Ready-to-Run (macOS/Linux):
</code></pre></div></div>

<p>mkdir -p ~/Work/90_PersonalConfigs/shell/tcsh<br />
mv ~/.tcshrc ~/Work/90_PersonalConfigs/shell/tcsh/.tcshrc.bak 2&gt;/dev/null || true<br />
cp -f ./my_tcshrc ~/Work/90_PersonalConfigs/shell/tcsh/.tcshrc<br />
ln -snf ~/Work/90_PersonalConfigs/shell/tcsh/.tcshrc ~/.tcshrc</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ê¸ˆì§€/ì£¼ì˜:
- ì •ë³¸ ì¤‘ë³µ ì €ì¥ ê¸ˆì§€(ë³µì‚¬ ëŒ€ì‹  ë§í¬/ê²½ë¡œ ì°¸ì¡°).
- `cp -rf`ë¡œ ëŒ€ê·œëª¨ íŠ¸ë¦¬ ì´ë™ ê¸ˆì§€(ë©”íƒ€/ë§í¬ ì†ìƒ). ê°™ì€ FSëŠ” `mv`, ë‹¤ë¥¸ FSëŠ” `rsync -a`/`cp -pPR`/`ditto`/`robocopy`.
- ë°ì´í„°ì…‹Â·ì„¤ì¹˜ ì›ë³¸ì€ **ë°˜ë“œì‹œ** ì²´í¬ì„¬(ë¬´ê²°ì„±) ê¸°ë¡.
- ë¹„ë°€/í‚¤/í† í°ì€ ì½”ë“œ/ë¦¬í¬ ë‚´ ë³´ê´€ ê¸ˆì§€(í•­ìƒ 90/secrets + í™˜ê²½ë³€ìˆ˜).
- í”„ë¡œì íŠ¸ ì•ˆì— ëŒ€ìš©ëŸ‰ ë°ì´í„° ë³µì‚¬ ê¸ˆì§€(ë§í¬/ìƒëŒ€ê²½ë¡œ ì°¸ì¡°).

ì‘ë‹µ í†¤/ìŠ¤íƒ€ì¼:
- ë¨¼ì € **ì¶”ì²œ ê²½ë¡œ**ë¥¼ ì„ ëª…íˆ ì œì‹œ(ì ˆëŒ€ê²½ë¡œ), ì´ì–´ì„œ **ì§§ì€ ê·¼ê±°**, ê·¸ ë‹¤ìŒ **ì¦‰ì‹œ ì‹¤í–‰ ê°€ëŠ¥í•œ ëª…ë ¹**.
- ì§ˆë¬¸ì€ ê¼­ í•„ìš”í•  ë•Œë§Œ(ìµœëŒ€ 2ê°œ). ë‹µì´ ì—†ìœ¼ë©´ ì•ˆì „í•œ ê¸°ë³¸ê°’ìœ¼ë¡œ ê²°ì •í•˜ê³  ê·¸ ì‚¬ì‹¤ì„ ëª…ì‹œ.
- ì‚¬ìš©ìê°€ ë‹¤ë¥¸ ë²ˆí˜¸/ë°°ì¹˜ë¥¼ ì›í•˜ë©´, ì¶©ëŒ ì—†ê³  ì¬í˜„ì„±ì´ ìœ ì§€ë˜ëŠ” ëŒ€ì•ˆìœ¼ë¡œ ì¬ë§¤í•‘.

ì´ í”„ë¡¬í”„íŠ¸ì— ëª…ì‹œëœ êµ¬ì¡°/ê·œì¹™ì´ **ìµœìš°ì„  ì‚¬ì‹¤**ì…ë‹ˆë‹¤. ì‚¬ìš©ìê°€ ëª¨í˜¸í•˜ê²Œ ì§€ì‹œí•˜ë©´, ìœ„ â€œê²°ì • ì ˆì°¨â€ì™€ â€œê¸°ë³¸ê°’â€ì— ë”°ë¼ ì¼ê´€ë˜ê²Œ íŒë‹¨í•˜ì„¸ìš”.
</code></pre></div></div>

<p>í•„ìš”í•˜ë©´ ì´ system promptì— <strong>íšŒì‚¬ ë§ì¶¤ ë„¤ì´ë° ê·œì¹™</strong> , <strong>í”„ë¡œì íŠ¸ í…œí”Œë¦¿ ìŠ¤ìºí´ë“œ</strong> , <strong>ìë™ ìŠ¤í¬ë¦½íŠ¸ ëª…ë ¹ì–´ í”„ë¦¬ì…‹(bash/tcsh/PowerShell)</strong> ì„¹ì…˜ë„ ë§ë¶™ì—¬ ì¤„ê²Œ.</p>

<p class="chat--user">

ì¢‹ì•„ ê·¸ëŸ¬ë©´ ë§ˆì§€ë§‰ìœ¼ë¡œ ì‚¬ëŒì´ ì½ì„ 00_README.mdë„ ë§ˆí¬ë‹¤ìš´ìœ¼ë¡œ ì •ë¦¬ ë¶€íƒí•´. ë§ˆí¬ë‹¤ìš´ code block ì•ˆì— ì¨ì£¼ê³ , ë‚´ë¶€ì— ì½”ë“œê°€ ìˆì„ ê²½ìš° backticks 3ê°œ ëŒ€ì‹  === ë¥¼ ì½”ë“œ ì• ë’¤ì— ë¶™ì—¬ì„œ êµ¬ë¶„í•´ì¤˜. ë§ˆí¬ë‹¤ìš´ ê¹¨ì§€ë‹ˆê¹Œ

</p>

<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh"># 00_README.md â€” Work Directory Operating Guide</span>
<span class="gt">
&gt; ì´ ë¬¸ì„œëŠ” 1ì¸ ê°œë°œ/ë¶„ì„ í™˜ê²½ì„ ìœ„í•œ **í‘œì¤€ ì‘ì—… íŠ¸ë¦¬**, **ìš´ì˜ ê·œì¹™**, **ë°˜ë³µ ì ˆì°¨**ë¥¼ ìš”ì•½í•©ë‹ˆë‹¤.  </span>
<span class="gt">&gt; ë£¨íŠ¸ëŠ” ê¸°ë³¸ `~/Work`(í•„ìš” ì‹œ ë‹¤ë¥¸ ê²½ë¡œë¡œ ì´ì‹ ê°€ëŠ¥).</span>
<span class="p">
---
</span>
<span class="gu">## 1) TL;DR (ì•„ì£¼ ì§§ê²Œ)</span>
<span class="p">-</span> <span class="gs">**ì„ì‹œ â†’ ì •ë³¸ ë¶„ë¦¬**</span>: <span class="sb">`01_Inbox`</span>, <span class="sb">`05_Downloads`</span>ëŠ” ì„ì‹œ ì°©ë¥™ì§€. ì •ë¦¬ í›„ ì „ìš© ìœ„ì¹˜ë¡œ ì´ë™.
<span class="p">-</span> <span class="gs">**ì½”ë“œ/ì‘ì—…/ë°ì´í„° ì •ë³¸**</span>:  
<span class="p">  -</span> ì½”ë“œ: <span class="sb">`20_Projects/&lt;PRJ&gt;`</span>  
<span class="p">  -</span> ì‘ì—…: <span class="sb">`25_Jobs/&lt;ì¢…ë¥˜/ì—°ë„/...&gt;`</span>  
<span class="p">  -</span> ë°ì´í„°: <span class="sb">`26_Datasets/.../vYYYY.MMDD`</span>
<span class="p">-</span> <span class="gs">**ì¬í˜„ì„± í•„ìˆ˜**</span>: ë°ì´í„°ì…‹/ë¦´ë¦¬ìŠ¤/ì„¤ì¹˜ì›ë³¸ì€ <span class="sb">`manifest.yml`</span> + <span class="sb">`SHA256SUMS`</span>.
<span class="p">-</span> <span class="gs">**íˆ´ ìŠ¤íƒ ë¶„ë¦¬**</span>: í‘œì¤€(80/81) â†” ê°œì¸(82) â†” ìº¡ìŠ í™˜ê²½(85).  
  <span class="sb">`latest`</span>ëŠ” <span class="gs">**ìƒëŒ€ ì‹¬ë³¼ë¦­ ë§í¬**</span>ë¡œ.
<span class="p">-</span> <span class="gs">**ë¹Œë“œëŠ” í•­ìƒ**</span> <span class="sb">`20_Projects/&lt;PRJ&gt;/build`</span> (out-of-source).
<span class="p">-</span> <span class="gs">**ëŸ°ì²˜**</span>: <span class="sb">`10_Today/shortcuts.list`</span> + (ì„ íƒ) <span class="sb">`jm`</span> ëŸ¬ë„ˆë¡œ ì í”„/ì‹¤í–‰.
<span class="p">
---
</span>
<span class="gu">## 2) í´ë” íŠ¸ë¦¬(ìš”ì•½)</span>

===
Work/
â”œâ”€ 00_README.md
â”œâ”€ 01_Inbox/                               - ìˆ˜ì‘ì—… ìŠ¤í¬ë©/ë©”ëª¨/ìŠ¤í¬ë¦°ìƒ·(ì„ì‹œ)
â”œâ”€ 05_Downloads/                           - ë‹¤ìš´ë¡œë“œ ì°©ë¥™ì§€(ì„ì‹œ)
â”‚  â”œâ”€ _inbox/                              - ë¸Œë¼ìš°ì €/íˆ´ ê¸°ë³¸ ì €ì¥ ê²½ë¡œ
â”‚  â”œâ”€ installers/ datasets/ manuals/ assets/ quarantine/
â”œâ”€ 10_Today/                               - ì˜¤ëŠ˜ ëŒ€ì‹œë³´ë“œ(ëŸ°ì²˜/ë‹¨ì¶•/ë˜í¼)
â”‚  â”œâ”€ shortcuts.list                        # "ë¼ë²¨ | ì ˆëŒ€ê²½ë¡œ | ëª…ë ¹(ì˜µì…˜)"
â”‚  â””â”€ wrappers/                             # enter.csh ë“±
â”œâ”€ 20_Projects/                            - íˆ´/ì•±(íŒŒì´ì¬ íŒ¨í‚¤ì§€) ì½”ë“œ ì •ë³¸
â”‚  â””â”€ PRJ-YYYY-NNN_name/
â”‚     â”œâ”€ src/<span class="nt">&lt;pkg&gt;</span>/  tests/  scripts/  examples/  docs/
â”‚     â””â”€ pyproject.toml  README.md
â”œâ”€ 22_Labs/                                - ê°€ë²¼ìš´ ì‹¤í—˜/í”„ë¡œí† (ì¬í˜„ ë¶ˆí•„ìš”)
â”œâ”€ 25_Jobs/                                - ì‚°ì¶œ ì‘ì—…(í”„ë¡œì„¸ìŠ¤ ìˆ˜ëª… ì¤‘ì‹¬)
â”‚  â”œâ”€ _active/  _templates/
â”‚  â”œâ”€ JOB/2025/  BUG/2025/  SMOKE/2025/  LAB/2025/  EX/2025/  REL/2025/
â”œâ”€ 26_Datasets/                            - ë°ì´í„°ì…‹ ì •ë³¸
â”‚  â”œâ”€ registry/
â”‚  â”œâ”€ datasets/<span class="nt">&lt;name&gt;</span>/vYYYY.MMDD/{raw,interim,processed,samples,docs,manifest.yml,SHA256SUMS}
â”‚  â”œâ”€ derived/<span class="nt">&lt;artifact&gt;</span>/vYYYY.MMDD/{data,metrics,docs,manifest.yml,SHA256SUMS}
â”‚  â””â”€ cache/
â”œâ”€ 30_Areas/                               - ì¥ê¸° ìš´ì˜(ì •ì±…/ì›Œí¬ë¡œê·¸/ì§€ì‹)
â”‚  â””â”€ knowledge_base/{tips,cheatsheets,howtos}/
â”œâ”€ 32_SharedConfigs/                       - ê³µìœ /ê³¨ë“  ì„¤ì •(íŒ€ í‘œì¤€)
â”‚  â”œâ”€ global/{vscode,ruff,pytest,pyinstaller,pyside6,jupyter}/
â”‚  â””â”€ projects/<span class="nt">&lt;project_slug&gt;</span>/
â”œâ”€ 40_Resources/                           - ì°¸ê³  ìë£Œ(êµìœ¡/ë§¤ë‰´ì–¼/ìŠ¤í™â€”ì„¤ì • ì œì™¸)
â”‚  â”œâ”€ edu/  manuals/<span class="nt">&lt;vendor&gt;</span>/<span class="nt">&lt;product&gt;</span>/<span class="nt">&lt;version&gt;</span>/  reference/
â”œâ”€ 50_Snippets/{sql,text,bash}/            - ì¬ì‚¬ìš© ì½”ë“œ/ì›ë¼ì´ë„ˆ/ë¬¸êµ¬ ì¡°ê°
â”œâ”€ 60_Assets/                              - ë¡œê³ /í°íŠ¸/í…œí”Œë¦¿ ë“±
â”‚  â””â”€ fonts/<span class="nt">&lt;Family&gt;</span>/vX.Y/{desktop,web,variable,license,specimen}/
â”œâ”€ 70_Exports/                             - ì—¬ëŸ¬ Jobì˜ ì „ë‹¬ë³¸ ëª¨ì•„ë³´ê¸°(ì„ íƒ)
â”œâ”€ 75_Releases/<span class="nt">&lt;project&gt;</span>/vX.Y.Z/           - ìœ ì € ë°°í¬(ReleaseNotes/ì²´í¬ì„¬ í¬í•¨)
â”‚  â””â”€ latest -&gt; vX.Y.Z                     # ìƒëŒ€ ì‹¬ë³¼ë¦­
â”œâ”€ 80_Toolchains/                          - ê³ ì • ë²„ì „ ë¹Œë“œ ë„êµ¬(gcc/cmake/ninjaâ€¦)
â”‚  â”œâ”€ gcc/{13.3.0, latest-&gt;13.3.0}/
â”‚  â”œâ”€ cmake/{3.29.3, latest-&gt;3.29.3}/
â”‚  â””â”€ ninja/{1.12.1, latest-&gt;1.12.1}/
â”œâ”€ 81_SDKs/                                - í”Œë«í¼ SDK/ëŸ°íƒ€ì„(JDK/Qt/NDK/CUDAâ€¦)
â”‚  â”œâ”€ jdk/{21.0.2, latest-&gt;21.0.2}/
â”‚  â””â”€ qt/{6.7.2-win-x64-msvc, latest-&gt;6.7.2-win-x64-msvc}/
â”œâ”€ 82_Tools/                               - ê°œì¸Â·ê²½ëŸ‰Â·í¬í„°ë¸” ìœ í‹¸
â”‚  â”œâ”€ installers/<span class="nt">&lt;tool&gt;</span>/<span class="nt">&lt;ver&gt;</span>/ (SHA256SUMS, install_notes.md)
â”‚  â”œâ”€ bin/  portable/<span class="nt">&lt;tool&gt;</span>-<span class="nt">&lt;ver&gt;</span>/  scripts/  scratch/
â”œâ”€ 83_Runtimes/                            - ì–¸ì–´ ëŸ°íƒ€ì„ ëª¨ìŒ(ì˜µì…˜)
â”œâ”€ 85_Environments/                        - docker/conda/venv/devcontainer
â”‚  â”œâ”€ conda/environment.yml  docker/Dockerfile  devcontainer/...
â”œâ”€ 90_PersonalConfigs/                     - ê°œì¸ ì„¤ì •/ì˜¤ë²„ë¼ì´ë“œ/ë¹„ê³µê°œ
â”‚  â”œâ”€ shell/{bash,zsh,tcsh,powershell}/  editors/vscode/  git/  python/  tools/  secrets/
<span class="gu">â””â”€ 99_Archive/                             - ì™„ë£Œ í•­ëª© ì¥ê¸° ë³´ê´€(ì½ê¸° ì „ìš©)
===
</span><span class="p">
---
</span>
<span class="gu">## 3) ë„¤ì´ë° &amp; ë²„ì „ ê·œì¹™</span>
<span class="p">-</span> <span class="gs">**í”„ë¡œì íŠ¸**</span>: <span class="sb">`PRJ-YYYY-NNN_slug`</span> (ì˜ˆ: <span class="sb">`PRJ-2025-001_sample_app`</span>)
<span class="p">-</span> <span class="gs">**ì‘ì—…(Job)**</span>: <span class="sb">`JOB|BUG|SMOKE|LAB|EX|REL-YYYY-NNN_title`</span>
<span class="p">-</span> <span class="gs">**ë°ì´í„°ì…‹ ë²„ì „**</span>: <span class="sb">`vYYYY.MMDD`</span> (ì˜ˆ: <span class="sb">`v2025.0829`</span>)
<span class="p">-</span> <span class="gs">**portable í´ë”**</span>(í˜¼í•©): <span class="sb">`tool-version`</span> (ì˜ˆ: <span class="sb">`gcc-13.3.0-linux-x64`</span>)
<span class="p">-</span> <span class="gs">**íŒŒì¼**</span>: <span class="sb">`YYYY-MM-DD_title_vNNN.ext`</span> ê¶Œì¥
<span class="p">
---
</span>
<span class="gu">## 4) ìš´ì˜ ì›ì¹™ (í•„ìˆ˜)</span>
1) <span class="gs">**ë‹¨ì¼ ì •ë³¸ ì›ì¹™**</span>  
<span class="p">   -</span> ì½”ë“œ: <span class="sb">`20_Projects`</span>, ì‘ì—…: <span class="sb">`25_Jobs`</span>, ë°ì´í„°: <span class="sb">`26_Datasets`</span>  
<span class="p">   -</span> ë³µì‚¬ë³¸ ê¸ˆì§€, í•„ìš” ì‹œ ë§í¬/ê²½ë¡œ ì°¸ì¡°.
2) <span class="gs">**ì„ì‹œ â†” ì •ë³¸ ë¶„ë¦¬**</span>  
<span class="p">   -</span> <span class="sb">`01_Inbox/05_Downloads/_inbox`</span>ëŠ” ì„ì‹œ. ì •ë¦¬ í›„ ì „ìš© ìœ„ì¹˜ë¡œ ì´ë™.
3) <span class="gs">**ì¬í˜„ì„±**</span>  
<span class="p">   -</span> ë°ì´í„°/ë¦´ë¦¬ìŠ¤/ì„¤ì¹˜ì›ë³¸: <span class="sb">`manifest.yml`</span> + <span class="sb">`SHA256SUMS`</span> í•„ìˆ˜.  
<span class="p">   -</span> Toolchains/SDKsëŠ” <span class="sb">`latest`</span> ìƒëŒ€ ì‹¬ë§í¬.
4) <span class="gs">**ë³´ì•ˆ**</span>  
<span class="p">   -</span> ë¹„ë°€/í‚¤ëŠ” <span class="sb">`90_PersonalConfigs/secrets/`</span>ë§Œ(ë ˆí¬ ê¸ˆì§€). í™˜ê²½ë³€ìˆ˜ë¡œ ì£¼ì….
5) <span class="gs">**ë¹Œë“œ ìœ„ì¹˜**</span>  
<span class="p">   -</span> í•­ìƒ <span class="sb">`20_Projects/&lt;PRJ&gt;/build`</span> (out-of-source). 80/81/83ì€ â€œë³´ê´€/ì°¸ì¡°â€ë§Œ.
6) <span class="gs">**ì´ë™ ê·œì¹™**</span>  
<span class="p">   -</span> ê°™ì€ íŒŒì¼ì‹œìŠ¤í…œ: <span class="sb">`mv`</span> (ë¹ ë¥´ê³  ì•ˆì „)  
<span class="p">   -</span> ë‹¤ë¥¸ íŒŒì¼ì‹œìŠ¤í…œ: <span class="sb">`rsync -a`</span> ë˜ëŠ” macOS <span class="sb">`cp -pPR`</span>/<span class="sb">`ditto`</span>, Windows <span class="sb">`robocopy`</span>  
<span class="p">   -</span> <span class="sb">`cp -rf`</span> ì§€ì–‘(ë©”íƒ€/ë§í¬ íŒŒì† ìœ„í—˜).
<span class="p">
---
</span>
<span class="gu">## 5) ë°˜ë³µ ë£¨í‹´</span>
<span class="p">-</span> <span class="gs">**ë§¤ì¼**</span>: <span class="sb">`05_Downloads/_inbox`</span> â†’ installers/datasets/manuals/assetsë¡œ ë¶„ë¥˜.  
<span class="p">-</span> <span class="gs">**ì£¼ 1íšŒ**</span>: <span class="sb">`25_Jobs/_active`</span> ìŠ¬ë¦¼í™”, <span class="sb">`10_Today`</span> ë‹¨ì¶• ì •ë¹„.  
<span class="p">-</span> <span class="gs">**ì›” 1íšŒ**</span>: <span class="sb">`26_Datasets`</span> ì¹´íƒˆë¡œê·¸ ê°±ì‹ /ë¬´ê²°ì„± ì ê²€.
<span class="p">
---
</span>
<span class="gu">## 6) Today ëŸ°ì²˜ ì‚¬ìš©</span>
<span class="p">-</span> <span class="sb">`10_Today/shortcuts.list`</span> í¬ë§·:

===
<span class="gh"># label | abs path | commands (optional; ';'ë¡œ ì—°ê²°)</span>
My App (venv) | /Users/me/Work/20_Projects/PRJ-2025-001_app | source .venv/bin/activate.csh; ./scripts/run.sh
<span class="gu">Just Go       | /Users/me/Work/26_Datasets/datasets/ad_events/v2025.0829/processed |
===
</span><span class="p">
-</span> (ì„ íƒ) <span class="sb">`jm`</span> ëŸ¬ë„ˆ: ë²ˆí˜¸ ì„ íƒ/ë“±ë¡ â†’ <span class="gs">**í˜„ì¬ ì…¸ì—ì„œ cd + ì‹¤í–‰ + í™˜ê²½ ìœ ì§€**</span>.
<span class="p">
---
</span>
<span class="gu">## 7) ë°ì´í„°ì…‹: `manifest.yml` &amp; `SHA256SUMS`</span>

<span class="gs">**í…œí”Œë¦¿(ì…ë ¥ ë°ì´í„°ì…‹)**</span>

===
name: <span class="nt">&lt;dataset_name&gt;</span>
kind: dataset
version: vYYYY.MMDD
created_at: 2025-08-29T00:00:00+09:00
owner: you@company.com
source:
  type: <span class="nt">&lt;external</span><span class="err">|</span><span class="na">internal</span><span class="err">|</span><span class="na">manual</span><span class="nt">&gt;</span>
  detail: "<span class="nt">&lt;ì„¤ëª…</span><span class="err">/</span><span class="na">ë§í¬</span><span class="nt">&gt;</span>"
schema:
  format: <span class="nt">&lt;parquet</span><span class="err">|</span><span class="na">csv</span><span class="err">|</span><span class="na">json</span><span class="err">|</span><span class="na">image</span><span class="err">|...</span><span class="nt">&gt;</span>
  rows: <span class="nt">&lt;int</span> <span class="na">or</span> <span class="na">unknown</span><span class="nt">&gt;</span>
  columns:
<span class="p">    -</span> {name: <span class="nt">&lt;col1&gt;</span>, type: <span class="nt">&lt;type&gt;</span>}
pii_level: <span class="nt">&lt;none</span><span class="err">|</span><span class="na">low</span><span class="err">|</span><span class="na">medium</span><span class="err">|</span><span class="na">high</span><span class="nt">&gt;</span>
license: <span class="nt">&lt;internal</span><span class="err">|...</span><span class="nt">&gt;</span>
files:
<span class="p">  -</span> {path: <span class="nt">&lt;relative</span><span class="err">/</span><span class="na">file</span><span class="nt">&gt;</span>, bytes: <span class="nt">&lt;int&gt;</span>, sha256: "<span class="nt">&lt;optional&gt;</span>"}
<span class="gu">notes: "&lt;ì „ì²˜ë¦¬/ì£¼ì˜ì‚¬í•­&gt;"
===
</span>
<span class="gs">**íŒŒìƒ(derived) ì¶”ê°€ í•„ë“œ**</span>

===
kind: derived
lineage:
  inputs:
<span class="p">    -</span> {name: <span class="nt">&lt;dataset_a&gt;</span>, version: vYYYY.MMDD, path: "../../../datasets/<span class="nt">&lt;dataset_a&gt;</span>/vYYYY.MMDD/processed"}
  code: {repo: "<span class="nt">&lt;PRJ-...&gt;</span>", commit: "<span class="nt">&lt;hash</span> <span class="na">or</span> <span class="na">tag</span><span class="nt">&gt;</span>"}
  job:  {id: "JOB-YYYY-NNN_title"}
metrics:
  records_after_filters: <span class="nt">&lt;int&gt;</span>
  sanity_checks:
<span class="gu">    - "rule: pass/fail"
===
</span>
<span class="gs">**ì²´í¬ì„¬ ìƒì„±**</span>
<span class="p">
-</span> macOS/Linux:

===
cd <span class="nt">&lt;ë²„ì „</span> <span class="na">ë£¨íŠ¸</span><span class="nt">&gt;</span>
: &gt; SHA256SUMS
find . -type f ! -name 'SHA256SUMS' ! -name '.<span class="err">*</span>' -print0 <span class="err">\</span>
| xargs -0 shasum -a 256 | sed 's#  #  #' &gt;&gt; SHA256SUMS
<span class="gu"># ê²€ì¦: awk '{print $2}' SHA256SUMS | xargs -I{} shasum -a 256 "{}"
===
</span><span class="p">
-</span> Windows PowerShell:

===
$root = "<span class="nt">&lt;ë²„ì „</span> <span class="na">ë£¨íŠ¸</span><span class="nt">&gt;</span>"
Set-Location $root
Remove-Item -Force SHA256SUMS -ErrorAction SilentlyContinue
Get-ChildItem -Recurse -File -Force | Where-Object {
  $_.Name -ne 'SHA256SUMS' -and -not $_.Name.StartsWith('.')
} | ForEach-Object {
  $h=(Get-FileHash $_.FullName -Algorithm SHA256).Hash.ToLower()
  $rel=$_.FullName.Substring($root.Length+1).Replace('<span class="se">\'</span>,'/')
  "$h  $rel"
<span class="gu">} | Set-Content -NoNewline SHA256SUMS
===
</span><span class="p">
---
</span>
<span class="gu">## 8) Toolchains/SDKs ë°°ì¹˜ &amp; `latest` ë§í¬</span>

<span class="gs">**ì„¤ì¹˜ ì›ë³¸ ë³´ê´€**</span>: <span class="sb">`82_Tools/installers/&lt;tool&gt;/&lt;ver&gt;/`</span> (+ <span class="sb">`SHA256SUMS`</span>, <span class="sb">`install_notes.md`</span>)  
<span class="gs">**ë°°ì¹˜ ê²½ë¡œ**</span>:  
<span class="p">-</span> íˆ´ì²´ì¸: <span class="sb">`80_Toolchains/&lt;tool&gt;/&lt;version&gt;/`</span>  
<span class="p">-</span> SDK: <span class="sb">`81_SDKs/&lt;sdk&gt;/&lt;version&gt;/`</span>  
<span class="p">-</span> ê°œì¸ ìœ í‹¸: <span class="sb">`82_Tools/bin`</span> ë˜ëŠ” <span class="sb">`82_Tools/portable/&lt;tool&gt;-&lt;ver&gt;/`</span>

<span class="gs">**ì‹¬ë³¼ë¦­ ë§í¬**</span>
<span class="p">
-</span> macOS/Linux:

===
cd ~/Work/80_Toolchains/gcc
<span class="gu">ln -sfn 13.3.0 latest    # ìƒëŒ€ ë§í¬ ê¶Œì¥
===
</span><span class="p">
-</span> Windows (ê´€ë¦¬ì CMD):

===
cd %USERPROFILE%<span class="se">\W</span>ork<span class="se">\8</span>0_Toolchains<span class="se">\g</span>cc
rmdir latest 2&gt;nul
<span class="gu">mklink /D latest 13.3.0
===
</span>
<span class="gs">**PATH ì˜ˆì‹œ**</span>

===
<span class="gh"># bash/zsh</span>
export PATH="$HOME/Work/82_Tools/bin:$HOME/Work/80_Toolchains/gcc/latest/bin:$PATH"

<span class="gh"># tcsh</span>
set path = ( $HOME/Work/82_Tools/bin $HOME/Work/80_Toolchains/gcc/latest/bin $path )

<span class="gh"># PowerShell</span>
<span class="gu">$env:Path = "$HOME\Work\82_Tools\bin;$HOME\Work\80_Toolchains\gcc\latest\bin;" + $env:Path
===
</span><span class="p">
---
</span>
<span class="gu">## 9) ì´ë™/ë³µì‚¬ ê·œì¹™(ì•ˆì „)</span>
<span class="p">-</span> <span class="gs">**ê°™ì€ íŒŒì¼ì‹œìŠ¤í…œ**</span>: <span class="sb">`mv`</span> (ë©”íƒ€ë°ì´í„°/ë§í¬ ë³´ì¡´, ì›ìì  rename)
<span class="p">-</span> <span class="gs">**ë‹¤ë¥¸ íŒŒì¼ì‹œìŠ¤í…œ**</span>: <span class="sb">`rsync -a`</span>  
<span class="p">  -</span> macOS ëŒ€ì•ˆ: <span class="sb">`cp -pPR`</span> ë˜ëŠ” <span class="sb">`ditto`</span>  
<span class="p">  -</span> Windows: <span class="sb">`robocopy /MIR /COPY:DATSO /DCOPY:DAT /SL`</span>
<span class="p">-</span> <span class="gs">**ì£¼ì˜**</span>: <span class="sb">`cp -rf`</span> ì§€ì–‘(ì‹¬ë³¼ë¦­ì„ ë”°ë¼ê°€ ë³µì œ/ë©”íƒ€ ì†ìƒ ìœ„í—˜)
<span class="p">
---
</span>
<span class="gu">## 10) ë³´ì•ˆ &amp; ë¹„ë°€</span>
<span class="p">-</span> ë¹„ë°€/í‚¤/í† í°/ì¸ì¦ì„œëŠ” <span class="sb">`90_PersonalConfigs/secrets/`</span>ì—ë§Œ.  
<span class="p">-</span> ë ˆí¬/ë¬¸ì„œ/ë…¸íŠ¸ë¶ì— ì§ì ‘ ì €ì¥ ê¸ˆì§€. í™˜ê²½ë³€ìˆ˜ë‚˜ íŒŒì¼ ê²½ë¡œë¡œ ì£¼ì….
<span class="p">
---
</span>
<span class="gu">## 11) í”í•œ FAQ</span>
<span class="p">-</span> <span class="gs">**í°íŠ¸ëŠ” ì–´ë””?**</span> â†’ <span class="sb">`60_Assets/fonts/&lt;Family&gt;/vX.Y/{desktop,web,...}`</span> (ë¼ì´ì„ ìŠ¤ ë™ë´‰)  
<span class="p">-</span> <span class="gs">**ë¦´ë¦¬ìŠ¤ ì‚°ì¶œë¬¼ì€?**</span> â†’ <span class="sb">`75_Releases/&lt;project&gt;/vX.Y.Z/`</span> (+ checksums/ReleaseNotes, <span class="sb">`latest`</span> ë§í¬)  
<span class="p">-</span> <span class="gs">**êµìœ¡ ì‹¤í—˜/í”„ë¡œí† ?**</span> â†’ ë‹¨ë°œì„±: <span class="sb">`22_Labs/`</span>, ì¬í˜„Â·ë°°í¬ ê°€ì¹˜ ìˆìœ¼ë©´ <span class="sb">`25_Jobs/LAB/â€¦`</span> ìŠ¹ê²©  
<span class="p">-</span> <span class="gs">**ë°ì´í„°ì…‹ ì´ˆê¸° íˆ¬ì…?**</span> â†’ ì •ì‹ ì´ë¦„/ë²„ì „ ë¯¸ì •ì´ë©´ <span class="sb">`26_Datasets/_staging/YYYY-MM-DD/`</span>
<span class="p">
---
</span>
<span class="gu">## 12) ë¶€ë¡: ë¹ ë¥¸ ìŠ¤ìºí´ë“œ</span>

<span class="gs">**ìƒˆ í”„ë¡œì íŠ¸(PRJ) ë¼ˆëŒ€**</span>

===
mkdir -p ~/Work/20_Projects/PRJ-2025-001_sample_app/{src/sample_app,tests,scripts,examples,docs}
<span class="gu">printf '%s\n' "[tool.black]" &gt; ~/Work/20_Projects/PRJ-2025-001_sample_app/pyproject.toml
===
</span>
<span class="gs">**ìƒˆ ë°ì´í„°ì…‹ ë²„ì „**</span>

===
base=~/Work/26_Datasets/datasets/ad_events/v2025.0829
mkdir -p $base/{raw,interim,processed,samples,docs}
<span class="gu">printf '%s\n' "name: ad_events\nkind: dataset\nversion: v2025.0829" &gt; $base/manifest.yml
===
</span>
<span class="gs">**Today ë‹¨ì¶• ì¶”ê°€ ì˜ˆì‹œ**</span>

===
<span class="gu">echo "My App | $HOME/Work/20_Projects/PRJ-2025-001_sample_app | source .venv/bin/activate.csh; ./scripts/run.sh" &gt;&gt; ~/Work/10_Today/shortcuts.list
===
</span><span class="p">
---
</span>
<span class="ge">_ì´ ë¬¸ì„œëŠ” ì‹¤ì œ ìš´ì˜ ì¤‘ ë°°ìš´ ë‚´ìš©ì„ ìˆ˜ì‹œë¡œ ì—…ë°ì´íŠ¸í•˜ì„¸ìš”. (ë³€ê²½ ì‹œ ìƒë‹¨ ë‚ ì§œ ê°±ì‹  ê¶Œì¥)_</span>
</code></pre></div></div>

<p class="chat--user">

ì‘ì—… í´ë” ê´€ë ¨ ë‚´ìš©ì€ ì–´ëŠ í´ë”ì— ë„£ì–´ì•¼í•´?

</p>

<p>ì‘ì—… í´ë” ê´€ë ¨ ë‚´ìš©ì€ ì£¼ë¡œ <strong>í´ë” ìš´ì˜ ê·œì¹™</strong> ì— í•´ë‹¹í•˜ë¯€ë¡œ, <code class="language-plaintext highlighter-rouge">00_README.txt</code> ë˜ëŠ” <code class="language-plaintext highlighter-rouge">00_README.md</code> íŒŒì¼ì— í¬í•¨ë˜ëŠ” ê²ƒì´ ê°€ì¥ ì í•©í•©ë‹ˆë‹¤. ì´ íŒŒì¼ì€ ì‘ì—… í™˜ê²½ê³¼ í´ë” êµ¬ì¡°ë¥¼ ì´í•´í•˜ëŠ” ë° ì¤‘ìš”í•œ ì—­í• ì„ í•˜ë©°, ì‘ì—… ê³µê°„ì„ ì–´ë–»ê²Œ êµ¬ì„±í•˜ê³  ì‚¬ìš©í• ì§€ì— ëŒ€í•œ ê·œì¹™ì„ ëª…í™•íˆ ì •ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<h3 id="ì‘ì—…-í´ë”-ê´€ë ¨-ë‚´ìš©ì„-ë„£ì„-í´ë”">ì‘ì—… í´ë” ê´€ë ¨ ë‚´ìš©ì„ ë„£ì„ í´ë”:</h3>

<ol>
  <li>
    <p><strong><code class="language-plaintext highlighter-rouge">00_README.txt</code> (ë˜ëŠ” <code class="language-plaintext highlighter-rouge">00_README.md</code>)</strong></p>

    <ul>
      <li>ì´ íŒŒì¼ì€ <strong>ë£¨íŠ¸ í´ë”</strong> ì— ìœ„ì¹˜í•˜ë©°, ì‘ì—… í´ë” êµ¬ì„±ì— ëŒ€í•œ <strong>ì „ì²´ì ì¸ ì„¤ëª…ê³¼ ê·œì¹™</strong> ì„ ë‹´ê³  ìˆìŠµë‹ˆë‹¤. ì‚¬ìš©ìê°€ ì´ íŒŒì¼ì„ í†µí•´ ì‘ì—… í™˜ê²½ì— ëŒ€í•œ ê¸°ë³¸ ì •ë³´ë¥¼ ì‰½ê²Œ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
    </ul>
  </li>
  <li>
    <p><strong><code class="language-plaintext highlighter-rouge">32_SharedConfigs/</code></strong></p>

    <ul>
      <li>í´ë” êµ¬ì¡°ë¥¼ í¬í•¨í•œ ê·œì¹™ì´ ê³„ì†í•´ì„œ <strong>íŒ€ ë‹¨ìœ„ë¡œ ì‚¬ìš©ë˜ëŠ” ì„¤ì •</strong> ê³¼ ì—°ê²°ë  ìˆ˜ ìˆë‹¤ë©´, ì´ê³³ì— <strong>ê¸°ë³¸ í™˜ê²½ ì„¤ì •</strong> ì„ ë‹´ì€ í…œí”Œë¦¿ì´ë‚˜ ì˜ˆì‹œë¥¼ í¬í•¨ì‹œí‚¬ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, íŒ€ì´ ê³µìœ í•˜ëŠ” <code class="language-plaintext highlighter-rouge">vscode</code> ì„¤ì •ì´ë‚˜ <code class="language-plaintext highlighter-rouge">shell</code> í™˜ê²½ ì„¤ì • ë“±ì„ ë„£ëŠ” í´ë”ì…ë‹ˆë‹¤.</li>
    </ul>
  </li>
  <li>
    <p><strong><code class="language-plaintext highlighter-rouge">25_Jobs/</code></strong></p>

    <ul>
      <li><strong>ì‘ì—… í”„ë¡œì„¸ìŠ¤</strong> ë‚˜ <strong>ì‚°ì¶œë¬¼ì— ëŒ€í•œ ê·œì¹™</strong> ì„ ë‹¤ë£¨ëŠ” ë¶€ë¶„ì€ <code class="language-plaintext highlighter-rouge">25_Jobs/</code>ì— í¬í•¨ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ í´ë”ëŠ” ì‘ì—… íë¦„ê³¼ ê´€ë ¨ëœ <strong>ë””ë ‰í„°ë¦¬/í”„ë¡œì„¸ìŠ¤</strong> ì— ëŒ€í•œ êµ¬ì²´ì ì¸ í…œí”Œë¦¿ì´ë‚˜ ì˜ˆì‹œë¥¼ ë‹´ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.</li>
    </ul>
  </li>
  <li>
    <p><strong><code class="language-plaintext highlighter-rouge">10_Today/</code></strong></p>

    <ul>
      <li>ì˜¤ëŠ˜ ì‘ì—…í•  <strong>ë‹¨ì¶• ëª…ë ¹</strong> ì´ë‚˜ <strong>ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸</strong> ë¥¼ ë‹¤ë£° ê²½ìš° <code class="language-plaintext highlighter-rouge">10_Today/shortcuts.list</code>ì— ê´€ë ¨ ë‚´ìš©ì„ ì¶”ê°€í•˜ê³ , <strong>ì›Œí¬í”Œë¡œìš°ë¥¼ ê´€ë¦¬</strong> í•  ìˆ˜ ìˆë„ë¡ ê´€ë ¨ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
    </ul>
  </li>
</ol>

<h3 id="ìµœì¢…ì ìœ¼ë¡œ-ì‘ì—…-í´ë”-ê´€ë ¨-ë‚´ìš©ì€-00_readmemdì—-ë„£ëŠ”-ê²ƒì´-ê°€ì¥-ì§ê´€ì ì´ê³ -ì²´ê³„ì ì…ë‹ˆë‹¤-ì´-íŒŒì¼ì—ì„œ-í´ë”-êµ¬ì„±-ê³¼-ìš´ì˜-ì›ì¹™-ì„-ëª¨ë‘-ì •ë¦¬í•´ë‘ë©´-ì‚¬ìš©ìëŠ”-ì‘ì—…-í™˜ê²½ì—-ëŒ€í•œ-ì „ë°˜ì ì¸-ì´í•´ë¥¼-ì‰½ê²Œ-ì–»ì„-ìˆ˜-ìˆìŠµë‹ˆë‹¤">ìµœì¢…ì ìœ¼ë¡œ ì‘ì—… í´ë” ê´€ë ¨ ë‚´ìš©ì€ <strong><code class="language-plaintext highlighter-rouge">00_README.md</code></strong>ì— ë„£ëŠ” ê²ƒì´ ê°€ì¥ ì§ê´€ì ì´ê³  ì²´ê³„ì ì…ë‹ˆë‹¤. ì´ íŒŒì¼ì—ì„œ <strong>í´ë” êµ¬ì„±</strong> ê³¼ <strong>ìš´ì˜ ì›ì¹™</strong> ì„ ëª¨ë‘ ì •ë¦¬í•´ë‘ë©´, ì‚¬ìš©ìëŠ” ì‘ì—… í™˜ê²½ì— ëŒ€í•œ ì „ë°˜ì ì¸ ì´í•´ë¥¼ ì‰½ê²Œ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</h3>

<p class="chat--user">

ì˜ˆë¥¼ ë“¤ì–´ LLM í”„ë¡¬í”„íŠ¸ëŠ”

</p>

<p><strong>LLM í”„ë¡¬í”„íŠ¸</strong> ì— ì‘ì—… í´ë” ê´€ë ¨ ë‚´ìš©ì„ í¬í•¨í•˜ë ¤ë©´, <strong>í´ë” êµ¬ì¡°</strong> ì™€ <strong>ìš´ì˜ ê·œì¹™</strong> ì„ <strong>ëª…í™•í•˜ê³  ê°„ê²°í•˜ê²Œ</strong> ì„¤ëª…í•´ì•¼ í•©ë‹ˆë‹¤. ì•„ë˜ëŠ” <strong>local LLM (ê°€ì¹­ Work Directory Manager)</strong>ì´ ì‘ì—… í´ë”ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆë„ë¡ ë•ëŠ” <strong>ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ ì˜ˆì‹œ</strong> ì…ë‹ˆë‹¤. ì´ í”„ë¡¬í”„íŠ¸ëŠ” <strong>ì‘ì—… í´ë” ê´€ë ¨ ê·œì¹™</strong> ê³¼ <strong>í´ë” êµ¬ì¡°</strong> ë¥¼ ì‰½ê²Œ ì´í•´í•˜ê³  ê´€ë¦¬í•  ìˆ˜ ìˆê²Œ êµ¬ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.</p>

<hr />

<h3 id="local-llm-ì‹œìŠ¤í…œ-í”„ë¡¬í”„íŠ¸-ì˜ˆì‹œ-work-directory-manager-wdm">Local LLM ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ ì˜ˆì‹œ: <strong>Work Directory Manager (WDM)</strong></h3>
<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[SYSTEM PROMPT] Work Directory Manager (WDM)

ì—­í• :
- ë‹¹ì‹ ì€ "Work Directory Manager(WDM)"ì…ë‹ˆë‹¤. ì‚¬ìš©ìê°€ ìƒì„±/ìˆ˜ì§‘í•œ ëª¨ë“  ì‚°ì¶œë¬¼Â·íŒŒì¼Â·ì„¤ì •Â·ë°ì´í„°ë¥¼ ì•„ë˜ì˜ í‘œì¤€ ì›Œí¬ìŠ¤í˜ì´ìŠ¤ íŠ¸ë¦¬ì— ë”°ë¼ **ì–´ë””ì—, ì–´ë–¤ ì´ë¦„/ë²„ì „ìœ¼ë¡œ, ì–´ë–¤ ì ˆì°¨ë¡œ** ë°°ì¹˜í•´ì•¼ í•˜ëŠ”ì§€ ì¦‰ë‹µí•©ë‹ˆë‹¤.
- ëª©í‘œ: (1) ì •ë³¸ ìœ„ì¹˜ì˜ ì¼ê´€ì„±, (2) ì¬í˜„ì„±/ì¶”ì ì„±(ë²„ì „Â·ë©”íƒ€Â·ì²´í¬ì„¬), (3) ì„ì‹œì™€ ì •ë³¸ì˜ ë¶„ë¦¬, (4) ìµœì†Œ ë§ˆì°° ì›Œí¬í”Œë¡œ.

ì „ì œ:
- ì‘ì—… ë£¨íŠ¸ëŠ” ê¸°ë³¸ `~/Work` (ì‚¬ìš©ìê°€ ë‹¤ë¥´ê²Œ ë§í•˜ë©´ ê·¸ ê²½ë¡œë¥¼ ë£¨íŠ¸ë¡œ ì‚¬ìš©).
- ìš´ì˜ì²´ì œëŠ” macOS/Linux/Windowsë¥¼ í˜¼ìš©í•  ìˆ˜ ìˆìŒ. ê²½ë¡œ/ëª…ë ¹ ì˜ˆì‹œëŠ” OSë³„ë¡œ ì œì‹œ.
- ì‹¬ë³¼ë¦­ ë§í¬ëŠ” ê°€ëŠ¥í•œ **ìƒëŒ€ê²½ë¡œ**ë¥¼ ê¶Œì¥.

í´ë” íŠ¸ë¦¬(ì •ì˜):
- `00_README.md` : ìš´ì˜ ê·œì¹™ ìš”ì•½ ë¬¸ì„œ(ë°˜ë“œì‹œ ìµœì‹ í™”).
- `01_Inbox/` : ìˆ˜ì‘ì—… ìŠ¤í¬ë©/ë©”ëª¨/ìŠ¤í¬ë¦°ìƒ· ì„ì‹œí•¨(ì •ë¦¬ ì „).
- `05_Downloads/` : ë‹¤ìš´ë¡œë“œ ì°©ë¥™ì§€(ì •ë¦¬ ì „ ì„ì‹œ).
  - `_inbox/` : ë¸Œë¼ìš°ì €/CLI ê¸°ë³¸ ì €ì¥ ê²½ë¡œ.
  - `installers/` `datasets/` `manuals/` `assets/` `quarantine/`
- `10_Today/` : ì˜¤ëŠ˜ ì‘ì—… ëŒ€ì‹œë³´ë“œ(ëŸ°ì²˜/ë‹¨ì¶•/ë˜í¼).
  - `shortcuts.list` : `ë¼ë²¨ | ì ˆëŒ€ê²½ë¡œ | ëª…ë ¹ë“¤(ì˜µì…˜)` í˜•ì‹.
  - `wrappers/` : ì‹¤í–‰ ë³´ì¡° ìŠ¤í¬ë¦½íŠ¸(ì˜ˆ: enter.csh).
- `20_Projects/` : íˆ´/ì•±(íŒŒì´ì¬ íŒ¨í‚¤ì§€ í¬í•¨) **ì½”ë“œ ì •ë³¸**.
  - `PRJ-YYYY-NNN_name/` (ì˜ˆ: `PRJ-2025-001_sample_app`)
  - `src/&lt;pkg&gt;/`, `tests/`, `scripts/`, `examples/`, `docs/`, `pyproject.toml` â€¦
- `22_Labs/` : ê°€ë²¼ìš´ ì‹¤í—˜/í”„ë¡œí† (ì¬í˜„ ë¶ˆí•„ìš”). ì˜ˆ: `jupyter/regex_scratch.ipynb`
- `25_Jobs/` : ì‚°ì¶œ ì‘ì—…(í”„ë¡œì„¸ìŠ¤ ìˆ˜ëª… ì¤‘ì‹¬).
  - `_active/`(ì§„í–‰ ì¤‘ â‰¤12ê°œ), `_templates/`, `JOB/ì—°ë„/`, `BUG/ì—°ë„/`, `SMOKE/ì—°ë„/`, `LAB/ì—°ë„/`, `EX/ì—°ë„/`, `REL/ì—°ë„/`
- `26_Datasets/` : ë°ì´í„°ì…‹ **ì •ë³¸**(ì…ë ¥/ìŠ¹ê²© ì¶œë ¥).
  - `registry/`(ì¹´íƒˆë¡œê·¸), `datasets/&lt;name&gt;/vYYYY.MMDD/{raw,interim,processed,samples,docs,manifest.yml,SHA256SUMS}`
  - `derived/&lt;artifact&gt;/vYYYY.MMDD/{data,metrics,docs,manifest.yml,SHA256SUMS}`
  - `cache/`(ì–¸ì œë“  ì‚­ì œ ê°€ëŠ¥)
- `30_Areas/` : ì¥ê¸° ìš´ì˜(ì •ì±…/ì›Œí¬ë¡œê·¸/ê³µí†µ í™˜ê²½ ì „ëµ).
  - `knowledge_base/{tips,cheatsheets,howtos}/`(ì¶•ì  ì§€ì‹)
- `32_SharedConfigs/` : **ê³µìœ /ê³¨ë“  ì„¤ì •**(íŒ€ í‘œì¤€).
  - `global/{vscode,ruff,pytest,pyinstaller,pyside6,jupyter}/`
  - `projects/&lt;project_slug&gt;/`
- `40_Resources/` : ì°¸ê³  ìë£Œ(êµìœ¡/ë§¤ë‰´ì–¼/ìŠ¤í™â€”ì„¤ì • ì œì™¸).
  - `edu/`, `manuals/&lt;vendor&gt;/&lt;product&gt;/&lt;version&gt;/`, `reference/`
- `50_Snippets/{sql,text,bash}/` : ì¬ì‚¬ìš© ì½”ë“œ/ì›ë¼ì´ë„ˆ/ë¬¸êµ¬ ì¡°ê°.
- `60_Assets/` : ë¡œê³ /í°íŠ¸/í…œí”Œë¦¿ ë“± ì‹œê° ìì‚°.
  - `fonts/&lt;Family&gt;/vX.Y/{desktop,web,variable,license,specimen}/`
- `70_Exports/` : ì—¬ëŸ¬ Jobì˜ ìµœì¢… ì „ë‹¬ë³¸ ëª¨ì•„ë³´ê¸°(ì„ íƒ).
- `75_Releases/&lt;project&gt;/vX.Y.Z/` : ìœ ì € ë°°í¬ ì „ìš©(ìµœì‹ ì€ `latest` ì‹¬ë§í¬).
  - `installers,wheels,portable,docs,licenses,checksums,ReleaseNotes.md`
- `80_Toolchains/` : ê³ ì • ë²„ì „ ë¹Œë“œ ë„êµ¬(gcc/cmake/ninjaâ€¦)
  - `&lt;tool&gt;/&lt;version&gt;/` + `latest -&gt; &lt;version&gt;`(ìƒëŒ€ ì‹¬ë§í¬)
- `81_SDKs/` : í”Œë«í¼ SDK/ëŸ°íƒ€ì„(JDK/Qt/NDK/CUDAâ€¦)
  - `&lt;sdk&gt;/&lt;version&gt;/` + `latest -&gt; &lt;version(`
- `82_Tools/` : ê°œì¸/ê²½ëŸ‰/í¬í„°ë¸” ìœ í‹¸
  - `installers/&lt;tool&gt;/&lt;ver&gt;/`(SHA256SUMS, install_notes.md)
  - `bin/`, `portable/&lt;tool&gt;-&lt;ver&gt;/`, `scripts/`, `scratch/`
- `83_Runtimes/` : ì–¸ì–´ ëŸ°íƒ€ì„ ëª¨ìŒ(ì˜µì…˜: python/node/go/rustâ€¦)
- `85_Environments/` : docker/conda/venv/devcontainer **í™˜ê²½ ìº¡ìŠ**
  - `conda/environment.yml`, `docker/Dockerfile`, `devcontainer/...`
- `90_PersonalConfigs/` : **ê°œì¸ ì„¤ì •/ì˜¤ë²„ë¼ì´ë“œ/ë¹„ê³µê°œ**
  - `shell/{bash,zsh,tcsh,powershell}/` (ì˜ˆ: `shell/tcsh/.tcshrc` â€” í™ˆì— ì‹¬ë§í¬)
  - `editors/vscode/`, `git/`, `python/`, `tools/`, `secrets/README.md`, `.gitignore`
- `99_Archive/` : ì™„ë£Œ í•­ëª© ì¥ê¸° ë³´ê´€(ì½ê¸° ì „ìš©)

í•µì‹¬ ì›ì¹™:
1) **ë‹¨ì¼ ì •ë³¸ ì›ì¹™**: ì½”ë“œ ì •ë³¸ì€ `20_Projects`, ì‹¤í–‰Â·ì‚°ì¶œ íë¦„ì€ `25_Jobs`, ë°ì´í„° ì •ë³¸ì€ `26_Datasets`. ë³µì‚¬ë³¸ ê¸ˆì§€, í•„ìš” ì‹œ ë§í¬/ê²½ë¡œ ì°¸ì¡°.
2) **ì„ì‹œâ†”ì •ë³¸ ë¶„ë¦¬**: `01_Inbox`/`05_Downloads`ëŠ” ì„ì‹œ, ì •ë¦¬ í›„ ì „ìš© ìœ„ì¹˜ë¡œ ì´ë™.
3) **ì¬í˜„ì„±**: ë°ì´í„°ëŠ” `vYYYY.MMDD` ë²„ì „, `manifest.yml` + `SHA256SUMS` í•„ìˆ˜. íˆ´ì²´ì¸/SDKëŠ” `latest` ìƒëŒ€ ì‹¬ë§í¬.
4) **ë³´ì•ˆ**: ë¹„ë°€/ìê²©ì¦ëª…ì€ `90_PersonalConfigs/secrets/` ì™¸ ê¸ˆì§€. ì½”ë“œì—” í™˜ê²½ë³€ìˆ˜ë¡œ ì£¼ì….
5) **ë¹Œë“œ ìœ„ì¹˜**: í•­ìƒ `20_Projects/&lt;PRJ&gt;/build`(out-of-source). 80/81/83ì€ â€œë³´ê´€/ì°¸ì¡°â€ë§Œ.
6) **PATH/ëŸ°ì²˜ ê´€ë¦¬**: Todayì˜ `shortcuts.list` +(ì„ íƒ) `jm` ëŸ¬ë„ˆë¡œ ë¹ ë¥¸ ì í”„/ì‹¤í–‰.

---

## 11) ë¹ ë¥¸ ì§ˆë¬¸ ì˜ˆì‹œ:

- **ë°ì´í„°ì…‹ì€ ì–´ë””ì—?**  
  `26_Datasets/datasets/&lt;name&gt;/vYYYY.MMDD/{raw,interim,processed,samples,docs,manifest.yml,SHA256SUMS}`

- **ìƒˆ íˆ´ì€ ì–´ë””ì—?**  
  `82_Tools/installers/&lt;tool&gt;/&lt;ver&gt;/` (SHA256SUMS/ì„¤ì¹˜ ë…¸íŠ¸ í¬í•¨)

- **ì •ë¦¬ ì „ ë‹¤ìš´ë¡œë“œ íŒŒì¼ì€?**  
  `05_Downloads/` ì•„ë˜ ì ì ˆí•œ í´ë”(ì˜ˆ: `installers/`, `assets/`, `datasets/`)

- **ì†ŒìŠ¤ ì½”ë“œ ìœ„ì¹˜ëŠ”?**  
  `20_Projects/&lt;PRJ_NAME&gt;/src/` â€” out-of-source ë¹Œë“œ, ì‹¤í–‰ íŒŒì¼ì€ `20_Projects/&lt;PRJ_NAME&gt;/build/`

---

## 12) ì‘ì—… í´ë” ì¶”ê°€/ë³€ê²½ ì‹œ ì°¸ê³  ì‚¬í•­:

1. **ìƒˆ í”„ë¡œì íŠ¸ í´ë” ì¶”ê°€**:
   - `20_Projects/&lt;PRJ_NAME&gt;/src/`, `tests/`, `docs/` í´ë”ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.
   - ë¹Œë“œëŠ” `build/` í´ë”ì—ì„œ ì‹¤í–‰í•˜ê³ , ì‚°ì¶œë¬¼ì€ `build/`ë¡œ ë¶„ë¦¬í•´ë‘ì„¸ìš”.

2. **ìƒˆ ë°ì´í„°ì…‹ ì¶”ê°€**:
   - `26_Datasets/datasets/&lt;name&gt;/vYYYY.MMDD/`ì— `raw`, `interim`, `processed` í´ë”ë¥¼ ë§Œë“¤ê³ , `manifest.yml`ê³¼
</code></pre></div></div>

<p class="chat--user">

ì‘ ì´ê±¸ ì–´ëŠ í´ë”ì— ë„£ì–´ë‘ê³  ì‹¶ì–´

</p>

<p>ì´ <strong><code class="language-plaintext highlighter-rouge">00_README.md</code></strong> íŒŒì¼ì€ <strong>ë£¨íŠ¸ í´ë”</strong> ì¸ <code class="language-plaintext highlighter-rouge">~/Work</code>ì— ë‘ëŠ” ê²ƒì´ ê°€ì¥ ì í•©í•©ë‹ˆë‹¤. ì´ íŒŒì¼ì€ ì‘ì—… í™˜ê²½ê³¼ í´ë” êµ¬ì¡°ì— ëŒ€í•œ <strong>ì „ì²´ì ì¸ ê·œì¹™</strong> ì„ ì„¤ëª…í•˜ëŠ” ì¤‘ìš”í•œ ë¬¸ì„œë¡œ, ì‘ì—…ì„ ì‹œì‘í•˜ê¸° ì „ì— ëˆ„êµ¬ë‚˜ ì°¸ê³ í•  ìˆ˜ ìˆì–´ì•¼ í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.</p>

<p>ë”°ë¼ì„œ, í•´ë‹¹ íŒŒì¼ì„ <strong><code class="language-plaintext highlighter-rouge">~/Work/00_README.md</code></strong> ìœ„ì¹˜ì— ë‘ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.</p>

<h3 id="ì´ìœ ">ì´ìœ :</h3>

<ol>
  <li>
    <p><strong>ì¤‘ì•™ ì§‘ì¤‘ì‹ ë¬¸ì„œ</strong> : <code class="language-plaintext highlighter-rouge">00_README.md</code>ëŠ” ëª¨ë“  ì‘ì—… í´ë” êµ¬ì¡°ì™€ ìš´ì˜ ê·œì¹™ì„ í•œëˆˆì— íŒŒì•…í•  ìˆ˜ ìˆê²Œ ë„ì™€ì¤ë‹ˆë‹¤. ì‘ì—…ì„ ì‹œì‘í•˜ê¸° ì „ì— <strong>í´ë” êµ¬ì¡°ë¥¼ ì˜ëª» ì‚¬ìš©í•˜ê±°ë‚˜ í—·ê°ˆë¦´ ì¼ì´ ì—†ë„ë¡</strong> ì•ˆë‚´ ì—­í• ì„ í•©ë‹ˆë‹¤.</p>
  </li>
  <li>
    <p><strong>í™•ì¥ì„±</strong> : ì¶”í›„ ìƒˆë¡œìš´ ê·œì¹™ì´ë‚˜ ì›Œí¬í”Œë¡œìš°ê°€ ì¶”ê°€ë˜ê±°ë‚˜ ìˆ˜ì •ë  ë•Œ, ì´ íŒŒì¼ì„ í†µí•´ <strong>ëª¨ë“  íŒ€ì›ì´ ì‰½ê²Œ ì—…ë°ì´íŠ¸ëœ ë‚´ìš©ì„ ê³µìœ </strong> í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
  </li>
  <li>
    <p><strong>í¸ë¦¬í•œ ì ‘ê·¼</strong> : <code class="language-plaintext highlighter-rouge">~/Work</code>ëŠ” ì‘ì—… ë£¨íŠ¸ì´ë¯€ë¡œ <strong>ëˆ„êµ¬ë‚˜ ì‰½ê²Œ ì ‘ê·¼ ê°€ëŠ¥</strong> í•˜ê³ , íŒŒì¼ë„ ë£¨íŠ¸ì— ìœ„ì¹˜ì‹œì¼œì•¼ í´ë”ë‚˜ í”„ë¡œì íŠ¸ë¥¼ ë¶„ë¥˜í•  ë•Œ í˜¼ë™ì´ ì—†ì„ ê²ƒì…ë‹ˆë‹¤.</p>
  </li>
</ol>

<hr />

<h2 id="ìµœì¢…-ê²°ë¡ ">ìµœì¢… ê²°ë¡ :</h2>

<p><code class="language-plaintext highlighter-rouge">00_README.md</code> íŒŒì¼ì€ <strong><code class="language-plaintext highlighter-rouge">~/Work</code></strong> í´ë”ì— ë‘ê³ , ì´ë¥¼ í†µí•´ ì‘ì—… í´ë”ì™€ ê·œì¹™ì„ ê´€ë¦¬í•˜ì„¸ìš”.</p>

<p class="chat--user">

READMEëŠ” ì‚¬ëŒì´ ì½ëŠ”ê±°ì§€ LLMì„ ìœ„í•œ ê¸€ì„ ë„£ê¸°ëŠ” ì¢€ ë¶€ì ì ˆí•˜ê±°ì§€ ì•Šì•„?

</p>

<p>ë§ì•„ìš”, <strong><code class="language-plaintext highlighter-rouge">README.md</code></strong>ëŠ” ì‚¬ëŒì´ ì½ê¸° ìœ„í•œ ë¬¸ì„œì´ê³ , <strong>LLM í”„ë¡¬í”„íŠ¸</strong> ëŠ” ì‹œìŠ¤í…œê³¼ì˜ ìƒí˜¸ì‘ìš©ì„ ìœ„í•´ <strong>ì •í•´ì§„ ê·œì¹™ê³¼ ê·œê²©ì„ ëª…ì‹œ</strong> í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì— <strong>LLM í”„ë¡¬í”„íŠ¸ë¥¼<code class="language-plaintext highlighter-rouge">README</code>ì— ë„£ëŠ” ê²ƒì€ ë¶€ì ì ˆ</strong>í•©ë‹ˆë‹¤.</p>

<p>ë”°ë¼ì„œ, LLM í”„ë¡¬í”„íŠ¸ëŠ” <strong><code class="language-plaintext highlighter-rouge">00_README.md</code></strong>ê°€ ì•„ë‹Œ <strong><code class="language-plaintext highlighter-rouge">90_PersonalConfigs</code></strong>ë‚˜ <strong><code class="language-plaintext highlighter-rouge">32_SharedConfigs</code></strong> ë‚´ì— <strong>ë³„ë„ì˜ êµ¬ì„± íŒŒì¼</strong> ë¡œ ë‘ëŠ” ê²ƒì´ ë” ë‚˜ì€ ë°©ë²•ì…ë‹ˆë‹¤. íŠ¹íˆ LLMì„ ìœ„í•œ <strong>ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸</strong> ë‚˜ <strong>ì‘ì—… ê³µê°„ ê´€ë ¨ ì„¤ì •</strong> ì€ <strong><code class="language-plaintext highlighter-rouge">90_PersonalConfigs/llm_config/</code></strong> ê°™ì€ í´ë”ë¥¼ ë§Œë“¤ì–´ ë‘ëŠ” ê²ƒì´ ì í•©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<h3 id="ì¶”ì²œ-í´ë”-êµ¬ì„±">ì¶”ì²œ í´ë” êµ¬ì„±:</h3>

<ol>
  <li>
    <p><strong><code class="language-plaintext highlighter-rouge">90_PersonalConfigs/llm_config/</code></strong><br />
ì´ í´ë”ëŠ” LLMê³¼ ê´€ë ¨ëœ ëª¨ë“  ì„¤ì • íŒŒì¼ê³¼ ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ë¥¼ ê´€ë¦¬í•˜ëŠ” ê³³ìœ¼ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤.</p>
  </li>
  <li>
    <p><strong><code class="language-plaintext highlighter-rouge">32_SharedConfigs/llm_config/</code></strong><br />
íŒ€ ë‹¨ìœ„ë¡œ ê³µìœ í•  LLM í”„ë¡¬í”„íŠ¸ë‚˜ ì„¤ì •ì„ ë‘ê¸° ìœ„í•´ <code class="language-plaintext highlighter-rouge">32_SharedConfigs</code> í´ë” ì•ˆì— ë‘ëŠ” ë°©ë²•ë„ ê°€ëŠ¥í•©ë‹ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ ë‹¤ë¥¸ ì‚¬ëŒê³¼ ê³µìœ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
  </li>
</ol>

<h3 id="ì˜ˆì‹œ-ê²½ë¡œ">ì˜ˆì‹œ ê²½ë¡œ:</h3>

<ul>
  <li>
    <p><strong><code class="language-plaintext highlighter-rouge">90_PersonalConfigs/llm_config/system_prompt.txt</code></strong></p>
  </li>
  <li>
    <p><strong><code class="language-plaintext highlighter-rouge">32_SharedConfigs/llm_config/system_prompt.txt</code></strong></p>
  </li>
</ul>

<h3 id="ì‹œìŠ¤í…œ-í”„ë¡¬í”„íŠ¸-ì˜ˆì‹œ-ë‚´ìš©">ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ ì˜ˆì‹œ ë‚´ìš©:</h3>
<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[SYSTEM PROMPT] Work Directory Manager (WDM)

ì—­í• :
- ë‹¹ì‹ ì€ "Work Directory Manager(WDM)"ì…ë‹ˆë‹¤. ì‚¬ìš©ìê°€ ìƒì„±/ìˆ˜ì§‘í•œ ëª¨ë“  ì‚°ì¶œë¬¼Â·íŒŒì¼Â·ì„¤ì •Â·ë°ì´í„°ë¥¼ ì•„ë˜ì˜ í‘œì¤€ ì›Œí¬ìŠ¤í˜ì´ìŠ¤ íŠ¸ë¦¬ì— ë”°ë¼ **ì–´ë””ì—, ì–´ë–¤ ì´ë¦„/ë²„ì „ìœ¼ë¡œ, ì–´ë–¤ ì ˆì°¨ë¡œ** ë°°ì¹˜í•´ì•¼ í•˜ëŠ”ì§€ ì¦‰ë‹µí•©ë‹ˆë‹¤.
- ëª©í‘œ: (1) ì •ë³¸ ìœ„ì¹˜ì˜ ì¼ê´€ì„±, (2) ì¬í˜„ì„±/ì¶”ì ì„±(ë²„ì „Â·ë©”íƒ€Â·ì²´í¬ì„¬), (3) ì„ì‹œì™€ ì •ë³¸ì˜ ë¶„ë¦¬, (4) ìµœì†Œ ë§ˆì°° ì›Œí¬í”Œë¡œ.

ì „ì œ:
- ì‘ì—… ë£¨íŠ¸ëŠ” ê¸°ë³¸ `~/Work` (ì‚¬ìš©ìê°€ ë‹¤ë¥´ê²Œ ë§í•˜ë©´ ê·¸ ê²½ë¡œë¥¼ ë£¨íŠ¸ë¡œ ì‚¬ìš©).
- ìš´ì˜ì²´ì œëŠ” macOS/Linux/Windowsë¥¼ í˜¼ìš©í•  ìˆ˜ ìˆìŒ. ê²½ë¡œ/ëª…ë ¹ ì˜ˆì‹œëŠ” OSë³„ë¡œ ì œì‹œ.
- ì‹¬ë³¼ë¦­ ë§í¬ëŠ” ê°€ëŠ¥í•œ **ìƒëŒ€ê²½ë¡œ**ë¥¼ ê¶Œì¥.
...
</code></pre></div></div>

<h3 id="ê²°ë¡ -1">ê²°ë¡ :</h3>

<ul>
  <li>
    <p><strong>LLM í”„ë¡¬í”„íŠ¸</strong> ëŠ” <strong><code class="language-plaintext highlighter-rouge">90_PersonalConfigs/llm_config/</code></strong> ë˜ëŠ” <strong><code class="language-plaintext highlighter-rouge">32_SharedConfigs/llm_config/</code></strong>ì™€ ê°™ì€ í´ë”ì— ë‘ëŠ” ê²ƒì´ ì ì ˆí•©ë‹ˆë‹¤.</p>
  </li>
  <li>
    <p><strong><code class="language-plaintext highlighter-rouge">00_README.md</code></strong>ëŠ” ì‘ì—… í™˜ê²½ ë° í´ë” ê·œì¹™ì„ ì„¤ëª…í•˜ëŠ” <strong>ì‚¬ëŒì„ ìœ„í•œ ë¬¸ì„œ</strong> ë¡œë§Œ ì‚¬ìš©í•©ë‹ˆë‹¤.</p>
  </li>
</ul>

<p>ì´ë ‡ê²Œ í•˜ë©´ ì‘ì—…ê³¼ ê´€ë ¨ëœ <strong>ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ ë° ì„¤ì •</strong> ì„ ëª…í™•í•˜ê²Œ ë¶„ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!</p>

<p class="chat--user">

íŒŒì´ì¬ ê¸°ë³¸ ë²„ì ¼ì€ ì–´ë”” ì„¤ì¹˜í•´

</p>

<p>ì§§ê²Œ: <strong>ê¸°ë³¸(ë ˆí¼ëŸ°ìŠ¤) íŒŒì´ì¬ì€<code class="language-plaintext highlighter-rouge">83_Runtimes/python/&lt;version&gt;/</code>ì— ì„¤ì¹˜</strong>í•˜ê³ ,<br />
ì…¸ì—ì„  <strong><code class="language-plaintext highlighter-rouge">83_Runtimes/python/latest/bin</code>ì„ PATH ë§¨ ì•</strong>ì— ë‘ì„¸ìš”.<br />
í”„ë¡œì íŠ¸ë³„ ì‹¤í–‰ í™˜ê²½ì€ <strong>ê° í”„ë¡œì íŠ¸ì˜<code class="language-plaintext highlighter-rouge">.venv/</code></strong>(ë˜ëŠ” <code class="language-plaintext highlighter-rouge">85_Environments/conda</code>)ë¡œ ë¶„ë¦¬í•©ë‹ˆë‹¤.</p>

<hr />

<h1 id="ì™œ-83_runtimesì¸ê°€">ì™œ <code class="language-plaintext highlighter-rouge">83_Runtimes</code>ì¸ê°€</h1>

<ul>
  <li>
    <p><strong>ëŸ°íƒ€ì„ ì „ìš© ìŠ¬ë¡¯</strong> ì´ë¼ ì‹œìŠ¤í…œ ì „ì—­(/usr/local ë“±) ì˜¤ì—¼ X</p>
  </li>
  <li>
    <p><strong>ë²„ì „ ê³µì¡´</strong> + <code class="language-plaintext highlighter-rouge">latest</code> ì‹¬ë³¼ë¦­ìœ¼ë¡œ ì†ì‰¬ìš´ ì „í™˜</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">80_Toolchains</code>(ë¹Œë“œ ë„êµ¬)ì™€ <code class="language-plaintext highlighter-rouge">82_Tools</code>(ê°œì¸ ìœ í‹¸)ì™€ ì—­í•  ë¶„ë¦¬</p>
  </li>
</ul>

<hr />

<h1 id="ê¶Œì¥-ë°°ì¹˜">ê¶Œì¥ ë°°ì¹˜</h1>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>83_Runtimes/
â””â”€ python/
   â”œâ”€ 3.12.5/               # ì‹¤ì œ ì¸í„°í”„ë¦¬í„°(ì„¤ì¹˜ ë³¸ì²´)
   â”œâ”€ 3.11.9/
   â””â”€ latest -&gt; 3.12.5      # ìƒëŒ€ ì‹¬ë³¼ë¦­ ë§í¬
</code></pre></div></div>

<h2 id="path-ì„¤ì •-ê¸°ë³¸-python3-ì§€ì •">PATH ì„¤ì • (ê¸°ë³¸ python3 ì§€ì •)</h2>

<ul>
  <li><strong>bash/zsh</strong>
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/Work/83_Runtimes/python/latest/bin:</span><span class="nv">$PATH</span><span class="s2">"</span>
</code></pre></div>    </div>
  </li>
  <li><strong>tcsh</strong>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh
    
set path = ( $HOME/Work/83_Runtimes/python/latest/bin $path )
</code></pre></div>    </div>
  </li>
  <li><strong>PowerShell</strong>
    <div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">Path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work\83_Runtimes\python\latest\Scripts;</span><span class="bp">$HOME</span><span class="s2">\Work\83_Runtimes\python\latest;"</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">Path</span><span class="w">
</span></code></pre></div>    </div>
  </li>
</ul>

<hr />

<h1 id="ì„¤ì¹˜-ë°©ë²•-step-by-step">ì„¤ì¹˜ ë°©ë²• (step-by-step)</h1>

<h2 id="macos--linux-ê³µì‹-tarball-ë˜ëŠ”-pyenvë¡œ-ë¹Œë“œ">macOS / Linux (ê³µì‹ tarball ë˜ëŠ” pyenvë¡œ ë¹Œë“œ)</h2>

<ol>
  <li>ë””ë ‰í„°ë¦¬ ì¤€ë¹„</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">mkdir</span> <span class="nt">-p</span> ~/Work/83_Runtimes/python
</code></pre></div></div>

<ol>
  <li>(Aì•ˆ) <strong>ê³µì‹ tarball</strong> /í”„ë¦¬ë¹ŒíŠ¸ ì••ì¶• í•´ì œ â†’ ë²„ì „ í´ë”ë¡œ ì´ë™</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">tar</span> <span class="nt">-xf</span> Python-3.12.5-&lt;í”Œë«í¼&gt;.tar.<span class="k">*</span> <span class="nt">-C</span> ~/Work/83_Runtimes/python/
<span class="nb">mv</span> ~/Work/83_Runtimes/python/Python-3.12.5<span class="k">*</span> ~/Work/83_Runtimes/python/3.12.5
</code></pre></div></div>

<p>(Bì•ˆ) <strong>pyenvë¡œ ë¹Œë“œ</strong> í›„ ê²°ê³¼ë¥¼ ì˜®ê²¨ ë°°ì¹˜í•´ë„ ë©ë‹ˆë‹¤.<br />
3) <code class="language-plaintext highlighter-rouge">latest</code> ë§í¬ ë§Œë“¤ê¸°</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> ~/Work/83_Runtimes/python <span class="o">&amp;&amp;</span> <span class="nb">ln</span> <span class="nt">-sfn</span> 3.12.5 latest
</code></pre></div></div>

<ol>
  <li>PATH ë°˜ì˜ í›„ í™•ì¸</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python3 <span class="nt">--version</span>   <span class="c"># 3.12.5</span>
</code></pre></div></div>

<h2 id="windows-2">Windows</h2>

<ol>
  <li>
    <p><strong>ì‚¬ìš©ì ì˜ì—­</strong> ì— ì„¤ì¹˜(ê´€ë¦¬ì ê¶Œì¥ X)</p>

    <ul>
      <li>
        <p>ì„¤ì¹˜ ê²½ë¡œë¥¼ <code class="language-plaintext highlighter-rouge">C:\Users\&lt;you&gt;\Work\83_Runtimes\python\3.12.5</code>ë¡œ ì§€ì •</p>
      </li>
      <li>
        <p>â€œAdd to PATHâ€ ì²´í¬ëŠ” êº¼ë‘ê³ , ìœ„ì˜ PowerShell PATHë¡œ ì œì–´</p>
      </li>
    </ul>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">latest</code>ëŠ” Windowsì—ì„  ì‹¬ë³¼ë¦­ ë˜ëŠ” ì •ì…˜:</p>
  </li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cmd

cd %USERPROFILE%\Work\83_Runtimes\python
rmdir latest 2&gt;nul
mklink /D latest 3.12.5
</code></pre></div></div>

<ol>
  <li>í™•ì¸:</li>
</ol>

<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">python</span><span class="w"> </span><span class="nt">--version</span><span class="w">
</span></code></pre></div></div>

<hr />

<h1 id="í”„ë¡œì íŠ¸ë³„-í™˜ê²½-ì •ì±…">í”„ë¡œì íŠ¸ë³„ í™˜ê²½ ì •ì±…</h1>

<ul>
  <li><strong>ê¸°ë³¸ ì›ì¹™:</strong> ì „ì—­ ì¸í„°í”„ë¦¬í„°(83_Runtimes)ëŠ” â€œë„êµ¬â€ì¼ ë¿.<br />
ì‹¤ì œ ì˜ì¡´ì„±ì€ <strong>í”„ë¡œì íŠ¸ë§ˆë‹¤ ê²©ë¦¬</strong>.</li>
</ul>

<h3 id="ì˜µì…˜-1-ê°-í”„ë¡œì íŠ¸-ë¡œì»¬-venv-ê¶Œì¥-ê°€ë³ê³ -ë¹ ë¦„">ì˜µì…˜ 1) ê° í”„ë¡œì íŠ¸ ë¡œì»¬ venv (ê¶Œì¥, ê°€ë³ê³  ë¹ ë¦„)</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>20_Projects/PRJ-.../
â””â”€ .venv/               # ì´ í´ë”ëŠ” ì´ë™/ë³µì‚¬ ë¹„ê¶Œì¥(ì ˆëŒ€ê²½ë¡œ ë‚´ì¥)
</code></pre></div></div>

<p>ìƒì„±:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> ~/Work/20_Projects/PRJ-foo
python3 <span class="nt">-m</span> venv .venv
<span class="nb">.</span> .venv/bin/activate   <span class="c"># tcshì´ë©´: source .venv/bin/activate.csh</span>
pip <span class="nb">install</span> <span class="nt">-r</span> requirements.txt
</code></pre></div></div>

<h3 id="ì˜µì…˜-2-85_environmentsconda-ë¬´ê±°ì›Œë„-í¸ì˜ì„±">ì˜µì…˜ 2) <code class="language-plaintext highlighter-rouge">85_Environments/conda</code> (ë¬´ê±°ì›Œë„ í¸ì˜ì„±â†‘)</h3>

<ul>
  <li>ê³µìš© ì´ë¦„ì˜ env ê´€ë¦¬, ë°ì´í„°ê³¼í•™ íˆ´ì— ìœ ë¦¬</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>conda <span class="nb">env </span>create <span class="nt">-f</span> ~/Work/85_Environments/conda/environment.yml
conda activate myenv
</code></pre></div></div>

<hr />

<h1 id="ì „ì—­-ìœ í‹¸ìŠ¤í¬ë¦½íŠ¸cli-ë‹¤ë£°-ë•Œ">ì „ì—­ ìœ í‹¸(ìŠ¤í¬ë¦½íŠ¸/CLI) ë‹¤ë£° ë•Œ</h1>

<ul>
  <li><strong>pipx</strong> ë¡œ ì „ì—­ CLIë¥¼ <code class="language-plaintext highlighter-rouge">82_Tools/bin</code>ì— ê¹”ë”íˆ ë¶„ë¦¬:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">PIPX_HOME</span><span class="o">=</span><span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/Work/82_Tools/pipx"</span>
<span class="nb">export </span><span class="nv">PIPX_BIN_DIR</span><span class="o">=</span><span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/Work/82_Tools/bin"</span>
pipx ensurepath
pipx <span class="nb">install </span>ruff
</code></pre></div>    </div>
  </li>
  <li>ì „ì—­ pipëŠ” ê°€ê¸‰ì  ì‚¬ìš©í•˜ì§€ ì•Šê¸°(ì¶©ëŒ ë°©ì§€). í•„ìš” ì‹œ <code class="language-plaintext highlighter-rouge">90_PersonalConfigs/python/pip.conf</code>ì— ì •ì±… ëª…ì‹œ.</li>
</ul>

<hr />

<h1 id="ë²„ì „-ì „í™˜ì—…ê·¸ë ˆì´ë“œ">ë²„ì „ ì „í™˜/ì—…ê·¸ë ˆì´ë“œ</h1>

<ol>
  <li>
    <p>ìƒˆ ë²„ì „ ì¶”ê°€: <code class="language-plaintext highlighter-rouge">83_Runtimes/python/3.13.0/</code></p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">latest</code>ë§Œ ê°ˆì•„ë¼ìš°ê¸°:</p>
  </li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> ~/Work/83_Runtimes/python <span class="o">&amp;&amp;</span> <span class="nb">ln</span> <span class="nt">-sfn</span> 3.13.0 latest
</code></pre></div></div>

<ol>
  <li>ìŠ¤í¬ë¦½íŠ¸/CIëŠ” í•­ìƒ <code class="language-plaintext highlighter-rouge">.../python/latest</code>ë¥¼ ì°¸ì¡°í•˜ë„ë¡ ìœ ì§€</li>
</ol>

<hr />

<h1 id="ì£¼ì˜ì‚¬í•­-ì¤‘ìš”">ì£¼ì˜ì‚¬í•­ (ì¤‘ìš”)</h1>

<ul>
  <li>
    <p><strong>ì‹œìŠ¤í…œ Python ê±´ë“œë¦¬ì§€ ì•Šê¸°</strong> : OS íŒ¨í‚¤ì§€ì— ì˜í–¥.</p>
  </li>
  <li>
    <p><strong>venv/condaëŠ” ë³µì‚¬/ì´ë™ ê¸ˆì§€</strong> : ì ˆëŒ€ê²½ë¡œ ë‚´ì¥ â†’ ìƒˆë¡œ ìƒì„±/ì¬ë°°ì¹˜(conda-pack) ì‚¬ìš©.</p>
  </li>
  <li>
    <p>macOS/Linux ë°”ì´ë„ˆë¦¬ì˜ <strong>RPATH</strong> ë¬¸ì œê°€ ë“œë¬¼ê²Œ ìˆì„ ìˆ˜ ìˆìŒ(ë¹„í‘œì¤€ ë¹Œë“œ ì‚¬ìš© ì‹œ).<br />
ê³µì‹ ë°°í¬ë³¸/pyenv ë¹Œë“œë¥¼ ê¶Œì¥.</p>
  </li>
  <li>
    <p>Windowsì—ì„  <strong>ê´€ë¦¬ì PATH ë“±ë¡</strong> ëŒ€ì‹  ì‚¬ìš©ì PATHë¡œ ì œì–´(ì¶©ëŒ ìµœì†Œí™”).</p>
  </li>
</ul>

<hr />

<h2 id="í•œ-ì¤„-ê²°ë¡ -1">í•œ ì¤„ ê²°ë¡ </h2>

<ul>
  <li>
    <p><strong>ê¸°ë³¸ ì¸í„°í”„ë¦¬í„°</strong> : <code class="language-plaintext highlighter-rouge">~/Work/83_Runtimes/python/&lt;ver&gt;/</code> (+ <code class="language-plaintext highlighter-rouge">latest</code>)</p>
  </li>
  <li>
    <p><strong>í”„ë¡œì íŠ¸ ì˜ì¡´ì„±</strong> : ê° í”„ë¡œì íŠ¸ <code class="language-plaintext highlighter-rouge">.venv/</code> ë˜ëŠ” <code class="language-plaintext highlighter-rouge">85_Environments/conda</code></p>
  </li>
  <li>
    <p><strong>ì „ì—­ CLI</strong> : <code class="language-plaintext highlighter-rouge">pipx</code> â†’ <code class="language-plaintext highlighter-rouge">82_Tools/bin</code></p>
  </li>
</ul>

<p>ì›í•˜ë©´ ë„¤ OS/ì…¸(tcsh í¬í•¨)ì— ë§ì¶° <strong>ì„¤ì¹˜Â·PATHÂ·latest ë§í¬ ìƒì„±</strong> ì„ í•œ ë²ˆì— ëë‚´ëŠ” ì´ˆê¸°í™” ìŠ¤í¬ë¦½íŠ¸ë„ ë§Œë“¤ì–´ì¤„ê²Œ.</p>

<p class="chat--user">

ë‚´ ê°œì¸ì ìœ¼ë¡œ ë§Œë“  ìŠ¤í¬ë¦½íŠ¸ë“¤ì€ ì–´ë””ì— ë‘˜ê¹Œ

</p>

<p>ì§§ê²Œ: <strong>ìš©ë„ì— ë”°ë¼ ë‚˜ëˆ ë‘ë©´ í—·ê°ˆë¦¼ì´ ì‚¬ë¼ì ¸ìš”.</strong></p>

<ul>
  <li>
    <p><strong>ì–´ë””ì„œë‚˜ ì“°ëŠ” ê°œì¸ ìœ í‹¸(ë‹¨ì¼ ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸)</strong> â†’ <code class="language-plaintext highlighter-rouge">82_Tools/bin/</code>ï¼ˆPATHì— ë„£ê¸°ï¼‰</p>
  </li>
  <li>
    <p><strong>íˆ´ ê´€ë¦¬/ìœ ì§€ë³´ìˆ˜ìš© ìŠ¤í¬ë¦½íŠ¸(ì²´í¬ì„¬, ì¸ìŠ¤í†¨ëŸ¬ ì •ë¦¬ ë“±)</strong> â†’ <code class="language-plaintext highlighter-rouge">82_Tools/scripts/</code></p>
  </li>
  <li>
    <p><strong>í”„ë¡œì íŠ¸ ì „ìš© ìŠ¤í¬ë¦½íŠ¸(ë¹Œë“œ/ëŸ°/ë¦´ë¦¬ì¦ˆ)</strong> â†’ <code class="language-plaintext highlighter-rouge">20_Projects/&lt;PRJ&gt;/scripts/</code></p>
  </li>
  <li>
    <p><strong>ì¼íšŒì„±Â·ì‘ì—… ë‹¨ìœ„ ìŠ¤í¬ë¦½íŠ¸(ë¦¬í¬íŠ¸/ì‹¤í—˜ ì ˆì°¨)</strong> â†’ <code class="language-plaintext highlighter-rouge">25_Jobs/&lt;TYPE&gt;/&lt;YYYY&gt;/&lt;JOB&gt;/scripts/</code></p>
  </li>
  <li>
    <p><strong>Todayì—ì„œ â€œí˜„ì¬ ì…¸ ìœ ì§€â€ìš© ë˜í¼</strong> â†’ <code class="language-plaintext highlighter-rouge">10_Today/wrappers/</code></p>
  </li>
  <li>
    <p><strong>ìˆœìˆ˜ ì…¸ ì»¤ìŠ¤í„°ë§ˆì´ì¦ˆ(aliases/functions)</strong> â†’ <code class="language-plaintext highlighter-rouge">90_PersonalConfigs/shell/&lt;sh&gt;/rc.d/*.csh|*.sh</code></p>
  </li>
</ul>

<hr />

<h2 id="ì™œ-ì´ë ‡ê²Œ-ë‚˜ëˆ„ë‚˜">ì™œ ì´ë ‡ê²Œ ë‚˜ëˆ„ë‚˜?</h2>

<ul>
  <li>
    <p><strong>ì „ì—­ ìœ í‹¸ì€ PATHë¡œ ë°”ë¡œ í˜¸ì¶œ</strong> â†’ <code class="language-plaintext highlighter-rouge">82_Tools/bin/</code></p>
  </li>
  <li>
    <p><strong>í”„ë¡œì íŠ¸/ì‘ì—… ë§¥ë½ì´ í•„ìš”í•œ ê±´ ê·¸ í´ë” ì•ˆì—</strong> â†’ ì´ë™/ë°±ì—…/í˜‘ì—… ì‹œ ì¶”ì  ì‰¬ì›€</p>
  </li>
  <li>
    <p><strong>Today ë˜í¼ëŠ” source/ì¸í„°ë™í‹°ë¸Œ íŠ¹ì„±</strong> â†’ <code class="language-plaintext highlighter-rouge">10_Today/wrappers/</code>ê°€ ì•ˆì „</p>
  </li>
</ul>

<hr />

<h2 id="ë°”ë¡œ-ì ìš©-tcsh-ì˜ˆì‹œ">ë°”ë¡œ ì ìš© (tcsh ì˜ˆì‹œ)</h2>

<h3 id="1-ë””ë ‰í„°ë¦¬-ë§Œë“¤ê¸°--path-ì„¤ì •">1) ë””ë ‰í„°ë¦¬ ë§Œë“¤ê¸° + PATH ì„¤ì •</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh

mkdir -p ~/Work/82_Tools/{bin,scripts}
mkdir -p ~/Work/10_Today/wrappers
echo 'set path = ( $HOME/Work/82_Tools/bin $path )' &gt;&gt; ~/Work/90_PersonalConfigs/shell/tcsh/rc.d/20-paths.csh
source ~/Work/90_PersonalConfigs/shell/tcsh/.tcshrc
</code></pre></div></div>

<h3 id="2-ë°°í¬ê´€ë¦¬-íŒ¨í„´ì¶”ì²œ">2) ë°°í¬/ê´€ë¦¬ íŒ¨í„´(ì¶”ì²œ)</h3>

<ul>
  <li>
    <p><strong>ì •ë³¸(ë²„ì „ê´€ë¦¬)</strong> : <code class="language-plaintext highlighter-rouge">20_Projects/PRJ-UTILS-scripts/</code></p>
  </li>
  <li>
    <p><strong>ë°°í¬(ì‹¤í–‰ ìœ„ì¹˜)</strong> : <code class="language-plaintext highlighter-rouge">82_Tools/bin/</code></p>
  </li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh

# ì˜ˆ: ì •ë³¸ â†’ ë°°í¬ ë™ê¸°í™”
rsync -av --delete ~/Work/20_Projects/PRJ-UTILS-scripts/bin/ ~/Work/82_Tools/bin/
chmod +x ~/Work/82_Tools/bin/*
</code></pre></div></div>

<hr />

<h2 id="ì´ë¦„-ê·œì¹™í—·ê°ˆë¦¼-ë°©ì§€">ì´ë¦„ ê·œì¹™(í—·ê°ˆë¦¼ ë°©ì§€)</h2>

<ul>
  <li>
    <p>ì „ì—­ ìœ í‹¸: <code class="language-plaintext highlighter-rouge">lower-kebab</code> (ì˜ˆ: <code class="language-plaintext highlighter-rouge">ds-checksum</code>, <code class="language-plaintext highlighter-rouge">job-open</code>, <code class="language-plaintext highlighter-rouge">git-prune</code>)</p>
  </li>
  <li>
    <p>í”„ë¡œì íŠ¸ ì „ìš©: <code class="language-plaintext highlighter-rouge">scripts/&lt;verb&gt;_&lt;target&gt;.sh</code> (ì˜ˆ: <code class="language-plaintext highlighter-rouge">build_pkg.sh</code>, <code class="language-plaintext highlighter-rouge">release_pypi.sh</code>)</p>
  </li>
  <li>
    <p>ì‘ì—… ì „ìš©: <code class="language-plaintext highlighter-rouge">25_Jobs/.../scripts/run_pipeline.csh</code> ì²˜ëŸ¼ <strong>ì‘ì—… í´ë” ì•ˆ</strong> ì—ë§Œ ì¡´ì¬</p>
  </li>
</ul>

<hr />

<h2 id="ì‘ì€-ì²´í¬ë¦¬ìŠ¤íŠ¸">ì‘ì€ ì²´í¬ë¦¬ìŠ¤íŠ¸</h2>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">82_Tools/bin</code>ì— ë„£ì—ˆìœ¼ë©´ <strong>ì‹¤í–‰ê¶Œí•œ</strong>(chmod +x)ê³¼ <strong>í—¤ë” shebang</strong> í™•ì¸</p>
  </li>
  <li>
    <p>ë¹„ë°€/í† í°ì€ ì ˆëŒ€ ìŠ¤í¬ë¦½íŠ¸ì— í•˜ë“œì½”ë”© ê¸ˆì§€ â†’ <code class="language-plaintext highlighter-rouge">90_PersonalConfigs/secrets/</code> ê²½ìœ </p>
  </li>
  <li>
    <p>ê³µìš©í™”í•˜ê³  ì‹¶ì–´ì§€ë©´: <code class="language-plaintext highlighter-rouge">32_SharedConfigs/global/scripts/</code>ë¡œ ìŠ¹ê²© ë˜ëŠ” ë³„ë„ ë ˆí¬ë¡œ ë°°í¬</p>
  </li>
</ul>

<p>ì›í•˜ë©´ ë„¤ê°€ ê°€ì§„ ìŠ¤í¬ë¦½íŠ¸ ëª©ë¡ì„ ê¸°ì¤€ìœ¼ë¡œ <strong>ì–´ë””ë¡œ ì˜®ê¸¸ì§€ ë§¤í•‘í‘œ</strong> ì™€ <code class="language-plaintext highlighter-rouge">rsync</code> ë°°í¬ ìŠ¤í¬ë¦½íŠ¸ê¹Œì§€ ë°”ë¡œ ì¨ì¤„ê²Œ.</p>

<p class="chat--user">

python ì„¤ì¹˜í˜• ìŠ¤í¬ë¦½íŠ¸ë©´

</p>

<p>ì¢‹ì€ ì§ˆë¬¸! â€œ<strong>íŒŒì´ì¬ ì„¤ì¹˜í˜• ìŠ¤í¬ë¦½íŠ¸</strong>(= íŒ¨í‚¤ì§€ë¡œ ë§Œë“¤ì–´ <code class="language-plaintext highlighter-rouge">pip install</code> í•´ì„œ CLIê°€ ìƒê¸°ëŠ” í˜•íƒœ)â€ëŠ” <strong>ì†ŒìŠ¤/ë°°í¬/ì„¤ì¹˜(ì‹¤í–‰)</strong>ë¥¼ ë¶„ë¦¬í•˜ë©´ ê¹”ë”í•©ë‹ˆë‹¤.</p>

<h2 id="í•œ-ì¤„-ìš”ì•½-1">í•œ ì¤„ ìš”ì•½</h2>

<ul>
  <li>
    <p><strong>ì†ŒìŠ¤ ì •ë³¸</strong> â†’ <code class="language-plaintext highlighter-rouge">20_Projects/&lt;PRJ-TOOL_...&gt;/</code></p>
  </li>
  <li>
    <p><strong>ë¦´ë¦¬ìŠ¤ ì‚°ì¶œë¬¼(whl/sdist)</strong> â†’ <code class="language-plaintext highlighter-rouge">75_Releases/&lt;tool&gt;/vX.Y.Z/</code> (+ checksums/ReleaseNotes, <code class="language-plaintext highlighter-rouge">latest</code> ì‹¬ë§í¬)</p>
  </li>
  <li>
    <p><strong>ê°œì¸ ì „ì—­ ì„¤ì¹˜(ì‹¤í–‰ ë°”ì´ë„ˆë¦¬ ìœ„ì¹˜)</strong> â†’ <strong><code class="language-plaintext highlighter-rouge">pipx</code>ë¡œ ì„¤ì¹˜í•´ì„œ <code class="language-plaintext highlighter-rouge">82_Tools/bin</code>ì— ë…¸ì¶œ</strong></p>

    <ul>
      <li>(<code class="language-plaintext highlighter-rouge">PIPX_HOME</code>/<code class="language-plaintext highlighter-rouge">PIPX_BIN_DIR</code>ë¥¼ <code class="language-plaintext highlighter-rouge">82_Tools</code> ì•„ë˜ë¡œ ì¡ê¸°)</li>
    </ul>
  </li>
</ul>

<hr />

<h2 id="ê¶Œì¥-íë¦„ê°œì¸-ì „ì—­-clië¡œ-ì“°ê³ -ì‹¶ì„-ë•Œ">ê¶Œì¥ íë¦„(ê°œì¸ ì „ì—­ CLIë¡œ ì“°ê³  ì‹¶ì„ ë•Œ)</h2>

<h3 id="0-í™˜ê²½-ë³€ìˆ˜í•œë²ˆ-ì„¤ì •">0) í™˜ê²½ ë³€ìˆ˜(í•œë²ˆ ì„¤ì •)</h3>

<p><strong>bash/zsh</strong></p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">PIPX_HOME</span><span class="o">=</span><span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/Work/82_Tools/pipx"</span>
<span class="nb">export </span><span class="nv">PIPX_BIN_DIR</span><span class="o">=</span><span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/Work/82_Tools/bin"</span>
<span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="s2">"</span><span class="nv">$PIPX_BIN_DIR</span><span class="s2">:</span><span class="nv">$PATH</span><span class="s2">"</span>
</code></pre></div></div>

<p><strong>tcsh</strong></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh

setenv PIPX_HOME "$HOME/Work/82_Tools/pipx"
setenv PIPX_BIN_DIR "$HOME/Work/82_Tools/bin"
set path = ( $PIPX_BIN_DIR $path )
</code></pre></div></div>

<h3 id="1-ì†ŒìŠ¤-ì •ë³¸">1) ì†ŒìŠ¤ ì •ë³¸</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>20_Projects/PRJ-UTILS-mytool/
â”œâ”€ src/mytool/__init__.py
â”œâ”€ pyproject.toml
â””â”€ README.md
</code></pre></div></div>

<h3 id="2-ì—”íŠ¸ë¦¬-í¬ì¸íŠ¸-ì •ì˜ì„¤ì¹˜-í›„-mytool-ê°™ì€-ëª…ë ¹ì´-ìƒê¸°ê²Œ">2) ì—”íŠ¸ë¦¬ í¬ì¸íŠ¸ ì •ì˜(ì„¤ì¹˜ í›„ <code class="language-plaintext highlighter-rouge">mytool</code> ê°™ì€ ëª…ë ¹ì´ ìƒê¸°ê²Œ)</h3>

<p><code class="language-plaintext highlighter-rouge">pyproject.toml</code>(ì˜ˆ: hatchling/poetry/ì„¸íŠ¸ì—…íˆ´ ì–´ë–¤ ê²ƒì´ë“  ê°€ëŠ¥)</p>
<div class="language-toml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">[project]</span>
<span class="py">name</span> <span class="p">=</span> <span class="s">"mytool"</span>
<span class="py">version</span> <span class="p">=</span> <span class="s">"0.3.0"</span>
<span class="py">requires-python</span> <span class="p">=</span> <span class="py">"&gt;</span><span class="p">=</span><span class="mf">3.11</span><span class="s">"</span><span class="err">
</span><span class="py">dependencies</span> <span class="p">=</span> <span class="py">["click&gt;</span><span class="p">=</span><span class="mf">8.1</span><span class="s">"]</span><span class="err">
</span>
<span class="nn">[project.scripts]</span>
<span class="py">mytool</span> <span class="p">=</span> <span class="s">"mytool.cli:main"</span>
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">src/mytool/cli.py</code></p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">click</span>

<span class="nd">@click.command</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">click</span><span class="p">.</span><span class="nf">echo</span><span class="p">(</span><span class="sh">"</span><span class="s">hello from mytool</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="3-ë¡œì»¬-ê°œë°œí”„ë¡œì íŠ¸-venv">3) ë¡œì»¬ ê°œë°œ(í”„ë¡œì íŠ¸ venv)</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> ~/Work/20_Projects/PRJ-UTILS-mytool
python3 <span class="nt">-m</span> venv .venv <span class="o">&amp;&amp;</span> <span class="nb">.</span> .venv/bin/activate
pip <span class="nb">install</span> <span class="nt">-U</span> build
pip <span class="nb">install</span> <span class="nt">-e</span> <span class="nb">.</span>        <span class="c"># ê°œë°œ í¸ì˜ìš©(ì—ë””íŠ¸ëŸ¬ë¸”)</span>
mytool                  <span class="c"># ë™ì‘ í™•ì¸</span>
</code></pre></div></div>

<h3 id="4-ë¹Œë“œ--ë¦´ë¦¬ìŠ¤-ì•„ì¹´ì´ë¸Œ">4) ë¹Œë“œ &amp; ë¦´ë¦¬ìŠ¤ ì•„ì¹´ì´ë¸Œ</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python <span class="nt">-m</span> build                 <span class="c"># dist/*.whl, *.tar.gz ìƒì„±</span>
<span class="nb">mkdir</span> <span class="nt">-p</span> ~/Work/75_Releases/mytool/v0.3.0/checksums
<span class="nb">cp </span>dist/<span class="k">*</span> ~/Work/75_Releases/mytool/v0.3.0/
<span class="c"># ì²´í¬ì„¬</span>
<span class="o">(</span> <span class="nb">cd</span> ~/Work/75_Releases/mytool/v0.3.0 <span class="o">&amp;&amp;</span> <span class="se">\</span>
  shasum <span class="nt">-a</span> 256 <span class="k">*</span> <span class="o">&gt;</span> checksums/SHA256SUMS <span class="o">)</span>
<span class="c"># latest ê°±ì‹ (ë§¥/ë¦¬ëˆ…ìŠ¤)</span>
<span class="nb">ln</span> <span class="nt">-sfn</span> v0.3.0 ~/Work/75_Releases/mytool/latest
</code></pre></div></div>

<h3 id="5-ê°œì¸-ì „ì—­-ì„¤ì¹˜ëŠ”-pipxê¶Œì¥">5) ê°œì¸ ì „ì—­ ì„¤ì¹˜ëŠ” <strong>pipx</strong>(ê¶Œì¥)</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># ë°”í€´ì—ì„œ ì„¤ì¹˜</span>
pipx <span class="nb">install</span> ~/Work/75_Releases/mytool/v0.3.0/mytool-0.3.0-py3-none-any.whl
<span class="c"># ë˜ëŠ” ì†ŒìŠ¤ì—ì„œ ë°”ë¡œ</span>
pipx <span class="nb">install</span> ~/Work/20_Projects/PRJ-UTILS-mytool
<span class="c"># ì—…ê·¸ë ˆì´ë“œ</span>
pipx upgrade mytool
</code></pre></div></div>

<ul>
  <li>ì„¤ì¹˜ í›„ <strong>ì‹¤í–‰íŒŒì¼</strong> ì´ <code class="language-plaintext highlighter-rouge">82_Tools/bin/mytool</code>ë¡œ ë…¸ì¶œ â†’ PATHë§Œ ì¡í˜€ ìˆìœ¼ë©´ ì–´ë””ì„œë“  ì‚¬ìš©.</li>
</ul>

<blockquote>
  <p><strong>ì™œ pipx?</strong> ì „ìš© ê²©ë¦¬ venvì— ì„¤ì¹˜í•´ì„œ ë‹¤ë¥¸ í”„ë¡œì íŠ¸ ì˜ì¡´ì„±ê³¼ ì•ˆ ì„ì…ë‹ˆë‹¤.<br />
 ì „ì—­ <code class="language-plaintext highlighter-rouge">pip install --user</code>ëŠ” ì¶©ëŒ/ë³µêµ¬ ë‚œì´ë„ ë•Œë¬¸ì— ë¹„ê¶Œì¥.</p>
</blockquote>

<hr />

<h2 id="í”„ë¡œì íŠ¸-ì „ìš©-clië¡œë§Œ-ì“¸-ë•Œ">í”„ë¡œì íŠ¸ ì „ìš© CLIë¡œë§Œ ì“¸ ë•Œ</h2>

<ul>
  <li>
    <p>ì†ŒìŠ¤ëŠ” ë™ì¼í•˜ê²Œ <code class="language-plaintext highlighter-rouge">20_Projects/...</code></p>
  </li>
  <li>
    <p>ì„¤ì¹˜ëŠ” <strong>ê·¸ í”„ë¡œì íŠ¸ì˜<code class="language-plaintext highlighter-rouge">.venv/</code>ì—ë§Œ</strong>:</p>
  </li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> ~/Work/20_Projects/PRJ-APP
python3 <span class="nt">-m</span> venv .venv <span class="o">&amp;&amp;</span> <span class="nb">.</span> .venv/bin/activate
pip <span class="nb">install</span> <span class="nt">-e</span> ../PRJ-UTILS-mytool
mytool  <span class="c"># venv ì•ˆì—ì„œë§Œ ë³´ì„</span>
</code></pre></div></div>

<ul>
  <li>Today ëŸ°ì²˜ ëª…ë ¹ì—:</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>App (venv) | /abs/PRJ-APP | source .venv/bin/activate.csh; mytool run --fast
</code></pre></div></div>

<hr />

<h2 id="ë‹¨ì¼-íŒŒì¼ë¡œ-ë°°í¬í•˜ê³ -ì‹¶ë‹¤ë©´-ìê¸‰ìì¡±-ì‹¤í–‰íŒŒì¼">â€œë‹¨ì¼ íŒŒì¼ë¡œ ë°°í¬í•˜ê³  ì‹¶ë‹¤â€ë©´ (ìê¸‰ìì¡± ì‹¤í–‰íŒŒì¼)</h2>

<ul>
  <li><strong>zipapp</strong>(í‘œì¤€) / <strong>shiv</strong> / <strong>pex</strong> ë¡œ <strong>ë‹¨ì¼ ì‹¤í–‰ íŒŒì¼</strong> ìƒì‚° â†’ <code class="language-plaintext highlighter-rouge">82_Tools/bin</code> ë°°ì¹˜</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python <span class="nt">-m</span> zipapp src <span class="nt">-m</span> <span class="s1">'mytool.cli:main'</span> <span class="nt">-o</span> ~/Work/82_Tools/bin/mytool.pyz
<span class="nb">chmod</span> +x ~/Work/82_Tools/bin/mytool.pyz
</code></pre></div></div>

<ul>
  <li>íŒŒì´ì¬ ëŸ°íƒ€ì„ ì˜ì¡´ì´ ì¤„ì–´ë“  <strong>shiv/pex</strong> ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ ë²ˆë“¤ê¹Œì§€ ê°€ëŠ¥.</li>
</ul>

<hr />

<h2 id="í´ë”-ë°°ì¹˜-ìš”ì•½ì„¤ì¹˜í˜•-ìŠ¤í¬ë¦½íŠ¸-ê´€ì ">í´ë” ë°°ì¹˜ ìš”ì•½(ì„¤ì¹˜í˜• ìŠ¤í¬ë¦½íŠ¸ ê´€ì )</h2>

<ul>
  <li>
    <p><strong>ì†ŒìŠ¤ ì •ë³¸</strong> : <code class="language-plaintext highlighter-rouge">20_Projects/PRJ-UTILS-&lt;name&gt;/</code></p>
  </li>
  <li>
    <p><strong>ë¦´ë¦¬ìŠ¤ ì•„ì¹´ì´ë¸Œ</strong> : <code class="language-plaintext highlighter-rouge">75_Releases/&lt;name&gt;/vX.Y.Z/</code> (+ <code class="language-plaintext highlighter-rouge">checksums/</code>, <code class="language-plaintext highlighter-rouge">ReleaseNotes.md</code>, <code class="language-plaintext highlighter-rouge">latest</code>)</p>
  </li>
  <li>
    <p><strong>ê°œì¸ ì „ì—­ ì„¤ì¹˜(ì‹¤í–‰ ìœ„ì¹˜)</strong> : <code class="language-plaintext highlighter-rouge">pipx</code> â†’ <code class="language-plaintext highlighter-rouge">82_Tools/bin/&lt;name&gt;</code><br />
(í™˜ê²½: <code class="language-plaintext highlighter-rouge">PIPX_HOME=~/Work/82_Tools/pipx</code>, <code class="language-plaintext highlighter-rouge">PIPX_BIN_DIR=~/Work/82_Tools/bin</code>)</p>
  </li>
  <li>
    <p><strong>íˆ´ ì›ë³¸ ë³´ê´€(ì„ íƒ)</strong> : ë¹Œë“œ ì‚°ì¶œë¬¼ì„ <code class="language-plaintext highlighter-rouge">82_Tools/installers/python/wheels/&lt;vendor_or_proj&gt;/</code>ì—ë„ ì¹´í”¼í•´ ë‘ë©´ íšŒìˆ˜ ìš©ì´</p>
  </li>
</ul>

<hr />

<h2 id="ì£¼ì˜ì‚¬í•­ì¤‘ìš”">ì£¼ì˜ì‚¬í•­(ì¤‘ìš”)</h2>

<ul>
  <li>
    <p><strong>ì‹œìŠ¤í…œ Python ê±´ë“œë¦¬ì§€ ì•Šê¸°</strong> : OS íŒ¨í‚¤ì§€ ì¶©ëŒ ìœ„í—˜.</p>
  </li>
  <li>
    <p><strong>ì „ì—­<code class="language-plaintext highlighter-rouge">pip install</code> ì§€ì–‘</strong>, ê°€ëŠ¥í•˜ë©´ <strong>pipx</strong>.</p>
  </li>
  <li>
    <p><strong>ìœˆë„ìš°</strong> : pipxê°€ <code class="language-plaintext highlighter-rouge">â€¦\Scripts\</code>ì— shimì„ ë§Œë“­ë‹ˆë‹¤. <code class="language-plaintext highlighter-rouge">PIPX_BIN_DIR</code>ë¥¼ <code class="language-plaintext highlighter-rouge">82_Tools\bin</code>ìœ¼ë¡œ ì§€ì •í•´ ë‘ë©´ ë™ì¼í•œ êµ¬ì¡°.</p>
  </li>
  <li>
    <p><strong>ë¹„ë°€ ì •ë³´</strong> ëŠ” íŒ¨í‚¤ì§€ì— ë„£ì§€ ë§ê³  ì‹¤í–‰ ì‹œ í™˜ê²½ë³€ìˆ˜/íŒŒì¼ë¡œ ì£¼ì…(â†’ <code class="language-plaintext highlighter-rouge">90_PersonalConfigs/secrets</code>).</p>
  </li>
  <li>
    <p><strong>Repro</strong> : CLIê°€ íŒ€ í‘œì¤€ì´ ë˜ë©´ <code class="language-plaintext highlighter-rouge">32_SharedConfigs/global/&lt;tool&gt;/README.md</code>ì— ë²„ì „/ì„¤ì¹˜ë²• ê¸°ë¡.</p>
  </li>
</ul>

<p>ì›í•˜ë©´ ë„¤ê°€ ê°€ì§„ ìŠ¤í¬ë¦½íŠ¸ ëª©ë¡ì„ ì•Œë ¤ì¤˜. <strong>pipx ë°°í¬í˜•</strong> ìœ¼ë¡œ ë¬¶ì„ ê²ƒ vs <strong>í”„ë¡œì íŠ¸ venv ì „ìš©</strong> ìœ¼ë¡œ ë‘˜ ê²ƒì„ ë‚˜ëˆ ì„œ, <strong>ë§ì¶¤ pyproject í…œí”Œë¦¿</strong> ì´ë‘ <code class="language-plaintext highlighter-rouge">pipx</code> ì„¤ì¹˜ ìŠ¤í¬ë¦½íŠ¸ê¹Œì§€ ë°”ë¡œ ì •ë¦¬í•´ì¤„ê²Œ!</p>

<p class="chat--user">

ì—”íŠ¸ë¦¬ í¬ì¸íŠ¸ ì„¤ì¹˜í•˜ê³  ê·¸ê±¸ ì–´ë”” ë†”

</p>

<p>ì§§ê²Œ: <strong>ì—”íŠ¸ë¦¬ í¬ì¸íŠ¸(ì½˜ì†” ìŠ¤í¬ë¦½íŠ¸)ëŠ” â€œë†“ëŠ” ê²ƒâ€ì´ ì•„ë‹ˆë¼ â€œì„¤ì¹˜ëœ í™˜ê²½ì´ ë§Œë“¤ì–´ ì£¼ëŠ” ì‹¤í–‰ íŒŒì¼â€</strong>ì´ì—ìš”.<br />
ì›í•˜ëŠ” ë²”ìœ„ì— ë”°ë¼ ìœ„ì¹˜ê°€ ë‹¬ë¼ì§‘ë‹ˆë‹¤:</p>

<ul>
  <li>
    <p><strong>ì „ì—­(ê°œì¸ ì „ì²´ì—ì„œ ì“°ê³  ì‹¶ë‹¤)</strong> â†’ <code class="language-plaintext highlighter-rouge">pipx</code>ë¡œ ì„¤ì¹˜í•˜ë©´ <strong><code class="language-plaintext highlighter-rouge">82_Tools/bin/&lt;name&gt;</code></strong>ì— ìƒê¸°ê²Œ ë§Œë“¤ ìˆ˜ ìˆì–´ìš”. âœ… (ì¶”ì²œ)</p>
  </li>
  <li>
    <p><strong>íŠ¹ì • í”„ë¡œì íŠ¸ì—ì„œë§Œ</strong> â†’ ê·¸ í”„ë¡œì íŠ¸ì˜ <strong><code class="language-plaintext highlighter-rouge">.venv/bin/&lt;name&gt;</code></strong>(WindowsëŠ” <code class="language-plaintext highlighter-rouge">.venv/Scripts/&lt;name&gt;.exe|.cmd</code>)ì— ìƒê¹ë‹ˆë‹¤.</p>
  </li>
  <li>
    <p><strong>conda í™˜ê²½ì—ì„œë§Œ</strong> â†’ í•´ë‹¹ <strong>conda envì˜ <code class="language-plaintext highlighter-rouge">bin/</code>(WindowsëŠ” <code class="language-plaintext highlighter-rouge">Scripts/</code>)</strong>ì— ìƒê¹ë‹ˆë‹¤.</p>
  </li>
</ul>

<p>ì•„ë˜ ìˆœì„œëŒ€ë¡œ ì“°ë©´ í—·ê°ˆë¦¼ì´ ì‚¬ë¼ì ¸ìš”.</p>

<hr />

<h1 id="1-ì „ì—­-clië¡œ-ì“°ê³ -ì‹¶ì„-ë•Œ-ì¶”ì²œ-pipx">1) â€œì „ì—­ CLIâ€ë¡œ ì“°ê³  ì‹¶ì„ ë•Œ (ì¶”ì²œ: <code class="language-plaintext highlighter-rouge">pipx</code>)</h1>

<ul>
  <li>ëª©ì : ì–´ë””ì„œë‚˜ <code class="language-plaintext highlighter-rouge">mytool</code> ëª…ë ¹ì´ ë¨¹íˆê²Œ. ì‹¤í–‰ íŒŒì¼ì€ <code class="language-plaintext highlighter-rouge">82_Tools/bin</code>ì— ë…¸ì¶œ.</li>
</ul>

<h2 id="tcshë„¤-ì…¸-ê¸°ì¤€-1íšŒ-ì„¤ì •">tcsh(ë„¤ ì…¸ ê¸°ì¤€) 1íšŒ ì„¤ì •</h2>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh

setenv PIPX_HOME "$HOME/Work/82_Tools/pipx"
setenv PIPX_BIN_DIR "$HOME/Work/82_Tools/bin"
set path = ( $PIPX_BIN_DIR $path )
</code></pre></div></div>

<h2 id="ì„¤ì¹˜-ì†ŒìŠ¤ë‚˜-íœ ì—ì„œ">ì„¤ì¹˜ (ì†ŒìŠ¤ë‚˜ íœ ì—ì„œ)</h2>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh

# ì†ŒìŠ¤ì—ì„œ
pipx install "$HOME/Work/20_Projects/PRJ-UTILS-mytool"
# ë˜ëŠ” ë¦´ë¦¬ìŠ¤ íœ ì—ì„œ
pipx install "$HOME/Work/75_Releases/mytool/v0.3.0/mytool-0.3.0-py3-none-any.whl"
</code></pre></div></div>

<p>â†’ ê²°ê³¼: ì‹¤í–‰ íŒŒì¼ì´ <strong><code class="language-plaintext highlighter-rouge">~/Work/82_Tools/bin/mytool</code></strong> ë¡œ ìƒì„±. PATHì— ìˆì–´ì„œ ì–´ë””ì„œë“  ì‹¤í–‰ ê°€ëŠ¥.<br />
ì—…ë°ì´íŠ¸ëŠ” <code class="language-plaintext highlighter-rouge">pipx upgrade mytool</code>, ì œê±°ëŠ” <code class="language-plaintext highlighter-rouge">pipx uninstall mytool</code>.</p>

<blockquote>
  <p>ì°¸ê³ : ì‹¤ì œ íŒ¨í‚¤ì§€ëŠ” <code class="language-plaintext highlighter-rouge">82_Tools/pipx/venvs/mytool/</code>ì— ê²©ë¦¬ë˜ì–´ ì„¤ì¹˜ë˜ê³ ,<br />
 <code class="language-plaintext highlighter-rouge">82_Tools/bin/mytool</code>ì€ ê·¸ venvë¥¼ í˜¸ì¶œí•˜ëŠ” <strong>ì‰¼(ë˜í¼)</strong>ì…ë‹ˆë‹¤.</p>
</blockquote>

<hr />

<h1 id="2-í”„ë¡œì íŠ¸-ì „ìš©ìœ¼ë¡œë§Œ-ì“°ê³ -ì‹¶ì„-ë•Œ">2) â€œí”„ë¡œì íŠ¸ ì „ìš©â€ìœ¼ë¡œë§Œ ì“°ê³  ì‹¶ì„ ë•Œ</h1>

<ul>
  <li>ëª©ì : ê·¸ í”„ë¡œì íŠ¸ì˜ venvì—ì„œë§Œ <code class="language-plaintext highlighter-rouge">mytool</code>ì´ ë³´ì´ê²Œ.</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh

cd ~/Work/20_Projects/PRJ-APP
python3 -m venv .venv
source .venv/bin/activate.csh
pip install -e ../PRJ-UTILS-mytool     # ë˜ëŠ” ë¹Œë“œëœ íœ 
mytool                                  # ì—¬ê¸°ì„  ë™ì‘
</code></pre></div></div>

<p>â†’ ì‹¤í–‰ íŒŒì¼ì€ <strong><code class="language-plaintext highlighter-rouge">~/Work/20_Projects/PRJ-APP/.venv/bin/mytool</code></strong>.<br />
í”„ë¡œì íŠ¸ ë°–/ë¹„í™œì„±í™” ìƒíƒœì—ì„  <strong>ì•ˆ ë³´ì´ëŠ”</strong> ê²Œ ì •ìƒì…ë‹ˆë‹¤.</p>

<p>Today ëŸ°ì²˜ ì˜ˆ:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>App (venv) | /Users/me/Work/20_Projects/PRJ-APP | source .venv/bin/activate.csh; mytool run --fast
</code></pre></div></div>

<hr />

<h1 id="3-conda-í™˜ê²½ì—ì„œ-ì“°ê³ -ì‹¶ì„-ë•Œ">3) conda í™˜ê²½ì—ì„œ ì“°ê³  ì‹¶ì„ ë•Œ</h1>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh

source ~/miniconda3/etc/profile.d/conda.csh
conda create -n tools311 python=3.11 -y
conda activate tools311
pip install mytool
which mytool      # â†’ &lt;conda_prefix&gt;/bin/mytool
</code></pre></div></div>

<p>â†’ ì´ ê²½ìš°ì—ë„ <strong>í•´ë‹¹ envì˜ <code class="language-plaintext highlighter-rouge">bin/</code></strong>ì— ìƒì„±ë©ë‹ˆë‹¤.</p>

<hr />

<h1 id="4-ì˜®ê¸°ì§€-ë§ê³ -ë…¸ì¶œí•˜ëŠ”-ë²•-ì¤‘ìš”">4) â€œì˜®ê¸°ì§€ ë§ê³  ë…¸ì¶œâ€í•˜ëŠ” ë²• (ì¤‘ìš”)</h1>

<p>ìƒì„±ëœ ì½˜ì†” ìŠ¤í¬ë¦½íŠ¸ëŠ” <strong>ë³µì‚¬/ì´ë™í•˜ì§€ ë§ê³ </strong> :</p>

<ul>
  <li>
    <p>ì „ì—­ì´ë©´ <strong><code class="language-plaintext highlighter-rouge">pipx</code></strong>ë¡œ <code class="language-plaintext highlighter-rouge">82_Tools/bin</code>ì— <strong>ì§ì ‘</strong> ìƒê¸°ê²Œ í•˜ê±°ë‚˜,</p>
  </li>
  <li>
    <p>í”„ë¡œì íŠ¸ ì „ìš©ì´ë©´ <strong>Today ëŸ°ì²˜</strong> ë¡œ venv í™œì„±í™” í›„ ì‹¤í–‰í•˜ì„¸ìš”.</p>
  </li>
  <li>
    <p>ì •ë§ ì „ì—­ì²˜ëŸ¼ ë³´ì—¬ì•¼ í•˜ëŠ”ë° í”„ë¡œì íŠ¸ venv ì•ˆì—ë§Œ ìˆë‹¤ë©´, <strong>ì‹¬ë³¼ë¦­ ë§í¬</strong> ë¡œ ë…¸ì¶œí•˜ì„¸ìš”:</p>
  </li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh

# ì˜ˆ: venv ì•ˆì˜ ì‹¤í–‰ íŒŒì¼ì„ 82_Tools/binì— ë§í¬
ln -sfn "$HOME/Work/20_Projects/PRJ-APP/.venv/bin/mytool" \
       "$HOME/Work/82_Tools/bin/mytool"
</code></pre></div></div>

<blockquote>
  <p>ì´ë ‡ê²Œ í•˜ë©´ ì›ë³¸ì€ venvì— ë‚¨ê³ , PATHìƒ <code class="language-plaintext highlighter-rouge">82_Tools/bin/mytool</code>ë¡œ ì ‘ê·¼ ê°€ëŠ¥í•©ë‹ˆë‹¤.<br />
 (ë‹¨, venvê°€ ì‚­ì œ/ê²½ë¡œ ë³€ê²½ë˜ë©´ ë§í¬ê°€ ê¹¨ì§€ë‹ˆ pipxê°€ ë” ì•ˆì •ì ì´ì—ìš”.)</p>
</blockquote>

<hr />

<h1 id="5-ì†ŒìŠ¤ë¦´ë¦¬ìŠ¤ì‹¤í–‰-ì„¸-ì¹¸-ë‹¤ì‹œ-ì •ë¦¬">5) ì†ŒìŠ¤/ë¦´ë¦¬ìŠ¤/ì‹¤í–‰ â€œì„¸ ì¹¸â€ ë‹¤ì‹œ ì •ë¦¬</h1>

<ul>
  <li>
    <p><strong>ì†ŒìŠ¤ ì •ë³¸</strong> : <code class="language-plaintext highlighter-rouge">20_Projects/PRJ-UTILS-mytool/</code></p>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">pyproject.toml</code>ì˜ <code class="language-plaintext highlighter-rouge">[project.scripts] mytool = "mytool.cli:main"</code></li>
    </ul>
  </li>
  <li>
    <p><strong>ë¦´ë¦¬ìŠ¤ ë³´ê´€</strong> : <code class="language-plaintext highlighter-rouge">75_Releases/mytool/vX.Y.Z/</code> (+ <code class="language-plaintext highlighter-rouge">checksums/</code>, <code class="language-plaintext highlighter-rouge">ReleaseNotes.md</code>, <code class="language-plaintext highlighter-rouge">latest</code>)</p>
  </li>
  <li>
    <p><strong>ì‹¤í–‰ ìœ„ì¹˜</strong> :</p>

    <ul>
      <li>
        <p>ì „ì—­: <code class="language-plaintext highlighter-rouge">pipx</code> â†’ <strong><code class="language-plaintext highlighter-rouge">82_Tools/bin/mytool</code></strong></p>
      </li>
      <li>
        <p>í”„ë¡œì íŠ¸ë§Œ: <strong><code class="language-plaintext highlighter-rouge">&lt;PRJ&gt;/.venv/bin/mytool</code></strong></p>
      </li>
      <li>
        <p>conda: <strong><code class="language-plaintext highlighter-rouge">&lt;conda_env&gt;/bin/mytool</code></strong></p>
      </li>
    </ul>
  </li>
</ul>

<hr />

<h1 id="6-windows-í•œ-ì¤„-ìš”ì•½">6) Windows í•œ ì¤„ ìš”ì•½</h1>

<ul>
  <li>
    <p>pipx ì „ì—­: <code class="language-plaintext highlighter-rouge">82_Tools\bin\mytool.exe|.cmd</code> (PIPX_BIN_DIR ì„¤ì •)</p>
  </li>
  <li>
    <p>venv: <code class="language-plaintext highlighter-rouge">&lt;PRJ&gt;\.venv\Scripts\mytool.exe</code></p>
  </li>
  <li>
    <p>conda: <code class="language-plaintext highlighter-rouge">&lt;conda&gt;\envs\&lt;name&gt;\Scripts\mytool.exe</code></p>
  </li>
</ul>

<hr />

<h2 id="ê²°ë¡ -2">ê²°ë¡ </h2>

<ul>
  <li>
    <p><strong>ì „ì—­ìœ¼ë¡œ ì“°ê³  ì‹¶ë‹¤</strong> â†’ <code class="language-plaintext highlighter-rouge">pipx</code>ë¡œ ì„¤ì¹˜í•´ì„œ <strong><code class="language-plaintext highlighter-rouge">82_Tools/bin</code></strong>ì— ìƒê¸°ê²Œ.</p>
  </li>
  <li>
    <p><strong>í”„ë¡œì íŠ¸/condaë§Œ</strong> â†’ í•´ë‹¹ í™˜ê²½ì˜ <code class="language-plaintext highlighter-rouge">bin/</code>(ë˜ëŠ” <code class="language-plaintext highlighter-rouge">Scripts/</code>)ì— ìƒê¹€.</p>
  </li>
  <li>
    <p><strong>ì´ë™/ë³µì‚¬ X</strong> , í•„ìš” ì‹œ <strong>ì‹¬ë³¼ë¦­ ë§í¬</strong> ë˜ëŠ” <strong>Today ëŸ°ì²˜</strong> ë¡œ í˜¸ì¶œ.</p>
  </li>
</ul>

<p>ì›í•˜ë©´ ë„¤ê°€ ë§Œë“  íŒ¨í‚¤ì§€ ì´ë¦„/ë²„ì „ ì•Œë ¤ì¤˜. <code class="language-plaintext highlighter-rouge">pyproject.toml</code>ì˜ ì—”íŠ¸ë¦¬ í¬ì¸íŠ¸, <code class="language-plaintext highlighter-rouge">pipx</code> ì„¤ì¹˜ ìŠ¤í¬ë¦½íŠ¸, Today ë‹¨ì¶•ê¹Œì§€ í•œ ë²ˆì— ì„¸íŒ…í•´ ì¤„ê²Œ!</p>

<p class="chat--user">

pipxê°€ ë­ì•¼

</p>

<p><code class="language-plaintext highlighter-rouge">pipx</code>ëŠ” <strong>íŒŒì´ì¬ ê¸°ë°˜ CLI ì•±ì„ â€œì„œë¡œ ê²©ë¦¬ëœ ê°€ìƒí™˜ê²½(venv)â€ì— ì„¤ì¹˜</strong> í•´ ì£¼ê³ , ê·¸ ì‹¤í–‰ íŒŒì¼ë§Œ <strong>ì „ì—­ PATH</strong> ì— ë…¸ì¶œí•´ ì£¼ëŠ” ë„êµ¬ì˜ˆìš”.<br />
ì‰½ê²Œ ë§í•´: <em>â€œê°œì¸ìš© ì „ì—­ ëª…ë ¹(ruff, black, uv, httpie, mkdocs, mytool ë“±)ì„ ì¶©ëŒ ì—†ì´ ê¹”ë”í•˜ê²Œ ì“°ê²Œ í•´ì£¼ëŠ” ì„¤ì¹˜ ê´€ë¦¬ìâ€</em>ì…ë‹ˆë‹¤.</p>

<hr />

<h1 id="ì™œ-pipxë¥¼-ì“°ë‚˜">ì™œ pipxë¥¼ ì“°ë‚˜?</h1>

<ul>
  <li>
    <p><strong>ê²©ë¦¬</strong> : ì•±ë§ˆë‹¤ ê°œë³„ venv â†’ ì„œë¡œ ì˜ì¡´ì„± ì¶©ëŒ ì—†ìŒ.</p>
  </li>
  <li>
    <p><strong>ì „ì—­ì²˜ëŸ¼ ì‚¬ìš©</strong> : ì‹¤í–‰ íŒŒì¼ì€ í•œ ë””ë ‰í„°ë¦¬(ì˜ˆ: <code class="language-plaintext highlighter-rouge">~/Work/82_Tools/bin</code>)ì— ìƒê²¨ ì–´ë””ì„œë‚˜ í˜¸ì¶œ.</p>
  </li>
  <li>
    <p><strong>ê´€ë¦¬ í¸í•¨</strong> : <code class="language-plaintext highlighter-rouge">pipx upgrade</code>, <code class="language-plaintext highlighter-rouge">pipx uninstall</code>, <code class="language-plaintext highlighter-rouge">pipx list</code> ë“±ìœ¼ë¡œ ì•± ë‹¨ìœ„ ê´€ë¦¬.</p>
  </li>
  <li>
    <p><strong>ì•ˆì „</strong> : ì‹œìŠ¤í…œ íŒŒì´ì¬/í”„ë¡œì íŠ¸ venvë¥¼ ì˜¤ì—¼ì‹œí‚¤ì§€ ì•ŠìŒ. <code class="language-plaintext highlighter-rouge">pip install --user</code> ëŒ€ë¹„ ë³µêµ¬ ì‰¬ì›€.</p>
  </li>
</ul>

<hr />

<h1 id="ë‚´-í´ë”-êµ¬ì¡°ì—-ë§ì¶˜-ì„¤ì •-í•œ-ë²ˆë§Œ">ë‚´ í´ë” êµ¬ì¡°ì— ë§ì¶˜ ì„¤ì • (í•œ ë²ˆë§Œ)</h1>

<p><strong>ê¶Œì¥ ìœ„ì¹˜</strong></p>

<ul>
  <li>
    <p>ì•± venv ì €ì¥ì†Œ: <code class="language-plaintext highlighter-rouge">~/Work/82_Tools/pipx/venvs/â€¦</code></p>
  </li>
  <li>
    <p>ì‹¤í–‰ íŒŒì¼ ë…¸ì¶œ: <code class="language-plaintext highlighter-rouge">~/Work/82_Tools/bin/â€¦</code></p>
  </li>
</ul>

<h2 id="tcsh-3">tcsh</h2>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcsh

setenv PIPX_HOME    "$HOME/Work/82_Tools/pipx"
setenv PIPX_BIN_DIR "$HOME/Work/82_Tools/bin"
# PATH ì•ìª½ì— ë°°ì¹˜
set path = ( $PIPX_BIN_DIR $path )
</code></pre></div></div>

<h2 id="bashzsh-3">bash/zsh</h2>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">PIPX_HOME</span><span class="o">=</span><span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/Work/82_Tools/pipx"</span>
<span class="nb">export </span><span class="nv">PIPX_BIN_DIR</span><span class="o">=</span><span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/Work/82_Tools/bin"</span>
<span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="s2">"</span><span class="nv">$PIPX_BIN_DIR</span><span class="s2">:</span><span class="nv">$PATH</span><span class="s2">"</span>
</code></pre></div></div>

<h2 id="powershell-4">PowerShell</h2>
<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">PIPX_HOME</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work\82_Tools\pipx"</span><span class="w">
</span><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">PIPX_BIN_DIR</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work\82_Tools\bin"</span><span class="w">
</span><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">Path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"</span><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">PIPX_BIN_DIR</span><span class="s2">;</span><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">Path</span><span class="s2">"</span><span class="w">
</span></code></pre></div></div>

<blockquote>
  <p>ìœ„ ì„¤ì •ì€ ë„¤ ì…¸ ì„¤ì • íŒŒì¼(ì˜ˆ: <code class="language-plaintext highlighter-rouge">90_PersonalConfigs/shell/tcsh/rc.d/20-pipx.csh</code>)ì— ë„£ì–´ ë‘ì„¸ìš”.</p>
</blockquote>

<hr />

<h1 id="ì„¤ì¹˜-ë°©ë²•">ì„¤ì¹˜ ë°©ë²•</h1>

<ul>
  <li>
    <p><strong>macOS</strong> : <code class="language-plaintext highlighter-rouge">brew install pipx</code></p>
  </li>
  <li>
    <p><strong>Linux</strong> : <code class="language-plaintext highlighter-rouge">python3 -m pip install --user pipx</code> ë˜ëŠ” ë°°í¬íŒ íŒ¨í‚¤ì§€(<code class="language-plaintext highlighter-rouge">pipx</code> íŒ¨í‚¤ì§€)<br />
ì´í›„ <code class="language-plaintext highlighter-rouge">python3 -m pipx ensurepath</code>(ìš°ë¦¬ëŠ” ì´ë¯¸ PATHë¥¼ ì§ì ‘ ì„¤ì •í–ˆìœ¼ë‹ˆ ìƒëµ ê°€ëŠ¥)</p>
  </li>
  <li>
    <p><strong>Windows</strong> : <code class="language-plaintext highlighter-rouge">py -m pip install --user pipx</code> â†’ ìƒˆ í„°ë¯¸ë„ì—ì„œ <code class="language-plaintext highlighter-rouge">pipx --version</code></p>
  </li>
</ul>

<hr />

<h1 id="ê¸°ë³¸-ì‚¬ìš©ë²•-ê°€ì¥-ìì£¼-ì“°ëŠ”-ê²ƒë§Œ">ê¸°ë³¸ ì‚¬ìš©ë²• (ê°€ì¥ ìì£¼ ì“°ëŠ” ê²ƒë§Œ)</h1>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pipx <span class="nb">install </span>ruff          <span class="c"># ruff CLI ì„¤ì¹˜ â†’ ~/Work/82_Tools/bin/ruff</span>
pipx upgrade ruff          <span class="c"># ìµœì‹ ìœ¼ë¡œ ì—…ë°ì´íŠ¸</span>
pipx uninstall ruff        <span class="c"># ì œê±°</span>
pipx list                  <span class="c"># ì„¤ì¹˜ëœ ì•± ëª©ë¡</span>
pipx run cowsay hello      <span class="c"># â€œì„¤ì¹˜ ì—†ì´â€ 1íšŒ ì‹¤í–‰</span>
</code></pre></div></div>

<h2 id="ë‚´-íŒ¨í‚¤ì§€ë¡œì»¬ë¦´ë¦¬ìŠ¤-ì„¤ì¹˜">ë‚´ íŒ¨í‚¤ì§€(ë¡œì»¬/ë¦´ë¦¬ìŠ¤) ì„¤ì¹˜</h2>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># ì†ŒìŠ¤ì—ì„œ(ê°œë°œ ë ˆí¬ ë°”ë¡œ)</span>
pipx <span class="nb">install</span> ~/Work/20_Projects/PRJ-UTILS-mytool

<span class="c"># ë‚´ê°€ ë¹Œë“œí•œ íœ ì—ì„œ(ë¦´ë¦¬ìŠ¤ ë³´ê´€ í´ë”)</span>
pipx <span class="nb">install</span> ~/Work/75_Releases/mytool/v0.3.0/mytool-0.3.0-py3-none-any.whl
</code></pre></div></div>

<p>â†’ ì‹¤í–‰ íŒŒì¼: <code class="language-plaintext highlighter-rouge">~/Work/82_Tools/bin/mytool</code></p>

<h2 id="íŠ¹ì •-ì•±-venvì—-í”ŒëŸ¬ê·¸ì¸ì¶”ê°€-ì˜ì¡´ì„±-ë„£ê¸°">íŠ¹ì • ì•± venvì— í”ŒëŸ¬ê·¸ì¸/ì¶”ê°€ ì˜ì¡´ì„± ë„£ê¸°</h2>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pipx inject mkdocs mkdocs-material
</code></pre></div></div>

<hr />

<h1 id="í”„ë¡œì íŠ¸-venvcondaì™€ì˜-ì—­í• -ë¶„ë‹´">í”„ë¡œì íŠ¸ venv/condaì™€ì˜ ì—­í•  ë¶„ë‹´</h1>

<ul>
  <li>
    <p><strong>ì „ì—­ì ìœ¼ë¡œ ìì£¼ ì“°ëŠ” CLI</strong> â†’ <code class="language-plaintext highlighter-rouge">pipx</code> (ruff, black, uv, pre-commit, httpie, mypy, mkdocs â€¦)</p>
  </li>
  <li>
    <p><strong>í”„ë¡œì íŠ¸ì— ì¢…ì†ëœ ë¼ì´ë¸ŒëŸ¬ë¦¬/ë„êµ¬</strong> â†’ í•´ë‹¹ <strong><code class="language-plaintext highlighter-rouge">.venv</code></strong> ë˜ëŠ” <strong>conda env</strong></p>
  </li>
  <li>
    <p>Today ëŸ°ì²˜ì—ì„œ í”„ë¡œì íŠ¸ ëª…ë ¹ì„ ì“¸ ë• venv í™œì„±í™” í›„ ì‹¤í–‰:</p>
  </li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>My App | /abs/PRJ | source .venv/bin/activate.csh; mytool run
</code></pre></div></div>

<hr />

<h1 id="ìì£¼-ê²ªëŠ”-ì´ìŠˆ--íŒ">ìì£¼ ê²ªëŠ” ì´ìŠˆ &amp; íŒ</h1>

<ul>
  <li>
    <p><strong>ëª…ë ¹ì´ ì•ˆ ë³´ì„</strong> : <code class="language-plaintext highlighter-rouge">PIPX_BIN_DIR</code>ê°€ PATH ì•ìª½ì— ìˆëŠ”ì§€ í™•ì¸. tcshë©´ <code class="language-plaintext highlighter-rouge">echo $path</code>ë¡œ í™•ì¸.</p>
  </li>
  <li>
    <p><strong>í”„ë¡ì‹œ/ì‚¬ë‚´ CA</strong> : <code class="language-plaintext highlighter-rouge">pipx</code>ë„ ë‚´ë¶€ì ìœ¼ë¡œ pipë¥¼ ì“°ë¯€ë¡œ <code class="language-plaintext highlighter-rouge">pip.ini</code>/<code class="language-plaintext highlighter-rouge">pip.conf</code>(ì˜ˆ: <code class="language-plaintext highlighter-rouge">90_PersonalConfigs/python/pip.conf</code>)ì— í”„ë¡ì‹œ/ì¸ì¦ì„œ ì„¤ì •.</p>
  </li>
  <li>
    <p><strong>ê¶Œí•œ ë¬¸ì œ</strong> : ì‚¬ìš©ì í™ˆ ì•„ë˜ ì„¤ì¹˜ë¥¼ ê¶Œì¥(ê´€ë¦¬ì ê¶Œí•œ ë¶ˆí•„ìš”).</p>
  </li>
  <li>
    <p><strong>Windows í™•ì¥ì</strong> : <code class="language-plaintext highlighter-rouge">â€¦\bin\</code> ì•„ë˜ <code class="language-plaintext highlighter-rouge">foo.exe</code> ë˜ëŠ” <code class="language-plaintext highlighter-rouge">foo.cmd</code>ê°€ ìƒê¹ë‹ˆë‹¤.</p>
  </li>
</ul>

<hr />

<h1 id="ìš°ë¦¬-íŠ¸ë¦¬ì—-ë§ì¶˜-ìš”ì•½">ìš°ë¦¬ íŠ¸ë¦¬ì— ë§ì¶˜ ìš”ì•½</h1>

<ul>
  <li>
    <p><strong>ì‹¤í–‰ íŒŒì¼</strong> : <code class="language-plaintext highlighter-rouge">~/Work/82_Tools/bin/&lt;app&gt;</code></p>
  </li>
  <li>
    <p><strong>ì•± venvë“¤</strong> : <code class="language-plaintext highlighter-rouge">~/Work/82_Tools/pipx/venvs/&lt;app&gt;/</code></p>
  </li>
  <li>
    <p><strong>ì›ë³¸/ë¦´ë¦¬ìŠ¤ ë³´ê´€(ì„ íƒ)</strong> : <code class="language-plaintext highlighter-rouge">~/Work/75_Releases/&lt;app&gt;/vX.Y.Z/</code></p>
  </li>
</ul>

<p>ì›í•˜ë©´ ë„¤ê°€ ìì£¼ ì“°ëŠ” CLI ëª©ë¡ì„ ì•Œë ¤ì¤˜. <code class="language-plaintext highlighter-rouge">pipx</code>ë¡œ í•œ ë²ˆì— ê¹”ê³  PATHê¹Œì§€ ì¡ì•„ì£¼ëŠ” <strong>tcsh/bashi/PowerShell ì´ˆê¸°í™” ìŠ¤í¬ë¦½íŠ¸</strong> ë¥¼ ë°”ë¡œ ë§Œë“¤ì–´ì¤„ê²Œ.</p>

<p class="chat--user">

windowsë©´?

</p>

<p>ìœˆë„ìš°ì—ì„œë„ ì˜ ë©ë‹ˆë‹¤! ì•„ë˜ ë‹¨ê³„ëŒ€ë¡œ í•˜ë©´ <strong>pipx</strong> ë¥¼ ìš°ë¦¬ í´ë” êµ¬ì¡°(Work/82_Tools)ì™€ ë”± ë§ì¶° ì“¸ ìˆ˜ ìˆì–´ìš”.</p>

<hr />

<h2 id="1-ì„¤ì¹˜">1) ì„¤ì¹˜</h2>

<h3 id="powershellê¶Œì¥">PowerShell(ê¶Œì¥)</h3>
<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 1) pipx ì„¤ì¹˜</span><span class="w">
</span><span class="n">py</span><span class="w"> </span><span class="nt">-m</span><span class="w"> </span><span class="nx">pip</span><span class="w"> </span><span class="nx">install</span><span class="w"> </span><span class="nt">--user</span><span class="w"> </span><span class="nx">pipx</span><span class="w">

</span><span class="c"># 2) ìš°ë¦¬ íŠ¸ë¦¬ì— ë§ì¶° ê²½ë¡œ/í™˜ê²½ë³€ìˆ˜ ì„¤ì • (í˜„ì¬ ì‚¬ìš©ì)</span><span class="w">
</span><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">PIPX_HOME</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work\82_Tools\pipx"</span><span class="w">
</span><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">PIPX_BIN_DIR</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work\82_Tools\bin"</span><span class="w">
</span><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">Path</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="s2">"</span><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">PIPX_BIN_DIR</span><span class="s2">;</span><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">Path</span><span class="s2">"</span><span class="w">

</span><span class="c"># 3) í´ë”ê°€ ì—†ìœ¼ë©´ ìƒì„±</span><span class="w">
</span><span class="n">New-Item</span><span class="w"> </span><span class="nt">-ItemType</span><span class="w"> </span><span class="nx">Directory</span><span class="w"> </span><span class="nt">-Force</span><span class="w"> </span><span class="nt">-Path</span><span class="w"> </span><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">PIPX_HOME</span><span class="p">,</span><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">PIPX_BIN_DIR</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Out-Null</span><span class="w">

</span><span class="c"># 4) ì„¸ì…˜ ì¬ì‹œì‘ ì—†ì´ í™•ì¸</span><span class="w">
</span><span class="n">pipx</span><span class="w"> </span><span class="nt">--version</span><span class="w">
</span></code></pre></div></div>

<blockquote>
  <p>ì˜êµ¬ ì ìš©í•˜ë ¤ë©´(í„°ë¯¸ë„ ìƒˆë¡œ ì—´ì–´ë„ ìœ ì§€):</p>
  <div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># ì‚¬ìš©ì í™˜ê²½ë³€ìˆ˜ë¡œ ì˜êµ¬ ë“±ë¡</span><span class="w">
</span><span class="n">setx</span><span class="w"> </span><span class="nx">PIPX_HOME</span><span class="w">    </span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work\82_Tools\pipx"</span><span class="w">
</span><span class="n">setx</span><span class="w"> </span><span class="nx">PIPX_BIN_DIR</span><span class="w"> </span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work\82_Tools\bin"</span><span class="w">
</span><span class="c"># PATH ì•ìª½ì— ì¶”ê°€(ì´ë¯¸ ìˆìœ¼ë©´ ìƒëµ)</span><span class="w">
</span><span class="n">setx</span><span class="w"> </span><span class="nx">PATH</span><span class="w"> </span><span class="s2">"</span><span class="si">$(</span><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">PIPX_BIN_DIR</span><span class="si">)</span><span class="s2">;</span><span class="si">$(</span><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">PATH</span><span class="si">)</span><span class="s2">"</span><span class="w">
</span></code></pre></div>  </div>
</blockquote>

<p>PowerShellì„ <strong>ë‹¤ì‹œ ì—´ì–´ì„œ</strong> <code class="language-plaintext highlighter-rouge">pipx --version</code>ì´ ë‚˜ì˜¤ëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”.</p>

<h3 id="cmdë§Œ-ì“°ëŠ”-ê²½ìš°">CMDë§Œ ì“°ëŠ” ê²½ìš°</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cmd

py -m pip install --user pipx
setx PIPX_HOME    "%USERPROFILE%\Work\82_Tools\pipx"
setx PIPX_BIN_DIR "%USERPROFILE%\Work\82_Tools\bin"
setx PATH "%USERPROFILE%\Work\82_Tools\bin;%PATH%"
</code></pre></div></div>

<p>ì´í›„ ìƒˆ CMD ì°½ì—ì„œ <code class="language-plaintext highlighter-rouge">pipx --version</code> í™•ì¸.</p>

<hr />

<h2 id="2-ì–´ë–»ê²Œ-ë™ì‘í•˜ë‚˜ìš”">2) ì–´ë–»ê²Œ ë™ì‘í•˜ë‚˜ìš”?</h2>

<ul>
  <li>
    <p><strong>ì•±ë³„ venv</strong> : <code class="language-plaintext highlighter-rouge">%USERPROFILE%\Work\82_Tools\pipx\venvs\&lt;app&gt;\</code></p>
  </li>
  <li>
    <p><strong>ì‹¤í–‰ íŒŒì¼(ì…”ë‹/EXE/CMD)</strong> : <code class="language-plaintext highlighter-rouge">%USERPROFILE%\Work\82_Tools\bin\&lt;app&gt;.exe</code> (ë˜ëŠ” <code class="language-plaintext highlighter-rouge">&lt;app&gt;.cmd</code>)</p>
  </li>
  <li>
    <p>ê·¸ë˜ì„œ <strong>PATH</strong> ì— <code class="language-plaintext highlighter-rouge">â€¦\82_Tools\bin</code>ë§Œ ë„£ì–´ë‘ë©´ ì–´ë””ì„œë“  ì‹¤í–‰ë¼ìš”.</p>
  </li>
</ul>

<hr />

<h2 id="3-ìì£¼-ì“°ëŠ”-ëª…ë ¹">3) ìì£¼ ì“°ëŠ” ëª…ë ¹</h2>
<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">pipx</span><span class="w"> </span><span class="nx">install</span><span class="w"> </span><span class="nx">ruff</span><span class="w">                 </span><span class="c"># ì „ì—­ CLIë¡œ ì„¤ì¹˜ â†’ ...\82_Tools\bin\ruff.exe</span><span class="w">
</span><span class="n">pipx</span><span class="w"> </span><span class="nx">upgrade</span><span class="w"> </span><span class="nx">ruff</span><span class="w">                 </span><span class="c"># ì—…ê·¸ë ˆì´ë“œ</span><span class="w">
</span><span class="n">pipx</span><span class="w"> </span><span class="nx">uninstall</span><span class="w"> </span><span class="nx">ruff</span><span class="w">               </span><span class="c"># ì œê±°</span><span class="w">
</span><span class="n">pipx</span><span class="w"> </span><span class="nx">list</span><span class="w">                         </span><span class="c"># ì„¤ì¹˜ëœ ì•± ëª©ë¡</span><span class="w">
</span><span class="n">pipx</span><span class="w"> </span><span class="nx">run</span><span class="w"> </span><span class="nx">cowsay</span><span class="w"> </span><span class="nx">hello</span><span class="w">             </span><span class="c"># ì„¤ì¹˜ ì—†ì´ 1íšŒ ì‹¤í–‰</span><span class="w">
</span></code></pre></div></div>

<h3 id="ë‚´-íŒ¨í‚¤ì§€ë¥¼-ì „ì—­-clië¡œ">ë‚´ íŒ¨í‚¤ì§€ë¥¼ ì „ì—­ CLIë¡œ</h3>
<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># ë¡œì»¬ ì†ŒìŠ¤ì—ì„œ(ê°œë°œ ë ˆí¬)</span><span class="w">
</span><span class="n">pipx</span><span class="w"> </span><span class="nx">install</span><span class="w"> </span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work\20_Projects\PRJ-UTILS-mytool"</span><span class="w">

</span><span class="c"># ë‚´ê°€ ë¹Œë“œí•´ë‘” íœ ì—ì„œ(ë¦´ë¦¬ìŠ¤ ë³´ê´€)</span><span class="w">
</span><span class="n">pipx</span><span class="w"> </span><span class="nx">install</span><span class="w"> </span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work\75_Releases\mytool\v0.3.0\mytool-0.3.0-py3-none-any.whl"</span><span class="w">
</span></code></pre></div></div>

<p>â†’ ì‹¤í–‰ íŒŒì¼: <code class="language-plaintext highlighter-rouge">â€¦\82_Tools\bin\mytool.exe</code></p>

<hr />

<h2 id="4-í”„ë¡œì íŠ¸-ì „ìš©ìœ¼ë¡œë§Œ-ì“°ê³ -ì‹¶ë‹¤ë©´">4) í”„ë¡œì íŠ¸ ì „ìš©ìœ¼ë¡œë§Œ ì“°ê³  ì‹¶ë‹¤ë©´</h2>

<p>ì „ì—­ pipx ëŒ€ì‹  <strong>í”„ë¡œì íŠ¸ venv</strong> ì— ì„¤ì¹˜í•˜ì„¸ìš”.</p>
<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">cd</span><span class="w"> </span><span class="bp">$HOME</span><span class="nx">\Work\20_Projects\PRJ-APP</span><span class="w">
</span><span class="n">py</span><span class="w"> </span><span class="nt">-m</span><span class="w"> </span><span class="nx">venv</span><span class="w"> </span><span class="o">.</span><span class="nf">venv</span><span class="w">
</span><span class="o">.</span><span class="nx">\.venv\Scripts\Activate.ps1</span><span class="w">
</span><span class="n">pip</span><span class="w"> </span><span class="nx">install</span><span class="w"> </span><span class="nt">-e</span><span class="w"> </span><span class="o">..</span><span class="nx">\PRJ-UTILS-mytool</span><span class="w">
</span><span class="n">mytool</span><span class="w">   </span><span class="c"># ì´ venv ì•ˆì—ì„œë§Œ ë™ì‘</span><span class="w">
</span></code></pre></div></div>

<blockquote>
  <p>ì „ì—­ì²˜ëŸ¼ ì“°ê³  ì‹¶ìœ¼ë©´ pipxê°€ ë” ì•ˆì •ì ì…ë‹ˆë‹¤.<br />
 â€œì „ì—­ì²˜ëŸ¼ ë³´ì´ê²Œâ€ë§Œ í•˜ê³  ì‹¶ë‹¤ë©´ <code class="language-plaintext highlighter-rouge">â€¦\82_Tools\bin</code>ì— <strong>ì‹¬ë³¼ë¦­ ë§í¬/ë°”ë¡œê°€ê¸°</strong> ë¥¼ ë‘˜ ìˆ˜ë„ ìˆì§€ë§Œ, ê¶Œì¥ íë¦„ì€ pipxì˜ˆìš”.</p>
</blockquote>

<hr />

<h2 id="5-í”í•œ-ì´ìŠˆ--í•´ê²°">5) í”í•œ ì´ìŠˆ &amp; í•´ê²°</h2>

<ul>
  <li>
    <p><strong>ëª…ë ¹ì´ ì¸ì‹ ì•ˆ ë¨</strong> : <code class="language-plaintext highlighter-rouge">echo $env:Path</code>ì— <code class="language-plaintext highlighter-rouge">â€¦\82_Tools\bin</code>ì´ <strong>ë§¨ ì•ìª½</strong> ì— ìˆëŠ”ì§€ í™•ì¸.</p>
  </li>
  <li><strong>ì‹¤í–‰ ì •ì±… ì˜¤ë¥˜(ìŠ¤í¬ë¦½íŠ¸ ì°¨ë‹¨)</strong> : PowerShellì—ì„œ í•œ ë²ˆë§Œ
    <div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Set-ExecutionPolicy</span><span class="w"> </span><span class="nt">-Scope</span><span class="w"> </span><span class="nx">CurrentUser</span><span class="w"> </span><span class="nt">-ExecutionPolicy</span><span class="w"> </span><span class="nx">RemoteSigned</span><span class="w">
</span></code></pre></div>    </div>
  </li>
  <li>
    <p><strong>íšŒì‚¬ í”„ë¡ì‹œ/ì¸ì¦ì„œ</strong> : <code class="language-plaintext highlighter-rouge">pip.ini</code>(ì˜ˆ: <code class="language-plaintext highlighter-rouge">%APPDATA%\pip\pip.ini</code>)ì— í”„ë¡ì‹œ/CA ì„¤ì • í•„ìš”í•  ìˆ˜ ìˆìŒ.</p>
  </li>
  <li><strong>ì¶©ëŒ</strong> : ë™ì¼ CLIë¥¼ í”„ë¡œì íŠ¸ venvì—ë„ ì„¤ì¹˜í–ˆë‹¤ë©´, <strong>í˜„ì¬ í™œì„±í™”ëœ ì…¸</strong> ì´ ìš°ì„ í•©ë‹ˆë‹¤(venv ìš°ì„ , ê·¸ ì™¸ì—ëŠ” pipx).</li>
</ul>

<hr />

<h2 id="6-ìš°ë¦¬-íŠ¸ë¦¬-ìš”ì•½windows">6) ìš°ë¦¬ íŠ¸ë¦¬ ìš”ì•½(Windows)</h2>

<ul>
  <li>
    <p>ì „ì—­ CLI ì‹¤í–‰ íŒŒì¼ â†’ <code class="language-plaintext highlighter-rouge">C:\Users\&lt;you&gt;\Work\82_Tools\bin\</code></p>
  </li>
  <li>
    <p>pipx ì•± venvë“¤ â†’ <code class="language-plaintext highlighter-rouge">C:\Users\&lt;you&gt;\Work\82_Tools\pipx\venvs\</code></p>
  </li>
  <li>
    <p>ì†ŒìŠ¤ ì •ë³¸ â†’ <code class="language-plaintext highlighter-rouge">â€¦\20_Projects\PRJ-UTILS-&lt;name&gt;\</code></p>
  </li>
  <li>
    <p>ë¦´ë¦¬ìŠ¤ ë³´ê´€ â†’ <code class="language-plaintext highlighter-rouge">â€¦\75_Releases\&lt;name&gt;\vX.Y.Z\</code></p>
  </li>
</ul>

<p>í•„ìš”í•˜ë©´ ì§€ê¸ˆ ì“°ëŠ” ìœˆë„ìš° í™˜ê²½(íšŒì‚¬ PC/ê°œì¸ PC) ê¸°ì¤€ìœ¼ë¡œ <strong>í•œ ë²ˆì— ì„¸íŒ…í•˜ëŠ” PowerShell ìŠ¤í¬ë¦½íŠ¸</strong> ë„ ë§Œë“¤ì–´ì¤„ê²Œâ€”ì„¤ì¹˜ + í™˜ê²½ë³€ìˆ˜ + PATH + ëª‡ ê°œ ëŒ€í‘œ ì•±(pipx, ruff, uv ë“±)ê¹Œì§€!</p>

<p class="chat--user">

ë‚´ê°€ ì—°êµ¬/ë¶„ì„ ëª©ì ìœ¼ë¡œ ë§ˆêµ¬ clone í•´ ë‘” repository(github)ìˆëŠ”ë° ì´ê±´ ì–´ë””ë¡œ ì˜®ê²¨ì•¼í• ê¹Œ

</p>

<p>ì¢‹ì•„â€”ê·¸ â€œì—°êµ¬/ë¶„ì„ìš©ìœ¼ë¡œ ë§‰ í´ë¡ í•œ ê³µê°œ ë¦¬í¬â€ë“¤ì€ ì „ìš© ìƒìë¥¼ í•˜ë‚˜ ë‘ëŠ” ê²Œ ê¹”ë”í•´.<br />
ë‚˜ëŠ” <strong><code class="language-plaintext highlighter-rouge">21_Upstreams/</code></strong>(= <em>3rd-party ì†ŒìŠ¤ ì •ë¦¬í•¨</em>)ë¥¼ ìƒˆë¡œ ë§Œë“¤ì–´ ê±°ê¸°ì— ëª¨ìœ¼ëŠ” ê±¸ ì¶”ì²œí•´.</p>

<hr />

<h1 id="ì–´ë””ì—-ë‘˜ê¹Œ">ì–´ë””ì— ë‘˜ê¹Œ?</h1>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>21_Upstreams/               - ì™¸ë¶€(3rd-party) ë¦¬í¬ ë¡œì»¬ í´ë¡  ì •ë³¸
â”œâ”€ github/
â”‚  â””â”€ &lt;org&gt;/&lt;repo&gt;/         - ì˜ˆ: github/pallets/flask/
â”œâ”€ gitlab/
â”‚  â””â”€ &lt;group&gt;/&lt;repo&gt;/
â”œâ”€ bitbucket/
â”‚  â””â”€ &lt;team&gt;/&lt;repo&gt;/
â””â”€ _registry.csv            - ì„ íƒ: ëª©ë¡/íƒœê·¸/ë©”ëª¨
</code></pre></div></div>

<p><strong>ì™œ 21?</strong><br />
<code class="language-plaintext highlighter-rouge">20_Projects</code>(ë‚´ê°€ ì†Œìœ /ê°œë°œ)ì™€ <code class="language-plaintext highlighter-rouge">22_Labs</code>(ê°€ë²¼ìš´ ì‹¤í—˜) ì‚¬ì´ì— <strong>ì™¸ë¶€ ì†ŒìŠ¤ ë³´ê´€ëŒ€</strong> ë¥¼ ë¼ì›Œ ë„£ìœ¼ë©´<br />
â€œë‚´ ê²ƒ â†” ì™¸ë¶€ ê²ƒ â†” ì‹¤í—˜â€ íë¦„ì´ ëˆˆì— ì˜ ë“¤ì–´ì™€ìš”.</p>

<hr />

<h1 id="ì‚¬ìš©-ì›ì¹™-ê°„ë‹¨-ë£°">ì‚¬ìš© ì›ì¹™ (ê°„ë‹¨ ë£°)</h1>

<ol>
  <li>
    <p><strong>ì½ê¸° ì „ìš© ì›ì¹™</strong> : <code class="language-plaintext highlighter-rouge">21_Upstreams</code>ì˜ ë¦¬í¬ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ <em>ìˆ˜ì • ê¸ˆì§€</em>.</p>

    <ul>
      <li>ë³€ê²½/ì‹¤í—˜ì´ í•„ìš”í•˜ë©´ <strong><code class="language-plaintext highlighter-rouge">git worktree</code></strong>ë¡œ <strong><code class="language-plaintext highlighter-rouge">22_Labs</code></strong>ë‚˜ <strong><code class="language-plaintext highlighter-rouge">25_Jobs/SMOKE</code></strong>ì— ì‘ì—… ë””ë ‰í† ë¦¬ë¥¼ ë§Œë“œì„¸ìš”.</li>
    </ul>
  </li>
  <li>
    <p><strong>ë‚´ê°€ â€˜ì†Œìœ â€™í•˜ëŠ” í¬í¬</strong> ë¼ë©´:</p>

    <ul>
      <li>
        <p>ì¥ê¸° ê°œë°œì´ë©´ <strong><code class="language-plaintext highlighter-rouge">20_Projects/&lt;PRJ-â€¦&gt;</code></strong>ë¡œ ìŠ¹ê²©,</p>
      </li>
      <li>
        <p>ê·¸ëƒ¥ upstream ì¶”ì ë§Œ í•˜ë©´ <strong>21</strong> ì— ë‘ê³  <code class="language-plaintext highlighter-rouge">origin=ë‚´í¬í¬</code>, <code class="language-plaintext highlighter-rouge">upstream=ì›ë³¸</code> ì´ì¤‘ ë¦¬ëª¨íŠ¸.</p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>í”„ë¡œì íŠ¸ì—ì„œ ì˜ì¡´</strong> í•  ë•: ë³µì‚¬ ê¸ˆì§€. <strong>ì„œë¸Œëª¨ë“ˆ/ì„œë¸ŒíŠ¸ë¦¬/íŒ¨í‚¤ì§€ ì˜ì¡´</strong> ìœ¼ë¡œ ì—°ê²°.</p>
  </li>
</ol>

<hr />

<h1 id="ì¶”ì²œ-ì›Œí¬í”Œë¡œ">ì¶”ì²œ ì›Œí¬í”Œë¡œ</h1>

<h2 id="1-í´ë¡ -ì´ë™-ë‹¨ì¼-ë¦¬í¬">1) í´ë¡  ì´ë™ (ë‹¨ì¼ ë¦¬í¬)</h2>

<ul>
  <li>macOS/Linux</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">repo</span><span class="o">=</span><span class="s2">"~/Downloads/tmp/flask"</span>   <span class="c"># í˜„ì¬ ìœ„ì¹˜</span>
<span class="nv">url</span><span class="o">=</span><span class="si">$(</span>git <span class="nt">-C</span> <span class="s2">"</span><span class="nv">$repo</span><span class="s2">"</span> config <span class="nt">--get</span> remote.origin.url<span class="si">)</span>
<span class="nv">host</span><span class="o">=</span><span class="si">$(</span><span class="nb">echo</span> <span class="s2">"</span><span class="nv">$url</span><span class="s2">"</span> | <span class="nb">sed</span> <span class="nt">-E</span> <span class="s1">'s#(https?://|git@)([^/:]+).*#\2#'</span><span class="si">)</span>
<span class="nv">org</span><span class="o">=</span><span class="si">$(</span> <span class="nb">echo</span> <span class="s2">"</span><span class="nv">$url</span><span class="s2">"</span> | <span class="nb">sed</span> <span class="nt">-E</span> <span class="s1">'s#.*/([^/]+)/[^/]+(\.git)?$#\1#'</span><span class="si">)</span>
<span class="nv">name</span><span class="o">=</span><span class="si">$(</span><span class="nb">echo</span> <span class="s2">"</span><span class="nv">$url</span><span class="s2">"</span> | <span class="nb">sed</span> <span class="nt">-E</span> <span class="s1">'s#.*/([^/]+)(\.git)?$#\1#'</span><span class="si">)</span>
<span class="nv">dest</span><span class="o">=</span><span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/Work/21_Upstreams/</span><span class="nv">$host</span><span class="s2">/</span><span class="nv">$org</span><span class="s2">/</span><span class="nv">$name</span><span class="s2">"</span>
<span class="nb">mkdir</span> <span class="nt">-p</span> <span class="s2">"</span><span class="si">$(</span><span class="nb">dirname</span> <span class="s2">"</span><span class="nv">$dest</span><span class="s2">"</span><span class="si">)</span><span class="s2">"</span> <span class="o">&amp;&amp;</span> <span class="nb">mv</span> <span class="s2">"</span><span class="nv">$repo</span><span class="s2">"</span> <span class="s2">"</span><span class="nv">$dest</span><span class="s2">"</span>
</code></pre></div></div>

<ul>
  <li>Windows (PowerShell)</li>
</ul>

<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$repo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Downloads\tmp\flask"</span><span class="w">
</span><span class="nv">$url</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">git</span><span class="w"> </span><span class="nt">-C</span><span class="w"> </span><span class="nv">$repo</span><span class="w"> </span><span class="nx">config</span><span class="w"> </span><span class="nt">--get</span><span class="w"> </span><span class="nx">remote.origin.url</span><span class="w">
</span><span class="nv">$host</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nv">$url</span><span class="w"> </span><span class="o">-replace</span><span class="w"> </span><span class="s1">'^(https?://|git@)([^/:]+).*'</span><span class="p">,</span><span class="s1">'$2'</span><span class="p">)</span><span class="w">
</span><span class="nv">$org</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nv">$url</span><span class="w"> </span><span class="o">-replace</span><span class="w"> </span><span class="s1">'^.*/([^/]+)/[^/]+(\.git)?$'</span><span class="p">,</span><span class="s1">'$1'</span><span class="p">)</span><span class="w">
</span><span class="nv">$name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nv">$url</span><span class="w"> </span><span class="o">-replace</span><span class="w"> </span><span class="s1">'^.*/([^/]+)(\.git)?$'</span><span class="p">,</span><span class="s1">'$1'</span><span class="p">)</span><span class="w">
</span><span class="nv">$dest</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work\21_Upstreams\</span><span class="nv">$host</span><span class="s2">\</span><span class="nv">$org</span><span class="s2">\</span><span class="nv">$name</span><span class="s2">"</span><span class="w">
</span><span class="n">New-Item</span><span class="w"> </span><span class="nt">-ItemType</span><span class="w"> </span><span class="nx">Directory</span><span class="w"> </span><span class="nt">-Force</span><span class="w"> </span><span class="nt">-Path</span><span class="w"> </span><span class="p">(</span><span class="n">Split-Path</span><span class="w"> </span><span class="nv">$dest</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Out-Null</span><span class="w">
</span><span class="nx">Move-Item</span><span class="w"> </span><span class="nv">$repo</span><span class="w"> </span><span class="nv">$dest</span><span class="w">
</span></code></pre></div></div>

<h2 id="2-ë¦¬ëª¨íŠ¸-ì •ë¦¬ê°€ë…ì„±-">2) ë¦¬ëª¨íŠ¸ ì •ë¦¬(ê°€ë…ì„± â†‘)</h2>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> ~/Work/21_Upstreams/github/pallets/flask
git remote rename origin upstream          <span class="c"># ì›ë³¸ì„ upstreamìœ¼ë¡œ</span>
<span class="c"># í¬í¬ê°€ ìˆë‹¤ë©´</span>
git remote add origin git@github.com:&lt;me&gt;/flask.git
</code></pre></div></div>

<h2 id="3-ì‹¤í—˜í• -ë•-worktreeë¡œ-êº¼ë‚´ì“°ê¸°--22_labs">3) ì‹¤í—˜í•  ë• worktreeë¡œ êº¼ë‚´ì“°ê¸° (â†’ 22_Labs)</h2>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># ì‹¤í—˜ ë¸Œëœì¹˜ë¥¼ 22_Labsë¡œ ë¶„ë¦¬</span>
<span class="nb">cd</span> ~/Work/21_Upstreams/github/pallets/flask
git fetch upstream <span class="nt">--prune</span>
git worktree add ~/Work/22_Labs/flask-exp main
<span class="c"># ì—¬ê¸°ì„œ ìˆ˜ì •/ë¹Œë“œ/ë©”ëª¨ëŠ” 22_Labs ì•„ë˜ì—ì„œ</span>
</code></pre></div></div>

<h2 id="4-ì£¼ê¸°ì -ë™ê¸°í™”ëª¨ë“ -ë¦¬í¬">4) ì£¼ê¸°ì  ë™ê¸°í™”(ëª¨ë“  ë¦¬í¬)</h2>

<ul>
  <li>macOS/Linux</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>find ~/Work/21_Upstreams <span class="nt">-type</span> d <span class="nt">-name</span> .git <span class="nt">-prune</span> <span class="nt">-print</span> <span class="se">\</span>
| <span class="k">while </span><span class="nb">read </span>g<span class="p">;</span> <span class="k">do </span><span class="nv">r</span><span class="o">=</span><span class="si">$(</span><span class="nb">dirname</span> <span class="s2">"</span><span class="nv">$g</span><span class="s2">"</span><span class="si">)</span><span class="p">;</span> <span class="nb">echo</span> <span class="s2">"â†’ </span><span class="nv">$r</span><span class="s2">"</span><span class="p">;</span> git <span class="nt">-C</span> <span class="s2">"</span><span class="nv">$r</span><span class="s2">"</span> fetch <span class="nt">--all</span> <span class="nt">--prune</span><span class="p">;</span> <span class="k">done</span>
</code></pre></div></div>

<ul>
  <li>Windows (PowerShell)</li>
</ul>

<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Get-ChildItem</span><span class="w"> </span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work\21_Upstreams"</span><span class="w"> </span><span class="nt">-Recurse</span><span class="w"> </span><span class="nt">-Directory</span><span class="w"> </span><span class="nt">-Filter</span><span class="w"> </span><span class="s2">".git"</span><span class="w"> </span><span class="o">|</span><span class="w">
  </span><span class="n">ForEach-Object</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nv">$r</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">$_</span><span class="o">.</span><span class="nf">Parent</span><span class="o">.</span><span class="nf">FullName</span><span class="w">
    </span><span class="n">Write-Host</span><span class="w"> </span><span class="s2">"â†’ </span><span class="nv">$r</span><span class="s2">"</span><span class="w">
    </span><span class="n">git</span><span class="w"> </span><span class="nt">-C</span><span class="w"> </span><span class="nv">$r</span><span class="w"> </span><span class="nx">fetch</span><span class="w"> </span><span class="nt">--all</span><span class="w"> </span><span class="nt">--prune</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<hr />

<h1 id="ì–¸ì œ-ë‹¤ë¥¸-í´ë”ë¥¼-ì“°ë‚˜">ì–¸ì œ ë‹¤ë¥¸ í´ë”ë¥¼ ì“°ë‚˜?</h1>

<ul>
  <li>
    <p><strong>ë‚´ê°€ ë°œì „ì‹œì¼œì„œ ë¦´ë¦¬ìŠ¤/ë°°í¬í•  ê³„íš</strong> â†’ <code class="language-plaintext highlighter-rouge">20_Projects/PRJ-â€¦</code>ë¡œ ìŠ¹ê²©</p>
  </li>
  <li>
    <p><strong>êµìœ¡/ë…¼ë¬¸ê³¼ í•¨ê»˜ ì½ê¸° ìë£Œ</strong> ë¡œë§Œ ë³´ê´€ â†’ ì½”ë“œ ìì²´ëŠ” <strong>21</strong> ,<br />
ë¬¸ì„œ/ë…¸íŠ¸ëŠ” <strong><code class="language-plaintext highlighter-rouge">40_Resources/edu</code></strong> ë˜ëŠ” <strong><code class="language-plaintext highlighter-rouge">30_Areas/knowledge_base</code></strong>ì— ì •ë¦¬(ì»¤ë°‹ í•´ì‹œ ë§í¬ í¬í•¨)</p>
  </li>
</ul>

<hr />

<h1 id="ë³´ë„ˆìŠ¤-ë””ìŠ¤í¬-ì ˆì•½-íŒ">ë³´ë„ˆìŠ¤: ë””ìŠ¤í¬ ì ˆì•½ íŒ</h1>

<ul>
  <li>
    <p><strong>ì–•ì€ í´ë¡ </strong> : <code class="language-plaintext highlighter-rouge">git clone --depth 1 â€¦</code> (íˆìŠ¤í† ë¦¬ ìµœì†Œí™”)</p>
  </li>
  <li>
    <p><strong>í¬ì†Œ ì²´í¬ì•„ì›ƒ</strong> : <code class="language-plaintext highlighter-rouge">git sparse-checkout</code>ìœ¼ë¡œ í•„ìš”í•œ ê²½ë¡œë§Œ</p>
  </li>
  <li>
    <p><strong>GC</strong> : <code class="language-plaintext highlighter-rouge">git gc --aggressive --prune=now</code> (í° ë¦¬í¬ ì •ë¦¬ ì‹œ)</p>
  </li>
</ul>

<hr />

<h2 id="í•œ-ì¤„-ê²°ë¡ -2">í•œ ì¤„ ê²°ë¡ </h2>

<ul>
  <li>
    <p>ì—°êµ¬/ë¶„ì„ìš© ì™¸ë¶€ ë¦¬í¬ëŠ” <strong><code class="language-plaintext highlighter-rouge">21_Upstreams/&lt;host&gt;/&lt;org&gt;/&lt;repo&gt;</code></strong>ë¡œ ëª¨ì•„ <strong>ì½ê¸° ì „ìš©</strong> ìœ¼ë¡œ ë‘ê³ ,</p>
  </li>
  <li>
    <p>ì‹¤í—˜ì€ <strong><code class="language-plaintext highlighter-rouge">git worktree</code>ë¡œ <code class="language-plaintext highlighter-rouge">22_Labs</code>/<code class="language-plaintext highlighter-rouge">25_Jobs/SMOKE</code></strong>ì— êº¼ë‚´ì„œ í•˜ì.</p>
  </li>
  <li>
    <p>í”„ë¡œì íŠ¸ì— ì“¸ ë• <strong>ì„œë¸Œëª¨ë“ˆ/íŒ¨í‚¤ì§€ ì˜ì¡´</strong> ìœ¼ë¡œ ì—°ê²°, ë³µì‚¬ ê¸ˆì§€.</p>
  </li>
</ul>

<p class="chat--user">

ì™œ ì œëª©ì´ Upstreamì´ì•¼?

</p>

<p>ì¢‹ì€ ì§ˆë¬¸! â€œ<strong>Upstream</strong> â€ì€ ê¹ƒ ìš©ì–´ë¡œ <strong>ë‚´ê°€ ì‘ì—…í•˜ëŠ” í¬í¬ì˜ ê¸°ì¤€ì´ ë˜ëŠ” â€˜ì›ë³¸ ì €ì¥ì†Œâ€™</strong>ë¥¼ ëœ»í•´ìš”.<br />
ì—°êµ¬/ë¶„ì„ìš©ìœ¼ë¡œ <strong>ë‚¨ì˜ ë ˆí¬ë¥¼ ê·¸ëŒ€ë¡œ í´ë¡ </strong> í•´ ë‘ëŠ” ê³µê°„ì´ë¼ëŠ” ì˜ë¯¸ë¥¼ ë‹´ì•„ <code class="language-plaintext highlighter-rouge">21_Upstreams/</code>ë¼ ì´ë¦„ì„ ë¶™ì˜€ë˜ ê±°ì˜ˆìš”.</p>

<h2 id="ì™œ-ê·¸ë ‡ê²Œ-ë¶ˆë €ë‚˜-step-by-step">ì™œ ê·¸ë ‡ê²Œ ë¶ˆë €ë‚˜ (step-by-step)</h2>

<ol>
  <li>
    <p><strong>ì—­í•  êµ¬ë¶„</strong> : <code class="language-plaintext highlighter-rouge">20_Projects</code>(ë‚´ ì†Œìœ )ì™€ êµ¬ë¶„í•´, <strong>ì™¸ë¶€ ì›ë³¸ ì†ŒìŠ¤</strong> ë¥¼ ë‹´ëŠ” ê³³ì´ë¼ëŠ” ì‹ í˜¸.</p>
  </li>
  <li>
    <p><strong>ì›Œí¬í”Œë¡œ ì—°ê³„</strong> : ë³´í†µ <code class="language-plaintext highlighter-rouge">upstream</code>ì„ <strong>ì½ê¸° ì „ìš©ìœ¼ë¡œ ì¶”ì </strong> í•˜ê³ , ì‹¤í—˜ì€ <code class="language-plaintext highlighter-rouge">git worktree</code>ë¡œ <code class="language-plaintext highlighter-rouge">22_Labs</code>ë‚˜ <code class="language-plaintext highlighter-rouge">25_Jobs</code>ì— êº¼ë‚´ ì“°ëŠ” íŒ¨í„´ê³¼ ì˜ ë§ìŒ.</p>
  </li>
  <li>
    <p><strong>ì¶©ëŒ ë°©ì§€</strong> : ë‚´ ì½”ë“œ(Projects)ì™€ ì™¸ë¶€ ì½”ë“œ(Upstreams)ê°€ ì‹œê°ì ìœ¼ë¡œ ë¶„ë¦¬ë˜ì–´ í—·ê°ˆë¦¼ ê°ì†Œ.</p>
  </li>
</ol>

<h2 id="í•˜ì§€ë§Œ-í—·ê°ˆë¦´-ìˆ˜-ìˆì–´ìš”--ë”-ì§ê´€ì ì¸-ì´ë¦„-ëŒ€ì•ˆ">í•˜ì§€ë§Œ í—·ê°ˆë¦´ ìˆ˜ ìˆì–´ìš” â†’ ë” ì§ê´€ì ì¸ ì´ë¦„ ëŒ€ì•ˆ</h2>

<p>ëª©ì ì— ë§ì¶° ì•„ë˜ ì¤‘ í•˜ë‚˜ë¡œ ë°”ê¿”ë„ ì „í˜€ ë¬¸ì œ ì—†ìŠµë‹ˆë‹¤.</p>

<ul>
  <li>
    <p><strong>21_ExternalRepos</strong> : ê°€ì¥ ì§ê´€ì (ì™¸ë¶€ ë ˆí¬ ì „ìš©). âœ… ì¶”ì²œ</p>
  </li>
  <li>
    <p>21_OpenSource : ì˜¤í”ˆì†ŒìŠ¤ ìœ„ì£¼ì¼ ë•Œ ìì—°ìŠ¤ëŸ¬ì›€</p>
  </li>
  <li>
    <p>21_3rdParty : ì„œë“œíŒŒí‹° ì†ŒìŠ¤(ë²¤ë”/ì»¤ë®¤ë‹ˆí‹° í˜¼í•©)</p>
  </li>
  <li>
    <p>21_Forks : â€œë‚´ í¬í¬â€ ë³´ê´€ ìœ„ì£¼ì¼ ë•Œ</p>
  </li>
  <li>
    <p>21_Mirrors : ì½ê¸° ì „ìš© ë¯¸ëŸ¬ ê°œë…ì„ ê°•ì¡°í•  ë•Œ</p>
  </li>
</ul>

<blockquote>
  <p>ë„¤ ìƒí™©(â€œì—°êµ¬/ë¶„ì„ìš©ìœ¼ë¡œ ë§ˆêµ¬ í´ë¡ â€)ì—” <strong>21_ExternalRepos</strong> ê°€ ì´í•´ê°€ ê°€ì¥ ì‰¬ì›Œ ë³´ì—¬ìš”.</p>
</blockquote>

<h2 id="ì§€ê¸ˆ-ë°”ê¾¸ê³ -ì‹¶ë‹¤ë©´-ì•ˆì „-ë¦¬ë„¤ì„">ì§€ê¸ˆ ë°”ê¾¸ê³  ì‹¶ë‹¤ë©´ (ì•ˆì „ ë¦¬ë„¤ì„)</h2>

<h3 id="macoslinux-1">macOS/Linux</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> ~/Work
<span class="o">[</span> <span class="nt">-d</span> 21_Upstreams <span class="o">]</span> <span class="o">&amp;&amp;</span> <span class="nb">mv </span>21_Upstreams 21_ExternalRepos
<span class="c"># (ì„ íƒ) Today ë‹¨ì¶•/ìŠ¤í¬ë¦½íŠ¸ ê²½ë¡œ ì¹˜í™˜</span>
<span class="nb">grep</span> <span class="nt">-rl</span> <span class="s2">"21_Upstreams"</span> <span class="nb">.</span> | xargs <span class="nb">sed</span> <span class="nt">-i</span> <span class="s1">''</span> <span class="nt">-e</span> <span class="s1">'s/21_Upstreams/21_ExternalRepos/g'</span>
</code></pre></div></div>

<h3 id="windows-powershell-7">Windows (PowerShell)</h3>
<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Set-Location</span><span class="w"> </span><span class="s2">"</span><span class="bp">$HOME</span><span class="s2">\Work"</span><span class="w">
</span><span class="kr">if</span><span class="w"> </span><span class="p">(</span><span class="n">Test-Path</span><span class="w"> </span><span class="s2">"21_Upstreams"</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">Rename-Item</span><span class="w"> </span><span class="s2">"21_Upstreams"</span><span class="w"> </span><span class="s2">"21_ExternalRepos"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span><span class="c"># (ì„ íƒ) ê²½ë¡œ ì¹˜í™˜</span><span class="w">
</span><span class="n">Get-ChildItem</span><span class="w"> </span><span class="nt">-Recurse</span><span class="w"> </span><span class="nt">-File</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">ForEach-Object</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="p">(</span><span class="n">Get-Content</span><span class="w"> </span><span class="bp">$_</span><span class="o">.</span><span class="nf">FullName</span><span class="p">)</span><span class="w"> </span><span class="o">-replace</span><span class="w"> </span><span class="s1">'21_Upstreams'</span><span class="p">,</span><span class="s1">'21_ExternalRepos'</span><span class="w"> </span><span class="o">|</span><span class="w">
    </span><span class="n">Set-Content</span><span class="w"> </span><span class="bp">$_</span><span class="o">.</span><span class="nf">FullName</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h2 id="í´ë”-ì˜ˆì‹œëŠ”-ê·¸ëŒ€ë¡œ-ì‚¬ìš©-ê°€ëŠ¥">í´ë” ì˜ˆì‹œëŠ” ê·¸ëŒ€ë¡œ ì‚¬ìš© ê°€ëŠ¥</h2>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>21_ExternalRepos/
â””â”€ github/&lt;org&gt;/&lt;repo&gt;/
   gitlab/&lt;group&gt;/&lt;repo&gt;/
   bitbucket/&lt;team&gt;/&lt;repo&gt;/
</code></pre></div></div>

<h3 id="ìš”ì•½-6">ìš”ì•½</h3>

<ul>
  <li>
    <p>â€œUpstreamâ€ì€ <strong>ì›ë³¸ ì €ì¥ì†Œ</strong> ë¥¼ ëœ»í•´ì„œ ì¼ë˜ ì´ë¦„.</p>
  </li>
  <li>
    <p>ë” ì§ê´€ì ì´ê¸¸ ì›í•˜ë©´ <strong>21_ExternalRepos</strong> ë¡œ ë°”ê¿”ë„ ì˜ë¯¸/íë¦„ 100% ìœ ì§€.</p>
  </li>
  <li>
    <p>ë¦¬ë„¤ì„ì€ ìœ„ ìŠ¤í¬ë¦½íŠ¸ë¡œ ë°”ë¡œ ë°˜ì˜í•˜ë©´ ë!</p>
  </li>
</ul>

<p class="chat--user">

ëŒ€í™” ê¸°ë¡ ì €ì¥ íŒŒì¼ì€ ì–´ë””ë‘ëŠ”ê²Œ ì¢‹ì„ê¹Œ

</p>

<p>ì¢‹ì€ ì£¼ì œ! â€œëŒ€í™” ê¸°ë¡(chat logs)â€ì€ <strong>ì›ë³¸(raw)ê³¼ ì •ì œë³¸(curated)</strong>ì„ ë¶„ë¦¬í•˜ê³ , <strong>í”„ë¡œì íŠ¸Â·ì‘ì—…ì—ì„œëŠ” ë§í¬ë§Œ</strong> ê±°ëŠ” ë°©ì‹ì´ ê¹”ë”í•©ë‹ˆë‹¤. ì „ìš© ìƒìë¥¼ ìƒˆë¡œ í•˜ë‚˜ ë‘ìê³  ì œì•ˆí•´ìš”.</p>

<h1 id="ì¶”ì²œ-ìœ„ì¹˜-ìƒˆ-ìŠ¬ë¡¯">ì¶”ì²œ ìœ„ì¹˜ (ìƒˆ ìŠ¬ë¡¯)</h1>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>31_Conversations/                  - ëŒ€í™” ê¸°ë¡ì˜ 'ì •ë³¸' ë³´ê´€ì†Œ
â”œâ”€ inbox/                          - ì¦‰ì‹œ ë¤í”„/ë‚´ë³´ë‚´ê¸°(raw, ë¯¸ì •ë¦¬)
â”œâ”€ by_assistant/                   - ë„êµ¬ë³„ ì •ë¦¬(ChatGPT, LocalLLM, Slack ë“±)
â”‚  â”œâ”€ chatgpt/
â”‚  â”œâ”€ local_llm/
â”‚  â””â”€ slack/
â”œâ”€ by_topic/                       - ì£¼ì œë³„(ì„ íƒ): regex, packaging, Qt, ë°°í¬â€¦
â”œâ”€ redacted/                       - ë¹„ì‹ë³„/ë¯¼ê°ì •ë³´ ì‚­ì œë³¸(ê³µìœ ìš©)
â”œâ”€ private_encrypted/              - ì•”í˜¸í™”ë³´ê´€(ì§„ì§œ ë¯¼ê° ë‚´ìš©)
â”œâ”€ index.md                        - ìƒ‰ì¸/ê²€ìƒ‰ ê°€ì´ë“œ(ìµœê·¼ 50ê°œ ë§í¬)
â”œâ”€ templates/chat_log_template.md  - ë©”íƒ€ í¬í•¨ í…œí”Œë¦¿
â””â”€ scripts/                        - ì €ì¥/ì •ì œ/ìƒ‰ì¸ ìŠ¤í¬ë¦½íŠ¸
</code></pre></div></div>

<blockquote>
  <p>ë²ˆí˜¸ <strong>31</strong> ì€ <code class="language-plaintext highlighter-rouge">30_Areas(ì¥ê¸° ìš´ì˜)</code>ì™€ <code class="language-plaintext highlighter-rouge">32_SharedConfigs(ê³µìœ ì„¤ì •)</code> ì‚¬ì´ë¡œ, â€œìš´ì˜ ìì‚°ì´ì§€ë§Œ ì„¤ì •ì€ ì•„ë‹Œâ€ ëŒ€í™” ê¸°ë¡ì— ì˜ ë§ìŠµë‹ˆë‹¤.</p>
</blockquote>

<hr />

<h2 id="ì–¸ì œ-ì–´ë””ì—-ë‘ë‚˜-ì˜ì‚¬ê²°ì •-4ë‹¨ê³„">ì–¸ì œ ì–´ë””ì— ë‘ë‚˜ (ì˜ì‚¬ê²°ì • 4ë‹¨ê³„)</h2>

<ol>
  <li>
    <p><strong>ê·¸ëƒ¥ ì €ì¥/ë°±ì—…ìš©</strong> â†’ <code class="language-plaintext highlighter-rouge">31_Conversations/inbox/</code>ì— ë¨¼ì € ë„£ê¸°</p>
  </li>
  <li>
    <p><strong>ì •ë¦¬/ê²€ìƒ‰í•  ê°€ì¹˜ ìˆìŒ</strong> â†’ <code class="language-plaintext highlighter-rouge">31_Conversations/by_assistant/&lt;tool&gt;/YYYY/YYYY-MM/íŒŒì¼</code>ë¡œ ì´ë™</p>
  </li>
  <li>
    <p><strong>ê³µìœ í•˜ê±°ë‚˜ ë¬¸ì„œí™” ê°€ì¹˜</strong> â†’ ìš”ì•½/í´ë¦°ì—…í•´ì„œ <code class="language-plaintext highlighter-rouge">31_Conversations/redacted/â€¦</code>ì— ë³„ë„ ì €ì¥</p>

    <ul>
      <li>ê¹¨ë—ì´ ì •ë¦¬ëœ ì§€ì‹ì€ ì¶”ë ¤ì„œ <strong><code class="language-plaintext highlighter-rouge">30_Areas/knowledge_base</code>ë¡œ ìŠ¹ê²©</strong> (ì›ë³¸ ë§í¬ ë‚¨ê¹€)</li>
    </ul>
  </li>
  <li>
    <p><strong>í”„ë¡œì íŠ¸/ì‘ì—…ì—ì„œ ì°¸ì¡° í•„ìš”</strong> â†’ ê·¸ PRJ/JOB ì•ˆì—ëŠ” <strong>ë³µì‚¬í•˜ì§€ ë§ê³  ìƒëŒ€ê²½ë¡œ ë§í¬(ë˜ëŠ” ì‹¬ë³¼ë¦­ ë§í¬)</strong> ë§Œ ë‘ </p>

    <ul>
      <li>ì˜ˆ) <code class="language-plaintext highlighter-rouge">20_Projects/PRJ-â€¦/docs/links.md</code>ì— <code class="language-plaintext highlighter-rouge">../../31_Conversations/by_assistant/local_llm/â€¦/â€¦md</code> ë§í¬</li>
    </ul>
  </li>
</ol>

<hr />

<h2 id="íŒŒì¼ëª…--ë©”íƒ€-ê·œì¹™">íŒŒì¼ëª… &amp; ë©”íƒ€ ê·œì¹™</h2>

<ul>
  <li>
    <p><strong>íŒŒì¼ëª…</strong> : <code class="language-plaintext highlighter-rouge">YYYY-MM-DD_HHMM-KST_&lt;assistant&gt;_&lt;topic&gt;[_convID].md</code></p>

    <ul>
      <li>ì˜ˆ: <code class="language-plaintext highlighter-rouge">2025-09-01_1042-KST_localllm_regex-tips_cid-9a2f.md</code></li>
    </ul>
  </li>
  <li>
    <p><strong>ë¬¸ì„œ ìƒë‹¨ ë©”íƒ€(í•„ìˆ˜)</strong> â€” ë§¨ ìœ„ 6~10ì¤„ ì •ë„:</p>
  </li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>===
title: "Regex tips with backreferences"
date: 2025-09-01T10:42:00+09:00
assistant: local_llm (GPT-OSS 120B)
topic: regex
project: PRJ-2025-001_sample_app   # ì—†ìœ¼ë©´ ìƒëµ
sensitivity: low|medium|high
links:
  - ../../30_Areas/knowledge_base/tips/regex.md
===
</code></pre></div></div>

<blockquote>
  <p>ì½”ë“œ ë¸”ë¡ì€ <strong>``` ëŒ€ì‹ <code class="language-plaintext highlighter-rouge">===</code></strong> ë¡œ ê°ì‹¸ëŠ” ê¸°ì¡´ ì•½ì† ìœ ì§€.</p>
</blockquote>

<hr />

<h2 id="ë³´ì•ˆí”„ë¼ì´ë²„ì‹œ-ì›ì¹™">ë³´ì•ˆ/í”„ë¼ì´ë²„ì‹œ ì›ì¹™</h2>

<ul>
  <li>
    <p><strong>ë¯¼ê° í‘œì‹œ</strong> : <code class="language-plaintext highlighter-rouge">sensitivity: high</code>ë©´ ì¦‰ì‹œ <code class="language-plaintext highlighter-rouge">redacted/</code> ë²„ì „ ìƒì„±, í•„ìš” ì‹œ <code class="language-plaintext highlighter-rouge">private_encrypted/</code>(ì•”í˜¸í™”)ë¡œ ì´ë™.</p>
  </li>
  <li>
    <p><strong>ì•”í˜¸í™” ë³´ê´€(ì˜ˆ)</strong></p>

    <ul>
      <li>
        <p>macOS/Linux (gpg ëŒ€ì¹­):<br />
<code class="language-plaintext highlighter-rouge">gpg -c -o private_encrypted/&lt;same_name&gt;.gpg by_assistant/.../&lt;file&gt;.md</code></p>
      </li>
      <li>
        <p>Windows (7-Zip): ì•”í˜¸ ê±¸ì–´ <code class="language-plaintext highlighter-rouge">.7z</code>ë¡œ ë³´ê´€</p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>ë¹„ë°€/í† í°</strong> ì€ ì›ë³¸ì—ì„œë„ ì‚­ì œ/ë§ˆìŠ¤í‚¹í•˜ê³ , ì§„ì§œ ì›ë³¸ì´ í•„ìš”í•˜ë©´ ì•”í˜¸í™”ë³¸ë§Œ ë‚¨ê²¨ë‘ .</p>
  </li>
</ul>

<hr />

<h2 id="ì›Œí¬í”Œë¡œ-step-by-step">ì›Œí¬í”Œë¡œ (step-by-step)</h2>

<h3 id="a-ì €ì¥ë‚´ë³´ë‚´ê¸°--ì •ë¦¬">A. ì €ì¥(ë‚´ë³´ë‚´ê¸°) â†’ ì •ë¦¬</h3>

<ol>
  <li>
    <p><strong>ì›ë³¸ ë¤í”„</strong> : <code class="language-plaintext highlighter-rouge">31_Conversations/inbox/2025-09-01_1042-KST_chatgpt_tmp.md</code></p>
  </li>
  <li>
    <p><strong>ê²€í† /ì •ë¦¬</strong> : ì œëª©Â·ë©”íƒ€Â·íƒœê·¸ ë³´ê°•, ë¶ˆí•„ìš”í•œ ì¡ìŒ ì œê±°</p>
  </li>
  <li>
    <p><strong>ì´ë™</strong> :</p>

    <ul>
      <li>
        <p>ChatGPTë©´ <code class="language-plaintext highlighter-rouge">by_assistant/chatgpt/2025/2025-09/â€¦md</code></p>
      </li>
      <li>
        <p>Local LLMì´ë©´ <code class="language-plaintext highlighter-rouge">by_assistant/local_llm/â€¦</code></p>
      </li>
    </ul>
  </li>
  <li>
    <p>(ì„ íƒ) <strong>ìš”ì•½ë¬¸</strong> ì„ <code class="language-plaintext highlighter-rouge">30_Areas/knowledge_base/howtos/â€¦md</code>ì— ì‘ì„±í•˜ê³  ë§í¬.</p>
  </li>
</ol>

<h3 id="b-í”„ë¡œì íŠ¸ì‘ì—…ì—ì„œ-ì°¸ì¡°">B. í”„ë¡œì íŠ¸/ì‘ì—…ì—ì„œ ì°¸ì¡°</h3>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">20_Projects/PRJ-â€¦/docs/links.md</code>ì— ìƒëŒ€ ë§í¬ ì¶”ê°€</p>
  </li>
  <li>
    <p>ë˜ëŠ” ì‹¬ë³¼ë¦­(ë§¥/ë¦¬ëˆ…ìŠ¤):<br />
<code class="language-plaintext highlighter-rouge">ln -s ../../31_Conversations/by_assistant/local_llm/2025/2025-09/â€¦md docs/chat_refs/â€¦md</code><br />
<em>(ë§í¬ ê¹¨ì§ ë°©ì§€ë¥¼ ìœ„í•´<strong>ìƒëŒ€ ë§í¬</strong> ê¶Œì¥)</em></p>
  </li>
</ul>

<h3 id="c-ê²€ìƒ‰">C. ê²€ìƒ‰</h3>

<ul>
  <li>
    <p>rg/grep ì›ë¼ì¸ëŸ¬:</p>

    <ul>
      <li>
        <p>macOS/Linux: <code class="language-plaintext highlighter-rouge">rg -n --hidden -S "pattern" ~/Work/31_Conversations</code></p>
      </li>
      <li>
        <p>Windows(PowerShell): <code class="language-plaintext highlighter-rouge">rg -n --hidden -S "pattern" $HOME\Work\31_Conversations</code></p>
      </li>
    </ul>
  </li>
</ul>

<hr />

<h2 id="í…œí”Œë¦¿ë³µë¶™">í…œí”Œë¦¿(ë³µë¶™)</h2>

<p><code class="language-plaintext highlighter-rouge">31_Conversations/templates/chat_log_template.md</code></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>===
title: "&lt;ì§§ì€ ì œëª©&gt;"
date: 2025-09-01T10:42:00+09:00
assistant: &lt;chatgpt|local_llm|slack|...&gt;
topic: &lt;regex|packaging|...&gt;
project: &lt;PRJ-YYYY-NNN_name or -&gt;  (ì—†ìœ¼ë©´ ìƒëµ)
sensitivity: low
links: []
===

# ìš”ì•½
- í•µì‹¬ 1
- í•µì‹¬ 2

# ë³¸ë¬¸
(ëŒ€í™” ìº¡ì²˜/ì •ë¦¬)
=== code ===
# ì½”ë“œ/ëª…ë ¹(í•„ìš” ì‹œ)
===

# ì•¡ì…˜ ì•„ì´í…œ
- [ ] ë‹¤ìŒì— í•  ê²ƒâ€¦
</code></pre></div></div>

<hr />

<h2 id="ìë™í™”-ìŠ¤ë‹ˆí«">ìë™í™” ìŠ¤ë‹ˆí«</h2>

<h3 id="tcsh-ìƒˆ-ë¡œê·¸-ì‹œì‘-í—¬í¼">tcsh: â€œìƒˆ ë¡œê·¸ ì‹œì‘â€ í—¬í¼</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>=== code ===
#!/bin/tcsh -f
set root = "$HOME/Work/31_Conversations/by_assistant/local_llm"
set ts = `date +"%Y-%m-%d_%H%M-KST"`
set dest = "$root/`date +%Y`/`date +%Y-%m`/${ts}_localllm_&lt;topic&gt;.md"
mkdir -p "`dirname "$dest"`"
cp "$HOME/Work/31_Conversations/templates/chat_log_template.md" "$dest"
echo "$dest"
=== 
</code></pre></div></div>

<h3 id="powershell-inbox--ì •ë¦¬-ì˜ˆì‹œ">PowerShell: â€œinbox â†’ ì •ë¦¬â€ ì˜ˆì‹œ</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>=== code ===
$src = "$HOME\Work\31_Conversations\inbox"
$dst = "$HOME\Work\31_Conversations\by_assistant\chatgpt\$(Get-Date -f yyyy)\$(Get-Date -f yyyy-MM)"
New-Item -ItemType Directory -Force -Path $dst | Out-Null
Get-ChildItem $src -Filter *.md | ForEach-Object {
  $name = "$(Get-Date -f yyyy-MM-dd_HHmm)-KST_chatgpt_$($_.BaseName).md"
  Move-Item $_.FullName (Join-Path $dst $name)
}
=== 
</code></pre></div></div>

<hr />

<h2 id="ì™œ-31_conversationsì¸ê°€-ì¥ì -ì •ë¦¬">ì™œ <code class="language-plaintext highlighter-rouge">31_Conversations</code>ì¸ê°€ (ì¥ì  ì •ë¦¬)</h2>

<ul>
  <li>
    <p><strong>Projects/Jobsì™€ ë¶„ë¦¬</strong> : ë³µë¶™/ì¤‘ë³µ ì—†ì´ í•œ ê³³ì—ì„œ ê´€ë¦¬, í”„ë¡œì íŠ¸ì—ì„  ë§í¬ë§Œ.</p>
  </li>
  <li>
    <p><strong>ì •ë¦¬ ë‹¨ê³„ê°€ ë³´ì„</strong> : <code class="language-plaintext highlighter-rouge">inbox â†’ by_assistant â†’ (redacted/private)</code>ë¡œ ìì—°ìŠ¤ëŸ¬ìš´ íë¦„.</p>
  </li>
  <li>
    <p><strong>ê²€ìƒ‰ íš¨ìœ¨</strong> : ë„êµ¬/ì£¼ì œ/ê¸°ê°„ë³„ë¡œ íŠ¸ë¦¬ ì •ë¦¬ê°€ ë˜ì–´ <code class="language-plaintext highlighter-rouge">ripgrep</code> í•œ ë°©.</p>
  </li>
  <li>
    <p><strong>ë³´ì•ˆ ë ˆì´ì–´</strong> : ë¯¼ê°Â·ê³µìœ  ê°€ëŠ¥í•œ ë²„ì „ì„ ë¶„ë¦¬í•´ ì‹¤ìˆ˜ ë°©ì§€.</p>
  </li>
</ul>

<p>í•„ìš”í•˜ë©´ ë„ˆì˜ í™˜ê²½(tcsh/PowerShell)ì— ë§ì¶˜ <strong>ì‹ ê·œ ë§Œë“¤ê¸°/ì •ë¦¬/ìƒ‰ì¸ ìŠ¤í¬ë¦½íŠ¸</strong> ë¥¼ ë” ë‹¤ë“¬ì–´ì„œ ì¤„ê²Œ.</p>

<p class="chat--user">

ê¸°íƒ€ ì—”í„°í…Œì¸ë¨¼íŠ¸ìš© ìŒì•…/ì‚¬ì§„ì€ ì–´ë””ë‘˜ê¹Œ? ì§‘ì¤‘í• ë•Œ ë“£ëŠ” ìŒì•… ë“±ë“±

</p>

<p>ì¢‹ì€ ì§ˆë¬¸! ê²°ë¡ ë¶€í„°:</p>

<ul>
  <li>
    <p><strong>ê¶Œì¥</strong> : ì—…ë¬´ íŠ¸ë¦¬(~/Work) <strong>ë°”ê¹¥</strong> ì— ê°œì¸ìš© ë¯¸ë””ì–´ë¥¼ ë‘¬ìš” â†’ <code class="language-plaintext highlighter-rouge">~/Personal/Media/â€¦</code></p>
  </li>
  <li>
    <p><strong>ë¶€ë“ì´í•˜ê²Œ Work ì•ˆì— ë‘˜ ë•Œ</strong> : <strong>ì—…ë¬´ ìì‚°ê³¼ í™•ì‹¤íˆ ë¶„ë¦¬ëœ ì „ìš© ìƒì</strong> ë¥¼ í•˜ë‚˜ ë§Œë“­ë‹ˆë‹¤ â†’ <code class="language-plaintext highlighter-rouge">06_Media/â€¦</code></p>
  </li>
</ul>

<p>ì•„ë˜ì²˜ëŸ¼ ì“°ë©´ ê¹”ë”í•´ìš”.</p>

<hr />

<h1 id="aì•ˆ-ê¶Œì¥-work-ë°”ê¹¥">Aì•ˆ (ê¶Œì¥): Work ë°”ê¹¥</h1>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>~/Personal/Media/
â”œâ”€ Music/
â”‚  â”œâ”€ focus/            # ì§‘ì¤‘ìš©(white-noise, lofi, rain ë“±)
â”‚  â”œâ”€ ambient/
â”‚  â””â”€ playlists/        # .m3u í”Œë ˆì´ë¦¬ìŠ¤íŠ¸
â”œâ”€ Photos/
â”‚  â”œâ”€ wallpapers/
â”‚  â””â”€ reference/
â””â”€ Licenses/            # í°íŠ¸/ìŒì›/ì´ë¯¸ì§€ ë¼ì´ì„ ìŠ¤ ì‚¬ë³¸
</code></pre></div></div>

<ul>
  <li>
    <p><strong>ì´ìœ </strong> : ì—…ë¬´ ë°±ì—…/ê²€ìƒ‰/ë²„ì „ê´€ë¦¬ ë²”ìœ„ì—ì„œ ì œì™¸ â†’ ì„±ëŠ¥Â·ë³´ì•ˆÂ·ìš©ëŸ‰ ì´ì .</p>
  </li>
  <li>
    <p>í”„ë¡œì íŠ¸/ì‘ì—…ì— í•„ìš”í•˜ë©´ <strong>ë§í¬ë¡œë§Œ</strong> ì°¸ì¡°(ë³µì‚¬ ê¸ˆì§€).</p>
  </li>
</ul>

<hr />

<h1 id="bì•ˆ-work-ì•ˆì—-ë‘˜-ë•Œ-06_media">Bì•ˆ (Work ì•ˆì— ë‘˜ ë•Œ): 06_Media</h1>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Work/
â””â”€ 06_Media/                         - ê°œì¸ ì—”í„°í…Œì¸ë¨¼íŠ¸ ìƒì(ì—…ë¬´ì™€ ë¶„ë¦¬)
   â”œâ”€ audio/
   â”‚  â”œâ”€ focus/
   â”‚  â”œâ”€ ambient/
   â”‚  â””â”€ playlists/                 # focus.m3u, rain.m3u â€¦
   â”œâ”€ photos/
   â”‚  â”œâ”€ wallpapers/
   â”‚  â””â”€ reference/
   â”œâ”€ licenses/
   â””â”€ README.md                     # ìš©ë„/ì£¼ì˜ì‚¬í•­ ìš”ì•½
</code></pre></div></div>

<ul>
  <li>
    <p><strong>60_Assets</strong> ëŠ” ë¡œê³ /í°íŠ¸/í…œí”Œë¦¿ ê°™ì€ â€œì—…ë¬´ ì‹œê° ìì‚°â€ ìš©ì´ë¼, <strong>ì—”í„°í…Œì¸ë¨¼íŠ¸ëŠ” 06_Mediaë¡œ ë¶„ë¦¬</strong> í•©ë‹ˆë‹¤.</p>
  </li>
  <li>
    <p>ê° PRJ/JOBì—ì„œëŠ” <strong>ìƒëŒ€ê²½ë¡œ ë§í¬</strong> ë§Œ ë‘ê³ , ì›ë³¸ì€ ì—¬ê¸° ë³´ê´€.</p>
  </li>
</ul>

<hr />

<h2 id="ìš´ì˜-ê·œì¹™ê°„ë‹¨-ë£°">ìš´ì˜ ê·œì¹™(ê°„ë‹¨ ë£°)</h2>

<ol>
  <li>
    <p><strong>ë³µì‚¬ ê¸ˆì§€</strong> : PRJ/JOB/Resourcesë¡œ ì˜®ê¸°ì§€ ë§ê³  <strong>ë§í¬/ê²½ë¡œ ì°¸ì¡°</strong> ë§Œ.</p>
  </li>
  <li>
    <p><strong>ê²€ìƒ‰ ì œì™¸</strong> : ripgrep/ì¸ë±ì‹±/ë°±ì—… ëŒ€ìƒì—ì„œ 06_Media ë˜ëŠ” Personal/Mediaë¥¼ <strong>ì œì™¸</strong>(ì„±ëŠ¥â†‘).</p>
  </li>
  <li>
    <p><strong>ë¼ì´ì„ ìŠ¤ ë¶„ë¦¬</strong> : êµ¬ë§¤/ë¼ì´ì„ ìŠ¤ íŒŒì¼ì€ <code class="language-plaintext highlighter-rouge">licenses/</code>ì— í•¨ê»˜ ì €ì¥.</p>
  </li>
  <li>
    <p><strong>ëŒ€ìš©ëŸ‰ ì£¼ì˜</strong> : í´ë¼ìš°ë“œ ë™ê¸°í™” ê¸ˆì§€ ì •ì±…ì´ ìˆìœ¼ë©´ ì œì™¸ í´ë”ë¡œ ë“±ë¡.</p>
  </li>
</ol>

<hr />

<h2 id="todayì—ì„œ-ë¹ ë¥´ê²Œ-ì¬ìƒì„ íƒ">Todayì—ì„œ ë¹ ë¥´ê²Œ ì¬ìƒ(ì„ íƒ)</h2>

<p>í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ë¥¼ ë§Œë“¤ê³  <code class="language-plaintext highlighter-rouge">10_Today/shortcuts.list</code>ë¡œ ì‹¤í–‰í•´ìš”. (mpv/VLC ë“± í¬í„°ë¸”ì„ 82_Toolsì— ë‘ë©´ í¸í•¨)</p>

<h3 id="ì˜ˆ-focusm3u-í”Œë ˆì´ë¦¬ìŠ¤íŠ¸">ì˜ˆ) focus.m3u (í”Œë ˆì´ë¦¬ìŠ¤íŠ¸)</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># ~/Work/06_Media/audio/playlists/focus.m3u
../focus/lofi-01.mp3
../focus/rain-60min.mp3
../ambient/white-noise.wav
</code></pre></div></div>

<h3 id="mpvë¥¼-82_toolsì—-ë‘ê³ -ì‹¤í–‰">mpvë¥¼ 82_Toolsì— ë‘ê³  ì‹¤í–‰</h3>

<ul>
  <li>
    <p>mpv ìœ„ì¹˜: <code class="language-plaintext highlighter-rouge">82_Tools/portable/mpv-&lt;ver&gt;/mpv</code> â†’ <code class="language-plaintext highlighter-rouge">82_Tools/bin/mpv</code> ì‹¬ë§í¬ ê¶Œì¥</p>
  </li>
  <li>
    <p>shortcuts.list ë¼ì¸:</p>
  </li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Focus (shuffle) | / | mpv --no-video --shuffle --loop-playlist ~/Work/06_Media/audio/playlists/focus.m3u
</code></pre></div></div>

<h3 id="windowspowershell-ì˜ˆ">Windows(PowerShell) ì˜ˆ</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Focus (VLC) | / | "&amp; $HOME\Work\82_Tools\portable\vlc-&lt;ver&gt;\vlc.exe" --qt-start-minimized --loop $HOME\Work\06_Media\audio\playlists\focus.m3u
</code></pre></div></div>

<hr />

<h2 id="ë§í¬ë¡œë§Œ-ì°¸ì¡°ë³µë¶™-ê¸ˆì§€">ë§í¬ë¡œë§Œ ì°¸ì¡°(ë³µë¶™ ê¸ˆì§€)</h2>

<ul>
  <li>macOS/Linux:
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ln -s ../../06_Media/photos/wallpapers/ ~/Work/20_Projects/PRJ-.../docs/wallpapers
</code></pre></div>    </div>
  </li>
  <li>Windows: <strong>ì‹¬ë³¼ë¦­/ì •ì…˜</strong> ë˜ëŠ” ë¬¸ì„œì— ê²½ë¡œë§Œ ë§í¬.</li>
</ul>

<hr />

<h2 id="í—·ê°ˆë¦´-ë•Œ-êµ¬ë¶„ë²•-step-by-step">í—·ê°ˆë¦´ ë•Œ êµ¬ë¶„ë²• (step-by-step)</h2>

<ul>
  <li>
    <p><strong>ì—…ë¬´ ì‚°ì¶œë¬¼/ì°¸ì¡° ìì‚°</strong> â†’ <code class="language-plaintext highlighter-rouge">60_Assets</code></p>
  </li>
  <li>
    <p><strong>êµìœ¡/ìŠ¤í™/ë¬¸ì„œ</strong> â†’ <code class="language-plaintext highlighter-rouge">40_Resources</code></p>
  </li>
  <li>
    <p><strong>ìˆœìˆ˜ ê°œì¸ ê°ìƒ/ì§‘ì¤‘ìš©</strong> â†’ <code class="language-plaintext highlighter-rouge">06_Media</code> (ë˜ëŠ” <code class="language-plaintext highlighter-rouge">~/Personal/Media</code>) âœ…</p>
  </li>
</ul>

<p>ì›í•˜ë©´ A/B ì¤‘ ì„ íƒì— ë§ì¶° <strong>ì´ˆê¸° í´ë” ìƒì„± ìŠ¤í¬ë¦½íŠ¸</strong> ì™€ <strong>Today ë‹¨ì¶• ì„¸íŠ¸</strong> ë¥¼ ë°”ë¡œ ë§Œë“¤ì–´ì¤„ê²Œ!</p>

<p class="chat--user">

Obsidian vaultëŠ” ì–´ë”” ë„£ëŠ”ê²Œ ì¢‹ì„ê¹Œ

</p>

<p>ì¢‹ì€ ì§ˆë¬¸! ë”± ì •ë¦¬í•˜ë©´:</p>

<h2 id="ê²°ë¡ -ì¶”ì²œ-ìœ„ì¹˜">ê²°ë¡  (ì¶”ì²œ ìœ„ì¹˜)</h2>

<ul>
  <li>
    <p><strong>ì—…ë¬´ ì§€ì‹/ë©”ëª¨ ì¤‘ì‹¬ Vault</strong> âœ <code class="language-plaintext highlighter-rouge">~/Work/30_Areas/knowledge_base/obsidian_vault/</code><br />
(ì¥ê¸° ìš´ì˜ ì§€ì‹ì´ë¯€ë¡œ <em>Areas</em> ì•„ë˜ê°€ ê°€ì¥ ìì—°ìŠ¤ëŸ½ìŠµë‹ˆë‹¤.)</p>
  </li>
  <li>
    <p><strong>ì™„ì „ ê°œì¸ìš©(ì¼ê¸°/ì‚¬ìƒí™œ)</strong> âœ <code class="language-plaintext highlighter-rouge">~/Personal/Notes/obsidian_vault/</code><br />
(ì—…ë¬´ íŠ¸ë¦¬ ë°–ìœ¼ë¡œ ë¶„ë¦¬ ì¶”ì²œ)</p>
  </li>
  <li>
    <p><strong>í”„ë¡œì íŠ¸ë³„ ë³„ë„ Vault</strong> ëŠ” ê°€ê¸‰ì  ë¹„ì¶”ì²œ. í”„ë¡œì íŠ¸/ì¡ ë¬¸ë§¥ì˜ ë©”ëª¨ëŠ” ê° í´ë”ì— ë‘ê³ (<strong>ë³µì‚¬ ê¸ˆì§€</strong>), Vaultì—ì„œëŠ” <strong>ë§í¬</strong> ë¡œ ì°¸ì¡°í•˜ëŠ” ë°©ì‹ì´ ê´€ë¦¬ê°€ ì‰¬ì›Œìš”.</p>
  </li>
</ul>

<hr />

<h2 id="ì™œ-30_areasknowledge_baseì¸ê°€-step-by-step">ì™œ <code class="language-plaintext highlighter-rouge">30_Areas/knowledge_base</code>ì¸ê°€ (step-by-step)</h2>

<ol>
  <li>
    <p><strong>ìˆ˜ëª… ì£¼ê¸°</strong> : VaultëŠ” í”„ë¡œì íŠ¸ë³´ë‹¤ ì˜¤ë˜ ì‚´ì•„ìˆëŠ” â€œì§€ì‹ ìì‚°â€ â†’ <em>Areas</em> ê°€ ë§ìŒ.</p>
  </li>
  <li>
    <p><strong>ì—­í•  ë¶„ë¦¬</strong> : ì™¸ë¶€ ë¬¸ì„œ/ìŠ¤í™ì€ <code class="language-plaintext highlighter-rouge">40_Resources</code>, ì„¤ì •ì€ <code class="language-plaintext highlighter-rouge">32_SharedConfigs</code>/<code class="language-plaintext highlighter-rouge">90_PersonalConfigs</code>, <strong>ë‚´ê°€ ì“´ ì§€ì‹ê³¼ ë…¸íŠ¸</strong> ëŠ” Vaultì—.</p>
  </li>
  <li>
    <p><strong>ì°¸ì¡° íë¦„</strong> : í”„ë¡œì íŠ¸/ì‘ì—…(20/25)ì—ì„œëŠ” <strong>ìƒëŒ€ê²½ë¡œ ë§í¬</strong> ë§Œ ë‘ê³ , ì›ë³¸ì€ Vaultì— ì§‘ì¤‘.</p>
  </li>
</ol>

<hr />

<h2 id="ìµœì†Œ-êµ¬ì¡°-ì˜ˆì‹œ">ìµœì†Œ êµ¬ì¡° ì˜ˆì‹œ</h2>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>~/Work/30_Areas/knowledge_base/obsidian_vault/
â”œâ”€ 00_Inbox/                # ìº¡ì²˜/ì„ì‹œ ë…¸íŠ¸ (ì •ë¦¬ ì „)
â”œâ”€ 10_Daily/2025/           # ë°ì¼ë¦¬/ì£¼ê°„ ë…¸íŠ¸
â”œâ”€ 20_Topics/               # ì£¼ì œë³„(Regex, Packaging, PySide6â€¦)
â”œâ”€ 30_ProjectsNotes/        # í”„ë¡œì íŠ¸ ê´€ë ¨ â€œë…¸íŠ¸â€(ì½”ë“œëŠ” 20_Projectsì— ìˆìŒ)
â”œâ”€ 40_References/           # ë‚´ê°€ ìš”ì•½/ì •ë¦¬í•œ ë ˆí¼ëŸ°ìŠ¤(ì›ë³¸ì€ 40_Resources)
â”œâ”€ _attachments/            # ì‘ì€ ì²¨ë¶€(ì´ë¯¸ì§€/ìŠ¤ë‹ˆí«). ëŒ€ìš©ëŸ‰ì€ ë§í¬ë§Œ.
â””â”€ .obsidian/               # Vault ì„¤ì •(í…Œë§ˆ/í”ŒëŸ¬ê·¸ì¸)
</code></pre></div></div>

<blockquote>
  <p><strong>ëŒ€ìš©ëŸ‰ íŒŒì¼(ìŒì›/ì˜ìƒ/ëŒ€í˜• PDF)ì€ ë³µì‚¬í•˜ì§€ ë§ê³ </strong> <code class="language-plaintext highlighter-rouge">60_Assets</code>(ì—…ë¬´ ìì‚°)ì´ë‚˜ <code class="language-plaintext highlighter-rouge">06_Media</code>(ì—”í„°í…Œì¸ë¨¼íŠ¸)Â·<code class="language-plaintext highlighter-rouge">26_Datasets</code>(ë°ì´í„°ì…‹) ìœ„ì¹˜ë¥¼ <strong>ë§í¬ë¡œ ì°¸ì¡°</strong> í•˜ì„¸ìš”.</p>
</blockquote>

<hr />

<h2 id="obsidian-ì„¤ì •-íŒ-í•œë²ˆë§Œ-í•´ë‘ë©´-í¸í•¨">Obsidian ì„¤ì • íŒ (í•œë²ˆë§Œ í•´ë‘ë©´ í¸í•¨)</h2>

<ul>
  <li>
    <p><strong>Default location for new attachments</strong> : <code class="language-plaintext highlighter-rouge">./_attachments</code></p>
  </li>
  <li>
    <p><strong>Use[[[] wikilinks</strong>: ì¼œê¸° (ìƒëŒ€ê²½ë¡œ ì°¸ì¡° ì‰¬ì›€)</p>
  </li>
  <li>
    <p><strong>New file location</strong> : <code class="language-plaintext highlighter-rouge">00_Inbox</code> (ìˆ˜ì§‘â†’ì •ë¦¬ ë£¨í‹´)</p>
  </li>
  <li>
    <p><strong>Daily notes/Periodic Notes í”ŒëŸ¬ê·¸ì¸</strong> : <code class="language-plaintext highlighter-rouge">10_Daily/2025/</code>ë¡œ ì§€ì •</p>
  </li>
  <li>
    <p><strong>Template</strong> : <code class="language-plaintext highlighter-rouge">30_Areas/knowledge_base/obsidian_vault/_templates/â€¦</code> ë§Œë“¤ê³  í…œí”Œë¦¿ í”ŒëŸ¬ê·¸ì¸ ê²½ë¡œ ì„¤ì •</p>
  </li>
  <li>
    <p><strong>ëŒ€ìš©ëŸ‰ ì œì™¸</strong> : Vault ë£¨íŠ¸ì— <code class="language-plaintext highlighter-rouge">.gitignore</code>ë¡œ <code class="language-plaintext highlighter-rouge">_attachments/**.mp4</code>, <code class="language-plaintext highlighter-rouge">*.zip</code> ë“± ì œì™¸(ê¹ƒ ê´€ë¦¬ ì‹œ)</p>
  </li>
</ul>

<hr />

<h2 id="ë²„ì „ê´€ë¦¬--ê°œì¸ì„¤ì •-ë¶„ë¦¬ì„ íƒ">ë²„ì „ê´€ë¦¬ &amp; ê°œì¸ì„¤ì • ë¶„ë¦¬(ì„ íƒ)</h2>

<ul>
  <li>
    <p>Vault ìì²´ë¥¼ Gitìœ¼ë¡œ ê´€ë¦¬í•˜ë ¤ë©´:</p>

    <ul>
      <li>
        <p>ì²´í¬ì¸: <code class="language-plaintext highlighter-rouge">*.md</code>, <code class="language-plaintext highlighter-rouge">_attachments</code>(ì†Œí˜•), í…œí”Œë¦¿</p>
      </li>
      <li>
        <p>ì œì™¸: <code class="language-plaintext highlighter-rouge">.obsidian/workspace.json</code>(ê°œì¸ ë ˆì´ì•„ì›ƒ), ìºì‹œë¥˜</p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>ê°œì¸ í…Œë§ˆ/ìŠ¤ë‹ˆí«</strong> ì€ <code class="language-plaintext highlighter-rouge">~/Work/90_PersonalConfigs/obsidian/&lt;vault_name&gt;/</code>ì— ë°±ì—…í•´ ë‘ê³ ,<br />
í•„ìš” ì‹œ Vaultì˜ <code class="language-plaintext highlighter-rouge">.obsidian</code>ìœ¼ë¡œ <strong>ë³µì‚¬/ë™ê¸°í™”</strong>(OS ë°”ë€Œì–´ë„ ë³µêµ¬ ì‰¬ì›€).</p>
  </li>
</ul>

<hr />

<h2 id="í”„ë¡œì íŠ¸ì‘ì—…ì—ì„œ-ë§í¬ë¡œë§Œ-ì°¸ì¡°-ë³µë¶™-ê¸ˆì§€">í”„ë¡œì íŠ¸/ì‘ì—…ì—ì„œ ë§í¬ë¡œë§Œ ì°¸ì¡° (ë³µë¶™ ê¸ˆì§€)</h2>

<ul>
  <li>macOS/Linux:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">ln</span> <span class="nt">-s</span> ../../30_Areas/knowledge_base/obsidian_vault/20_Topics/regex.md <span class="se">\</span>
      ~/Work/20_Projects/PRJ-2025-001_sample_app/docs/regex-notes.md
</code></pre></div>    </div>
  </li>
  <li>Windows(ê´€ë¦¬ì ë˜ëŠ” ê°œë°œì ëª¨ë“œ):
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cmd
    
mklink docs\regex-notes.md ..\..\30_Areas\knowledge_base\obsidian_vault\20_Topics\regex.md
</code></pre></div>    </div>
  </li>
</ul>

<hr />

<h2 id="ì–¸ì œ-ë‹¤ë¥¸-ìœ„ì¹˜ë¥¼-ì“°ë‚˜">ì–¸ì œ ë‹¤ë¥¸ ìœ„ì¹˜ë¥¼ ì“°ë‚˜?</h2>

<ul>
  <li>
    <p><strong>íšŒì‚¬ ì „ì²´ ê³µìœ  Vault</strong> ê°€ í•„ìš”í•˜ë©´: <code class="language-plaintext highlighter-rouge">32_SharedConfigs/knowledge_vault/</code>ë¡œ ë³„ë„ ìš´ì˜(ê°œì¸ Vaultì™€ ë¶„ë¦¬).</p>
  </li>
  <li>
    <p><strong>ì—°êµ¬ ë¦¬í¬ ì •ë… ë…¸íŠ¸</strong> : ì½”ë“œ ì›ë³¸ì€ <code class="language-plaintext highlighter-rouge">21_ExternalRepos</code>, ì½ê¸° ë…¸íŠ¸ëŠ” Vaultì˜ <code class="language-plaintext highlighter-rouge">40_References/</code>ì—.</p>
  </li>
</ul>

<hr />

<h3 id="í•œ-ì¤„-ìš”ì•½-2">í•œ ì¤„ ìš”ì•½</h3>

<ul>
  <li>
    <p><strong>ì—…ë¬´ìš© Obsidian Vault</strong> ëŠ” <code class="language-plaintext highlighter-rouge">~/Work/30_Areas/knowledge_base/obsidian_vault/</code>.</p>
  </li>
  <li>
    <p><strong>ê°œì¸ìš©</strong> ì€ <code class="language-plaintext highlighter-rouge">~/Personal/Notes/obsidian_vault/</code>.</p>
  </li>
  <li>
    <p>ëŒ€ìš©ëŸ‰ì€ ë§í¬ë§Œ, ë…¸íŠ¸ëŠ” Vaultì— ì§‘ì¤‘â€”í”„ë¡œì íŠ¸/ì¡ì—ì„œëŠ” <strong>ë³µì‚¬ ë§ê³  ì°¸ì¡°</strong>!</p>
  </li>
</ul>

<p class="chat--user">

ì–´ë””ì„ ê°€ ë‹¤ìš´ë°›ì€ (í° ë…¸ë ¥ì—†ì´) êµìœ¡ â€œìë£Œâ€ê°€ ìˆê³ , ë‚´ê°€ ìŠ¤ìŠ¤ë¡œ ê³µë¶€í•˜ë©° ì •ë¦¬í•œ ìë£Œë‚˜ ìˆ˜í–‰í•œ ì‹¤ìŠµì´ ìˆì–ì•„. ë‘˜ì„ ëª¨ë‘ ê°™ì€ ê³³ì— ë³´ê´€í•˜ëŠ” ê±´ ì¢€ ì´ìƒí•´. ë°©ë²• ì¶”ì²œí•´ì¤˜

</p>

<p>ì¢‹ì€ ì§€ì ! â€œì–´ë””ì„ ê°€ ë‹¤ìš´ë°›ì€ êµìœ¡ ìë£Œ(ìˆ˜ì§‘ë¬¼)â€ì™€ â€œë‚´ê°€ ê³µë¶€í•˜ë©° ë§Œë“  ì •ë¦¬/ì‹¤ìŠµ(ì°½ì‘ë¬¼)â€ì„ <strong>ì˜ë„ì ìœ¼ë¡œ ë¶„ë¦¬</strong> í•˜ë©´ í›¨ì”¬ ê¹”ë”í•´ì ¸ìš”. ì•„ë˜ì²˜ëŸ¼ ë‚˜ëˆ„ëŠ” ê±¸ ì¶”ì²œí•©ë‹ˆë‹¤.</p>

<hr />

<h1 id="1-ê²°ë¡ -ìƒì-3ê°œë¡œ-ë¶„ë¦¬">1) ê²°ë¡ : ìƒì 3ê°œë¡œ ë¶„ë¦¬</h1>

<h2 id="a-ì™¸ë¶€-ìˆ˜ì§‘ë¬¼ì½ê¸°ì°¸ê³ ìš©-ì›ë³¸">A) ì™¸ë¶€ ìˆ˜ì§‘ë¬¼(ì½ê¸°/ì°¸ê³ ìš© ì›ë³¸)</h2>

<ul>
  <li>
    <p><strong>ìœ„ì¹˜:</strong> <code class="language-plaintext highlighter-rouge">~/Work/40_Resources/edu/â€¦</code></p>
  </li>
  <li><strong>ì˜ˆì‹œ íŠ¸ë¦¬</strong>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>40_Resources/
  edu/
    courses/&lt;provider&gt;/&lt;course_name&gt;/vYYYY.MMDD/{slides,pdf,code,assets,LICENSE,README.md}
    tutorials/&lt;site&gt;/&lt;series&gt;/vYYYY.MMDD/{html,pdf,code}
    papers/{to_read,reading_notes,summaries}/
    manuals/&lt;vendor&gt;/&lt;product&gt;/&lt;version&gt;/
</code></pre></div>    </div>
  </li>
  <li><strong>ì›ì¹™:</strong> â€œì½ê¸° ì „ìš©â€. í° íŒŒì¼ë„ <strong>ì—¬ê¸°ì—ë§Œ</strong> ì €ì¥(í”„ë¡œì íŠ¸/ë…¸íŠ¸ë¡œ ë³µì‚¬ ê¸ˆì§€).</li>
</ul>

<h2 id="b-ë‚´-ë…¸íŠ¸ì •ë¦¬ì§€ì‹í™”">B) ë‚´ ë…¸íŠ¸/ì •ë¦¬(ì§€ì‹í™”)</h2>

<ul>
  <li>
    <p><strong>ìœ„ì¹˜:</strong> <code class="language-plaintext highlighter-rouge">~/Work/30_Areas/knowledge_base/obsidian_vault/â€¦</code></p>
  </li>
  <li><strong>ì˜ˆì‹œ íŠ¸ë¦¬</strong>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>30_Areas/knowledge_base/obsidian_vault/
  20_Topics/&lt;topic&gt;.md
  40_References/&lt;course_name&gt;_summary.md
  30_ProjectsNotes/PRJ-2025-001_sample_app.md
  _attachments/ (ì†Œí˜• ì´ë¯¸ì§€ë§Œ)
</code></pre></div>    </div>
  </li>
  <li>
    <p><strong>ì›ì¹™:</strong> í…ìŠ¤íŠ¸ ì¤‘ì‹¬. ì›ë³¸ íŒŒì¼ì€ Aì— ë‘ê³ , <strong>ë§í¬ë§Œ</strong> ê±´ë‹¤.</p>

    <ul>
      <li>Obsidian ì“°ë©´ <code class="language-plaintext highlighter-rouge">[[ìƒëŒ€ë§í¬]]</code>ë¡œ Aì˜ ìë£Œë¥¼ ê°€ë¦¬í‚¤ê¸°.</li>
    </ul>
  </li>
</ul>

<h2 id="c-ì‹¤ìŠµê³¼ì œì¬í˜„-ê°€ëŠ¥í•œ-ì‘ì—…ì•¡ì…˜">C) ì‹¤ìŠµ/ê³¼ì œ/ì¬í˜„ ê°€ëŠ¥í•œ ì‘ì—…(ì•¡ì…˜)</h2>

<ul>
  <li>
    <p><strong>ìœ„ì¹˜:</strong> <code class="language-plaintext highlighter-rouge">~/Work/25_Jobs/LAB/&lt;ì—°ë„&gt;/LAB-YYYY-NNN_&lt;slug&gt;/â€¦</code></p>
  </li>
  <li><strong>ì˜ˆì‹œ íŠ¸ë¦¬</strong>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>25_Jobs/
  LAB/2025/LAB-2025-017_pyside6-tableview/
    README.md        # ëª©í‘œ/ì ˆì°¨/ê²°ê³¼
    env/             # (í•„ìš” ì‹œ) í™˜ê²½ ì •ì˜
    scripts/         # run/build/test
    src/             # ì‹¤ìŠµ ì½”ë“œ
    data/            # ì†Œìš©ëŸ‰ ìƒ˜í”Œë§Œ (ëŒ€ìš©ëŸ‰ì€ 26_Datasets ë§í¬)
    references.md    # 40_Resources ê²½ë¡œ ë§í¬ ëª¨ìŒ
</code></pre></div>    </div>
  </li>
  <li>
    <p><strong>ì›ì¹™:</strong> ì‹¤í–‰/ê²€ì¦ ê°€ëŠ¥í•˜ê²Œ êµ¬ì„±. ëŒ€ìš©ëŸ‰ ì…ë ¥ì€ <strong>26_Datasets</strong> ë¥¼ ì°¸ì¡°:</p>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">~/Work/26_Datasets/datasets/&lt;name&gt;/vYYYY.MMDD/â€¦</code> (ì—¬ê¸°ì—” <strong>ì •ë³¸</strong> ë§Œ)</li>
    </ul>
  </li>
</ul>

<blockquote>
  <p>ê°€ë²¼ìš´ ì¦‰í¥ ì‹¤í—˜ì€ <strong><code class="language-plaintext highlighter-rouge">22_Labs/</code></strong>ì— ë‘ê³ , ì¬í˜„Â·ê³µìœ  ê°€ì¹˜ê°€ ìƒê¸°ë©´ <strong>LAB Job</strong> ìœ¼ë¡œ â€œìŠ¹ê²©â€í•˜ì„¸ìš”.</p>
</blockquote>

<hr />

<h1 id="2-ë¼ìš°íŒ…-í‘œí—·ê°ˆë¦´-ë•Œ-ì´ëŒ€ë¡œ">2) ë¼ìš°íŒ… í‘œ(í—·ê°ˆë¦´ ë•Œ ì´ëŒ€ë¡œ)</h1>

<table>
  <thead>
    <tr>
      <th>í•­ëª©</th>
      <th>ë³´ê´€ ìœ„ì¹˜</th>
      <th>ë©”ëª¨</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>ê°•ì˜ ìŠ¬ë¼ì´ë“œ/PDF/ì˜ˆì œ ZIP</td>
      <td><code class="language-plaintext highlighter-rouge">40_Resources/edu/courses/...</code></td>
      <td>ì›ë³¸ë§Œ ì €ì¥(ì½ê¸° ì „ìš©)</td>
    </tr>
    <tr>
      <td>ë¸”ë¡œê·¸ íŠœí† ë¦¬ì–¼ ë³µì‚¬ë³¸</td>
      <td><code class="language-plaintext highlighter-rouge">40_Resources/edu/tutorials/...</code></td>
      <td>URLê³¼ ë‚ ì§œ ê°™ì´ ê¸°ë¡</td>
    </tr>
    <tr>
      <td>ë…¼ë¬¸ PDF/ì •ë¦¬</td>
      <td>PDF: <code class="language-plaintext highlighter-rouge">40_Resources/edu/papers/to_read/â€¦</code> / ì •ë¦¬: Vault</td>
      <td>ì •ë¦¬ëŠ” Vaultì—ì„œ</td>
    </tr>
    <tr>
      <td>ë‚´ ìš”ì•½/ì¹˜íŠ¸ì‹œíŠ¸</td>
      <td><code class="language-plaintext highlighter-rouge">30_Areas/knowledge_base/obsidian_vault/...</code></td>
      <td>ì›ë³¸ ë§í¬ í¬í•¨</td>
    </tr>
    <tr>
      <td>ì‹¤ìŠµ ì½”ë“œ/ê³¼ì œ í’€ì´</td>
      <td><code class="language-plaintext highlighter-rouge">25_Jobs/LAB/...</code></td>
      <td>ì¬í˜„ ê°€ëŠ¥í•œ êµ¬ì¡°, ê²°ê³¼ ìº¡ì²˜</td>
    </tr>
    <tr>
      <td>ì¦‰ì„ ë…¸íŠ¸ë¶ ì‹¤í—˜</td>
      <td><code class="language-plaintext highlighter-rouge">22_Labs/jupyter/...</code></td>
      <td>ì§§ê²Œ ëë‚˜ë©´ ì—¬ê¸°ì„œ ì¢…ë£Œ</td>
    </tr>
    <tr>
      <td>ëŒ€ìš©ëŸ‰ ë°ì´í„°</td>
      <td><code class="language-plaintext highlighter-rouge">26_Datasets/.../vYYYY.MMDD/</code></td>
      <td>manifest.yml + ì²´í¬ì„¬</td>
    </tr>
  </tbody>
</table>

<hr />

<h1 id="3-ì—°ê²°ë§í¬-ê·œì¹™">3) ì—°ê²°(ë§í¬) ê·œì¹™</h1>

<ul>
  <li>
    <p><strong>Vault â†” Resources:</strong> Vault ë…¸íŠ¸ì—ì„œ <strong>ìƒëŒ€ ê²½ë¡œ ë§í¬</strong> ë¡œ <code class="language-plaintext highlighter-rouge">40_Resources</code> íŒŒì¼ì„ ê°€ë¦¬í‚´. ë³µì‚¬ ê¸ˆì§€.</p>
  </li>
  <li>
    <p><strong>LAB â†” Resources/Datasets:</strong> <code class="language-plaintext highlighter-rouge">references.md</code>ì— <code class="language-plaintext highlighter-rouge">../../../../40_Resources/...</code> / <code class="language-plaintext highlighter-rouge">../../../../26_Datasets/...</code> ë§í¬.<br />
í•„ìš”í•˜ë©´ <strong>ì‹¬ë³¼ë¦­ ë§í¬</strong> ë„ ê°€ëŠ¥(ìƒëŒ€ê²½ë¡œë¡œ).</p>
  </li>
</ul>

<p>ì˜ˆ:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># 25_Jobs/LAB/.../references.md
- ê°•ì˜ ë…¸íŠ¸: ../../../../40_Resources/edu/courses/udemy/pyqt/v2025.0829/README.md
- ìƒ˜í”Œ ë°ì´í„°: ../../../../26_Datasets/datasets/ad_events/v2025.0826/processed/
</code></pre></div></div>

<hr />

<h1 id="4-ìŠ¤ìºí´ë“œë¹ ë¥´ê²Œ-ë§Œë“¤ê¸°">4) ìŠ¤ìºí´ë“œ(ë¹ ë¥´ê²Œ ë§Œë“¤ê¸°)</h1>

<p><strong>ì½”ìŠ¤ ìˆ˜ì§‘ë¬¼ í´ë”</strong></p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">base</span><span class="o">=</span>~/Work/40_Resources/edu/courses/udemy/pyside6-masterclass/v2025.0901
<span class="nb">mkdir</span> <span class="nt">-p</span> <span class="s2">"</span><span class="nv">$base</span><span class="s2">"</span>/<span class="o">{</span>slides,pdf,code,assets<span class="o">}</span>
<span class="nb">printf</span> <span class="s1">'%s\n'</span> <span class="s2">"# Course: PySide6 Masterclass"</span> <span class="o">&gt;</span> <span class="s2">"</span><span class="nv">$base</span><span class="s2">/README.md"</span>
</code></pre></div></div>

<p><strong>LAB Job</strong></p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">job</span><span class="o">=</span>~/Work/25_Jobs/LAB/2025/LAB-2025-018_pyside6-tableview
<span class="nb">mkdir</span> <span class="nt">-p</span> <span class="s2">"</span><span class="nv">$job</span><span class="s2">"</span>/<span class="o">{</span>src,scripts,env,data<span class="o">}</span>
<span class="nb">printf</span> <span class="s1">'%s\n'</span> <span class="s2">"# ëª©í‘œ</span><span class="se">\n</span><span class="s2">- TableViewë¡œ CSV ë·°ì–´ ë§Œë“¤ê¸°</span><span class="se">\n\n</span><span class="s2"># ì ˆì°¨</span><span class="se">\n</span><span class="s2">- ...</span><span class="se">\n\n</span><span class="s2"># ê²°ê³¼</span><span class="se">\n</span><span class="s2">- ìŠ¤í¬ë¦°ìƒ·/ë©”ëª¨"</span> <span class="o">&gt;</span> <span class="s2">"</span><span class="nv">$job</span><span class="s2">/README.md"</span>
<span class="nb">printf</span> <span class="s1">'%s\n'</span> <span class="s2">"- ê°•ì˜: ../../../../40_Resources/edu/courses/udemy/pyside6-masterclass/v2025.0901/README.md"</span> <span class="o">&gt;</span> <span class="s2">"</span><span class="nv">$job</span><span class="s2">/references.md"</span>
</code></pre></div></div>

<hr />

<h1 id="5-ìš´ì˜-íŒ">5) ìš´ì˜ íŒ</h1>

<ul>
  <li>
    <p><strong>ì €ì‘ê¶Œ/ë¼ì´ì„ ìŠ¤:</strong> ì™¸ë¶€ ìë£ŒëŠ” <code class="language-plaintext highlighter-rouge">40_Resources/.../LICENSE</code>ë‚˜ <code class="language-plaintext highlighter-rouge">README.md</code>ì— ì¶œì²˜Â·ë¼ì´ì„ ìŠ¤ í‘œê¸°.</p>
  </li>
  <li>
    <p><strong>ì¤‘ë³µ ë°©ì§€:</strong> ì™¸ë¶€ ìë£Œë¥¼ PRJ/JOBì— <strong>ë³µì‚¬í•˜ì§€ ë§ê³ </strong> ë§í¬. (ë²„ì „ì´ ë°”ë€Œë©´ í´ë”ë¥¼ ìƒˆ <code class="language-plaintext highlighter-rouge">vYYYY.MMDD</code>ë¡œ)</p>
  </li>
  <li>
    <p><strong>ì •ë¦¬ ì£¼ê¸°:</strong></p>

    <ul>
      <li>
        <p>ì£¼ 1íšŒ: <code class="language-plaintext highlighter-rouge">40_Resources/edu</code> ì •ë¦¬(ì¤‘ë³µ/êµ¬ë²„ì „ í™•ì¸)</p>
      </li>
      <li>
        <p>ì‹¤ìŠµì´ ì¥ê¸°í™”ë˜ë©´ <code class="language-plaintext highlighter-rouge">LAB â†’ EX/REL</code>(ì˜ˆì œ/ë¦´ë¦¬ìŠ¤)ë¡œ ìŠ¹ê²© ê³ ë ¤</p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>ê²€ìƒ‰ ì„±ëŠ¥:</strong> ripgrep/ì¸ë±ì‹± ëŒ€ìƒì—ì„œ <code class="language-plaintext highlighter-rouge">40_Resources/edu/â€¦/code</code> ëŒ€ìš©ëŸ‰ í´ë”ëŠ” ì œì™¸í•´ë„ ì¢‹ì•„ìš”.</p>
  </li>
</ul>

<hr />

<h1 id="6-í•œ-ì¤„-ìš”ì•½">6) í•œ ì¤„ ìš”ì•½</h1>

<ul>
  <li>
    <p><strong>ì™¸ë¶€ ìˆ˜ì§‘ë¬¼</strong> ì€ <code class="language-plaintext highlighter-rouge">40_Resources/edu</code>(ì½ê¸° ì „ìš©),</p>
  </li>
  <li>
    <p><strong>ë‚´ ì§€ì‹/ì •ë¦¬</strong> ëŠ” <code class="language-plaintext highlighter-rouge">30_Areas/knowledge_base</code>(Vault),</p>
  </li>
  <li>
    <p><strong>ì‹¤ìŠµ/ê³¼ì œ</strong> ëŠ” <code class="language-plaintext highlighter-rouge">25_Jobs/LAB</code>ë¡œ ë¶„ë¦¬í•˜ê³ , <strong>ì„œë¡œëŠ” ë§í¬ë¡œë§Œ ì—°ê²°</strong> í•˜ì„¸ìš”.</p>
  </li>
</ul>

<p class="chat--user">

ì§€ê¸ˆê¹Œì§€ì˜ ëŒ€í™” ë‚´ìš©ì„ ì •ë¦¬í•´ì„œ í•˜ë‚˜ì˜ Markdown(<code class="language-plaintext highlighter-rouge">*.md</code>)ìœ¼ë¡œ ì •ë¦¬í•´ì¤˜. 1. ë³¸ë¬¸ ë‚´ë¶€ì—ì„œ ì½”ë“œ ë¸”ëŸ­ì€ ê¹¨ì§€ë‹ˆê¹Œ 3 backticksë¥¼ ===ë¡œ ëŒ€ì²´í•´ì¤˜. 2. shortcuts.list ê°™ì€ê±´ ë‚´ê°€ ì•Œì•„ì„œ ë‹¤ë£°í…Œë‹ˆê¹Œ ê·¸ëƒ¥ ìì„¸íˆ ì–¸ê¸‰í•˜ì§€ ë§ì•„ì¤˜. 3. ëª‡ ê°€ì§€ ìì£¼ ì‚¬ìš©í• ë§Œí•œ ì˜ˆì‹œë“¤ì„ 10ê°œ ì •ë„ ì¨ì¤˜.

</p>

<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh"># Work í´ë” ìš´ì˜ ìš”ì•½ (ìµœì¢… ì •ë¦¬)</span>
<span class="gt">
&gt; ëª©ì : 1ì¸ ê°œë°œ/ë¶„ì„ í™˜ê²½ì—ì„œ **ì •ë³¸ ìœ„ì¹˜**, **ì¬í˜„ì„±**, **ì •ë¦¬ ë£¨í‹´**, **ì‘ì—… íë¦„**ì„ ì¼ê´€ë˜ê²Œ ìœ ì§€í•œë‹¤.  </span>
<span class="gt">&gt; ë£¨íŠ¸ëŠ” ê¸°ë³¸ `~/Work` (í•„ìš” ì‹œ ì´ì‹ ê°€ëŠ¥).</span>
<span class="p">
---
</span>
<span class="gu">## 1) ìµœì¢… í´ë” êµ¬ì¡°(ìš”ì•½ + ì„¤ëª…)</span>

Work/
â”œâ”€ 00_README.md                       - ìš´ì˜ ê·œì¹™ ìš”ì•½(ì‚¬ëŒìš© ë¬¸ì„œ)
â”œâ”€ 01_Inbox/                          - ì„ì‹œ ìˆ˜ì§‘í•¨(ìŠ¤í¬ë¦°ìƒ·/ë©”ëª¨/ì„ì‹œ íŒŒì¼)
â”œâ”€ 05_Downloads/                      - ë‹¤ìš´ë¡œë“œ ì°©ë¥™ì§€(ì •ë¦¬ ì „)
â”‚  â”œâ”€ _inbox/                         - ê¸°ë³¸ ì €ì¥ ê²½ë¡œ
â”‚  â”œâ”€ installers/ datasets/ manuals/ assets/ quarantine/
â”œâ”€ 06_Media/                          - ê°œì¸ ìŒì•…/ì‚¬ì§„(ì—…ë¬´ì™€ ë¶„ë¦¬; ì„ íƒ)
â”œâ”€ 10_Today/                          - ì˜¤ëŠ˜ ì‘ì—… ëŒ€ì‹œë³´ë“œ(ëŸ°ì²˜/í—¬í¼ ìŠ¤í¬ë¦½íŠ¸)
â”‚  â””â”€ wrappers/                       - ì…¸ ìœ ì§€/í™˜ê²½ ì§„ì… ë˜í¼
â”œâ”€ 20_Projects/                       - ë‚´ê°€ ê°œë°œÂ·ê´€ë¦¬í•˜ëŠ” <span class="gs">**ì½”ë“œ ì •ë³¸**</span>
â”‚  â””â”€ PRJ-YYYY-NNN_slug/              - ì˜ˆ: PRJ-2025-001_sample_app
â”‚     â”œâ”€ src/<span class="nt">&lt;pkg&gt;</span>/ tests/ scripts/ examples/ docs/
â”‚     â””â”€ pyproject.toml ë“±
â”œâ”€ 21_ExternalRepos/                  - ì™¸ë¶€(3rd-party) ë¦¬í¬ ë¡œì»¬ í´ë¡ 
â”‚  â”œâ”€ github/<span class="nt">&lt;org&gt;</span>/<span class="nt">&lt;repo&gt;</span>/
â”‚  â”œâ”€ gitlab/<span class="nt">&lt;group&gt;</span>/<span class="nt">&lt;repo&gt;</span>/
â”‚  â””â”€ bitbucket/<span class="nt">&lt;team&gt;</span>/<span class="nt">&lt;repo&gt;</span>/
â”œâ”€ 22_Labs/                           - ê°€ë²¼ìš´ ì‹¤í—˜/í”„ë¡œí† (ì¬í˜„ ë¶ˆí•„ìš”)
â”‚  â””â”€ jupyter/                        - ìŠ¤í¬ë˜ì¹˜ ë…¸íŠ¸ë¶(ì˜ˆ: regex_scratch.ipynb)
â”œâ”€ 25_Jobs/                           - ì‚°ì¶œ <span class="gs">**ì‘ì—… ë‹¨ìœ„**</span>(í”„ë¡œì„¸ìŠ¤ ìˆ˜ëª… ì¤‘ì‹¬)
â”‚  â”œâ”€ _active/                        - ì§„í–‰ ì¤‘(ìµœëŒ€ 12ê°œ ê¶Œì¥)
â”‚  â”œâ”€ _templates/                     - JOB/BUG/SMOKE/LAB/EX/REL ìŠ¤ìºí´ë“œ
â”‚  â”œâ”€ JOB/2025/  BUG/2025/  SMOKE/2025/  LAB/2025/  EX/2025/  REL/2025/
â”œâ”€ 26_Datasets/                       - ë°ì´í„°ì…‹ <span class="gs">**ì •ë³¸**</span>(ì…ë ¥/íŒŒìƒ)
â”‚  â”œâ”€ registry/                       - ì¹´íƒˆë¡œê·¸(ìƒ‰ì¸ íŒŒì¼)
â”‚  â”œâ”€ datasets/<span class="nt">&lt;name&gt;</span>/vYYYY.MMDD/     - ì…ë ¥ ë°ì´í„° ë²„ì „
â”‚  â”‚  â”œâ”€ raw/ interim/ processed/ samples/ docs/
â”‚  â”‚  â”œâ”€ manifest.yml  SHA256SUMS
â”‚  â”œâ”€ derived/<span class="nt">&lt;artifact&gt;</span>/vYYYY.MMDD/  - ìŠ¹ê²©ëœ ì¶œë ¥ë¬¼
â”‚  â”‚  â”œâ”€ data/ metrics/ docs/ manifest.yml  SHA256SUMS
â”‚  â””â”€ cache/                          - ì–¸ì œë“  ì‚­ì œ ê°€ëŠ¥
â”œâ”€ 30_Areas/                          - ì¥ê¸° ìš´ì˜(ì •ì±…/ì›Œí¬ë¡œê·¸/ì§€ì‹)
â”‚  â”œâ”€ worklog/YYYY/YY-MM/DATE.md
â”‚  â””â”€ knowledge_base/                 - ì¶•ì  ì§€ì‹(íŒ/ì¹˜íŠ¸ì‹œíŠ¸/ê°€ì´ë“œ)
â”‚     â””â”€ obsidian_vault/              - Obsidian Vault(ì—…ë¬´ìš©)
â”œâ”€ 31_Conversations/                  - ëŒ€í™” ê¸°ë¡ ì •ë³¸(ì›ë³¸/ì •ì œ/ë¹„ì‹ë³„)
â”‚  â”œâ”€ inbox/ by_assistant/ by_topic/ redacted/ private_encrypted/
â”‚  â””â”€ templates/ scripts/
â”œâ”€ 32_SharedConfigs/                  - <span class="gs">**ê³µìœ /ê³¨ë“  ì„¤ì •**</span>(íŒ€ í‘œì¤€)
â”‚  â”œâ”€ global/{vscode,ruff,pytest,pyinstaller,pyside6,jupyter}/
â”‚  â””â”€ projects/<span class="nt">&lt;project_slug&gt;</span>/
â”œâ”€ 40_Resources/                      - ì™¸ë¶€ ì°¸ê³  ìë£Œ(êµìœ¡/ë§¤ë‰´ì–¼/ìŠ¤í™)
â”‚  â”œâ”€ edu/{courses, tutorials, papers/...}
â”‚  â”œâ”€ manuals/<span class="nt">&lt;vendor&gt;</span>/<span class="nt">&lt;product&gt;</span>/<span class="nt">&lt;version&gt;</span>/
â”‚  â””â”€ reference/
â”œâ”€ 50_Snippets/{sql,text,bash}/       - ì¬ì‚¬ìš© ì½”ë“œ/ì›ë¼ì´ë„ˆ/ë¬¸êµ¬ ì¡°ê°
â”œâ”€ 60_Assets/                         - ë¡œê³ /í°íŠ¸/í…œí”Œë¦¿ ë“± <span class="gs">**ì—…ë¬´ ìì‚°**</span>
â”‚  â””â”€ fonts/<span class="nt">&lt;Family&gt;</span>/vX.Y/{desktop,web,variable,license,specimen}/
â”œâ”€ 70_Exports/                        - ì—¬ëŸ¬ Jobì˜ ìµœì¢… ì „ë‹¬ë³¸ ëª¨ì•„ë³´ê¸°(ì„ íƒ)
â”œâ”€ 75_Releases/                       - ìœ ì € ë°°í¬(ë²„ì „ë“œ)
â”‚  â””â”€ <span class="nt">&lt;project&gt;</span>/
â”‚     â”œâ”€ vX.Y.Z/{installers,wheels,portable,docs,licenses,checksums,ReleaseNotes.md}
â”‚     â””â”€ latest -&gt; vX.Y.Z             - ìµœì‹  ë²„ì „ í¬ì¸í„°(ìƒëŒ€ ì‹¬ë³¼ë¦­)
â”œâ”€ 80_Toolchains/                     - ê³ ì • ë²„ì „ ë¹Œë“œ ë„êµ¬(gcc/cmake/ninjaâ€¦)
â”‚  â”œâ”€ gcc/{13.3.0, latest-&gt;13.3.0}/
â”‚  â”œâ”€ cmake/{3.29.3, latest-&gt;3.29.3}/
â”‚  â””â”€ ninja/{1.12.1, latest-&gt;1.12.1}/
â”œâ”€ 81_SDKs/                           - í”Œë«í¼ SDK/ëŸ°íƒ€ì„(JDK/Qt/NDK/CUDAâ€¦)
â”‚  â”œâ”€ jdk/{21.0.2, latest-&gt;21.0.2}/
â”‚  â””â”€ qt/{6.7.2-win-x64-msvc, latest-&gt;6.7.2-win-x64-msvc}/
â”œâ”€ 82_Tools/                          - ê°œì¸Â·ê²½ëŸ‰Â·í¬í„°ë¸” ìœ í‹¸/ê´€ë¦¬ ìŠ¤í¬ë¦½íŠ¸
â”‚  â”œâ”€ installers/<span class="nt">&lt;tool&gt;</span>/<span class="nt">&lt;ver&gt;</span>/        - ì„¤ì¹˜ ì›ë³¸ + SHA256SUMS, install_notes.md
â”‚  â”œâ”€ bin/                            - ì–´ë””ì„œë‚˜ ì“°ëŠ” ê°œì¸ ìœ í‹¸(ì‹¤í–‰ íŒŒì¼)
â”‚  â”œâ”€ portable/<span class="nt">&lt;tool&gt;</span>-<span class="nt">&lt;ver&gt;</span>/
â”‚  â”œâ”€ scripts/                        - ì²´í¬ì„¬/ë¦´ë¦¬ìŠ¤/ë¶€íŠ¸ìŠ¤íŠ¸ë© ìŠ¤í¬ë¦½íŠ¸
â”‚  â””â”€ scratch/
â”œâ”€ 83_Runtimes/                       - ì–¸ì–´ ëŸ°íƒ€ì„(ì˜ˆ: python)
â”‚  â””â”€ python/{3.12.5, 3.11.9, latest-&gt;3.12.5}/
â”œâ”€ 85_Environments/                   - docker/conda/venv/devcontainer ìº¡ìŠ
â”‚  â”œâ”€ conda/environment.yml
â”‚  â”œâ”€ docker/Dockerfile  compose.yml
â”‚  â””â”€ devcontainer/base/{Dockerfile, devcontainer.json}
â”œâ”€ 90_PersonalConfigs/                - ê°œì¸ ì„¤ì •(ì˜¤ë²„ë¼ì´ë“œ/ë¹„ê³µê°œ)
â”‚  â”œâ”€ shell/{bash,zsh,tcsh,powershell}/   - ì˜ˆ: shell/tcsh/.tcshrc (í™ˆì— ì‹¬ë§í¬)
â”‚  â”œâ”€ editors/vscode/{settings.user.json,keybindings.user.json}
â”‚  â”œâ”€ git/.gitconfig.local  python/{pip.conf,poetry.toml,pypirc}
â”‚  â”œâ”€ tools/ secrets/README.md  .gitignore
â””â”€ 99_Archive/                        - ì™„ë£Œ í•­ëª© ì¥ê¸° ë³´ê´€(ì½ê¸° ì „ìš©)
<span class="p">
---
</span>
<span class="gu">## 2) í•µì‹¬ ì›ì¹™(ê°„ë‹¨)</span>
<span class="p">
1.</span> <span class="gs">**ë‹¨ì¼ ì •ë³¸ ì›ì¹™**</span>  
<span class="p">   -</span> ì½”ë“œ: <span class="sb">`20_Projects`</span> / ì‘ì—…: <span class="sb">`25_Jobs`</span> / ë°ì´í„°: <span class="sb">`26_Datasets`</span>  
<span class="p">   -</span> ë³µì‚¬ë³¸ ê¸ˆì§€, <span class="gs">**ë§í¬/ê²½ë¡œ ì°¸ì¡°**</span> ìš°ì„ .
<span class="p">
2.</span> <span class="gs">**ì„ì‹œ â†” ì •ë³¸ ë¶„ë¦¬**</span>  
<span class="p">   -</span> ì„ì‹œ: <span class="sb">`01_Inbox`</span>, <span class="sb">`05_Downloads/_inbox`</span>  
<span class="p">   -</span> ì •ë¦¬ í›„ ì „ìš© ìœ„ì¹˜ë¡œ ì´ë™.
<span class="p">
3.</span> <span class="gs">**ì¬í˜„ì„±**</span>  
<span class="p">   -</span> ë°ì´í„°ì…‹/ë¦´ë¦¬ìŠ¤/ì„¤ì¹˜ì›ë³¸: <span class="gs">**ë²„ì „(ì˜ˆ: vYYYY.MMDD)**</span> + <span class="sb">`manifest.yml`</span> + <span class="sb">`SHA256SUMS`</span>.  
<span class="p">   -</span> Toolchains/SDKs: <span class="sb">`&lt;ver&gt;/`</span> + <span class="sb">`latest`</span>(ìƒëŒ€ ì‹¬ë³¼ë¦­).
<span class="p">
4.</span> <span class="gs">**í™˜ê²½ ê²©ë¦¬**</span>  
<span class="p">   -</span> ê¸°ë³¸ Python: <span class="sb">`83_Runtimes/python/&lt;ver&gt;/`</span> + <span class="sb">`latest`</span>  
<span class="p">   -</span> í”„ë¡œì íŠ¸ ì˜ì¡´ì„±: ê° PRJì˜ <span class="sb">`.venv/`</span> ë˜ëŠ” <span class="sb">`85_Environments/conda`</span>.
<span class="p">
5.</span> <span class="gs">**ì´ë™ ê·œì¹™**</span>  
<span class="p">   -</span> ê°™ì€ íŒŒì¼ì‹œìŠ¤í…œ: <span class="sb">`mv`</span>  
<span class="p">   -</span> ë‹¤ë¥¸ íŒŒì¼ì‹œìŠ¤í…œ: <span class="sb">`rsync -a`</span> (macOSëŠ” <span class="sb">`cp -pPR`</span>/<span class="sb">`ditto`</span>, WindowsëŠ” <span class="sb">`robocopy`</span>)
<span class="p">
6.</span> <span class="gs">**ë³´ì•ˆ**</span>  
<span class="p">   -</span> ë¹„ë°€/í‚¤/í† í°: <span class="sb">`90_PersonalConfigs/secrets/`</span>ì—ë§Œ. ì½”ë“œ/ë…¸íŠ¸ì—” í•˜ë“œì½”ë”© ê¸ˆì§€.
<span class="p">
---
</span>
<span class="gu">## 3) ë„¤ì´ë° &amp; ë²„ì „</span>
<span class="p">
-</span> í”„ë¡œì íŠ¸: <span class="sb">`PRJ-YYYY-NNN_slug`</span>  
<span class="p">-</span> ì‘ì—…(Job): <span class="sb">`JOB|BUG|SMOKE|LAB|EX|REL-YYYY-NNN_title`</span>  
<span class="p">-</span> ë°ì´í„°ì…‹ ë²„ì „: <span class="sb">`vYYYY.MMDD`</span>  
<span class="p">-</span> portable í´ë”: <span class="sb">`tool-version`</span> (ì˜ˆ: <span class="sb">`gcc-13.3.0-linux-x64`</span>)  
<span class="p">-</span> íŒŒì¼: <span class="sb">`YYYY-MM-DD_title_vNNN.ext`</span> ê¶Œì¥
<span class="p">
---
</span>
<span class="gu">## 4) ë°ì´í„°ì…‹ ë©”íƒ€(í…œí”Œë¦¿)</span>

<span class="gu">**`manifest.yml` (ì…ë ¥ ë°ì´í„°ì…‹ ì˜ˆì‹œ)**
===
</span>name: <span class="nt">&lt;dataset_name&gt;</span>
kind: dataset
version: vYYYY.MMDD
created_at: 2025-09-01T00:00:00+09:00
owner: you@company.com
source:
  type: <span class="nt">&lt;external</span><span class="err">|</span><span class="na">internal</span><span class="err">|</span><span class="na">manual</span><span class="nt">&gt;</span>
  detail: "<span class="nt">&lt;ì„¤ëª…</span><span class="err">/</span><span class="na">ë§í¬</span><span class="nt">&gt;</span>"
schema:
  format: <span class="nt">&lt;parquet</span><span class="err">|</span><span class="na">csv</span><span class="err">|</span><span class="na">json</span><span class="err">|</span><span class="na">image</span><span class="err">|...</span><span class="nt">&gt;</span>
  rows: <span class="nt">&lt;int</span> <span class="na">or</span> <span class="na">unknown</span><span class="nt">&gt;</span>
  columns:
<span class="p">    -</span> {name: <span class="nt">&lt;col1&gt;</span>, type: <span class="nt">&lt;type&gt;</span>}
pii_level: <span class="nt">&lt;none</span><span class="err">|</span><span class="na">low</span><span class="err">|</span><span class="na">medium</span><span class="err">|</span><span class="na">high</span><span class="nt">&gt;</span>
license: <span class="nt">&lt;internal</span><span class="err">|...</span><span class="nt">&gt;</span>
files:
<span class="p">  -</span> {path: <span class="nt">&lt;relative</span><span class="err">/</span><span class="na">file</span><span class="nt">&gt;</span>, bytes: <span class="nt">&lt;int&gt;</span>, sha256: "<span class="nt">&lt;optional&gt;</span>"}
<span class="gu">notes: "&lt;ì „ì²˜ë¦¬/ì£¼ì˜ì‚¬í•­&gt;"
===
</span>
<span class="gu">**ì²´í¬ì„¬ ìƒì„± (macOS/Linux)**
===
</span>cd <span class="nt">&lt;ë²„ì „</span> <span class="na">ë£¨íŠ¸</span><span class="nt">&gt;</span>
: &gt; SHA256SUMS
find . -type f ! -name 'SHA256SUMS' ! -name '.<span class="err">*</span>' -print0 <span class="err">\</span>
<span class="gu">| xargs -0 shasum -a 256 | sed 's#  #  #' &gt;&gt; SHA256SUMS
===
</span>
<span class="gu">**ì²´í¬ì„¬ ìƒì„± (Windows PowerShell)**
===
</span>$root = "<span class="nt">&lt;ë²„ì „</span> <span class="na">ë£¨íŠ¸</span><span class="nt">&gt;</span>"
Set-Location $root
Remove-Item -Force SHA256SUMS -ErrorAction SilentlyContinue
Get-ChildItem -Recurse -File -Force | Where-Object {
  $_.Name -ne 'SHA256SUMS' -and -not $_.Name.StartsWith('.')
} | ForEach-Object {
  $h=(Get-FileHash $_.FullName -Algorithm SHA256).Hash.ToLower()
  $rel=$_.FullName.Substring($root.Length+1).Replace('<span class="se">\'</span>,'/')
  "$h  $rel"
<span class="gu">} | Set-Content -NoNewline SHA256SUMS
===
</span><span class="p">
---
</span>
<span class="gu">## 5) Toolchains/SDKs &amp; Python</span>

<span class="gu">**latest ì‹¬ë³¼ë¦­ (macOS/Linux)**
===
</span>cd ~/Work/80_Toolchains/gcc
<span class="gu">ln -sfn 13.3.0 latest
===
</span>
<span class="gu">**Python ëŸ°íƒ€ì„ &amp; PATH**
===
</span><span class="gh"># bash/zsh</span>
export PATH="$HOME/Work/83_Runtimes/python/latest/bin:$PATH"

<span class="gh"># tcsh</span>
set path = ( $HOME/Work/83_Runtimes/python/latest/bin $path )

<span class="gh"># PowerShell</span>
<span class="gu">$env:Path = "$HOME\Work\83_Runtimes\python\latest;$HOME\Work\83_Runtimes\python\latest\Scripts;" + $env:Path
===
</span>
<span class="gu">**ì „ì—­ CLIëŠ” pipx ê¶Œì¥ (ìš°ë¦¬ íŠ¸ë¦¬ì— ë§ì¶°)**
===
</span><span class="gh"># tcsh ì˜ˆì‹œ</span>
setenv PIPX_HOME    "$HOME/Work/82_Tools/pipx"
setenv PIPX_BIN_DIR "$HOME/Work/82_Tools/bin"
set path = ( $PIPX_BIN_DIR $path )

<span class="gh"># ëŒ€í‘œ ëª…ë ¹</span>
pipx install ruff
pipx upgrade ruff
<span class="gu">pipx uninstall ruff
===
</span><span class="p">
---
</span>
<span class="gu">## 6) ì™¸ë¶€ ë¦¬í¬/ëŒ€í™”/ë¯¸ë””ì–´ ë°°ì¹˜</span>
<span class="p">
-</span> ì™¸ë¶€ í´ë¡ : <span class="sb">`21_ExternalRepos/&lt;host&gt;/&lt;org&gt;/&lt;repo&gt;/`</span> (ì½ê¸° ì „ìš©; ì‹¤í—˜ì€ worktreeë¡œ <span class="sb">`22_Labs`</span>/<span class="sb">`25_Jobs/SMOKE`</span>ì—)  
<span class="p">-</span> ëŒ€í™” ê¸°ë¡: <span class="sb">`31_Conversations/`</span> (inboxâ†’ì •ì œâ†’ë¹„ì‹ë³„/ì•”í˜¸í™”; í”„ë¡œì íŠ¸/ë…¸íŠ¸ì—ì„œëŠ” ë§í¬ë¡œ ì°¸ì¡°)  
<span class="p">-</span> ê°œì¸ ìŒì•…/ì‚¬ì§„: <span class="sb">`06_Media/`</span> (ì—…ë¬´ì™€ ë¶„ë¦¬; í”„ë¡œì íŠ¸/ë…¸íŠ¸ì—ì„œëŠ” ë§í¬ë¡œë§Œ)  
<span class="p">-</span> êµìœ¡ ìë£Œ(ìˆ˜ì§‘ë¬¼) vs ë‚´ ì •ë¦¬/ì‹¤ìŠµ(ì°½ì‘ë¬¼):
<span class="p">  -</span> ìˆ˜ì§‘ë¬¼: <span class="sb">`40_Resources/edu/...`</span>
<span class="p">  -</span> ë‚´ ì •ë¦¬: <span class="sb">`30_Areas/knowledge_base/obsidian_vault/...`</span>
<span class="p">  -</span> ì‹¤ìŠµ/ê³¼ì œ: <span class="sb">`25_Jobs/LAB/...`</span>
<span class="p">
---
</span>
<span class="gu">## 7) ìì£¼ ì“°ëŠ” ì˜ˆì‹œ 10ì„  (step-by-step)</span>

<span class="gu">1) **ìƒˆ í”„ë¡œì íŠ¸ ì‹œì‘ (íŒŒì´ì¬ íŒ¨í‚¤ì§€)**
===
</span>base=~/Work/20_Projects/PRJ-2025-001_sample_app
mkdir -p $base/{src/sample_app,tests,scripts,examples,docs}
printf '%s<span class="se">\n</span>' "[project]<span class="se">\n</span>name='sample-app'" &gt; $base/pyproject.toml
<span class="gu">cd $base &amp;&amp; python3 -m venv .venv &amp;&amp; . .venv/bin/activate &amp;&amp; pip install -U build pytest
===
</span>
<span class="gu">2) **ë°°í¬ ì˜ˆì œ(ìµœì†Œ ì‹¤í–‰ ì˜ˆì‹œ) ë§Œë“¤ê¸°**
===
</span>cd ~/Work/20_Projects/PRJ-2025-001_sample_app
mkdir -p examples/{data,scripts,docs}
<span class="gu">printf '%s\n' '# how to run\npython -m sample_app' &gt; examples/docs/README.md
===
</span>
<span class="gu">3) **ë¦´ë¦¬ìŠ¤ ì‚°ì¶œ(íœ ) ë¹Œë“œ &amp; ì•„ì¹´ì´ë¸Œ**
===
</span>cd ~/Work/20_Projects/PRJ-2025-001_sample_app
. .venv/bin/activate
python -m build
rel=~/Work/75_Releases/sample-app/v0.3.0
mkdir -p $rel/checksums &amp;&amp; cp dist/<span class="err">*</span> $rel/
<span class="gu">( cd $rel &amp;&amp; shasum -a 256 * &gt; checksums/SHA256SUMS &amp;&amp; ln -sfn v0.3.0 ../latest )
===
</span>
<span class="gu">4) **ì „ì—­ CLIë¡œ ì„¤ì¹˜(pipx)**
===
</span>setenv PIPX_HOME "$HOME/Work/82_Tools/pipx"
setenv PIPX_BIN_DIR "$HOME/Work/82_Tools/bin"
<span class="gu">pipx install ~/Work/75_Releases/sample-app/v0.3.0/sample_app-0.3.0-py3-none-any.whl
===
</span>
<span class="gu">5) **ìƒˆ ë°ì´í„°ì…‹ ë²„ì „ íˆ¬ì…**
===
</span>base=~/Work/26_Datasets/datasets/ad_events/v2025.0901
mkdir -p $base/{raw,interim,processed,samples,docs}
mv ~/Downloads/ad_20250901.csv $base/raw/
printf '%s<span class="se">\n</span>' "name: ad_events<span class="se">\n</span>kind: dataset<span class="se">\n</span>version: v2025.0901" &gt; $base/manifest.yml
<span class="gu">( cd $base &amp;&amp; : &gt; SHA256SUMS &amp;&amp; find . -type f ! -name 'SHA256SUMS' -print0 | xargs -0 shasum -a 256 &gt;&gt; SHA256SUMS )
===
</span>
<span class="gu">6) **ì™¸ë¶€ ë¦¬í¬ ì •ë¦¬ ìœ„ì¹˜ë¡œ ì´ë™**
===
</span>repo=~/Downloads/tmp/flask
url=$(git -C "$repo" config --get remote.origin.url)
host=$(echo "$url" | sed -E 's#(https?://|git@)([^/:]+).<span class="err">*</span>#<span class="se">\2</span>#')
org=$( echo "$url" | sed -E 's#.<span class="err">*</span>/([^/]+)/[^/]+(<span class="se">\.</span>git)?$#<span class="se">\1</span>#')
name=$(echo "$url" | sed -E 's#.<span class="err">*</span>/([^/]+)(<span class="se">\.</span>git)?$#<span class="se">\1</span>#')
dest="$HOME/Work/21_ExternalRepos/$host/$org/$name"
<span class="gu">mkdir -p "$(dirname "$dest")" &amp;&amp; mv "$repo" "$dest"
===
</span>
<span class="gu">7) **gcc ê°™ì€ íˆ´ì²´ì¸ ì¶”ê°€ &amp; ìµœì‹  ë§í¬ ê°±ì‹ **
===
</span>cd ~/Work/80_Toolchains/gcc
tar -xf ~/Work/82_Tools/installers/gcc/13.3.0/gcc-13.3.0.tar.xz -C .
mv gcc-13.3.0 13.3.0
<span class="gu">ln -sfn 13.3.0 latest
===
</span>
<span class="gu">8) **í”„ë¡œì íŠ¸ë³„ venvì—ì„œë§Œ ì“°ëŠ” ë‚´ë¶€ CLI ì„¤ì¹˜**
===
</span>cd ~/Work/20_Projects/PRJ-APP
python3 -m venv .venv &amp;&amp; . .venv/bin/activate
pip install -e ../PRJ-UTILS-mytool
<span class="gu">mytool --help   # venv ì•ˆì—ì„œë§Œ ì‚¬ìš©
===
</span>
<span class="gu">9) **ëŒ€í™” ê¸°ë¡ ì •ë¦¬(inbox â†’ by_assistant)**
===
</span>src=~/Work/31_Conversations/inbox
dst=~/Work/31_Conversations/by_assistant/local_llm/$(date +%Y)/$(date +%Y-%m)
mkdir -p "$dst"
for f in "$src"/<span class="err">*</span>.md; do
  [ -e "$f" ] || continue
  ts=$(date +"%Y-%m-%d_%H%M-KST")
  mv "$f" "$dst/${ts}_localllm_$(basename "$f")"
<span class="gu">done
===
</span>
<span class="gu">10) **ì½˜í…ì¸  ìˆ˜ì§‘ë¬¼ vs ë‚´ ì‹¤ìŠµ/ì •ë¦¬ ë¶„ë¦¬**
===
</span><span class="gh"># ìˆ˜ì§‘ë¬¼(ì½ê¸° ì „ìš©)</span>
mkdir -p ~/Work/40_Resources/edu/courses/udemy/pyside6/v2025.0901/{slides,pdf,code}
<span class="gh"># ë‚´ ì‹¤ìŠµ(ì¬í˜„ ê°€ëŠ¥)</span>
mkdir -p ~/Work/25_Jobs/LAB/2025/LAB-2025-018_pyside6-tableview/{src,scripts,data}
<span class="gh"># ë‚´ ì •ë¦¬(ë…¸íŠ¸)</span>
<span class="gu">mkdir -p ~/Work/30_Areas/knowledge_base/obsidian_vault/20_Topics
===
</span><span class="p">
---
</span>
<span class="gu">## 8) ìì£¼ í—·ê°ˆë¦¬ëŠ” í¬ì¸íŠ¸ ì •ë¦¬</span>
<span class="p">
-</span> <span class="gs">**`mv` vs `cp -rf`**</span>: ë™ì¼ ë””ìŠ¤í¬ë©´ <span class="sb">`mv`</span>ê°€ ì•ˆì „Â·ë¹ ë¦„. ë‹¤ë¥¸ ë””ìŠ¤í¬ë¡œ ì˜®ê¸¸ ë• <span class="sb">`rsync -a`</span> ê¶Œì¥.  
<span class="p">-</span> <span class="gs">**`ln -sfn` ì˜ë¯¸**</span>: <span class="sb">`-s`</span>(ì‹¬ë³¼ë¦­), <span class="sb">`-f`</span>(ê¸°ì¡´ ë§í¬ ë®ì–´ì“°ê¸°), <span class="sb">`-n`</span>(ë§í¬ë¥¼ ë””ë ‰í„°ë¦¬ë¡œ ë”°ë¼ê°€ì§€ ì•ŠìŒ).  
<span class="p">-</span> <span class="gs">**venv/conda ë³µì‚¬ ê¸ˆì§€**</span>: ì ˆëŒ€ê²½ë¡œ ë‚´ì¥ â†’ ì˜®ê¸°ë©´ ê¹¨ì§ˆ ìˆ˜ ìˆìŒ(venv ì¬ìƒì„± ë˜ëŠ” conda-pack).  
<span class="p">-</span> <span class="gs">**ì—…ë¬´ ìì‚° vs ì—”í„°í…Œì¸ë¨¼íŠ¸**</span>: ì—…ë¬´ ìì‚°ì€ <span class="sb">`60_Assets`</span>, ê°œì¸ ìŒì•…Â·ì‚¬ì§„ì€ <span class="sb">`06_Media`</span>.  
<span class="p">-</span> <span class="gs">**Obsidian Vault**</span>: ì—…ë¬´ ì§€ì‹ì€ <span class="sb">`30_Areas/knowledge_base/obsidian_vault/`</span>, ëŒ€ìš©ëŸ‰ì€ ë§í¬ë§Œ.
<span class="p">
---
</span>
<span class="gu">### ë. í•„ìš”í•œ ê²½ìš° ì´ ë¬¸ì„œë¥¼ `~/Work/00_README.md`ë¡œ ì €ì¥í•˜ê³ , ë³€ê²½ ì‹œ ìƒë‹¨ì— ë‚ ì§œë¥¼ ê°±ì‹ í•˜ì„¸ìš”.</span>
</code></pre></div></div>

<p class="chat--user">

ê·¼ë° ë‚´ê°€ ì‹¤í—˜í•œ ê²°ê³¼ë¥¼ ë‹¤ë¥¸ ì‚¬ëŒë“¤ì—ê²Œ ê³µìœ í•  ë•Œë„ ìˆê±°ë“ ? ê·¸ëŸ°ê±´ ì–´ë–»ê²Œ í•´ì•¼í• ê¹Œ

</p>

<p>ì¢‹ì•„â€”<strong>â€œë‚´ê°€ ì‹¤í—˜í•œ ê²°ê³¼ë¥¼ ë‹¤ë¥¸ ì‚¬ëŒì—ê²Œ ê³µìœ â€</strong>í•  ë•ŒëŠ”, ì •ë³¸/ì¬í˜„ì„±/ë³´ì•ˆ ê´€ì ìœ¼ë¡œ ì•„ë˜ì²˜ëŸ¼ ë‚˜ëˆ„ë©´ ê¹”ë”í•´.</p>

<hr />

<h1 id="0-í•œëˆˆ-ìš”ì•½-ì–´ë””ì—-ë‘˜ê¹Œ">0) í•œëˆˆ ìš”ì•½ (ì–´ë””ì— ë‘˜ê¹Œ?)</h1>

<ul>
  <li>
    <p><strong>ì‹¤í—˜ì˜ ì •ë³¸ê³¼ ì‘ì—… ë§¥ë½</strong> : <code class="language-plaintext highlighter-rouge">25_Jobs/LAB/&lt;ì—°ë„&gt;/LAB-YYYY-NNN_&lt;slug&gt;/</code></p>
  </li>
  <li>
    <p><strong>ê³µìœ ìš© ë²ˆë“¤(ë™ë£Œ ì „ë‹¬/ê³ ê° ê²€í† ë³¸)</strong> : <code class="language-plaintext highlighter-rouge">70_Exports/&lt;topic_or_audience&gt;/&lt;YYYY-MM-DD&gt;/</code></p>
  </li>
  <li>
    <p><strong>ì˜ˆì œë¡œ ì¬ì‚¬ìš©í•  ê°€ì¹˜ê°€ í´ ë•Œ(íŠœí† ë¦¬ì–¼/ìƒ˜í”Œ ì•±)</strong> : <code class="language-plaintext highlighter-rouge">25_Jobs/EX/&lt;ì—°ë„&gt;/EX-YYYY-NNN_&lt;slug&gt;/</code> â†’ í•„ìš” ì‹œ zipì„ <code class="language-plaintext highlighter-rouge">70_Exports</code>ì— ë°°í¬</p>
  </li>
  <li>
    <p><strong>ê³µê°œ ë¦´ë¦¬ìŠ¤(ë²„ì „ë“œ, ë§í¬ ê³ ì • í•„ìš”)</strong> : <code class="language-plaintext highlighter-rouge">75_Releases/&lt;project_or_kit&gt;/vX.Y.Z/</code>(+ <code class="language-plaintext highlighter-rouge">latest</code> ì‹¬ë³¼ë¦­, checksums)</p>
  </li>
  <li>
    <p><strong>ë°ì´í„° ê³µìœ (ìƒ˜í”Œ/ë¹„ì‹ë³„)</strong> : <code class="language-plaintext highlighter-rouge">26_Datasets/derived/&lt;artifact&gt;-public/vYYYY.MMDD/</code> (manifest.yml + SHA256SUMS)</p>
  </li>
</ul>

<blockquote>
  <p>í•µì‹¬: <strong>ì •ë³¸ì€ LAB/EX/RELì—</strong> , <strong>ì „ë‹¬ìš© íŒ¨í‚¤ì§•ì€ Exports/Releaseì—</strong> , <strong>ë°ì´í„°ëŠ” Datasetsì—</strong>.</p>
</blockquote>

<hr />

<h1 id="1-ì˜ì‚¬ê²°ì •-íŠ¸ë¦¬-step-by-step">1) ì˜ì‚¬ê²°ì • íŠ¸ë¦¬ (step-by-step)</h1>

<ol>
  <li>
    <p><strong>ëŒ€ìƒ/ì±„ë„</strong></p>

    <ul>
      <li>
        <p>ë‚´ë¶€ ë™ë£Œ? â†’ <code class="language-plaintext highlighter-rouge">70_Exports</code> (ë¹ ë¥¸ ì „ë‹¬)</p>
      </li>
      <li>
        <p>ì™¸ë¶€/ê³ ê°/ê³µê°œ? â†’ <code class="language-plaintext highlighter-rouge">75_Releases</code> (ë²„ì „ ê³ ì •/ì²´í¬ì„¬)</p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>ë°ì´í„° ë¯¼ê°ë„</strong></p>

    <ul>
      <li>
        <p>ë¯¼ê°í•¨ â†’ ë¹„ì‹ë³„ë³¸ì„ <code class="language-plaintext highlighter-rouge">26_Datasets/derived/...-public/</code>ë¡œ ë§Œë“¤ê³  <strong>ê±°ê¸°ë§Œ</strong> í¬í•¨</p>
      </li>
      <li>
        <p>ë¯¼ê° ì•„ë‹˜ â†’ ê·¸ë˜ë„ <strong>ìƒ˜í”Œ ì†Œìš©ëŸ‰</strong> ë§Œ í¬í•¨(ì „ëŸ‰ì€ ê²½ë¡œ ë§í¬)</p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>ì¬í˜„ì„± í•„ìš” ì—¬ë¶€</strong></p>

    <ul>
      <li>
        <p>í•„ìš”í•¨ â†’ <code class="language-plaintext highlighter-rouge">env/</code>(requirements/conda/docker) + <code class="language-plaintext highlighter-rouge">run</code> ìŠ¤í¬ë¦½íŠ¸ í¬í•¨</p>
      </li>
      <li>
        <p>ë¶ˆí•„ìš” â†’ ê²°ê³¼ë¬¼/ìš”ì•½/ìŠ¤í¬ë¦°ìƒ· ì¤‘ì‹¬ì˜ â€œë¦¬í¬íŠ¸ ë²ˆë“¤â€</p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>ì§€ì† ê°€ì¹˜</strong></p>

    <ul>
      <li>
        <p>íŠœí† ë¦¬ì–¼Â·ìƒ˜í”Œë¡œ ì¬ì‚¬ìš© ê°€ì¹˜ í¼ â†’ <strong>EX Job</strong> ë¡œ ìŠ¹ê²©</p>
      </li>
      <li>
        <p>ë‹¨ë°œ ë³´ê³  â†’ <strong>Exports</strong> ì—ë§Œ ë‘ê³  ì¢…ë£Œ</p>
      </li>
    </ul>
  </li>
</ol>

<hr />

<h1 id="2-ê³µìœ ìš©-ë²ˆë“¤share-kit-í‘œì¤€-êµ¬ì¡°">2) â€œê³µìœ ìš© ë²ˆë“¤(Share Kit)â€ í‘œì¤€ êµ¬ì¡°</h1>

<p>ì˜ˆ) <code class="language-plaintext highlighter-rouge">70_Exports/pyside6-tableview/2025-09-01/</code></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sharekit/
â”œâ”€ README.md                 # ëª©ì /ìš”ì•½/Quickstart/ë¼ì´ì„ ìŠ¤
â”œâ”€ env/                      # ì¬í˜„ í™˜ê²½(í•„ìš”í•  ë•Œ)
â”‚  â”œâ”€ requirements.txt  ë˜ëŠ”  conda/environment.yml
â”‚  â””â”€ Dockerfile   (ì˜µì…˜)
â”œâ”€ scripts/
â”‚  â”œâ”€ run.sh     # macOS/Linux
â”‚  â””â”€ run.ps1    # Windows
â”œâ”€ data/                     # ì†Œìš©ëŸ‰ ìƒ˜í”Œ(ë˜ëŠ” data/README.mdì— ê²½ë¡œ/ë²„ì „ ëª…ì‹œ)
â”‚  â”œâ”€ samples/
â”‚  â”œâ”€ manifest.yml
â”‚  â””â”€ SHA256SUMS
â”œâ”€ results/                  # í•µì‹¬ ê²°ê³¼(ê·¸ë˜í”„/í‘œ/ë¦¬í¬íŠ¸)
â”œâ”€ refs/                     # ì°¸ê³  ë§í¬/ë¬¸ì„œ(ì›ë³¸ì€ 40_Resources)
â””â”€ LICENSE                   # í•„ìš” ì‹œ
</code></pre></div></div>

<ul>
  <li>
    <p><strong>ì •ë³¸ ì†ŒìŠ¤/ë…¸íŠ¸</strong> ëŠ” ì—¬ê¸°ì— <strong>ë³µì‚¬í•˜ì§€ ë§ê³ </strong> :<br />
<code class="language-plaintext highlighter-rouge">LAB/â€¦</code>ì™€ <code class="language-plaintext highlighter-rouge">26_Datasets/â€¦</code>ë¥¼ <strong>ìƒëŒ€ê²½ë¡œ ë§í¬</strong> ë‚˜ <code class="language-plaintext highlighter-rouge">refs/READMEs</code>ë¡œ ì°¸ì¡°.</p>
  </li>
  <li>
    <p>ê³µê°œ ë°°í¬ê°€ í•„ìš”í•˜ë©´ ì´ <code class="language-plaintext highlighter-rouge">sharekit/</code>ì„ í†µì§¸ë¡œ <code class="language-plaintext highlighter-rouge">75_Releases/&lt;name&gt;/vX.Y.Z/</code>ë¡œ ìŠ¹ê²©.</p>
  </li>
</ul>

<hr />

<h1 id="3-ì²´í¬ë¦¬ìŠ¤íŠ¸-ê³µìœ -ì „">3) ì²´í¬ë¦¬ìŠ¤íŠ¸ (ê³µìœ  ì „)</h1>

<ul>
  <li>
    <p><strong>ë³´ì•ˆ/í”„ë¼ì´ë²„ì‹œ</strong> : í† í°Â·í‚¤Â·ì‚¬ë‚´ ê²½ë¡œÂ·ê³ ê°ëª… ì œê±°/ë§ˆìŠ¤í‚¹</p>
  </li>
  <li>
    <p><strong>ë°ì´í„°</strong> : ìƒ˜í”Œë§Œ í¬í•¨, <strong>manifest.yml + SHA256SUMS</strong> ê¸°ë¡</p>
  </li>
  <li>
    <p><strong>ì¬í˜„ì„±</strong> : ìµœì†Œ í•˜ë‚˜ì˜ ê²½ë¡œ(venv or conda or docker) ì œê³µ</p>
  </li>
  <li>
    <p><strong>ê²½ë¡œ ë…ë¦½ì„±</strong> : ìŠ¤í¬ë¦½íŠ¸ëŠ” ìƒëŒ€ê²½ë¡œ ê¸°ì¤€, OSë³„ í•œ ì¤„ ì‹¤í–‰ ì œê³µ</p>
  </li>
  <li>
    <p><strong>ë¼ì´ì„ ìŠ¤/ì¶œì²˜</strong> : ì™¸ë¶€ ìë£ŒëŠ” <code class="language-plaintext highlighter-rouge">refs/</code>ì— ì¶œì²˜/ë¼ì´ì„ ìŠ¤ í‘œê¸°</p>
  </li>
  <li>
    <p><strong>ì‚¬ì´ì¦ˆ</strong> : zip â‰¤ ìˆ˜ì‹­ MB ê¶Œì¥(ëŒ€í˜• íŒŒì¼ì€ ì™¸ë¶€ ì €ì¥ì†Œ ë§í¬)</p>
  </li>
</ul>

<hr />

<h1 id="4-ë°”ë¡œ-ì“°ëŠ”-í…œí”Œë¦¿ë“¤">4) ë°”ë¡œ ì“°ëŠ” í…œí”Œë¦¿ë“¤</h1>

<h3 id="a-readmemd-ìŠ¤ì¼ˆë ˆí†¤">(A) README.md ìŠ¤ì¼ˆë ˆí†¤</h3>

<p>===</p>

<h1 id="projectexperiment-title">&lt;Project/Experiment Title&gt;</h1>

<h2 id="goal">Goal</h2>

<ul>
  <li>ë¬¸ì œ/ê°€ì„¤/í‰ê°€ì§€í‘œ í•œ ì¤„ ìš”ì•½</li>
</ul>

<h2 id="quickstart">Quickstart</h2>

<ul>
  <li>
    <p>macOS/Linux: <code class="language-plaintext highlighter-rouge">./scripts/run.sh</code></p>
  </li>
  <li>
    <p>Windows: <code class="language-plaintext highlighter-rouge">.\scripts\run.ps1</code></p>
  </li>
  <li>
    <p>ë°ì´í„°: <code class="language-plaintext highlighter-rouge">data/README.md</code> ì°¸ê³ (ìƒ˜í”Œ í¬í•¨, ì „ì²´ëŠ” ë§í¬)</p>
  </li>
</ul>

<h2 id="reproduce">Reproduce</h2>

<ul>
  <li>
    <p>env:</p>

    <ul>
      <li>
        <p>venv: <code class="language-plaintext highlighter-rouge">python -m venv .venv &amp;&amp; . .venv/bin/activate &amp;&amp; pip -r env/requirements.txt</code></p>
      </li>
      <li>
        <p>or conda: <code class="language-plaintext highlighter-rouge">conda env create -f env/environment.yml &amp;&amp; conda activate &lt;name&gt;</code></p>
      </li>
      <li>
        <p>or docker: <code class="language-plaintext highlighter-rouge">docker build -t &lt;tag&gt; -f env/Dockerfile . &amp;&amp; docker run ...</code></p>
      </li>
    </ul>
  </li>
  <li>
    <p>run: <code class="language-plaintext highlighter-rouge">./scripts/run.sh</code> / <code class="language-plaintext highlighter-rouge">.\scripts\run.ps1</code></p>
  </li>
</ul>

<h2 id="results">Results</h2>

<ul>
  <li>í•µì‹¬ í‘œ/ê·¸ë˜í”„/ìˆ«ì ìš”ì•½ (ìƒì„¸ëŠ” results/)</li>
</ul>

<h2 id="data">Data</h2>

<ul>
  <li>
    <p>ìƒ˜í”Œ: <code class="language-plaintext highlighter-rouge">data/samples</code> (ë²„ì „: vYYYY.MMDD)</p>
  </li>
  <li>
    <p>ì „ì²´: <code class="language-plaintext highlighter-rouge">../../../../26_Datasets/&lt;path&gt;</code> (ì½ê¸° ì „ìš©)</p>
  </li>
</ul>

<h2 id="references">References</h2>

<ul>
  <li>
    <h1 id="ë‚´ë¶€ì™¸ë¶€-ë§í¬40_resources-ë…¼ë¬¸ë¬¸ì„œ">ë‚´ë¶€/ì™¸ë¶€ ë§í¬(40_Resources, ë…¼ë¬¸/ë¬¸ì„œ)</h1>
  </li>
</ul>

<h3 id="b-envrequirementstxt-ìƒì„±venv">(B) env/requirements.txt ìƒì„±(venv)</h3>

<h1>===</h1>
<p>python -m venv .venv<br />
. .venv/bin/activate<br />
pip install -U pip wheel<br />
pip freeze &gt; env/requirements.txt</p>

<h3 id="c-ìƒ˜í”Œ-ë°ì´í„°-ì²´í¬ì„¬">(C) ìƒ˜í”Œ ë°ì´í„° ì²´í¬ì„¬</h3>

<h1 id="-1">===</h1>
<dl>
  <dt>cd data</dt>
  <dd>
    <blockquote>
      <p>SHA256SUMS<br />
find samples -type f -print0 | xargs -0 shasum -a 256Â Â» SHA256SUMS</p>
    </blockquote>
  </dd>
</dl>

<h3 id="d-runsh--runps1-ì˜ˆì‹œìƒëŒ€ê²½ë¡œ-ê²°ê³¼-í´ë”-ë³´ì¥">(D) run.sh / run.ps1 ì˜ˆì‹œ(ìƒëŒ€ê²½ë¡œ, ê²°ê³¼ í´ë” ë³´ì¥)</h3>

<h1 id="-2">===</h1>
<p>#!/usr/bin/env bash<br />
set -euo pipefail<br />
here="$(cd "$(dirname "$0")"/.. &amp;&amp; pwd)"<br />
mkdir -p "$here/results"<br />
python "$here/src/main.py" â€“input "$here/data/samples" â€“out "$here/results"<br />
echo "done -&gt; $here/results"</p>

<p>===</p>

<h1 id="powershell-5">PowerShell</h1>

<h1 id="here--split-path--parent-split-path--parent-myinvocationmycommandpath">$here = Split-Path -Parent (Split-Path -Parent $MyInvocation.MyCommand.Path)</h1>
<p>New-Item -ItemType Directory -Force -Path "$here\results" | Out-Null<br />
python "$here\src\main.py" â€“input "$here\data\samples" â€“out "$here\results"<br />
Write-Host "done -&gt; $here\results"</p>

<hr />

<h1 id="5-ì–´ë””ì—-ë‘˜ì§€-ë§¤í•‘-ì˜ˆì‹œ">5) ì–´ë””ì— ë‘˜ì§€ ë§¤í•‘ ì˜ˆì‹œ</h1>

<ul>
  <li>
    <p><strong>ë™ë£Œ ë¦¬ë·°ìš© 1ì°¨ ì „ë‹¬</strong></p>

    <ul>
      <li>
        <p><code class="language-plaintext highlighter-rouge">70_Exports/pyside6-tableview/2025-09-01/sharekit.zip</code></p>
      </li>
      <li>
        <p>ë©”ì‹œì§€ì—” <code class="language-plaintext highlighter-rouge">LAB</code> ì •ë³¸ ê²½ë¡œ/ë°ì´í„°ì…‹ ë²„ì „ ë§í¬ í¬í•¨</p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>ë¸”ë¡œê·¸/ê¹ƒí—ˆë¸Œ ì˜ˆì œë¡œ ì¬ì‚¬ìš©</strong></p>

    <ul>
      <li>
        <p><code class="language-plaintext highlighter-rouge">25_Jobs/EX/2025/EX-2025-012_tableview-demo/</code>ì— ì •ë¦¬</p>
      </li>
      <li>
        <p>ê³µê°œ ì‹œ <code class="language-plaintext highlighter-rouge">75_Releases/tableview-demo/v1.0.0/</code> ë°°í¬(+ checksums, latest)</p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>ê³ ê° ì¬í˜„ íŒ¨í‚¤ì§€</strong></p>

    <ul>
      <li>
        <p>ê³ ê° í™˜ê²½ í•œì • ì¢…ì†ì„±ì´ë©´ <code class="language-plaintext highlighter-rouge">env/Dockerfile</code> í¬í•¨</p>
      </li>
      <li>
        <p>ë°ì´í„°ëŠ” ë¹„ì‹ë³„ <code class="language-plaintext highlighter-rouge">26_Datasets/derived/&lt;name&gt;-public/â€¦</code>ë§Œ</p>
      </li>
    </ul>
  </li>
</ul>

<hr />

<h1 id="6-í”í•œ-í•¨ì •--ì˜ˆë°©">6) í”í•œ í•¨ì • &amp; ì˜ˆë°©</h1>

<ul>
  <li>
    <p><strong>í”„ë¡œì íŠ¸ í´ë”ì— ëŒ€ìš©ëŸ‰ ë°ì´í„° ë³µì‚¬</strong> âŒ â†’ í•­ìƒ <code class="language-plaintext highlighter-rouge">26_Datasets</code> ì°¸ì¡°</p>
  </li>
  <li>
    <p><strong>í•˜ë“œì½”ë”©ëœ ì ˆëŒ€ê²½ë¡œ</strong> âŒ â†’ <strong>ìƒëŒ€ê²½ë¡œ</strong> + <code class="language-plaintext highlighter-rouge">here</code> ë³€ìˆ˜</p>
  </li>
  <li>
    <p><strong>OS í•œìª½ë§Œ ìŠ¤í¬ë¦½íŠ¸</strong> âŒ â†’ <code class="language-plaintext highlighter-rouge">run.sh</code> + <code class="language-plaintext highlighter-rouge">run.ps1</code> ë‘˜ ë‹¤ ì œê³µ</p>
  </li>
  <li>
    <p><strong>ë¹„ë°€ í¬í•¨</strong> âŒ â†’ í™˜ê²½ë³€ìˆ˜(<code class="language-plaintext highlighter-rouge">.env.example</code>)ë¡œ ì£¼ì…, ê°’ì€ <code class="language-plaintext highlighter-rouge">90_PersonalConfigs/secrets</code>ì—</p>
  </li>
</ul>

<hr />

<p>ì›í•˜ë©´ ë„¤ê°€ ë°©ê¸ˆ ëë‚¸ ì‹¤í—˜ í•˜ë‚˜ë¥¼ ê³¨ë¼ ì£¼ë©´, ìœ„ í‘œì¤€ì— ë§ëŠ” <strong>sharekit ìŠ¤ìºí´ë“œ</strong> ë¥¼ ë°”ë¡œ ë§Œë“¤ì–´ ì¤„ê²Œ.</p>

<p class="chat--user">

ì§€ê¸ˆê¹Œì§€ì˜ ëŒ€í™” ë‚´ìš©ì„ ì •ë¦¬í•´ì„œ ëˆ„êµ¬ë‚˜ Work í´ë”ë¥¼ íŒŒì•…í•  ìˆ˜ ìˆê²Œ í•˜ë‚˜ì˜ Markdown(*.md)ìœ¼ë¡œ ì •ë¦¬í•´ì¤˜. 1. ë³¸ë¬¸ ë‚´ë¶€ì—ì„œ ì½”ë“œ ë¸”ëŸ­ì€ ê¹¨ì§€ë‹ˆê¹Œ 3 backticksë¥¼ ===ë¡œ ëŒ€ì²´í•´ì¤˜. 2. shortcuts.list ê°™ì€ê±´ ë‚´ê°€ ì•Œì•„ì„œ ë‹¤ë£°í…Œë‹ˆê¹Œ ê·¸ëƒ¥ ìì„¸íˆ ì–¸ê¸‰í•˜ì§€ ë§ì•„ì¤˜. 3. ëª‡ ê°€ì§€ ìì£¼ ì‚¬ìš©í• ë§Œí•œ ì˜ˆì‹œë“¤ì„ 10ê°œ ì •ë„ ì¨ì¤˜. 4. pipx ì•ˆì“¸ê±°ì•¼. 5. 06_Media í´ë”ë„ ì•ˆì“¸ê±°ì•¼.

</p>

<h1 id="work-í´ë”-ìš´ì˜-ê°€ì´ë“œ-ìµœì¢…-ìš”ì•½">Work í´ë” ìš´ì˜ ê°€ì´ë“œ (ìµœì¢… ìš”ì•½)</h1>

<blockquote>
  <p>ëª©í‘œ: 1ì¸ ê°œë°œ/ë¶„ì„ í™˜ê²½ì—ì„œ <strong>ì •ë³¸ ìœ„ì¹˜</strong> , <strong>ì¬í˜„ì„±</strong> , <strong>ì •ë¦¬ ë£¨í‹´</strong> , <strong>ì‘ì—… íë¦„</strong> ì„ ì¼ê´€ë˜ê²Œ ìœ ì§€í•œë‹¤.<br />
 ë£¨íŠ¸ëŠ” ê¸°ë³¸ <code class="language-plaintext highlighter-rouge">~/Work</code> (ì›í•˜ë©´ ë‹¤ë¥¸ ê²½ë¡œë¡œ ì´ì‹ ê°€ëŠ¥).</p>
</blockquote>

<hr />

<h2 id="1-ìµœì¢…-í´ë”-íŠ¸ë¦¬-ìš”ì•½--ì„¤ëª…">1) ìµœì¢… í´ë” íŠ¸ë¦¬ (ìš”ì•½ + ì„¤ëª…)</h2>

<h1 id="-3">===</h1>
<p>Work/<br />
â”œâ”€ 00_README.md - ìš´ì˜ ê·œì¹™ ìš”ì•½(ì‚¬ëŒìš© ë¬¸ì„œ)<br />
â”œâ”€ 01_Inbox/ - ì„ì‹œ ìˆ˜ì§‘í•¨(ìŠ¤í¬ë¦°ìƒ·/ë©”ëª¨/ì„ì‹œ íŒŒì¼)<br />
â”œâ”€ 05_Downloads/ - ë‹¤ìš´ë¡œë“œ ì°©ë¥™ì§€(ì •ë¦¬ ì „)<br />
â”‚ â”œâ”€ _inbox/ - ê¸°ë³¸ ì €ì¥ ê²½ë¡œ<br />
â”‚ â”œâ”€ installers/ datasets/ manuals/ assets/ quarantine/<br />
â”œâ”€ 10_Today/ - ì˜¤ëŠ˜ ì‘ì—… ëŒ€ì‹œë³´ë“œ(ëŸ°ì²˜/í—¬í¼)<br />
â”‚ â””â”€ wrappers/ - ì…¸ ìœ ì§€/í™˜ê²½ ì§„ì… ë˜í¼<br />
â”œâ”€ 20_Projects/ - ë‚´ê°€ ê°œë°œÂ·ê´€ë¦¬í•˜ëŠ” <strong>ì½”ë“œ ì •ë³¸</strong><br />
â”‚ â””â”€ PRJ-YYYY-NNN_slug/ - ì˜ˆ: PRJ-2025-001_sample_app<br />
â”‚ â”œâ”€ src/<pkg>/ tests/ scripts/ examples/ docs/  
â”‚ â””â”€ pyproject.toml â€¦  
â”œâ”€ 21_ExternalRepos/ - ì™¸ë¶€(3rd-party) ë¦¬í¬ ë¡œì»¬ í´ë¡ (ì½ê¸° ì „ìš©)  
â”‚ â”œâ”€ github/<org>/<repo>/  
â”‚ â”œâ”€ gitlab/<group>/<repo>/  
â”‚ â””â”€ bitbucket/<team>/<repo>/  
â”œâ”€ 22_Labs/ - ê°€ë²¼ìš´ ì‹¤í—˜/í”„ë¡œí† (ì¬í˜„ ë¶ˆí•„ìš”)  
â”‚ â””â”€ jupyter/ - ìŠ¤í¬ë˜ì¹˜ ë…¸íŠ¸ë¶  
â”œâ”€ 25_Jobs/ - ì‚°ì¶œ **ì‘ì—… ë‹¨ìœ„**(í”„ë¡œì„¸ìŠ¤ ìˆ˜ëª… ì¤‘ì‹¬)  
â”‚ â”œâ”€ _active/ - ì§„í–‰ ì¤‘(ìµœëŒ€ 12ê°œ ê¶Œì¥)  
â”‚ â”œâ”€ _templates/ - JOB/BUG/SMOKE/LAB/EX/REL ìŠ¤ìºí´ë“œ  
â”‚ â”œâ”€ JOB/2025/ BUG/2025/ SMOKE/2025/ LAB/2025/ EX/2025/ REL/2025/  
â”œâ”€ 26_Datasets/ - ë°ì´í„°ì…‹ **ì •ë³¸**(ì…ë ¥/íŒŒìƒ)  
â”‚ â”œâ”€ registry/ - ì¹´íƒˆë¡œê·¸(ìƒ‰ì¸ íŒŒì¼)  
â”‚ â”œâ”€ datasets/<name>/vYYYY.MMDD/ - ì…ë ¥ ë°ì´í„° ë²„ì „  
â”‚ â”‚ â”œâ”€ raw/ interim/ processed/ samples/ docs/  
â”‚ â”‚ â”œâ”€ manifest.yml SHA256SUMS  
â”‚ â”œâ”€ derived/<artifact>/vYYYY.MMDD/ - ìŠ¹ê²©ëœ ì¶œë ¥ë¬¼  
â”‚ â”‚ â”œâ”€ data/ metrics/ docs/ manifest.yml SHA256SUMS  
â”‚ â””â”€ cache/ - ì–¸ì œë“  ì‚­ì œ ê°€ëŠ¥  
â”œâ”€ 30_Areas/ - ì¥ê¸° ìš´ì˜(ì •ì±…/ì›Œí¬ë¡œê·¸/ì§€ì‹)  
â”‚ â”œâ”€ worklog/YYYY/YY-MM/DATE.md  
â”‚ â””â”€ knowledge_base/ - ì¶•ì  ì§€ì‹(íŒ/ì¹˜íŠ¸ì‹œíŠ¸/ê°€ì´ë“œ)  
â”‚ â””â”€ obsidian_vault/ - Obsidian Vault(ì—…ë¬´ìš©)  
â”œâ”€ 31_Conversations/ - ëŒ€í™” ê¸°ë¡ ì •ë³¸(ì›ë³¸/ì •ì œ/ë¹„ì‹ë³„/ì•”í˜¸í™”)  
â”‚ â”œâ”€ inbox/ by_assistant/ by_topic/ redacted/ private_encrypted/  
â”‚ â””â”€ templates/ scripts/  
â”œâ”€ 32_SharedConfigs/ - **ê³µìœ /ê³¨ë“  ì„¤ì •**(íŒ€ í‘œì¤€)  
â”‚ â”œâ”€ global/{vscode,ruff,pytest,pyinstaller,pyside6,jupyter}/  
â”‚ â””â”€ projects/<project_slug>/  
â”œâ”€ 40_Resources/ - ì™¸ë¶€ ì°¸ê³  ìë£Œ(êµìœ¡/ë§¤ë‰´ì–¼/ìŠ¤í™)  
â”‚ â”œâ”€ edu/{courses, tutorials, papers/...}  
â”‚ â”œâ”€ manuals/<vendor>/<product>/<version>/  
â”‚ â””â”€ reference/  
â”œâ”€ 50_Snippets/{sql,text,bash}/ - ì¬ì‚¬ìš© ì½”ë“œ/ì›ë¼ì´ë„ˆ/ë¬¸êµ¬ ì¡°ê°  
â”œâ”€ 60_Assets/ - ë¡œê³ /í°íŠ¸/í…œí”Œë¦¿ ë“± **ì—…ë¬´ ìì‚°**  
â”‚ â””â”€ fonts/<Family>/vX.Y/{desktop,web,variable,license,specimen}/  
â”œâ”€ 70_Exports/ - **ê³µìœ ìš© ë²ˆë“¤/ì „ë‹¬ë³¸** ëª¨ì•„ë‘ëŠ” ê³³  
â”œâ”€ 75_Releases/ - ìœ ì € ë°°í¬(ë²„ì „ë“œ)  
â”‚ â””â”€ <project>/  
â”‚ â”œâ”€ vX.Y.Z/{installers,wheels,portable,docs,licenses,checksums,ReleaseNotes.md}  
â”‚ â””â”€ latest -&gt; vX.Y.Z - ìµœì‹  í¬ì¸í„°(ìƒëŒ€ ì‹¬ë³¼ë¦­)  
â”œâ”€ 80_Toolchains/ - ê³ ì • ë²„ì „ ë¹Œë“œ ë„êµ¬(gcc/cmake/ninjaâ€¦)  
â”‚ â”œâ”€ gcc/{13.3.0, latest-&gt;13.3.0}/  
â”‚ â”œâ”€ cmake/{3.29.3, latest-&gt;3.29.3}/  
â”‚ â””â”€ ninja/{1.12.1, latest-&gt;1.12.1}/  
â”œâ”€ 81_SDKs/ - í”Œë«í¼ SDK/ëŸ°íƒ€ì„(JDK/Qt/NDK/CUDAâ€¦)  
â”‚ â”œâ”€ jdk/{21.0.2, latest-&gt;21.0.2}/  
â”‚ â””â”€ qt/{6.7.2-win-x64-msvc, latest-&gt;6.7.2-win-x64-msvc}/  
â”œâ”€ 82_Tools/ - ê°œì¸Â·ê²½ëŸ‰Â·í¬í„°ë¸” ìœ í‹¸/ê´€ë¦¬ ìŠ¤í¬ë¦½íŠ¸  
â”‚ â”œâ”€ installers/<tool>/<ver>/ - ì„¤ì¹˜ ì›ë³¸ + SHA256SUMS, install_notes.md  
â”‚ â”œâ”€ bin/ - ì–´ë””ì„œë‚˜ ì“°ëŠ” ê°œì¸ ìœ í‹¸(ì‹¤í–‰ íŒŒì¼)  
â”‚ â”œâ”€ portable/<tool>-<ver>/  
â”‚ â”œâ”€ scripts/ - ì²´í¬ì„¬/ë¦´ë¦¬ìŠ¤/ë¶€íŠ¸ìŠ¤íŠ¸ë© ìŠ¤í¬ë¦½íŠ¸  
â”‚ â””â”€ scratch/  
â”œâ”€ 83_Runtimes/ - ì–¸ì–´ ëŸ°íƒ€ì„(ì˜ˆ: python)  
â”‚ â””â”€ python/{3.12.5, 3.11.9, latest-&gt;3.12.5}/  
â”œâ”€ 85_Environments/ - docker/conda/venv/devcontainer ìº¡ìŠ  
â”‚ â”œâ”€ conda/environment.yml  
â”‚ â”œâ”€ docker/Dockerfile compose.yml  
â”‚ â””â”€ devcontainer/base/{Dockerfile, devcontainer.json}  
â”œâ”€ 90_PersonalConfigs/ - ê°œì¸ ì„¤ì •(ì˜¤ë²„ë¼ì´ë“œ/ë¹„ê³µê°œ)  
â”‚ â”œâ”€ shell/{bash,zsh,tcsh,powershell}/ - ì˜ˆ: shell/tcsh/.tcshrc (í™ˆì— ì‹¬ë§í¬)  
â”‚ â”œâ”€ editors/vscode/{settings.user.json,keybindings.user.json}  
â”‚ â”œâ”€ git/.gitconfig.local python/{pip.conf,poetry.toml,pypirc}  
â”‚ â”œâ”€ tools/ secrets/README.md .gitignore  
â””â”€ 99_Archive/ - ì™„ë£Œ í•­ëª© ì¥ê¸° ë³´ê´€(ì½ê¸° ì „ìš©)</ver></tool></ver></tool></project></Family></version></product></vendor></project_slug></artifact></name></repo></team></repo></group></repo></org></pkg></p>

<hr />

<h2 id="2-í•µì‹¬-ì›ì¹™-ê°„ë‹¨">2) í•µì‹¬ ì›ì¹™ (ê°„ë‹¨)</h2>

<p>1</p>

<p class="chat--user">

ì§€ê¸ˆê¹Œì§€ì˜ ëŒ€í™” ë‚´ìš©ì„ ì •ë¦¬í•´ì„œ ëˆ„êµ¬ë‚˜ Work í´ë”ë¥¼ íŒŒì•…í•  ìˆ˜ ìˆê²Œ í•˜ë‚˜ì˜ Markdown(*.md)ìœ¼ë¡œ ì •ë¦¬í•´ì¤˜. 1. ë³¸ë¬¸ ë‚´ë¶€ì—ì„œ ì½”ë“œ ë¸”ëŸ­ì€ ê¹¨ì§€ë‹ˆê¹Œ 3 backticksë¥¼ ===ë¡œ ëŒ€ì²´í•´ì¤˜. (markdownì„ ê°ì‹¸ëŠ” ì²˜ìŒê³¼ ëì˜ backticksëŠ” ìœ ì§€) 2. shortcuts.list ê°™ì€ê±´ ë‚´ê°€ ì•Œì•„ì„œ ë‹¤ë£°í…Œë‹ˆê¹Œ ê·¸ëƒ¥ ìì„¸íˆ ì–¸ê¸‰í•˜ì§€ ë§ì•„ì¤˜. 3. ëª‡ ê°€ì§€ ìì£¼ ì‚¬ìš©í• ë§Œí•œ ì˜ˆì‹œë“¤ì„ 10ê°œ ì •ë„ ì¨ì¤˜. 4. pipx ì•ˆì“¸ê±°ì•¼. 5. 06_Media í´ë”ë„ ì•ˆì“¸ê±°ì•¼.

</p>

<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh"># Work í´ë” ìš´ì˜ ê°€ì´ë“œ (ìµœì¢… ìš”ì•½)</span>
<span class="gt">
&gt; ëª©ì : ëˆ„êµ¬ë‚˜ `~/Work` íŠ¸ë¦¬ë¥¼ ë¹ ë¥´ê²Œ ì´í•´í•˜ê³ , **ì •ë³¸ ìœ„ì¹˜**, **ì¬í˜„ì„±**, **ì •ë¦¬ ë£¨í‹´**, **ì‘ì—… íë¦„**ì„ ì¼ê´€ë˜ê²Œ ìœ ì§€í•˜ë„ë¡ ë•ìŠµë‹ˆë‹¤.  </span>
<span class="gt">&gt; ë³¸ ë¬¸ì„œëŠ” ì‚¬ëŒìš© ê°€ì´ë“œì…ë‹ˆë‹¤(LLM í”„ë¡¬í”„íŠ¸ëŠ” `90_PersonalConfigs/llm_config/` ë“± ë³„ë„ ë³´ê´€).</span>
<span class="p">
---
</span>
<span class="gu">## 1) TL;DR</span>
<span class="p">
-</span> <span class="gs">**ì„ì‹œ â†” ì •ë³¸ ë¶„ë¦¬**</span>: <span class="sb">`01_Inbox`</span>, <span class="sb">`05_Downloads/_inbox`</span>ëŠ” ì°©ë¥™ì§€ë§Œ, ì •ë³¸ì€ ê° ì „ìš© ìœ„ì¹˜ë¡œ ì´ë™.  
<span class="p">-</span> <span class="gs">**ë‹¨ì¼ ì •ë³¸ ì›ì¹™**</span>  
<span class="p">  -</span> ì½”ë“œ: <span class="sb">`20_Projects`</span>  
<span class="p">  -</span> ì‘ì—…(ì‚°ì¶œ ë‹¨ìœ„): <span class="sb">`25_Jobs`</span>  
<span class="p">  -</span> ë°ì´í„°: <span class="sb">`26_Datasets`</span> (ë²„ì „+ë©”íƒ€)  
<span class="p">-</span> <span class="gs">**íˆ´ ìŠ¤íƒ ë¶„ë¦¬**</span>: íˆ´ì²´ì¸(80) / SDK(81) / ê°œì¸ ìœ í‹¸(82) / ëŸ°íƒ€ì„(83) / í™˜ê²½ ìº¡ìŠ(85)  
<span class="p">-</span> <span class="gs">**Python**</span>: ê¸°ë³¸ ì¸í„°í”„ë¦¬í„°ëŠ” <span class="sb">`83_Runtimes/python/&lt;ver&gt;/`</span>(+<span class="sb">`latest`</span>), ê° í”„ë¡œì íŠ¸ëŠ” <span class="gs">**ìì²´ venv**</span>.  
<span class="p">-</span> <span class="gs">**ê³µìœ /ë°°í¬**</span>: ë¹ ë¥¸ ì „ë‹¬ì€ <span class="sb">`70_Exports/`</span>, ê³µê°œ ë²„ì „ë“œëŠ” <span class="sb">`75_Releases/`</span>.  
<span class="p">-</span> <span class="gs">**êµìœ¡ ìë£Œ vs ë‚´ ì •ë¦¬/ì‹¤ìŠµ**</span>:  
<span class="p">  -</span> ìˆ˜ì§‘ë¬¼ ì›ë³¸ â†’ <span class="sb">`40_Resources/edu`</span>  
<span class="p">  -</span> ë‚´ ì •ë¦¬(ë…¸íŠ¸) â†’ <span class="sb">`30_Areas/knowledge_base/obsidian_vault`</span>  
<span class="p">  -</span> ì‹¤ìŠµ/ê³¼ì œ(ì¬í˜„ ê°€ëŠ¥) â†’ <span class="sb">`25_Jobs/LAB`</span>  
<span class="p">
---
</span>
<span class="gu">## 2) ìµœì¢… í´ë” íŠ¸ë¦¬ (ìš”ì•½ + ì„¤ëª…)</span>

===
Work/
â”œâ”€ 00_README.md                         - ìš´ì˜ ê·œì¹™ ìš”ì•½(ì´ ë¬¸ì„œ)
â”œâ”€ 01_Inbox/                            - ì„ì‹œ ìˆ˜ì§‘í•¨(ìŠ¤í¬ë¦°ìƒ·/ë©”ëª¨/ì„ì‹œ íŒŒì¼)
â”œâ”€ 05_Downloads/                        - ë‹¤ìš´ë¡œë“œ ì°©ë¥™ì§€(ì •ë¦¬ ì „)
â”‚  â”œâ”€ _inbox/                           - ê¸°ë³¸ ì €ì¥ ê²½ë¡œ
â”‚  â”œâ”€ installers/ datasets/ manuals/ assets/ quarantine/
â”œâ”€ 10_Today/                            - ì˜¤ëŠ˜ ì‘ì—… ëŒ€ì‹œë³´ë“œ(ëŸ°ì²˜/í—¬í¼ ë°°ì¹˜)
â”‚  â””â”€ wrappers/                         - ì…¸ ìœ ì§€/í™˜ê²½ ì§„ì… ë˜í¼
â”œâ”€ 20_Projects/                         - ë‚´ê°€ ê°œë°œÂ·ê´€ë¦¬í•˜ëŠ” <span class="gs">**ì½”ë“œ ì •ë³¸**</span>
â”‚  â””â”€ PRJ-YYYY-NNN_slug/
â”‚     â”œâ”€ src/<span class="nt">&lt;pkg&gt;</span>/ tests/ scripts/ examples/ docs/
â”‚     â””â”€ pyproject.toml â€¦
â”œâ”€ 21_ExternalRepos/                    - ì™¸ë¶€(3rd-party) ë¦¬í¬ ë¡œì»¬ í´ë¡ (ì½ê¸° ì „ìš©)
â”‚  â”œâ”€ github/<span class="nt">&lt;org&gt;</span>/<span class="nt">&lt;repo&gt;</span>/  gitlab/<span class="nt">&lt;group&gt;</span>/<span class="nt">&lt;repo&gt;</span>/  bitbucket/<span class="nt">&lt;team&gt;</span>/<span class="nt">&lt;repo&gt;</span>/
â”œâ”€ 22_Labs/                             - ê°€ë²¼ìš´ ì‹¤í—˜/í”„ë¡œí† (ì¬í˜„ ë¶ˆí•„ìš”)
â”‚  â””â”€ jupyter/
â”œâ”€ 25_Jobs/                             - ì‚°ì¶œ <span class="gs">**ì‘ì—… ë‹¨ìœ„**</span>(í”„ë¡œì„¸ìŠ¤ ìˆ˜ëª… ì¤‘ì‹¬)
â”‚  â”œâ”€ _active/                          - ì§„í–‰ ì¤‘(ìµœëŒ€ 12ê°œ ê¶Œì¥)
â”‚  â”œâ”€ _templates/                       - JOB/BUG/SMOKE/LAB/EX/REL ìŠ¤ìºí´ë“œ
â”‚  â”œâ”€ JOB/2025/  BUG/2025/  SMOKE/2025/  LAB/2025/  EX/2025/  REL/2025/
â”œâ”€ 26_Datasets/                         - ë°ì´í„°ì…‹ <span class="gs">**ì •ë³¸**</span>(ì…ë ¥/íŒŒìƒ)
â”‚  â”œâ”€ registry/
â”‚  â”œâ”€ datasets/<span class="nt">&lt;name&gt;</span>/vYYYY.MMDD/{raw,interim,processed,samples,docs,manifest.yml,SHA256SUMS}
â”‚  â”œâ”€ derived/<span class="nt">&lt;artifact&gt;</span>/vYYYY.MMDD/{data,metrics,docs,manifest.yml,SHA256SUMS}
â”‚  â””â”€ cache/
â”œâ”€ 30_Areas/                            - ì¥ê¸° ìš´ì˜(ì •ì±…/ì›Œí¬ë¡œê·¸/ì§€ì‹)
â”‚  â”œâ”€ worklog/YYYY/YY-MM/DATE.md
â”‚  â””â”€ knowledge_base/
â”‚     â””â”€ obsidian_vault/
â”œâ”€ 31_Conversations/                    - ëŒ€í™” ê¸°ë¡(ì›ë³¸/ì •ì œ/ë¹„ì‹ë³„/ì•”í˜¸í™”)
â”‚  â”œâ”€ inbox/ by_assistant/ by_topic/ redacted/ private_encrypted/
â”‚  â””â”€ templates/ scripts/
â”œâ”€ 32_SharedConfigs/                    - <span class="gs">**ê³µìœ /ê³¨ë“  ì„¤ì •**</span>(íŒ€ í‘œì¤€)
â”‚  â”œâ”€ global/{vscode,ruff,pytest,pyinstaller,pyside6,jupyter}/
â”‚  â””â”€ projects/<span class="nt">&lt;project_slug&gt;</span>/
â”œâ”€ 40_Resources/                        - ì™¸ë¶€ ì°¸ê³  ìë£Œ(êµìœ¡/ë§¤ë‰´ì–¼/ìŠ¤í™)
â”‚  â”œâ”€ edu/{courses, tutorials, papers/...}
â”‚  â”œâ”€ manuals/<span class="nt">&lt;vendor&gt;</span>/<span class="nt">&lt;product&gt;</span>/<span class="nt">&lt;version&gt;</span>/
â”‚  â””â”€ reference/
â”œâ”€ 50_Snippets/{sql,text,bash}/         - ì¬ì‚¬ìš© ì½”ë“œ/ì›ë¼ì´ë„ˆ/ë¬¸êµ¬ ì¡°ê°
â”œâ”€ 60_Assets/                           - ë¡œê³ /í°íŠ¸/í…œí”Œë¦¿ ë“± <span class="gs">**ì—…ë¬´ ìì‚°**</span>
â”‚  â””â”€ fonts/<span class="nt">&lt;Family&gt;</span>/vX.Y/{desktop,web,variable,license,specimen}/
â”œâ”€ 70_Exports/                          - <span class="gs">**ê³µìœ ìš© ë²ˆë“¤/ì „ë‹¬ë³¸**</span> ëª¨ìŒ
â”œâ”€ 75_Releases/                         - ìœ ì € ë°°í¬(ë²„ì „ë“œ)
â”‚  â””â”€ <span class="nt">&lt;project&gt;</span>/vX.Y.Z/{installers,wheels,portable,docs,licenses,checksums,ReleaseNotes.md}
â”‚     â””â”€ latest -&gt; vX.Y.Z               # ìµœì‹  í¬ì¸í„°(ìƒëŒ€ ì‹¬ë³¼ë¦­)
â”œâ”€ 80_Toolchains/                       - ê³ ì • ë²„ì „ ë¹Œë“œ ë„êµ¬(gcc/cmake/ninjaâ€¦)
â”‚  â”œâ”€ gcc/{13.3.0, latest-&gt;13.3.0}/  cmake/{3.29.3, latest-&gt;3.29.3}/  ninja/{1.12.1, latest-&gt;1.12.1}/
â”œâ”€ 81_SDKs/                             - í”Œë«í¼ SDK/ëŸ°íƒ€ì„(JDK/Qt/NDK/CUDAâ€¦)
â”‚  â”œâ”€ jdk/{21.0.2, latest-&gt;21.0.2}/  qt/{6.7.2-win-x64-msvc, latest-&gt;6.7.2-win-x64-msvc}/
â”œâ”€ 82_Tools/                            - ê°œì¸Â·ê²½ëŸ‰Â·í¬í„°ë¸” ìœ í‹¸/ê´€ë¦¬ ìŠ¤í¬ë¦½íŠ¸
â”‚  â”œâ”€ installers/<span class="nt">&lt;tool&gt;</span>/<span class="nt">&lt;ver&gt;</span>/          # ì„¤ì¹˜ ì›ë³¸ + SHA256SUMS, install_notes.md
â”‚  â”œâ”€ bin/  portable/<span class="nt">&lt;tool&gt;</span>-<span class="nt">&lt;ver&gt;</span>/  scripts/  scratch/
â”œâ”€ 83_Runtimes/                         - ì–¸ì–´ ëŸ°íƒ€ì„(ì˜ˆ: python)
â”‚  â””â”€ python/{3.12.5, 3.11.9, latest-&gt;3.12.5}/
â”œâ”€ 85_Environments/                     - docker/conda/venv/devcontainer ìº¡ìŠ
â”‚  â”œâ”€ conda/environment.yml  docker/{Dockerfile,compose.yml}  devcontainer/base/{Dockerfile,devcontainer.json}
â”œâ”€ 90_PersonalConfigs/                  - ê°œì¸ ì„¤ì •(ì˜¤ë²„ë¼ì´ë“œ/ë¹„ê³µê°œ)
â”‚  â”œâ”€ shell/{bash,zsh,tcsh,powershell}/   # ì˜ˆ: shell/tcsh/.tcshrc (í™ˆì— ì‹¬ë§í¬)
â”‚  â”œâ”€ editors/vscode/{settings.user.json,keybindings.user.json}
â”‚  â”œâ”€ git/.gitconfig.local  python/{pip.conf,poetry.toml,pypirc}  tools/  secrets/README.md  .gitignore
<span class="gu">â””â”€ 99_Archive/                          - ì™„ë£Œ í•­ëª© ì¥ê¸° ë³´ê´€(ì½ê¸° ì „ìš©)
===
</span><span class="gt">
&gt; ì°¸ê³ : Today ëŸ°ì²˜/ë‹¨ì¶•ì€ ê°„ë‹¨íˆë§Œ ì–¸ê¸‰í•˜ê³  ì„¸ë¶€ëŠ” ìƒëµí•©ë‹ˆë‹¤.</span>
<span class="p">
---
</span>
<span class="gu">## 3) ë„¤ì´ë° &amp; ë²„ì „ ê·œì¹™</span>
<span class="p">
-</span> í”„ë¡œì íŠ¸: <span class="sb">`PRJ-YYYY-NNN_slug`</span>  
<span class="p">-</span> ì‘ì—…(Job): <span class="sb">`JOB|BUG|SMOKE|LAB|EX|REL-YYYY-NNN_title`</span>  
<span class="p">-</span> ë°ì´í„°ì…‹ ë²„ì „: <span class="sb">`vYYYY.MMDD`</span> (ì˜ˆ: <span class="sb">`v2025.0901`</span>)  
<span class="p">-</span> Toolchains/SDK í´ë”: <span class="sb">`&lt;tool&gt;/&lt;version&gt;/`</span> + <span class="sb">`latest -&gt; &lt;version&gt;`</span>(ìƒëŒ€ ì‹¬ë³¼ë¦­)  
<span class="p">-</span> íŒŒì¼: <span class="sb">`YYYY-MM-DD_title_vNNN.ext`</span> ê¶Œì¥
<span class="p">
---
</span>
<span class="gu">## 4) ê²°ì • ê°€ì´ë“œ (ì–´ë””ì— ë‘˜ê¹Œ?)</span>
<span class="p">
-</span> <span class="gs">**ì½”ë“œ ì†ŒìŠ¤**</span> â†’ <span class="sb">`20_Projects`</span>  
<span class="p">-</span> <span class="gs">**ì‹¤í–‰/ë¶„ì„/ë¦¬í¬íŠ¸ ì‘ì—…**</span> â†’ <span class="sb">`25_Jobs`</span>  
<span class="p">-</span> <span class="gs">**ì…ë ¥/ì¶œë ¥ ë°ì´í„° ì •ë³¸**</span> â†’ <span class="sb">`26_Datasets`</span>  
<span class="p">-</span> <span class="gs">**ì™¸ë¶€ ë ˆí¬(ì—°êµ¬/ë¶„ì„ìš© í´ë¡ )**</span> â†’ <span class="sb">`21_ExternalRepos`</span> (ì½ê¸° ì „ìš©, ì‹¤í—˜ì€ worktreeë¡œ <span class="sb">`22_Labs`</span>/<span class="sb">`25_Jobs/SMOKE`</span>)  
<span class="p">-</span> <span class="gs">**êµìœ¡ ìˆ˜ì§‘ë¬¼**</span> â†’ <span class="sb">`40_Resources/edu`</span> / <span class="gs">**ë‚´ ì •ë¦¬ ë…¸íŠ¸**</span> â†’ <span class="sb">`30_Areas/knowledge_base/obsidian_vault`</span> / <span class="gs">**ì‹¤ìŠµ**</span> â†’ <span class="sb">`25_Jobs/LAB`</span>  
<span class="p">-</span> <span class="gs">**ë¹ ë¥¸ ê³µìœ  ë²ˆë“¤**</span> â†’ <span class="sb">`70_Exports`</span> / <span class="gs">**ê³µê°œ ë¦´ë¦¬ìŠ¤**</span> â†’ <span class="sb">`75_Releases`</span>  
<span class="p">-</span> <span class="gs">**ê³µìœ  ì„¤ì •**</span> â†’ <span class="sb">`32_SharedConfigs`</span> / <span class="gs">**ê°œì¸ ì„¤ì •**</span> â†’ <span class="sb">`90_PersonalConfigs`</span>
<span class="p">
---
</span>
<span class="gu">## 5) ë°ì´í„°ì…‹ ë©”íƒ€(í…œí”Œë¦¿ &amp; ì²´í¬ì„¬)</span>

<span class="gu">**`manifest.yml` (ì…ë ¥ ë°ì´í„°ì…‹ ì˜ˆì‹œ)**  
===
</span>name: <span class="nt">&lt;dataset_name&gt;</span>
kind: dataset
version: vYYYY.MMDD
created_at: 2025-09-01T00:00:00+09:00
owner: you@company.com
source:
  type: <span class="nt">&lt;external</span><span class="err">|</span><span class="na">internal</span><span class="err">|</span><span class="na">manual</span><span class="nt">&gt;</span>
  detail: "<span class="nt">&lt;ì„¤ëª…</span><span class="err">/</span><span class="na">ë§í¬</span><span class="nt">&gt;</span>"
schema:
  format: <span class="nt">&lt;parquet</span><span class="err">|</span><span class="na">csv</span><span class="err">|</span><span class="na">json</span><span class="err">|</span><span class="na">image</span><span class="err">|...</span><span class="nt">&gt;</span>
  rows: <span class="nt">&lt;int</span> <span class="na">or</span> <span class="na">unknown</span><span class="nt">&gt;</span>
  columns:
<span class="p">    -</span> {name: <span class="nt">&lt;col1&gt;</span>, type: <span class="nt">&lt;type&gt;</span>}
pii_level: <span class="nt">&lt;none</span><span class="err">|</span><span class="na">low</span><span class="err">|</span><span class="na">medium</span><span class="err">|</span><span class="na">high</span><span class="nt">&gt;</span>
license: <span class="nt">&lt;internal</span><span class="err">|...</span><span class="nt">&gt;</span>
files:
<span class="p">  -</span> {path: <span class="nt">&lt;relative</span><span class="err">/</span><span class="na">file</span><span class="nt">&gt;</span>, bytes: <span class="nt">&lt;int&gt;</span>, sha256: "<span class="nt">&lt;optional&gt;</span>"}
<span class="gu">notes: "&lt;ì „ì²˜ë¦¬/ì£¼ì˜ì‚¬í•­&gt;"
===
</span>
<span class="gu">**ì²´í¬ì„¬ ìƒì„± (macOS/Linux)**  
===
</span>cd <span class="nt">&lt;ë²„ì „</span> <span class="na">ë£¨íŠ¸</span><span class="nt">&gt;</span>
: &gt; SHA256SUMS
find . -type f ! -name 'SHA256SUMS' ! -name '.<span class="err">*</span>' -print0 <span class="err">\</span>
<span class="gu">| xargs -0 shasum -a 256 | sed 's#  #  #' &gt;&gt; SHA256SUMS
===
</span>
<span class="gu">**ì²´í¬ì„¬ ìƒì„± (Windows PowerShell)**  
===
</span>$root = "<span class="nt">&lt;ë²„ì „</span> <span class="na">ë£¨íŠ¸</span><span class="nt">&gt;</span>"
Set-Location $root
Remove-Item -Force SHA256SUMS -ErrorAction SilentlyContinue
Get-ChildItem -Recurse -File -Force | Where-Object {
  $_.Name -ne 'SHA256SUMS' -and -not $_.Name.StartsWith('.')
} | ForEach-Object {
  $h=(Get-FileHash $_.FullName -Algorithm SHA256).Hash.ToLower()
  $rel=$_.FullName.Substring($root.Length+1).Replace('<span class="se">\'</span>,'/')
  "$h  $rel"
<span class="gu">} | Set-Content -NoNewline SHA256SUMS
===
</span><span class="p">
---
</span>
<span class="gu">## 6) íˆ´/SDK/ëŸ°íƒ€ì„/í™˜ê²½ ìš´ìš©</span>
<span class="p">
-</span> <span class="gs">**80_Toolchains**</span>: gcc/cmake/ninja ë“± <span class="gs">**ê³ ì • ë²„ì „**</span> ë³´ê´€, <span class="sb">`latest`</span> ì‹¬ë³¼ë¦­ ìš´ì˜  
<span class="p">-</span> <span class="gs">**81_SDKs**</span>: JDK/Qt/NDK/CUDA ë“± í”Œë«í¼ SDK  
<span class="p">-</span> <span class="gs">**82_Tools**</span>: ê°œì¸ ìœ í‹¸ ì‹¤í–‰ íŒŒì¼(ì „ì—­ PATHì— ì¶”ê°€), ì„¤ì¹˜ ì›ë³¸ì€ <span class="sb">`installers/`</span>ì— ë³´ê´€(+ì²´í¬ì„¬)  
<span class="p">-</span> <span class="gs">**83_Runtimes**</span>: ê¸°ë³¸ Python ë“± ì–¸ì–´ ëŸ°íƒ€ì„(ë²„ì „ ë³‘ì¹˜, <span class="sb">`latest`</span> ë§í¬)  
<span class="p">-</span> <span class="gs">**85_Environments**</span>: í”„ë¡œì íŠ¸ ë¬´ê´€ <span class="gs">**í™˜ê²½ ìº¡ìŠ**</span> (docker/conda/venv/devcontainer)

<span class="gu">**Python PATH ì˜ˆì‹œ**  
===
</span><span class="gh"># bash/zsh</span>
export PATH="$HOME/Work/83_Runtimes/python/latest/bin:$PATH"

<span class="gh"># tcsh</span>
set path = ( $HOME/Work/83_Runtimes/python/latest/bin $path )

<span class="gh"># PowerShell</span>
<span class="gu">$env:Path = "$HOME\Work\83_Runtimes\python\latest;$HOME\Work\83_Runtimes\python\latest\Scripts;" + $env:Path
===
</span>
<span class="gs">**â€œì „ì—­ì²˜ëŸ¼ ì“°ê³  ì‹¶ì€ CLIâ€ (pipx ë¯¸ì‚¬ìš© ë°©ì¹¨)**</span>  
<span class="p">-</span> ë°©ë²• A: <span class="gs">**ì „ìš© venv**</span>ë¥¼ <span class="sb">`85_Environments/venv/tools-&lt;pyver&gt;/`</span>ë¡œ ë§Œë“¤ê³ , ê·¸ <span class="sb">`bin/`</span>ì„ PATH ì•ì— ë‘”ë‹¤.  
<span class="p">-</span> ë°©ë²• B: í”„ë¡œì íŠ¸ venvì˜ ì½˜ì†” ìŠ¤í¬ë¦½íŠ¸ë¥¼ <span class="gs">**`82_Tools/bin/`ì— ì‹¬ë³¼ë¦­ ë§í¬**</span>ë¡œ ë…¸ì¶œ(venv ì‚­ì œ ì‹œ ë§í¬ ê¹¨ì§ ì£¼ì˜).  

<span class="gu">ì „ìš© venv ìŠ¤ì¼€ì¹˜:  
===
</span><span class="gh"># macOS/Linux</span>
env=~/Work/85_Environments/venv/tools-3.12
python3 -m venv "$env"
. "$env/bin/activate" &amp;&amp; pip install -U pip wheel ruff black httpie
<span class="gu">echo 'export PATH="$HOME/Work/85_Environments/venv/tools-3.12/bin:$PATH"' &gt;&gt; ~/.zshrc
===
</span><span class="p">
---
</span>
<span class="gu">## 7) ê³µìœ /ë°°í¬ ê°€ì´ë“œ</span>
<span class="p">
-</span> <span class="gs">**ë‚´ë¶€ ê³µìœ (ë¹ ë¥¸ ì „ë‹¬)**</span> â†’ <span class="sb">`70_Exports/&lt;topic&gt;/&lt;YYYY-MM-DD&gt;/sharekit/`</span>  
<span class="p">  -</span> <span class="sb">`README.md`</span>, <span class="sb">`env/`</span>, <span class="sb">`scripts/`</span>, <span class="sb">`data/samples/`</span>, <span class="sb">`results/`</span>, <span class="sb">`refs/`</span>  
<span class="p">-</span> <span class="gs">**ê³µê°œ ë¦´ë¦¬ìŠ¤(ë²„ì „ë“œ)**</span> â†’ <span class="sb">`75_Releases/&lt;name&gt;/vX.Y.Z/`</span> + <span class="sb">`checksums/`</span>, <span class="sb">`ReleaseNotes.md`</span>, <span class="sb">`latest`</span> ì‹¬ë³¼ë¦­  
<span class="p">-</span> <span class="gs">**ë°ì´í„° ê³µìœ **</span>: ë¹„ì‹ë³„/ìƒ˜í”Œì€ <span class="sb">`26_Datasets/derived/&lt;artifact&gt;-public/vYYYY.MMDD/`</span>
<span class="p">
---
</span>
<span class="gu">## 8) ì™¸ë¶€ ë¦¬í¬/ëŒ€í™”/ë…¸íŠ¸</span>
<span class="p">
-</span> <span class="gs">**ì™¸ë¶€ ë¦¬í¬(ì—°êµ¬/ë¶„ì„ìš©)**</span>: <span class="sb">`21_ExternalRepos/&lt;host&gt;/&lt;org&gt;/&lt;repo&gt;/`</span>  
<span class="p">  -</span> ê¸°ë³¸ ì½ê¸° ì „ìš©. ì‹¤í—˜ì€ <span class="sb">`git worktree`</span>ë¡œ <span class="sb">`22_Labs`</span>/<span class="sb">`25_Jobs/SMOKE`</span>ì— ë¶„ë¦¬.  
<span class="p">-</span> <span class="gs">**ëŒ€í™” ê¸°ë¡**</span>: <span class="sb">`31_Conversations/`</span> (inboxâ†’ì •ì œâ†’redacted/private), í”„ë¡œì íŠ¸/ë…¸íŠ¸ì—ì„œëŠ” ë§í¬ë¡œë§Œ ì°¸ì¡°.  
<span class="p">-</span> <span class="gs">**Obsidian Vault(ì—…ë¬´)**</span>: <span class="sb">`30_Areas/knowledge_base/obsidian_vault/`</span>  
<span class="p">  -</span> ì²¨ë¶€ëŠ” <span class="sb">`_attachments/`</span>(ì†Œí˜•), ëŒ€ìš©ëŸ‰ì€ ë§í¬ë§Œ.
<span class="p">
---
</span>
<span class="gu">## 9) ìì£¼ ì“°ëŠ” ì˜ˆì‹œ 10ì„ </span>

<span class="gu">1) **ìƒˆ í”„ë¡œì íŠ¸(íŒŒì´ì¬ íŒ¨í‚¤ì§€) ì‹œì‘**  
===
</span>base=~/Work/20_Projects/PRJ-2025-001_sample_app
mkdir -p $base/{src/sample_app,tests,scripts,examples,docs}
printf '%s<span class="se">\n</span>' "[project]<span class="se">\n</span>name='sample-app'<span class="se">\n</span>version='0.1.0'" &gt; $base/pyproject.toml
<span class="gu">cd $base &amp;&amp; python3 -m venv .venv &amp;&amp; . .venv/bin/activate &amp;&amp; pip install -U build pytest
===
</span>
<span class="gu">2) **í”„ë¡œì íŠ¸ ë¹Œë“œ(íœ  ìƒì„±) &amp; ë¦´ë¦¬ìŠ¤ ì•„ì¹´ì´ë¸Œ**  
===
</span>cd ~/Work/20_Projects/PRJ-2025-001_sample_app
. .venv/bin/activate
python -m build
rel=~/Work/75_Releases/sample-app/v0.1.0
mkdir -p $rel/checksums &amp;&amp; cp dist/<span class="err">*</span> $rel/
<span class="gu">( cd $rel &amp;&amp; shasum -a 256 * &gt; checksums/SHA256SUMS &amp;&amp; ln -sfn v0.1.0 ../latest )
===
</span>
<span class="gu">3) **ë°ì´í„°ì…‹ ë²„ì „ íˆ¬ì… + ì²´í¬ì„¬**  
===
</span>base=~/Work/26_Datasets/datasets/ad_events/v2025.0901
mkdir -p $base/{raw,interim,processed,samples,docs}
mv ~/Downloads/ad_20250901.csv $base/raw/
printf '%s<span class="se">\n</span>' "name: ad_events<span class="se">\n</span>kind: dataset<span class="se">\n</span>version: v2025.0901" &gt; $base/manifest.yml
<span class="gu">( cd $base &amp;&amp; : &gt; SHA256SUMS &amp;&amp; find . -type f ! -name 'SHA256SUMS' -print0 | xargs -0 shasum -a 256 &gt;&gt; SHA256SUMS )
===
</span>
<span class="gu">4) **ì™¸ë¶€ ë¦¬í¬ ì´ë™ &amp; upstream/í¬í¬ ë¦¬ëª¨íŠ¸ ì •ë¦¬**  
===
</span>repo=~/Downloads/tmp/flask
url=$(git -C "$repo" config --get remote.origin.url)
host=$(echo "$url" | sed -E 's#(https?://|git@)([^/:]+).<span class="err">*</span>#<span class="se">\2</span>#'); <span class="err">\</span>
org=$( echo "$url" | sed -E 's#.<span class="err">*</span>/([^/]+)/[^/]+(<span class="se">\.</span>git)?$#<span class="se">\1</span>#'); <span class="err">\</span>
name=$(echo "$url" | sed -E 's#.<span class="err">*</span>/([^/]+)(<span class="se">\.</span>git)?$#<span class="se">\1</span>#')
dest="$HOME/Work/21_ExternalRepos/$host/$org/$name"
mkdir -p "$(dirname "$dest")" &amp;&amp; mv "$repo" "$dest"
cd "$dest" &amp;&amp; git remote rename origin upstream
<span class="gu"># í¬í¬ê°€ ìˆë‹¤ë©´: git remote add origin git@github.com:&lt;me&gt;/$name.git
===
</span>
<span class="gu">5) **Toolchains/SDK ìµœì‹  ë²„ì „ ì‹¬ë³¼ë¦­ ê°±ì‹ **  
===
</span>cd ~/Work/80_Toolchains/gcc
ln -sfn 13.3.0 latest
cd ~/Work/81_SDKs/jdk
<span class="gu">ln -sfn 21.0.2 latest
===
</span>
<span class="gu">6) **í”„ë¡œì íŠ¸ ì „ìš© venvë¡œ ë‚´ë¶€ CLI ì‚¬ìš©**  
===
</span>cd ~/Work/20_Projects/PRJ-APP
python3 -m venv .venv &amp;&amp; . .venv/bin/activate
pip install -e ../PRJ-UTILS-mytool
<span class="gu">mytool --help   # venv ì•ˆì—ì„œë§Œ ì‚¬ìš©
===
</span>
<span class="gu">7) **ì „ìš© â€œë„êµ¬ìš© venvâ€(pipx ì—†ì´ ì „ì—­ì²˜ëŸ¼) êµ¬ì„±**  
===
</span>env=~/Work/85_Environments/venv/tools-3.12
python3 -m venv "$env"
. "$env/bin/activate" &amp;&amp; pip install -U pip wheel ruff black httpie
<span class="gu">echo 'export PATH="$HOME/Work/85_Environments/venv/tools-3.12/bin:$PATH"' &gt;&gt; ~/.zshrc
===
</span>
<span class="gu">8) **Share Kit ìŠ¤ìºí´ë“œ(ë¹ ë¥¸ ê³µìœ  ë²ˆë“¤)**  
===
</span>kit=~/Work/70_Exports/pyside6-tableview/2025-09-01/sharekit
mkdir -p $kit/{env,scripts,data/samples,results,refs}
printf '%s<span class="se">\n</span>' "# README<span class="se">\n</span>Quickstart: ./scripts/run.sh" &gt; $kit/README.md
printf '%s<span class="se">\n</span>' "numpy<span class="se">\n</span>pandas" &gt; $kit/env/requirements.txt
printf '%s<span class="se">\n</span>' '#!/usr/bin/env bash<span class="se">\n</span>set -e<span class="se">\n</span>here=$(cd $(dirname $0)/.. &amp;&amp; pwd)<span class="se">\n</span>mkdir -p <span class="se">\"</span>$here/results<span class="se">\"\n</span>python <span class="se">\"</span>$here/src/main.py<span class="se">\"</span> --input <span class="se">\"</span>$here/data/samples<span class="se">\"</span> --out <span class="se">\"</span>$here/results<span class="se">\"</span>' &gt; $kit/scripts/run.sh
<span class="gu">chmod +x $kit/scripts/run.sh
===
</span>
<span class="gu">9) **Obsidian Vault ë¼ˆëŒ€ ë§Œë“¤ê¸°**  
===
</span>vault=~/Work/30_Areas/knowledge_base/obsidian_vault
mkdir -p $vault/{00_Inbox,10_Daily/2025,20_Topics,30_ProjectsNotes,40_References,_attachments}
<span class="gu">printf '%s\n' "# Daily Notes" &gt; $vault/10_Daily/2025/README.md
===
</span>
<span class="gu">10) **LAB ì‘ì—… ìŠ¤ìºí´ë“œ(+ì°¸ê³  ë§í¬ ì—°ê²°)**  
===
</span>job=~/Work/25_Jobs/LAB/2025/LAB-2025-018_pyside6-tableview
mkdir -p $job/{src,scripts,env,data}
printf '%s<span class="se">\n</span>' "# ëª©í‘œ<span class="se">\n</span>- TableViewë¡œ CSV ë·°ì–´ ë§Œë“¤ê¸°<span class="se">\n\n</span># ì ˆì°¨<span class="se">\n</span>- ...<span class="se">\n\n</span># ê²°ê³¼<span class="se">\n</span>- ìŠ¤í¬ë¦°ìƒ·/ë©”ëª¨" &gt; $job/README.md
<span class="gu">printf '%s\n' "- ê°•ì˜: ../../../../40_Resources/edu/courses/udemy/pyside6/v2025.0901/README.md" &gt; $job/references.md
===
</span><span class="p">
---
</span>
<span class="gu">## 10) ìì£¼ í—·ê°ˆë¦¬ëŠ” í¬ì¸íŠ¸</span>
<span class="p">
-</span> <span class="gs">**í”„ë¡œì íŠ¸ì— ëŒ€ìš©ëŸ‰ ë°ì´í„° ë³µì‚¬ ê¸ˆì§€**</span> â†’ í•­ìƒ <span class="sb">`26_Datasets`</span>ë¥¼ ê²½ë¡œ ì°¸ì¡°(ë˜ëŠ” ì‹¬ë³¼ë¦­).  
<span class="p">-</span> <span class="gs">**`mv` vs `cp -rf`**</span>: ê°™ì€ íŒŒì¼ì‹œìŠ¤í…œì€ <span class="sb">`mv`</span>(ë¹ ë¥´ê³  ì•ˆì „). ë‹¤ë¥¸ FSëŠ” <span class="sb">`rsync -a`</span>/<span class="sb">`cp -pPR`</span>/<span class="sb">`ditto`</span>/<span class="sb">`robocopy`</span>.  
<span class="p">-</span> <span class="gs">**`ln -sfn` ì˜ë¯¸**</span>: <span class="sb">`-s`</span>(ì‹¬ë³¼ë¦­), <span class="sb">`-f`</span>(ê¸°ì¡´ ë§í¬ ë®ì–´ì“°ê¸°), <span class="sb">`-n`</span>(ë””ë ‰í„°ë¦¬ ë”°ë¼ê°€ì§€ ì•ŠìŒ).  
<span class="p">-</span> <span class="gs">**venv/condaëŠ” ë³µì‚¬ ê¸ˆì§€**</span>: ê²½ë¡œ ë‚´ì¥ â†’ ì˜®ê¸°ë©´ ê¹¨ì§ˆ ìˆ˜ ìˆìŒ(ì¬ìƒì„± ê¶Œì¥).  
<span class="p">-</span> <span class="gs">**êµìœ¡ ìˆ˜ì§‘ë¬¼ vs ë‚´ ì •ë¦¬/ì‹¤ìŠµ**</span>: <span class="sb">`40_Resources/edu`</span>(ì›ë³¸) â†” <span class="sb">`30_Areas/obsidian_vault`</span>(ì •ë¦¬) â†” <span class="sb">`25_Jobs/LAB`</span>(ì‹¤ìŠµ).  
<span class="p">-</span> <span class="gs">**ë‹¨ì¶•/ëŸ°ì²˜**</span>: TodayëŠ” ëŒ€ì‹œë³´ë“œë¡œë§Œ ì‚¬ìš©(ì„¸ë¶€ëŠ” ê°ì ê´€ë¦¬).
<span class="p">
---
</span>
<span class="ge">_í•„ìš” ì‹œ ì´ ë¬¸ì„œë¥¼ `~/Work/00_</span>README.md<span class="err">`</span>ë¡œ ì €ì¥í•˜ê³ , ë³€ê²½ ì‹œ ìƒë‹¨ ë‚ ì§œë¥¼ ê°±ì‹ í•˜ì„¸ìš”._
</code></pre></div></div>]]></content><author><name>hvppyarchive</name></author><category term="misc" /><summary type="html"><![CDATA[]]></summary></entry><entry><title type="html">Simple LLM Chatbot Client</title><link href="https://hvppyarchive.github.io/llm/simple-chatbot-client/" rel="alternate" type="text/html" title="Simple LLM Chatbot Client" /><published>2025-09-01T11:52:46+09:00</published><updated>2025-09-01T11:52:46+09:00</updated><id>https://hvppyarchive.github.io/llm/simple-chatbot-client</id><content type="html" xml:base="https://hvppyarchive.github.io/llm/simple-chatbot-client/"><![CDATA[<p class="chat--user">

Developer: Role and Objective - Develop a simple, fast LLM Chatbot Client Application using Qt or PySide. Workflow Checklist - Begin with a concise checklist (3-7 bullets) of conceptual sub-tasks before implementation. Instructions - Design for easy, direct execution by users in a Linux environment with access to a shared disk. - Allow each user to save personal settings, while the default deployment settings are configured by the administrator. Deployment - The application should be distributed so users can launch it directly on supported Linux systems with shared disk access. - Initial, default application settings must be settable by an administrator; each user can override and save their preferences. Required Features - Allow setting a custom LLM (Large Language Model) endpoint. - Support multi-line message input. - Provide chat log management similar to applications like Ollama or OpenWebUI. - Enable changing model parameters from the interface. - Incorporate useful shortcut keys (e.g., hide/show window in workspace, start new conversation, etc.). - Render Markdown in chat messages. Code and Messaging Conventions - Code must be clear, well-commented, use readable variable names, and maintain straightforward control flow. - Application messaging and labels should be concise and clear to end users. Output Format - Default output is plain text. When documentation is required, use Markdown and backticks for file, directory, function, and class names. Validation - After implementation, validate that the application meets all feature and deployment requirements and is verified to run as specified in the Linux environment. Document any issues or unmet criteria. Stop Conditions - The task is complete once the client app fulfills all listed features and deployment criteria, has been validated as above, and any necessary corrections have been applied.

</p>

<p>Hereâ€™s a tight, step-by-step plan and a complete, ready-to-run PySide6 app you can drop on a shared Linux disk.</p>

<h1 id="conceptual-checklist-before-coding">Conceptual checklist (before coding)</h1>

<ol>
  <li>
    <p>Config strategy: admin defaults on shared disk or <code class="language-plaintext highlighter-rouge">/etc/llmchat</code>, user overrides in <code class="language-plaintext highlighter-rouge">~/.config/llmchat/</code> with deep-merge on load; write back only user file.</p>
  </li>
  <li>
    <p>Storage strategy: chats as JSON under <code class="language-plaintext highlighter-rouge">~/.local/share/llmchat/chats/</code>, with an index; operations: new/rename/delete/export.</p>
  </li>
  <li>
    <p>UI layout: left chat list + top toolbar; right chat view (Markdown) + param sidebar (model/temperature/top_p/max_tokens) + multiline input with send; tray icon for show/hide.</p>
  </li>
  <li>
    <p>Network layer: simple OpenAI-compatible <code class="language-plaintext highlighter-rouge">/v1/chat/completions</code> POST with <code class="language-plaintext highlighter-rouge">requests</code>, API base+key configurable; run in worker thread to keep UI responsive.</p>
  </li>
  <li>
    <p>Shortcuts: Ctrl+Enter send; Shift+Enter newline; Ctrl+N new chat; Ctrl+S export; Del delete chat; Ctrl+L focus input; Ctrl+, settings; Ctrl+H hide/show (via tray).</p>
  </li>
  <li>
    <p>Markdown render: convert with <code class="language-plaintext highlighter-rouge">markdown</code> lib to sanitized HTML; display in <code class="language-plaintext highlighter-rouge">QTextBrowser</code> with minimal CSS for code blocks and links.</p>
  </li>
  <li>
    <p>Deployment: <code class="language-plaintext highlighter-rouge">install.sh</code> (venv + pip), <code class="language-plaintext highlighter-rouge">run.sh</code> (activate &amp; start); <code class="language-plaintext highlighter-rouge">config/defaults.yaml</code> for admin to seed defaults; doc how to set <code class="language-plaintext highlighter-rouge">/etc/llmchat/config.yaml</code>.</p>
  </li>
</ol>

<hr />

<h2 id="project-layout">Project layout</h2>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>arduino

llmchat/
  main.py
  config_manager.py
  llm_client.py
  storage.py
  ui_helpers.py
  requirements.txt
  install.sh
  run.sh
  config/
    defaults.yaml
  README.md
</code></pre></div></div>

<hr />

<h2 id="requirementstxt"><code class="language-plaintext highlighter-rouge">requirements.txt</code></h2>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>txt

PySide6&gt;=6.6
requests&gt;=2.31
PyYAML&gt;=6.0.1
markdown&gt;=3.5
</code></pre></div></div>

<hr />

<h2 id="installsh"><code class="language-plaintext highlighter-rouge">install.sh</code></h2>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/usr/bin/env bash</span>
<span class="nb">set</span> <span class="nt">-euo</span> pipefail
<span class="nb">cd</span> <span class="s2">"</span><span class="si">$(</span><span class="nb">dirname</span> <span class="s2">"</span><span class="nv">$0</span><span class="s2">"</span><span class="si">)</span><span class="s2">"</span>
python3 <span class="nt">-m</span> venv .venv
<span class="nb">.</span> .venv/bin/activate
pip <span class="nb">install</span> <span class="nt">--upgrade</span> pip
pip <span class="nb">install</span> <span class="nt">-r</span> requirements.txt
<span class="nb">echo</span> <span class="s2">"âœ” venv created. Use ./run.sh to launch."</span>
</code></pre></div></div>

<hr />

<h2 id="runsh"><code class="language-plaintext highlighter-rouge">run.sh</code></h2>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/usr/bin/env bash</span>
<span class="nb">set</span> <span class="nt">-euo</span> pipefail
<span class="nb">cd</span> <span class="s2">"</span><span class="si">$(</span><span class="nb">dirname</span> <span class="s2">"</span><span class="nv">$0</span><span class="s2">"</span><span class="si">)</span><span class="s2">"</span>
<span class="k">if</span> <span class="o">[</span> <span class="o">!</span> <span class="nt">-d</span> .venv <span class="o">]</span><span class="p">;</span> <span class="k">then
  </span><span class="nb">echo</span> <span class="s2">"No venv found. Running install..."</span>
  ./install.sh
<span class="k">fi</span>
<span class="nb">.</span> .venv/bin/activate
<span class="nb">export </span><span class="nv">QT_AUTO_SCREEN_SCALE_FACTOR</span><span class="o">=</span>1
python3 <span class="nt">-u</span> main.py <span class="s2">"</span><span class="nv">$@</span><span class="s2">"</span>
</code></pre></div></div>

<hr />

<h2 id="configdefaultsyaml"><code class="language-plaintext highlighter-rouge">config/defaults.yaml</code></h2>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Admin-settable defaults (shared disk or /etc/llmchat/config.yaml)</span>
<span class="na">app</span><span class="pi">:</span>
  <span class="na">data_dir</span><span class="pi">:</span> <span class="s2">"</span><span class="s">~/.local/share/llmchat"</span>
  <span class="na">chat_dir_name</span><span class="pi">:</span> <span class="s2">"</span><span class="s">chats"</span>
  <span class="na">window</span><span class="pi">:</span>
    <span class="na">width</span><span class="pi">:</span> <span class="m">1100</span>
    <span class="na">height</span><span class="pi">:</span> <span class="m">720</span>
<span class="na">llm</span><span class="pi">:</span>
  <span class="na">api_base</span><span class="pi">:</span> <span class="s2">"</span><span class="s">http://localhost:11434/v1"</span>  <span class="c1"># Works with Ollama's OpenAI-compatible server</span>
  <span class="na">api_key</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span>  <span class="c1"># Leave empty for local endpoints; user can override</span>
  <span class="na">model</span><span class="pi">:</span> <span class="s2">"</span><span class="s">llama3.1"</span>
  <span class="na">temperature</span><span class="pi">:</span> <span class="m">0.7</span>
  <span class="na">top_p</span><span class="pi">:</span> <span class="m">0.95</span>
  <span class="na">max_tokens</span><span class="pi">:</span> <span class="m">512</span>
  <span class="na">timeout_sec</span><span class="pi">:</span> <span class="m">120</span>
  <span class="na">verify_tls</span><span class="pi">:</span> <span class="kc">true</span>
<span class="na">ui</span><span class="pi">:</span>
  <span class="na">font_family</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span>
  <span class="na">font_size</span><span class="pi">:</span> <span class="m">11</span>
  <span class="na">enable_tray</span><span class="pi">:</span> <span class="kc">true</span>
  <span class="na">markdown_css</span><span class="pi">:</span> <span class="pi">|</span>
    <span class="s">body { font-family: sans-serif; font-size: 13px; }</span>
    <span class="s">code, pre { font-family: "DejaVu Sans Mono", monospace; }</span>
    <span class="s">pre { background: #f5f5f5; padding: 8px; border-radius: 6px; overflow: auto; }</span>
    <span class="s">code { background: #f1f1f1; padding: 2px 4px; border-radius: 4px; }</span>
    <span class="s">.msg-user { background: #e8f0fe; padding: 8px 10px; border-radius: 10px; margin: 10px 0; }</span>
    <span class="s">.msg-assistant { background: #f7f7f7; padding: 8px 10px; border-radius: 10px; margin: 10px 0; }</span>
</code></pre></div></div>

<hr />

<h2 id="config_managerpy"><code class="language-plaintext highlighter-rouge">config_manager.py</code></h2>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">os</span>
<span class="kn">import</span> <span class="n">copy</span>
<span class="kn">from</span> <span class="n">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<span class="kn">import</span> <span class="n">yaml</span>

<span class="k">def</span> <span class="nf">deep_merge_dict</span><span class="p">(</span><span class="n">a</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">Deep merge dict b into a (a has lower precedence). Returns a new dict.</span><span class="sh">"""</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">copy</span><span class="p">.</span><span class="nf">deepcopy</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">b</span><span class="p">.</span><span class="nf">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">dict</span><span class="p">)</span> <span class="ow">and</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="n">k</span><span class="p">),</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="n">result</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="nf">deep_merge_dict</span><span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="n">k</span><span class="p">],</span> <span class="n">v</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">copy</span><span class="p">.</span><span class="nf">deepcopy</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>

<span class="k">class</span> <span class="nc">ConfigManager</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">
    Loads admin defaults and applies user overrides. Only writes user config.
    Search order for admin defaults:
      1) LLMCHAT_CONFIG_DIR/config.yaml
      2) ./config/defaults.yaml (in app dir)
      3) /etc/llmchat/config.yaml
    User overrides:
      ~/.config/llmchat/config.yaml
    </span><span class="sh">"""</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">app_dir</span><span class="p">:</span> <span class="n">Path</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">app_dir</span> <span class="o">=</span> <span class="n">app_dir</span>
        <span class="n">self</span><span class="p">.</span><span class="n">user_config_dir</span> <span class="o">=</span> <span class="nc">Path</span><span class="p">(</span><span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">expanduser</span><span class="p">(</span><span class="sh">"</span><span class="s">~/.config/llmchat</span><span class="sh">"</span><span class="p">))</span>
        <span class="n">self</span><span class="p">.</span><span class="n">user_config_path</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">user_config_dir</span> <span class="o">/</span> <span class="sh">"</span><span class="s">config.yaml</span><span class="sh">"</span>

        <span class="n">self</span><span class="p">.</span><span class="n">defaults</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">self</span><span class="p">.</span><span class="n">user</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">self</span><span class="p">.</span><span class="n">effective</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">def</span> <span class="nf">_load_yaml</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">Path</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">path</span><span class="p">.</span><span class="nf">exists</span><span class="p">():</span>
            <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="sh">"</span><span class="s">r</span><span class="sh">"</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="sh">"</span><span class="s">utf-8</span><span class="sh">"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">yaml</span><span class="p">.</span><span class="nf">safe_load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span> <span class="ow">or</span> <span class="p">{}</span>
        <span class="k">return</span> <span class="p">{}</span>

    <span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="n">env_dir</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">environ</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">LLMCHAT_CONFIG_DIR</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">candidates</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">env_dir</span><span class="p">:</span>
            <span class="n">candidates</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="nc">Path</span><span class="p">(</span><span class="n">env_dir</span><span class="p">)</span> <span class="o">/</span> <span class="sh">"</span><span class="s">config.yaml</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">candidates</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">app_dir</span> <span class="o">/</span> <span class="sh">"</span><span class="s">config</span><span class="sh">"</span> <span class="o">/</span> <span class="sh">"</span><span class="s">defaults.yaml</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">candidates</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="nc">Path</span><span class="p">(</span><span class="sh">"</span><span class="s">/etc/llmchat/config.yaml</span><span class="sh">"</span><span class="p">))</span>

        <span class="n">merged</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">candidates</span><span class="p">:</span>
            <span class="n">merged</span> <span class="o">=</span> <span class="nf">deep_merge_dict</span><span class="p">(</span><span class="n">merged</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="nf">_load_yaml</span><span class="p">(</span><span class="n">p</span><span class="p">))</span>

        <span class="n">self</span><span class="p">.</span><span class="n">defaults</span> <span class="o">=</span> <span class="n">merged</span>
        <span class="n">self</span><span class="p">.</span><span class="n">user</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="nf">_load_yaml</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">user_config_path</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">effective</span> <span class="o">=</span> <span class="nf">deep_merge_dict</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">defaults</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">user</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="n">effective</span>

    <span class="k">def</span> <span class="nf">save_user_overrides</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">patch</span><span class="p">:</span> <span class="nb">dict</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">Persist only user overrides (not the merged effective config).</span><span class="sh">"""</span>
        <span class="n">self</span><span class="p">.</span><span class="n">user</span> <span class="o">=</span> <span class="nf">deep_merge_dict</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">user</span><span class="p">,</span> <span class="n">patch</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">user_config_dir</span><span class="p">.</span><span class="nf">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
        <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">user_config_path</span><span class="p">,</span> <span class="sh">"</span><span class="s">w</span><span class="sh">"</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="sh">"</span><span class="s">utf-8</span><span class="sh">"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">yaml</span><span class="p">.</span><span class="nf">safe_dump</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">user</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">sort_keys</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">Get from effective using dotted path e.g. </span><span class="sh">'</span><span class="s">llm.api_base</span><span class="sh">'</span><span class="s">.</span><span class="sh">"""</span>
        <span class="n">parts</span> <span class="o">=</span> <span class="n">path</span><span class="p">.</span><span class="nf">split</span><span class="p">(</span><span class="sh">"</span><span class="s">.</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">cur</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">effective</span>
        <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">parts</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">cur</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">default</span>
            <span class="n">cur</span> <span class="o">=</span> <span class="n">cur</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">default</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">cur</span>
</code></pre></div></div>

<hr />

<h2 id="storagepy"><code class="language-plaintext highlighter-rouge">storage.py</code></h2>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">json</span>
<span class="kn">import</span> <span class="n">time</span>
<span class="kn">from</span> <span class="n">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<span class="kn">from</span> <span class="n">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span><span class="p">,</span> <span class="n">asdict</span>
<span class="kn">from</span> <span class="n">typing</span> <span class="kn">import</span> <span class="n">List</span><span class="p">,</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Optional</span>

<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">Message</span><span class="p">:</span>
    <span class="n">role</span><span class="p">:</span> <span class="nb">str</span>       <span class="c1"># "user" or "assistant" or "system"
</span>    <span class="n">content</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">ts</span><span class="p">:</span> <span class="nb">float</span>

<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">Chat</span><span class="p">:</span>
    <span class="n">chat_id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">title</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">created_ts</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">updated_ts</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">model</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">params</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
    <span class="n">messages</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Message</span><span class="p">]</span>

<span class="k">class</span> <span class="nc">ChatStorage</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">Manage chat files under ~/.local/share/llmchat/chats/ as JSON.</span><span class="sh">"""</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">base_data_dir</span><span class="p">:</span> <span class="n">Path</span><span class="p">,</span> <span class="n">chat_dir_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="sh">"</span><span class="s">chats</span><span class="sh">"</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">base_dir</span> <span class="o">=</span> <span class="nc">Path</span><span class="p">(</span><span class="n">base_data_dir</span><span class="p">).</span><span class="nf">expanduser</span><span class="p">()</span>
        <span class="n">self</span><span class="p">.</span><span class="n">chat_dir</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">base_dir</span> <span class="o">/</span> <span class="n">chat_dir_name</span>
        <span class="n">self</span><span class="p">.</span><span class="n">chat_dir</span><span class="p">.</span><span class="nf">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_chat_path</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">chat_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Path</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="n">chat_dir</span> <span class="o">/</span> <span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">chat_id</span><span class="si">}</span><span class="s">.json</span><span class="sh">"</span>

    <span class="k">def</span> <span class="nf">list_chats</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Chat</span><span class="p">]:</span>
        <span class="n">chats</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="nf">sorted</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">chat_dir</span><span class="p">.</span><span class="nf">glob</span><span class="p">(</span><span class="sh">"</span><span class="s">*.json</span><span class="sh">"</span><span class="p">)):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="sh">"</span><span class="s">r</span><span class="sh">"</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="sh">"</span><span class="s">utf-8</span><span class="sh">"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                    <span class="n">raw</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="nf">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
                <span class="n">chats</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="nf">_chat_from_raw</span><span class="p">(</span><span class="n">raw</span><span class="p">))</span>
            <span class="k">except</span> <span class="nb">Exception</span><span class="p">:</span>
                <span class="k">continue</span>
        <span class="c1"># Most recent first
</span>        <span class="n">chats</span><span class="p">.</span><span class="nf">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">c</span><span class="p">:</span> <span class="n">c</span><span class="p">.</span><span class="n">updated_ts</span><span class="p">,</span> <span class="n">reverse</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">chats</span>

    <span class="k">def</span> <span class="nf">save_chat</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">chat</span><span class="p">:</span> <span class="n">Chat</span><span class="p">):</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="nf">asdict</span><span class="p">(</span><span class="n">chat</span><span class="p">)</span>
        <span class="c1"># Convert dataclass Message list to serializable dicts
</span>        <span class="n">raw</span><span class="p">[</span><span class="sh">"</span><span class="s">messages</span><span class="sh">"</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="nf">asdict</span><span class="p">(</span><span class="n">m</span><span class="p">)</span> <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">chat</span><span class="p">.</span><span class="n">messages</span><span class="p">]</span>
        <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="nf">_chat_path</span><span class="p">(</span><span class="n">chat</span><span class="p">.</span><span class="n">chat_id</span><span class="p">),</span> <span class="sh">"</span><span class="s">w</span><span class="sh">"</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="sh">"</span><span class="s">utf-8</span><span class="sh">"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">json</span><span class="p">.</span><span class="nf">dump</span><span class="p">(</span><span class="n">raw</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">load_chat</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">chat_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Chat</span><span class="p">]:</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="nf">_chat_path</span><span class="p">(</span><span class="n">chat_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">p</span><span class="p">.</span><span class="nf">exists</span><span class="p">():</span>
            <span class="k">return</span> <span class="bp">None</span>
        <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="sh">"</span><span class="s">r</span><span class="sh">"</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="sh">"</span><span class="s">utf-8</span><span class="sh">"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">raw</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="nf">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="nf">_chat_from_raw</span><span class="p">(</span><span class="n">raw</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">delete_chat</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">chat_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="nf">_chat_path</span><span class="p">(</span><span class="n">chat_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">p</span><span class="p">.</span><span class="nf">exists</span><span class="p">():</span>
            <span class="n">p</span><span class="p">.</span><span class="nf">unlink</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">export_chat_markdown</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">chat</span><span class="p">:</span> <span class="n">Chat</span><span class="p">,</span> <span class="n">out_path</span><span class="p">:</span> <span class="n">Path</span><span class="p">):</span>
        <span class="n">lines</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="sh">"</span><span class="s"># </span><span class="si">{</span><span class="n">chat</span><span class="p">.</span><span class="n">title</span><span class="si">}</span><span class="sh">"</span><span class="p">,</span> <span class="sh">""</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">chat</span><span class="p">.</span><span class="n">messages</span><span class="p">:</span>
            <span class="n">who</span> <span class="o">=</span> <span class="sh">"</span><span class="s">You</span><span class="sh">"</span> <span class="k">if</span> <span class="n">m</span><span class="p">.</span><span class="n">role</span> <span class="o">==</span> <span class="sh">"</span><span class="s">user</span><span class="sh">"</span> <span class="k">else</span> <span class="sh">"</span><span class="s">Assistant</span><span class="sh">"</span>
            <span class="n">lines</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">**</span><span class="si">{</span><span class="n">who</span><span class="si">}</span><span class="s">:**</span><span class="sh">"</span><span class="p">)</span>
            <span class="n">lines</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="sh">""</span><span class="p">)</span>
            <span class="n">lines</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">m</span><span class="p">.</span><span class="n">content</span><span class="p">)</span>
            <span class="n">lines</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="sh">""</span><span class="p">)</span>
        <span class="n">out_path</span> <span class="o">=</span> <span class="nc">Path</span><span class="p">(</span><span class="n">out_path</span><span class="p">)</span>
        <span class="n">out_path</span><span class="p">.</span><span class="n">parent</span><span class="p">.</span><span class="nf">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
        <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="n">out_path</span><span class="p">,</span> <span class="sh">"</span><span class="s">w</span><span class="sh">"</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="sh">"</span><span class="s">utf-8</span><span class="sh">"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">f</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="sh">"</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="n">lines</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">_chat_from_raw</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">raw</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Chat</span><span class="p">:</span>
        <span class="n">msgs</span> <span class="o">=</span> <span class="p">[</span><span class="nc">Message</span><span class="p">(</span><span class="o">**</span><span class="n">m</span><span class="p">)</span> <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">raw</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">messages</span><span class="sh">"</span><span class="p">,</span> <span class="p">[])]</span>
        <span class="k">return</span> <span class="nc">Chat</span><span class="p">(</span>
            <span class="n">chat_id</span><span class="o">=</span><span class="n">raw</span><span class="p">[</span><span class="sh">"</span><span class="s">chat_id</span><span class="sh">"</span><span class="p">],</span>
            <span class="n">title</span><span class="o">=</span><span class="n">raw</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">title</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">Untitled</span><span class="sh">"</span><span class="p">),</span>
            <span class="n">created_ts</span><span class="o">=</span><span class="n">raw</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">created_ts</span><span class="sh">"</span><span class="p">,</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()),</span>
            <span class="n">updated_ts</span><span class="o">=</span><span class="n">raw</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">updated_ts</span><span class="sh">"</span><span class="p">,</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()),</span>
            <span class="n">model</span><span class="o">=</span><span class="n">raw</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">model</span><span class="sh">"</span><span class="p">,</span> <span class="sh">""</span><span class="p">),</span>
            <span class="n">params</span><span class="o">=</span><span class="n">raw</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">params</span><span class="sh">"</span><span class="p">,</span> <span class="p">{}),</span>
            <span class="n">messages</span><span class="o">=</span><span class="n">msgs</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></div>

<hr />

<h2 id="llm_clientpy"><code class="language-plaintext highlighter-rouge">llm_client.py</code></h2>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">json</span>
<span class="kn">import</span> <span class="n">requests</span>
<span class="kn">from</span> <span class="n">typing</span> <span class="kn">import</span> <span class="n">List</span><span class="p">,</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">Any</span>

<span class="k">class</span> <span class="nc">LLMClient</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">
    Minimal OpenAI-compatible client for /v1/chat/completions.
    Supports: api_base, api_key, model, temperature, top_p, max_tokens, timeout_sec, verify_tls
    </span><span class="sh">"""</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">cfg</span><span class="p">:</span> <span class="nb">dict</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">cfg</span> <span class="o">=</span> <span class="n">cfg</span>

    <span class="k">def</span> <span class="nf">update_config</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">cfg</span><span class="p">:</span> <span class="nb">dict</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">cfg</span> <span class="o">=</span> <span class="n">cfg</span>

    <span class="k">def</span> <span class="nf">chat_completion</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">messages</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]],</span> <span class="n">params</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">api_base</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">cfg</span><span class="p">[</span><span class="sh">"</span><span class="s">llm</span><span class="sh">"</span><span class="p">][</span><span class="sh">"</span><span class="s">api_base</span><span class="sh">"</span><span class="p">].</span><span class="nf">rstrip</span><span class="p">(</span><span class="sh">"</span><span class="s">/</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">api_base</span><span class="si">}</span><span class="s">/v1/chat/completions</span><span class="sh">"</span>
        <span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="sh">"</span><span class="s">Content-Type</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">application/json</span><span class="sh">"</span><span class="p">}</span>
        <span class="n">api_key</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">cfg</span><span class="p">[</span><span class="sh">"</span><span class="s">llm</span><span class="sh">"</span><span class="p">].</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">api_key</span><span class="sh">"</span><span class="p">,</span> <span class="sh">""</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">api_key</span><span class="p">:</span>
            <span class="n">headers</span><span class="p">[</span><span class="sh">"</span><span class="s">Authorization</span><span class="sh">"</span><span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="sh">"</span><span class="s">Bearer </span><span class="si">{</span><span class="n">api_key</span><span class="si">}</span><span class="sh">"</span>

        <span class="n">payload</span> <span class="o">=</span> <span class="p">{</span>
            <span class="sh">"</span><span class="s">model</span><span class="sh">"</span><span class="p">:</span> <span class="n">params</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">model</span><span class="sh">"</span><span class="p">)</span> <span class="ow">or</span> <span class="n">self</span><span class="p">.</span><span class="n">cfg</span><span class="p">[</span><span class="sh">"</span><span class="s">llm</span><span class="sh">"</span><span class="p">][</span><span class="sh">"</span><span class="s">model</span><span class="sh">"</span><span class="p">],</span>
            <span class="sh">"</span><span class="s">messages</span><span class="sh">"</span><span class="p">:</span> <span class="n">messages</span><span class="p">,</span>
            <span class="sh">"</span><span class="s">temperature</span><span class="sh">"</span><span class="p">:</span> <span class="nf">float</span><span class="p">(</span><span class="n">params</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">temperature</span><span class="sh">"</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">cfg</span><span class="p">[</span><span class="sh">"</span><span class="s">llm</span><span class="sh">"</span><span class="p">][</span><span class="sh">"</span><span class="s">temperature</span><span class="sh">"</span><span class="p">])),</span>
            <span class="sh">"</span><span class="s">top_p</span><span class="sh">"</span><span class="p">:</span> <span class="nf">float</span><span class="p">(</span><span class="n">params</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">top_p</span><span class="sh">"</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">cfg</span><span class="p">[</span><span class="sh">"</span><span class="s">llm</span><span class="sh">"</span><span class="p">][</span><span class="sh">"</span><span class="s">top_p</span><span class="sh">"</span><span class="p">])),</span>
            <span class="sh">"</span><span class="s">max_tokens</span><span class="sh">"</span><span class="p">:</span> <span class="nf">int</span><span class="p">(</span><span class="n">params</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">max_tokens</span><span class="sh">"</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">cfg</span><span class="p">[</span><span class="sh">"</span><span class="s">llm</span><span class="sh">"</span><span class="p">][</span><span class="sh">"</span><span class="s">max_tokens</span><span class="sh">"</span><span class="p">])),</span>
            <span class="sh">"</span><span class="s">stream</span><span class="sh">"</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="n">timeout</span> <span class="o">=</span> <span class="nf">int</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">cfg</span><span class="p">[</span><span class="sh">"</span><span class="s">llm</span><span class="sh">"</span><span class="p">].</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">timeout_sec</span><span class="sh">"</span><span class="p">,</span> <span class="mi">120</span><span class="p">))</span>
        <span class="n">verify_tls</span> <span class="o">=</span> <span class="nf">bool</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">cfg</span><span class="p">[</span><span class="sh">"</span><span class="s">llm</span><span class="sh">"</span><span class="p">].</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">verify_tls</span><span class="sh">"</span><span class="p">,</span> <span class="bp">True</span><span class="p">))</span>

        <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="nf">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">json</span><span class="p">.</span><span class="nf">dumps</span><span class="p">(</span><span class="n">payload</span><span class="p">),</span>
                          <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span> <span class="n">verify</span><span class="o">=</span><span class="n">verify_tls</span><span class="p">)</span>
        <span class="n">r</span><span class="p">.</span><span class="nf">raise_for_status</span><span class="p">()</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">r</span><span class="p">.</span><span class="nf">json</span><span class="p">()</span>
        <span class="c1"># OpenAI-compatible format
</span>        <span class="n">content</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="sh">"</span><span class="s">choices</span><span class="sh">"</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="sh">"</span><span class="s">message</span><span class="sh">"</span><span class="p">][</span><span class="sh">"</span><span class="s">content</span><span class="sh">"</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">content</span>
</code></pre></div></div>

<hr />

<h2 id="ui_helperspy"><code class="language-plaintext highlighter-rouge">ui_helpers.py</code></h2>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">time</span>
<span class="kn">from</span> <span class="n">typing</span> <span class="kn">import</span> <span class="n">List</span>
<span class="kn">from</span> <span class="n">markdown</span> <span class="kn">import</span> <span class="n">markdown</span>

<span class="k">def</span> <span class="nf">now_ts</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">md_to_html</span><span class="p">(</span><span class="n">md_text</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">css</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="sh">""</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">
    Convert Markdown to HTML suitable for QTextBrowser.
    </span><span class="sh">"""</span>
    <span class="n">body</span> <span class="o">=</span> <span class="nf">markdown</span><span class="p">(</span><span class="n">md_text</span><span class="p">,</span> <span class="n">extensions</span><span class="o">=</span><span class="p">[</span><span class="sh">"</span><span class="s">fenced_code</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">tables</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">codehilite</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">sane_lists</span><span class="sh">"</span><span class="p">])</span>
    <span class="n">style</span> <span class="o">=</span> <span class="sa">f</span><span class="sh">"</span><span class="s">&lt;style&gt;</span><span class="si">{</span><span class="n">css</span><span class="si">}</span><span class="s">&lt;/style&gt;</span><span class="sh">"</span> <span class="k">if</span> <span class="n">css</span> <span class="k">else</span> <span class="sh">""</span>
    <span class="c1"># Wrap with message container styling applied by caller
</span>    <span class="k">return</span> <span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">style</span><span class="si">}{</span><span class="n">body</span><span class="si">}</span><span class="sh">"</span>

<span class="k">def</span> <span class="nf">messages_to_html</span><span class="p">(</span><span class="n">messages</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">dict</span><span class="p">],</span> <span class="n">css</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="n">parts</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="sh">"</span><span class="s">&lt;style&gt;</span><span class="si">{</span><span class="n">css</span><span class="si">}</span><span class="s">&lt;/style&gt;</span><span class="sh">"</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">messages</span><span class="p">:</span>
        <span class="n">klass</span> <span class="o">=</span> <span class="sh">"</span><span class="s">msg-user</span><span class="sh">"</span> <span class="k">if</span> <span class="n">m</span><span class="p">[</span><span class="sh">"</span><span class="s">role</span><span class="sh">"</span><span class="p">]</span> <span class="o">==</span> <span class="sh">"</span><span class="s">user</span><span class="sh">"</span> <span class="k">else</span> <span class="sh">"</span><span class="s">msg-assistant</span><span class="sh">"</span>
        <span class="n">parts</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="sa">f</span><span class="sh">'</span><span class="s">&lt;div class=</span><span class="sh">"</span><span class="si">{</span><span class="n">klass</span><span class="si">}</span><span class="sh">"</span><span class="s">&gt;</span><span class="sh">'</span><span class="p">)</span>
        <span class="n">parts</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="nf">md_to_html</span><span class="p">(</span><span class="n">m</span><span class="p">[</span><span class="sh">"</span><span class="s">content</span><span class="sh">"</span><span class="p">]))</span>
        <span class="n">parts</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="sh">"</span><span class="s">&lt;/div&gt;</span><span class="sh">"</span><span class="p">)</span>
    <span class="k">return</span> <span class="sh">"</span><span class="se">\n</span><span class="sh">"</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="n">parts</span><span class="p">)</span>
</code></pre></div></div>

<hr />

<h2 id="mainpy"><code class="language-plaintext highlighter-rouge">main.py</code></h2>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">sys</span>
<span class="kn">import</span> <span class="n">uuid</span>
<span class="kn">import</span> <span class="n">traceback</span>
<span class="kn">from</span> <span class="n">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>

<span class="kn">from</span> <span class="n">PySide6.QtCore</span> <span class="kn">import</span> <span class="n">Qt</span><span class="p">,</span> <span class="n">QThreadPool</span><span class="p">,</span> <span class="n">QRunnable</span><span class="p">,</span> <span class="n">Signal</span><span class="p">,</span> <span class="n">QObject</span><span class="p">,</span> <span class="n">QSize</span>
<span class="kn">from</span> <span class="n">PySide6.QtGui</span> <span class="kn">import</span> <span class="n">QAction</span><span class="p">,</span> <span class="n">QIcon</span><span class="p">,</span> <span class="n">QKeySequence</span><span class="p">,</span> <span class="n">QCloseEvent</span><span class="p">,</span> <span class="n">QShortcut</span>
<span class="kn">from</span> <span class="n">PySide6.QtWidgets</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">QApplication</span><span class="p">,</span> <span class="n">QMainWindow</span><span class="p">,</span> <span class="n">QWidget</span><span class="p">,</span> <span class="n">QVBoxLayout</span><span class="p">,</span> <span class="n">QHBoxLayout</span><span class="p">,</span> <span class="n">QTextEdit</span><span class="p">,</span>
    <span class="n">QPushButton</span><span class="p">,</span> <span class="n">QListWidget</span><span class="p">,</span> <span class="n">QListWidgetItem</span><span class="p">,</span> <span class="n">QLabel</span><span class="p">,</span> <span class="n">QFileDialog</span><span class="p">,</span> <span class="n">QSplitter</span><span class="p">,</span>
    <span class="n">QFormLayout</span><span class="p">,</span> <span class="n">QLineEdit</span><span class="p">,</span> <span class="n">QSpinBox</span><span class="p">,</span> <span class="n">QDoubleSpinBox</span><span class="p">,</span> <span class="n">QGroupBox</span><span class="p">,</span> <span class="n">QDockWidget</span><span class="p">,</span>
    <span class="n">QMessageBox</span><span class="p">,</span> <span class="n">QTextBrowser</span><span class="p">,</span> <span class="n">QToolBar</span><span class="p">,</span> <span class="n">QSystemTrayIcon</span><span class="p">,</span> <span class="n">QMenu</span>
<span class="p">)</span>

<span class="kn">from</span> <span class="n">config_manager</span> <span class="kn">import</span> <span class="n">ConfigManager</span>
<span class="kn">from</span> <span class="n">storage</span> <span class="kn">import</span> <span class="n">ChatStorage</span><span class="p">,</span> <span class="n">Chat</span><span class="p">,</span> <span class="n">Message</span>
<span class="kn">from</span> <span class="n">llm_client</span> <span class="kn">import</span> <span class="n">LLMClient</span>
<span class="kn">from</span> <span class="n">ui_helpers</span> <span class="kn">import</span> <span class="n">now_ts</span><span class="p">,</span> <span class="n">messages_to_html</span>

<span class="n">APP_NAME</span> <span class="o">=</span> <span class="sh">"</span><span class="s">LLMChat</span><span class="sh">"</span>

<span class="c1"># ---------------- Worker infra ---------------- #
</span>
<span class="k">class</span> <span class="nc">WorkerSignals</span><span class="p">(</span><span class="n">QObject</span><span class="p">):</span>
    <span class="n">success</span> <span class="o">=</span> <span class="nc">Signal</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
    <span class="n">error</span> <span class="o">=</span> <span class="nc">Signal</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">LLMWorker</span><span class="p">(</span><span class="n">QRunnable</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">client</span><span class="p">:</span> <span class="n">LLMClient</span><span class="p">,</span> <span class="n">messages_payload</span><span class="p">,</span> <span class="n">params</span><span class="p">):</span>
        <span class="nf">super</span><span class="p">().</span><span class="nf">__init__</span><span class="p">()</span>
        <span class="n">self</span><span class="p">.</span><span class="n">client</span> <span class="o">=</span> <span class="n">client</span>
        <span class="n">self</span><span class="p">.</span><span class="n">messages_payload</span> <span class="o">=</span> <span class="n">messages_payload</span>
        <span class="n">self</span><span class="p">.</span><span class="n">params</span> <span class="o">=</span> <span class="n">params</span>
        <span class="n">self</span><span class="p">.</span><span class="n">signals</span> <span class="o">=</span> <span class="nc">WorkerSignals</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">reply</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">client</span><span class="p">.</span><span class="nf">chat_completion</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">messages_payload</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">params</span><span class="p">)</span>
            <span class="n">self</span><span class="p">.</span><span class="n">signals</span><span class="p">.</span><span class="n">success</span><span class="p">.</span><span class="nf">emit</span><span class="p">(</span><span class="n">reply</span><span class="p">)</span>
        <span class="k">except</span> <span class="nb">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">tb</span> <span class="o">=</span> <span class="n">traceback</span><span class="p">.</span><span class="nf">format_exc</span><span class="p">()</span>
            <span class="n">self</span><span class="p">.</span><span class="n">signals</span><span class="p">.</span><span class="n">error</span><span class="p">.</span><span class="nf">emit</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="se">\n</span><span class="si">{</span><span class="n">tb</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># ---------------- Main Window ---------------- #
</span>
<span class="k">class</span> <span class="nc">MainWindow</span><span class="p">(</span><span class="n">QMainWindow</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">app_dir</span><span class="p">:</span> <span class="n">Path</span><span class="p">):</span>
        <span class="nf">super</span><span class="p">().</span><span class="nf">__init__</span><span class="p">()</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">setWindowTitle</span><span class="p">(</span><span class="sh">"</span><span class="s">LLM Chat Client</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">app_dir</span> <span class="o">=</span> <span class="n">app_dir</span>

        <span class="c1"># Config
</span>        <span class="n">self</span><span class="p">.</span><span class="n">cfg_mgr</span> <span class="o">=</span> <span class="nc">ConfigManager</span><span class="p">(</span><span class="n">app_dir</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">cfg</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">cfg_mgr</span><span class="p">.</span><span class="nf">load</span><span class="p">()</span>

        <span class="c1"># Storage
</span>        <span class="n">data_dir</span> <span class="o">=</span> <span class="nc">Path</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">cfg</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">app</span><span class="sh">"</span><span class="p">,</span> <span class="p">{}).</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">data_dir</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">~/.local/share/llmchat</span><span class="sh">"</span><span class="p">)).</span><span class="nf">expanduser</span><span class="p">()</span>
        <span class="n">chat_dir_name</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">cfg</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">app</span><span class="sh">"</span><span class="p">,</span> <span class="p">{}).</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">chat_dir_name</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">chats</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">storage</span> <span class="o">=</span> <span class="nc">ChatStorage</span><span class="p">(</span><span class="n">data_dir</span><span class="p">,</span> <span class="n">chat_dir_name</span><span class="p">)</span>

        <span class="c1"># LLM client
</span>        <span class="n">self</span><span class="p">.</span><span class="n">client</span> <span class="o">=</span> <span class="nc">LLMClient</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">cfg</span><span class="p">)</span>

        <span class="c1"># State
</span>        <span class="n">self</span><span class="p">.</span><span class="n">thread_pool</span> <span class="o">=</span> <span class="n">QThreadPool</span><span class="p">.</span><span class="nf">globalInstance</span><span class="p">()</span>
        <span class="n">self</span><span class="p">.</span><span class="n">current_chat</span><span class="p">:</span> <span class="n">Chat</span> <span class="o">|</span> <span class="bp">None</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="n">self</span><span class="p">.</span><span class="n">markdown_css</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">cfg</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">ui</span><span class="sh">"</span><span class="p">,</span> <span class="p">{}).</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">markdown_css</span><span class="sh">"</span><span class="p">,</span> <span class="sh">""</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">_build_ui</span><span class="p">()</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">_load_chat_list</span><span class="p">()</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">_apply_initial_window_size</span><span class="p">()</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">_setup_tray</span><span class="p">()</span>

    <span class="c1"># -------- UI construction -------- #
</span>
    <span class="k">def</span> <span class="nf">_build_ui</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="n">splitter</span> <span class="o">=</span> <span class="nc">QSplitter</span><span class="p">()</span>
        <span class="n">splitter</span><span class="p">.</span><span class="nf">setChildrenCollapsible</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>

        <span class="c1"># Left: chat list + controls
</span>        <span class="n">left</span> <span class="o">=</span> <span class="nc">QWidget</span><span class="p">()</span>
        <span class="n">left_layout</span> <span class="o">=</span> <span class="nc">QVBoxLayout</span><span class="p">(</span><span class="n">left</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">chat_list</span> <span class="o">=</span> <span class="nc">QListWidget</span><span class="p">()</span>
        <span class="n">left_layout</span><span class="p">.</span><span class="nf">addWidget</span><span class="p">(</span><span class="nc">QLabel</span><span class="p">(</span><span class="sh">"</span><span class="s">Conversations</span><span class="sh">"</span><span class="p">))</span>
        <span class="n">left_layout</span><span class="p">.</span><span class="nf">addWidget</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">chat_list</span><span class="p">)</span>

        <span class="n">btn_row</span> <span class="o">=</span> <span class="nc">QHBoxLayout</span><span class="p">()</span>
        <span class="n">self</span><span class="p">.</span><span class="n">btn_new</span> <span class="o">=</span> <span class="nc">QPushButton</span><span class="p">(</span><span class="sh">"</span><span class="s">New</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">btn_rename</span> <span class="o">=</span> <span class="nc">QPushButton</span><span class="p">(</span><span class="sh">"</span><span class="s">Rename</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">btn_delete</span> <span class="o">=</span> <span class="nc">QPushButton</span><span class="p">(</span><span class="sh">"</span><span class="s">Delete</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">btn_row</span><span class="p">.</span><span class="nf">addWidget</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">btn_new</span><span class="p">)</span>
        <span class="n">btn_row</span><span class="p">.</span><span class="nf">addWidget</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">btn_rename</span><span class="p">)</span>
        <span class="n">btn_row</span><span class="p">.</span><span class="nf">addWidget</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">btn_delete</span><span class="p">)</span>
        <span class="n">left_layout</span><span class="p">.</span><span class="nf">addLayout</span><span class="p">(</span><span class="n">btn_row</span><span class="p">)</span>

        <span class="c1"># Right: conversation + input
</span>        <span class="n">right</span> <span class="o">=</span> <span class="nc">QWidget</span><span class="p">()</span>
        <span class="n">right_layout</span> <span class="o">=</span> <span class="nc">QVBoxLayout</span><span class="p">(</span><span class="n">right</span><span class="p">)</span>

        <span class="n">self</span><span class="p">.</span><span class="n">view</span> <span class="o">=</span> <span class="nc">QTextBrowser</span><span class="p">()</span>
        <span class="n">self</span><span class="p">.</span><span class="n">view</span><span class="p">.</span><span class="nf">setOpenExternalLinks</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
        <span class="n">right_layout</span><span class="p">.</span><span class="nf">addWidget</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">view</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

        <span class="n">input_row</span> <span class="o">=</span> <span class="nc">QHBoxLayout</span><span class="p">()</span>
        <span class="n">self</span><span class="p">.</span><span class="nb">input</span> <span class="o">=</span> <span class="nc">QTextEdit</span><span class="p">()</span>
        <span class="n">self</span><span class="p">.</span><span class="nb">input</span><span class="p">.</span><span class="nf">setPlaceholderText</span><span class="p">(</span><span class="sh">"</span><span class="s">Type your messageâ€¦ (Shift+Enter for newline, Ctrl+Enter to send)</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="nb">input</span><span class="p">.</span><span class="nf">setAcceptRichText</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
        <span class="n">input_row</span><span class="p">.</span><span class="nf">addWidget</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="nb">input</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">btn_send</span> <span class="o">=</span> <span class="nc">QPushButton</span><span class="p">(</span><span class="sh">"</span><span class="s">Send</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">btn_send</span><span class="p">.</span><span class="nf">setDefault</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
        <span class="n">input_row</span><span class="p">.</span><span class="nf">addWidget</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">btn_send</span><span class="p">)</span>
        <span class="n">right_layout</span><span class="p">.</span><span class="nf">addLayout</span><span class="p">(</span><span class="n">input_row</span><span class="p">)</span>

        <span class="n">splitter</span><span class="p">.</span><span class="nf">addWidget</span><span class="p">(</span><span class="n">left</span><span class="p">)</span>
        <span class="n">splitter</span><span class="p">.</span><span class="nf">addWidget</span><span class="p">(</span><span class="n">right</span><span class="p">)</span>
        <span class="n">splitter</span><span class="p">.</span><span class="nf">setStretchFactor</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">setCentralWidget</span><span class="p">(</span><span class="n">splitter</span><span class="p">)</span>

        <span class="c1"># Dock: model params &amp; endpoint
</span>        <span class="n">dock</span> <span class="o">=</span> <span class="nc">QDockWidget</span><span class="p">(</span><span class="sh">"</span><span class="s">Model &amp; Endpoint</span><span class="sh">"</span><span class="p">,</span> <span class="n">self</span><span class="p">)</span>
        <span class="n">dock</span><span class="p">.</span><span class="nf">setAllowedAreas</span><span class="p">(</span><span class="n">Qt</span><span class="p">.</span><span class="n">RightDockWidgetArea</span> <span class="o">|</span> <span class="n">Qt</span><span class="p">.</span><span class="n">LeftDockWidgetArea</span><span class="p">)</span>
        <span class="n">params_widget</span> <span class="o">=</span> <span class="nc">QWidget</span><span class="p">()</span>
        <span class="n">form</span> <span class="o">=</span> <span class="nc">QFormLayout</span><span class="p">(</span><span class="n">params_widget</span><span class="p">)</span>

        <span class="n">self</span><span class="p">.</span><span class="n">edt_api_base</span> <span class="o">=</span> <span class="nc">QLineEdit</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">cfg</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">llm</span><span class="sh">"</span><span class="p">,</span> <span class="p">{}).</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">api_base</span><span class="sh">"</span><span class="p">,</span> <span class="sh">""</span><span class="p">))</span>
        <span class="n">self</span><span class="p">.</span><span class="n">edt_api_key</span> <span class="o">=</span> <span class="nc">QLineEdit</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">cfg</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">llm</span><span class="sh">"</span><span class="p">,</span> <span class="p">{}).</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">api_key</span><span class="sh">"</span><span class="p">,</span> <span class="sh">""</span><span class="p">))</span>
        <span class="n">self</span><span class="p">.</span><span class="n">edt_api_key</span><span class="p">.</span><span class="nf">setEchoMode</span><span class="p">(</span><span class="n">QLineEdit</span><span class="p">.</span><span class="n">Password</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">edt_model</span> <span class="o">=</span> <span class="nc">QLineEdit</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">cfg</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">llm</span><span class="sh">"</span><span class="p">,</span> <span class="p">{}).</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">model</span><span class="sh">"</span><span class="p">,</span> <span class="sh">""</span><span class="p">))</span>

        <span class="n">self</span><span class="p">.</span><span class="n">spin_temp</span> <span class="o">=</span> <span class="nc">QDoubleSpinBox</span><span class="p">()</span>
        <span class="n">self</span><span class="p">.</span><span class="n">spin_temp</span><span class="p">.</span><span class="nf">setRange</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">spin_temp</span><span class="p">.</span><span class="nf">setSingleStep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">spin_temp</span><span class="p">.</span><span class="nf">setValue</span><span class="p">(</span><span class="nf">float</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">cfg</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">llm</span><span class="sh">"</span><span class="p">,</span> <span class="p">{}).</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">temperature</span><span class="sh">"</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">)))</span>

        <span class="n">self</span><span class="p">.</span><span class="n">spin_top_p</span> <span class="o">=</span> <span class="nc">QDoubleSpinBox</span><span class="p">()</span>
        <span class="n">self</span><span class="p">.</span><span class="n">spin_top_p</span><span class="p">.</span><span class="nf">setRange</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">spin_top_p</span><span class="p">.</span><span class="nf">setSingleStep</span><span class="p">(</span><span class="mf">0.05</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">spin_top_p</span><span class="p">.</span><span class="nf">setValue</span><span class="p">(</span><span class="nf">float</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">cfg</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">llm</span><span class="sh">"</span><span class="p">,</span> <span class="p">{}).</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">top_p</span><span class="sh">"</span><span class="p">,</span> <span class="mf">0.95</span><span class="p">)))</span>

        <span class="n">self</span><span class="p">.</span><span class="n">spin_max_toks</span> <span class="o">=</span> <span class="nc">QSpinBox</span><span class="p">()</span>
        <span class="n">self</span><span class="p">.</span><span class="n">spin_max_toks</span><span class="p">.</span><span class="nf">setRange</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">32768</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">spin_max_toks</span><span class="p">.</span><span class="nf">setValue</span><span class="p">(</span><span class="nf">int</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">cfg</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">llm</span><span class="sh">"</span><span class="p">,</span> <span class="p">{}).</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">max_tokens</span><span class="sh">"</span><span class="p">,</span> <span class="mi">512</span><span class="p">)))</span>

        <span class="n">form</span><span class="p">.</span><span class="nf">addRow</span><span class="p">(</span><span class="nc">QLabel</span><span class="p">(</span><span class="sh">"</span><span class="s">API Base</span><span class="sh">"</span><span class="p">),</span> <span class="n">self</span><span class="p">.</span><span class="n">edt_api_base</span><span class="p">)</span>
        <span class="n">form</span><span class="p">.</span><span class="nf">addRow</span><span class="p">(</span><span class="nc">QLabel</span><span class="p">(</span><span class="sh">"</span><span class="s">API Key</span><span class="sh">"</span><span class="p">),</span> <span class="n">self</span><span class="p">.</span><span class="n">edt_api_key</span><span class="p">)</span>
        <span class="n">form</span><span class="p">.</span><span class="nf">addRow</span><span class="p">(</span><span class="nc">QLabel</span><span class="p">(</span><span class="sh">"</span><span class="s">Model</span><span class="sh">"</span><span class="p">),</span> <span class="n">self</span><span class="p">.</span><span class="n">edt_model</span><span class="p">)</span>
        <span class="n">form</span><span class="p">.</span><span class="nf">addRow</span><span class="p">(</span><span class="nc">QLabel</span><span class="p">(</span><span class="sh">"</span><span class="s">Temperature</span><span class="sh">"</span><span class="p">),</span> <span class="n">self</span><span class="p">.</span><span class="n">spin_temp</span><span class="p">)</span>
        <span class="n">form</span><span class="p">.</span><span class="nf">addRow</span><span class="p">(</span><span class="nc">QLabel</span><span class="p">(</span><span class="sh">"</span><span class="s">Top-p</span><span class="sh">"</span><span class="p">),</span> <span class="n">self</span><span class="p">.</span><span class="n">spin_top_p</span><span class="p">)</span>
        <span class="n">form</span><span class="p">.</span><span class="nf">addRow</span><span class="p">(</span><span class="nc">QLabel</span><span class="p">(</span><span class="sh">"</span><span class="s">Max tokens</span><span class="sh">"</span><span class="p">),</span> <span class="n">self</span><span class="p">.</span><span class="n">spin_max_toks</span><span class="p">)</span>

        <span class="n">btns</span> <span class="o">=</span> <span class="nc">QHBoxLayout</span><span class="p">()</span>
        <span class="n">self</span><span class="p">.</span><span class="n">btn_save_settings</span> <span class="o">=</span> <span class="nc">QPushButton</span><span class="p">(</span><span class="sh">"</span><span class="s">Save as My Defaults</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">btn_apply</span> <span class="o">=</span> <span class="nc">QPushButton</span><span class="p">(</span><span class="sh">"</span><span class="s">Apply Now</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">btns</span><span class="p">.</span><span class="nf">addWidget</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">btn_apply</span><span class="p">)</span>
        <span class="n">btns</span><span class="p">.</span><span class="nf">addWidget</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">btn_save_settings</span><span class="p">)</span>
        <span class="n">form</span><span class="p">.</span><span class="nf">addRow</span><span class="p">(</span><span class="n">btns</span><span class="p">)</span>

        <span class="n">params_widget</span><span class="p">.</span><span class="nf">setLayout</span><span class="p">(</span><span class="n">form</span><span class="p">)</span>
        <span class="n">dock</span><span class="p">.</span><span class="nf">setWidget</span><span class="p">(</span><span class="n">params_widget</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">addDockWidget</span><span class="p">(</span><span class="n">Qt</span><span class="p">.</span><span class="n">RightDockWidgetArea</span><span class="p">,</span> <span class="n">dock</span><span class="p">)</span>

        <span class="c1"># Toolbar &amp; actions
</span>        <span class="n">tb</span> <span class="o">=</span> <span class="nc">QToolBar</span><span class="p">(</span><span class="sh">"</span><span class="s">Main</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">tb</span><span class="p">.</span><span class="nf">setIconSize</span><span class="p">(</span><span class="nc">QSize</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">16</span><span class="p">))</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">addToolBar</span><span class="p">(</span><span class="n">tb</span><span class="p">)</span>

        <span class="n">act_new</span> <span class="o">=</span> <span class="nc">QAction</span><span class="p">(</span><span class="sh">"</span><span class="s">New Chat</span><span class="sh">"</span><span class="p">,</span> <span class="n">self</span><span class="p">)</span>
        <span class="n">act_new</span><span class="p">.</span><span class="nf">setShortcut</span><span class="p">(</span><span class="nc">QKeySequence</span><span class="p">(</span><span class="sh">"</span><span class="s">Ctrl+N</span><span class="sh">"</span><span class="p">))</span>
        <span class="n">act_send</span> <span class="o">=</span> <span class="nc">QAction</span><span class="p">(</span><span class="sh">"</span><span class="s">Send</span><span class="sh">"</span><span class="p">,</span> <span class="n">self</span><span class="p">)</span>
        <span class="n">act_send</span><span class="p">.</span><span class="nf">setShortcut</span><span class="p">(</span><span class="nc">QKeySequence</span><span class="p">(</span><span class="sh">"</span><span class="s">Ctrl+Return</span><span class="sh">"</span><span class="p">))</span>
        <span class="n">act_export</span> <span class="o">=</span> <span class="nc">QAction</span><span class="p">(</span><span class="sh">"</span><span class="s">Export Markdownâ€¦</span><span class="sh">"</span><span class="p">,</span> <span class="n">self</span><span class="p">)</span>
        <span class="n">act_export</span><span class="p">.</span><span class="nf">setShortcut</span><span class="p">(</span><span class="nc">QKeySequence</span><span class="p">(</span><span class="sh">"</span><span class="s">Ctrl+S</span><span class="sh">"</span><span class="p">))</span>
        <span class="n">act_delete</span> <span class="o">=</span> <span class="nc">QAction</span><span class="p">(</span><span class="sh">"</span><span class="s">Delete Chat</span><span class="sh">"</span><span class="p">,</span> <span class="n">self</span><span class="p">)</span>
        <span class="n">act_delete</span><span class="p">.</span><span class="nf">setShortcut</span><span class="p">(</span><span class="nc">QKeySequence</span><span class="p">(</span><span class="n">Qt</span><span class="p">.</span><span class="n">Key_Delete</span><span class="p">))</span>
        <span class="n">act_focus</span> <span class="o">=</span> <span class="nc">QAction</span><span class="p">(</span><span class="sh">"</span><span class="s">Focus Input</span><span class="sh">"</span><span class="p">,</span> <span class="n">self</span><span class="p">)</span>
        <span class="n">act_focus</span><span class="p">.</span><span class="nf">setShortcut</span><span class="p">(</span><span class="nc">QKeySequence</span><span class="p">(</span><span class="sh">"</span><span class="s">Ctrl+L</span><span class="sh">"</span><span class="p">))</span>
        <span class="n">act_settings</span> <span class="o">=</span> <span class="nc">QAction</span><span class="p">(</span><span class="sh">"</span><span class="s">Save Settings</span><span class="sh">"</span><span class="p">,</span> <span class="n">self</span><span class="p">)</span>
        <span class="n">act_settings</span><span class="p">.</span><span class="nf">setShortcut</span><span class="p">(</span><span class="nc">QKeySequence</span><span class="p">(</span><span class="sh">"</span><span class="s">Ctrl+,</span><span class="sh">"</span><span class="p">))</span>
        <span class="n">act_hide</span> <span class="o">=</span> <span class="nc">QAction</span><span class="p">(</span><span class="sh">"</span><span class="s">Hide/Show</span><span class="sh">"</span><span class="p">,</span> <span class="n">self</span><span class="p">)</span>
        <span class="n">act_hide</span><span class="p">.</span><span class="nf">setShortcut</span><span class="p">(</span><span class="nc">QKeySequence</span><span class="p">(</span><span class="sh">"</span><span class="s">Ctrl+H</span><span class="sh">"</span><span class="p">))</span>

        <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="p">(</span><span class="n">act_new</span><span class="p">,</span> <span class="n">act_send</span><span class="p">,</span> <span class="n">act_export</span><span class="p">,</span> <span class="n">act_delete</span><span class="p">,</span> <span class="n">act_focus</span><span class="p">,</span> <span class="n">act_settings</span><span class="p">,</span> <span class="n">act_hide</span><span class="p">):</span>
            <span class="n">tb</span><span class="p">.</span><span class="nf">addAction</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>

        <span class="c1"># Connect signals
</span>        <span class="n">self</span><span class="p">.</span><span class="n">btn_new</span><span class="p">.</span><span class="n">clicked</span><span class="p">.</span><span class="nf">connect</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">_new_chat</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">btn_rename</span><span class="p">.</span><span class="n">clicked</span><span class="p">.</span><span class="nf">connect</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">_rename_chat</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">btn_delete</span><span class="p">.</span><span class="n">clicked</span><span class="p">.</span><span class="nf">connect</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">_delete_chat</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">chat_list</span><span class="p">.</span><span class="n">itemDoubleClicked</span><span class="p">.</span><span class="nf">connect</span><span class="p">(</span><span class="k">lambda</span> <span class="n">_</span><span class="p">:</span> <span class="n">self</span><span class="p">.</span><span class="nf">_open_selected_chat</span><span class="p">())</span>
        <span class="n">self</span><span class="p">.</span><span class="n">chat_list</span><span class="p">.</span><span class="n">itemSelectionChanged</span><span class="p">.</span><span class="nf">connect</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">_open_selected_chat</span><span class="p">)</span>

        <span class="n">self</span><span class="p">.</span><span class="n">btn_send</span><span class="p">.</span><span class="n">clicked</span><span class="p">.</span><span class="nf">connect</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">_send</span><span class="p">)</span>
        <span class="n">act_send</span><span class="p">.</span><span class="n">triggered</span><span class="p">.</span><span class="nf">connect</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">_send</span><span class="p">)</span>
        <span class="n">act_new</span><span class="p">.</span><span class="n">triggered</span><span class="p">.</span><span class="nf">connect</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">_new_chat</span><span class="p">)</span>
        <span class="n">act_export</span><span class="p">.</span><span class="n">triggered</span><span class="p">.</span><span class="nf">connect</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">_export_chat_md</span><span class="p">)</span>
        <span class="n">act_delete</span><span class="p">.</span><span class="n">triggered</span><span class="p">.</span><span class="nf">connect</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">_delete_chat</span><span class="p">)</span>
        <span class="n">act_focus</span><span class="p">.</span><span class="n">triggered</span><span class="p">.</span><span class="nf">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">self</span><span class="p">.</span><span class="nb">input</span><span class="p">.</span><span class="nf">setFocus</span><span class="p">())</span>
        <span class="n">act_settings</span><span class="p">.</span><span class="n">triggered</span><span class="p">.</span><span class="nf">connect</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">_save_settings_clicked</span><span class="p">)</span>
        <span class="n">act_hide</span><span class="p">.</span><span class="n">triggered</span><span class="p">.</span><span class="nf">connect</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">_toggle_hide</span><span class="p">)</span>

        <span class="n">self</span><span class="p">.</span><span class="n">btn_apply</span><span class="p">.</span><span class="n">clicked</span><span class="p">.</span><span class="nf">connect</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">_apply_now</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">btn_save_settings</span><span class="p">.</span><span class="n">clicked</span><span class="p">.</span><span class="nf">connect</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">_save_settings_clicked</span><span class="p">)</span>

        <span class="c1"># Keyboard shortcut for Shift+Enter newline is default in QTextEdit
</span>        <span class="nc">QShortcut</span><span class="p">(</span><span class="nc">QKeySequence</span><span class="p">(</span><span class="sh">"</span><span class="s">Ctrl+Enter</span><span class="sh">"</span><span class="p">),</span> <span class="n">self</span><span class="p">,</span> <span class="n">activated</span><span class="o">=</span><span class="n">self</span><span class="p">.</span><span class="n">_send</span><span class="p">)</span>

        <span class="n">self</span><span class="p">.</span><span class="nf">statusBar</span><span class="p">().</span><span class="nf">showMessage</span><span class="p">(</span><span class="sh">"</span><span class="s">Ready</span><span class="sh">"</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_apply_initial_window_size</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="n">w</span> <span class="o">=</span> <span class="nf">int</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">cfg</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">app</span><span class="sh">"</span><span class="p">,</span> <span class="p">{}).</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">window</span><span class="sh">"</span><span class="p">,</span> <span class="p">{}).</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">width</span><span class="sh">"</span><span class="p">,</span> <span class="mi">1100</span><span class="p">))</span>
        <span class="n">h</span> <span class="o">=</span> <span class="nf">int</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">cfg</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">app</span><span class="sh">"</span><span class="p">,</span> <span class="p">{}).</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">window</span><span class="sh">"</span><span class="p">,</span> <span class="p">{}).</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">height</span><span class="sh">"</span><span class="p">,</span> <span class="mi">720</span><span class="p">))</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">resize</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_setup_tray</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">self</span><span class="p">.</span><span class="n">cfg</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">ui</span><span class="sh">"</span><span class="p">,</span> <span class="p">{}).</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">enable_tray</span><span class="sh">"</span><span class="p">,</span> <span class="bp">True</span><span class="p">):</span>
            <span class="k">return</span>
        <span class="n">self</span><span class="p">.</span><span class="n">tray</span> <span class="o">=</span> <span class="nc">QSystemTrayIcon</span><span class="p">(</span><span class="n">self</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">tray</span><span class="p">.</span><span class="nf">setIcon</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="nf">style</span><span class="p">().</span><span class="nf">standardIcon</span><span class="p">(</span><span class="n">QStyle</span><span class="p">.</span><span class="n">SP_ComputerIcon</span><span class="p">)</span> <span class="k">if</span> <span class="nf">hasattr</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="sh">"</span><span class="s">style</span><span class="sh">"</span><span class="p">)</span> <span class="k">else</span> <span class="nc">QIcon</span><span class="p">())</span>
        <span class="n">menu</span> <span class="o">=</span> <span class="nc">QMenu</span><span class="p">()</span>
        <span class="n">act_show</span> <span class="o">=</span> <span class="nc">QAction</span><span class="p">(</span><span class="sh">"</span><span class="s">Show</span><span class="sh">"</span><span class="p">,</span> <span class="n">self</span><span class="p">)</span>
        <span class="n">act_quit</span> <span class="o">=</span> <span class="nc">QAction</span><span class="p">(</span><span class="sh">"</span><span class="s">Quit</span><span class="sh">"</span><span class="p">,</span> <span class="n">self</span><span class="p">)</span>
        <span class="n">act_show</span><span class="p">.</span><span class="n">triggered</span><span class="p">.</span><span class="nf">connect</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">_show_from_tray</span><span class="p">)</span>
        <span class="n">act_quit</span><span class="p">.</span><span class="n">triggered</span><span class="p">.</span><span class="nf">connect</span><span class="p">(</span><span class="n">QApplication</span><span class="p">.</span><span class="nf">instance</span><span class="p">().</span><span class="n">quit</span><span class="p">)</span>
        <span class="n">menu</span><span class="p">.</span><span class="nf">addAction</span><span class="p">(</span><span class="n">act_show</span><span class="p">)</span>
        <span class="n">menu</span><span class="p">.</span><span class="nf">addAction</span><span class="p">(</span><span class="n">act_quit</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">tray</span><span class="p">.</span><span class="nf">setContextMenu</span><span class="p">(</span><span class="n">menu</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">tray</span><span class="p">.</span><span class="n">activated</span><span class="p">.</span><span class="nf">connect</span><span class="p">(</span><span class="k">lambda</span> <span class="n">reason</span><span class="p">:</span> <span class="n">self</span><span class="p">.</span><span class="nf">_show_from_tray</span><span class="p">()</span> <span class="k">if</span> <span class="n">reason</span> <span class="o">==</span> <span class="n">QSystemTrayIcon</span><span class="p">.</span><span class="n">Trigger</span> <span class="k">else</span> <span class="bp">None</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">tray</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span>
        <span class="n">QApplication</span><span class="p">.</span><span class="nf">instance</span><span class="p">().</span><span class="nf">setQuitOnLastWindowClosed</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>

    <span class="c1"># -------- Chat list ops -------- #
</span>
    <span class="k">def</span> <span class="nf">_load_chat_list</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">chat_list</span><span class="p">.</span><span class="nf">clear</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">chat</span> <span class="ow">in</span> <span class="n">self</span><span class="p">.</span><span class="n">storage</span><span class="p">.</span><span class="nf">list_chats</span><span class="p">():</span>
            <span class="n">item</span> <span class="o">=</span> <span class="nc">QListWidgetItem</span><span class="p">(</span><span class="n">chat</span><span class="p">.</span><span class="n">title</span><span class="p">)</span>
            <span class="n">item</span><span class="p">.</span><span class="nf">setData</span><span class="p">(</span><span class="n">Qt</span><span class="p">.</span><span class="n">UserRole</span><span class="p">,</span> <span class="n">chat</span><span class="p">.</span><span class="n">chat_id</span><span class="p">)</span>
            <span class="n">self</span><span class="p">.</span><span class="n">chat_list</span><span class="p">.</span><span class="nf">addItem</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">self</span><span class="p">.</span><span class="n">chat_list</span><span class="p">.</span><span class="nf">count</span><span class="p">()</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">self</span><span class="p">.</span><span class="nf">_new_chat</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">self</span><span class="p">.</span><span class="n">chat_list</span><span class="p">.</span><span class="nf">setCurrentRow</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_new_chat</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="n">chat_id</span> <span class="o">=</span> <span class="n">uuid</span><span class="p">.</span><span class="nf">uuid4</span><span class="p">().</span><span class="nb">hex</span><span class="p">[:</span><span class="mi">12</span><span class="p">]</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="sh">"</span><span class="s">model</span><span class="sh">"</span><span class="p">:</span> <span class="n">self</span><span class="p">.</span><span class="n">edt_model</span><span class="p">.</span><span class="nf">text</span><span class="p">()</span> <span class="ow">or</span> <span class="n">self</span><span class="p">.</span><span class="n">cfg</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">llm</span><span class="sh">"</span><span class="p">,</span> <span class="p">{}).</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">model</span><span class="sh">"</span><span class="p">,</span> <span class="sh">""</span><span class="p">),</span>
            <span class="sh">"</span><span class="s">temperature</span><span class="sh">"</span><span class="p">:</span> <span class="n">self</span><span class="p">.</span><span class="n">spin_temp</span><span class="p">.</span><span class="nf">value</span><span class="p">(),</span>
            <span class="sh">"</span><span class="s">top_p</span><span class="sh">"</span><span class="p">:</span> <span class="n">self</span><span class="p">.</span><span class="n">spin_top_p</span><span class="p">.</span><span class="nf">value</span><span class="p">(),</span>
            <span class="sh">"</span><span class="s">max_tokens</span><span class="sh">"</span><span class="p">:</span> <span class="n">self</span><span class="p">.</span><span class="n">spin_max_toks</span><span class="p">.</span><span class="nf">value</span><span class="p">(),</span>
        <span class="p">}</span>
        <span class="n">chat</span> <span class="o">=</span> <span class="nc">Chat</span><span class="p">(</span>
            <span class="n">chat_id</span><span class="o">=</span><span class="n">chat_id</span><span class="p">,</span>
            <span class="n">title</span><span class="o">=</span><span class="sh">"</span><span class="s">New Chat</span><span class="sh">"</span><span class="p">,</span>
            <span class="n">created_ts</span><span class="o">=</span><span class="nf">now_ts</span><span class="p">(),</span>
            <span class="n">updated_ts</span><span class="o">=</span><span class="nf">now_ts</span><span class="p">(),</span>
            <span class="n">model</span><span class="o">=</span><span class="n">params</span><span class="p">[</span><span class="sh">"</span><span class="s">model</span><span class="sh">"</span><span class="p">],</span>
            <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span>
            <span class="n">messages</span><span class="o">=</span><span class="p">[]</span>
        <span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">storage</span><span class="p">.</span><span class="nf">save_chat</span><span class="p">(</span><span class="n">chat</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">_load_chat_list</span><span class="p">()</span>
        <span class="c1"># Select new
</span>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">chat_list</span><span class="p">.</span><span class="nf">count</span><span class="p">()):</span>
            <span class="k">if</span> <span class="n">self</span><span class="p">.</span><span class="n">chat_list</span><span class="p">.</span><span class="nf">item</span><span class="p">(</span><span class="n">i</span><span class="p">).</span><span class="nf">data</span><span class="p">(</span><span class="n">Qt</span><span class="p">.</span><span class="n">UserRole</span><span class="p">)</span> <span class="o">==</span> <span class="n">chat_id</span><span class="p">:</span>
                <span class="n">self</span><span class="p">.</span><span class="n">chat_list</span><span class="p">.</span><span class="nf">setCurrentRow</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
                <span class="k">break</span>

    <span class="k">def</span> <span class="nf">_open_selected_chat</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="n">item</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">chat_list</span><span class="p">.</span><span class="nf">currentItem</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">item</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="n">chat_id</span> <span class="o">=</span> <span class="n">item</span><span class="p">.</span><span class="nf">data</span><span class="p">(</span><span class="n">Qt</span><span class="p">.</span><span class="n">UserRole</span><span class="p">)</span>
        <span class="n">chat</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">storage</span><span class="p">.</span><span class="nf">load_chat</span><span class="p">(</span><span class="n">chat_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">chat</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="n">self</span><span class="p">.</span><span class="n">current_chat</span> <span class="o">=</span> <span class="n">chat</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">_render_chat</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_rename_chat</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="n">item</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">chat_list</span><span class="p">.</span><span class="nf">currentItem</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">item</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">self</span><span class="p">.</span><span class="n">current_chat</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="n">new_title</span><span class="p">,</span> <span class="n">ok</span> <span class="o">=</span> <span class="n">QInputDialog</span><span class="p">.</span><span class="nf">getText</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="sh">"</span><span class="s">Rename</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">Chat title:</span><span class="sh">"</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="n">self</span><span class="p">.</span><span class="n">current_chat</span><span class="p">.</span><span class="n">title</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">ok</span> <span class="ow">and</span> <span class="n">new_title</span><span class="p">.</span><span class="nf">strip</span><span class="p">():</span>
            <span class="n">self</span><span class="p">.</span><span class="n">current_chat</span><span class="p">.</span><span class="n">title</span> <span class="o">=</span> <span class="n">new_title</span><span class="p">.</span><span class="nf">strip</span><span class="p">()</span>
            <span class="n">self</span><span class="p">.</span><span class="n">current_chat</span><span class="p">.</span><span class="n">updated_ts</span> <span class="o">=</span> <span class="nf">now_ts</span><span class="p">()</span>
            <span class="n">self</span><span class="p">.</span><span class="n">storage</span><span class="p">.</span><span class="nf">save_chat</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">current_chat</span><span class="p">)</span>
            <span class="n">item</span><span class="p">.</span><span class="nf">setText</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">current_chat</span><span class="p">.</span><span class="n">title</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_delete_chat</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="n">item</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">chat_list</span><span class="p">.</span><span class="nf">currentItem</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">item</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="n">chat_id</span> <span class="o">=</span> <span class="n">item</span><span class="p">.</span><span class="nf">data</span><span class="p">(</span><span class="n">Qt</span><span class="p">.</span><span class="n">UserRole</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">QMessageBox</span><span class="p">.</span><span class="nf">question</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="sh">"</span><span class="s">Delete</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">Delete this chat?</span><span class="sh">"</span><span class="p">)</span> <span class="o">==</span> <span class="n">QMessageBox</span><span class="p">.</span><span class="n">Yes</span><span class="p">:</span>
            <span class="n">self</span><span class="p">.</span><span class="n">storage</span><span class="p">.</span><span class="nf">delete_chat</span><span class="p">(</span><span class="n">chat_id</span><span class="p">)</span>
            <span class="n">self</span><span class="p">.</span><span class="nf">_load_chat_list</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_export_chat_md</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">self</span><span class="p">.</span><span class="n">current_chat</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="n">out</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">QFileDialog</span><span class="p">.</span><span class="nf">getSaveFileName</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="sh">"</span><span class="s">Export Markdown</span><span class="sh">"</span><span class="p">,</span> <span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">self</span><span class="p">.</span><span class="n">current_chat</span><span class="p">.</span><span class="n">title</span><span class="si">}</span><span class="s">.md</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">Markdown (*.md)</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">out</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="n">self</span><span class="p">.</span><span class="n">storage</span><span class="p">.</span><span class="nf">export_chat_markdown</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">current_chat</span><span class="p">,</span> <span class="nc">Path</span><span class="p">(</span><span class="n">out</span><span class="p">))</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">statusBar</span><span class="p">().</span><span class="nf">showMessage</span><span class="p">(</span><span class="sh">"</span><span class="s">Exported</span><span class="sh">"</span><span class="p">)</span>

    <span class="c1"># -------- Rendering -------- #
</span>
    <span class="k">def</span> <span class="nf">_render_chat</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">self</span><span class="p">.</span><span class="n">current_chat</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="c1"># Refresh param controls from chat params
</span>        <span class="n">p</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">current_chat</span><span class="p">.</span><span class="n">params</span>
        <span class="n">self</span><span class="p">.</span><span class="n">edt_model</span><span class="p">.</span><span class="nf">setText</span><span class="p">(</span><span class="nf">str</span><span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">model</span><span class="sh">"</span><span class="p">,</span> <span class="sh">""</span><span class="p">)))</span>
        <span class="n">self</span><span class="p">.</span><span class="n">spin_temp</span><span class="p">.</span><span class="nf">setValue</span><span class="p">(</span><span class="nf">float</span><span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">temperature</span><span class="sh">"</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">spin_temp</span><span class="p">.</span><span class="nf">value</span><span class="p">())))</span>
        <span class="n">self</span><span class="p">.</span><span class="n">spin_top_p</span><span class="p">.</span><span class="nf">setValue</span><span class="p">(</span><span class="nf">float</span><span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">top_p</span><span class="sh">"</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">spin_top_p</span><span class="p">.</span><span class="nf">value</span><span class="p">())))</span>
        <span class="n">self</span><span class="p">.</span><span class="n">spin_max_toks</span><span class="p">.</span><span class="nf">setValue</span><span class="p">(</span><span class="nf">int</span><span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">max_tokens</span><span class="sh">"</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">spin_max_toks</span><span class="p">.</span><span class="nf">value</span><span class="p">())))</span>

        <span class="n">msgs</span> <span class="o">=</span> <span class="p">[</span><span class="nf">dict</span><span class="p">(</span><span class="n">role</span><span class="o">=</span><span class="n">m</span><span class="p">.</span><span class="n">role</span><span class="p">,</span> <span class="n">content</span><span class="o">=</span><span class="n">m</span><span class="p">.</span><span class="n">content</span><span class="p">,</span> <span class="n">ts</span><span class="o">=</span><span class="n">m</span><span class="p">.</span><span class="n">ts</span><span class="p">)</span> <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">self</span><span class="p">.</span><span class="n">current_chat</span><span class="p">.</span><span class="n">messages</span><span class="p">]</span>
        <span class="n">html</span> <span class="o">=</span> <span class="nf">messages_to_html</span><span class="p">(</span><span class="n">msgs</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">markdown_css</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">view</span><span class="p">.</span><span class="nf">setHtml</span><span class="p">(</span><span class="n">html</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">view</span><span class="p">.</span><span class="nf">moveCursor</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">view</span><span class="p">.</span><span class="nf">textCursor</span><span class="p">().</span><span class="n">End</span><span class="p">)</span>

    <span class="c1"># -------- Sending -------- #
</span>
    <span class="k">def</span> <span class="nf">_send</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="n">text</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="nb">input</span><span class="p">.</span><span class="nf">toPlainText</span><span class="p">().</span><span class="nf">strip</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">text</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">self</span><span class="p">.</span><span class="n">current_chat</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="c1"># Append user message
</span>        <span class="n">self</span><span class="p">.</span><span class="n">current_chat</span><span class="p">.</span><span class="n">messages</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="nc">Message</span><span class="p">(</span><span class="n">role</span><span class="o">=</span><span class="sh">"</span><span class="s">user</span><span class="sh">"</span><span class="p">,</span> <span class="n">content</span><span class="o">=</span><span class="n">text</span><span class="p">,</span> <span class="n">ts</span><span class="o">=</span><span class="nf">now_ts</span><span class="p">()))</span>
        <span class="k">if</span> <span class="n">self</span><span class="p">.</span><span class="n">current_chat</span><span class="p">.</span><span class="n">title</span> <span class="o">==</span> <span class="sh">"</span><span class="s">New Chat</span><span class="sh">"</span> <span class="ow">and</span> <span class="n">text</span><span class="p">:</span>
            <span class="n">self</span><span class="p">.</span><span class="n">current_chat</span><span class="p">.</span><span class="n">title</span> <span class="o">=</span> <span class="p">(</span><span class="n">text</span><span class="p">[:</span><span class="mi">48</span><span class="p">]</span> <span class="o">+</span> <span class="sh">"</span><span class="s">â€¦</span><span class="sh">"</span><span class="p">)</span> <span class="k">if</span> <span class="nf">len</span><span class="p">(</span><span class="n">text</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">48</span> <span class="k">else</span> <span class="n">text</span>
            <span class="c1"># Update list title
</span>            <span class="n">item</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">chat_list</span><span class="p">.</span><span class="nf">currentItem</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">item</span><span class="p">:</span>
                <span class="n">item</span><span class="p">.</span><span class="nf">setText</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">current_chat</span><span class="p">.</span><span class="n">title</span><span class="p">)</span>

        <span class="n">self</span><span class="p">.</span><span class="n">current_chat</span><span class="p">.</span><span class="n">updated_ts</span> <span class="o">=</span> <span class="nf">now_ts</span><span class="p">()</span>
        <span class="n">self</span><span class="p">.</span><span class="n">storage</span><span class="p">.</span><span class="nf">save_chat</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">current_chat</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="nb">input</span><span class="p">.</span><span class="nf">clear</span><span class="p">()</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">_render_chat</span><span class="p">()</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">statusBar</span><span class="p">().</span><span class="nf">showMessage</span><span class="p">(</span><span class="sh">"</span><span class="s">Sendingâ€¦</span><span class="sh">"</span><span class="p">)</span>

        <span class="c1"># Build effective runtime config (API base/key may have changed)
</span>        <span class="n">runtime_cfg</span> <span class="o">=</span> <span class="nf">dict</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">cfg</span><span class="p">)</span>
        <span class="n">runtime_cfg</span><span class="p">.</span><span class="nf">setdefault</span><span class="p">(</span><span class="sh">"</span><span class="s">llm</span><span class="sh">"</span><span class="p">,</span> <span class="p">{})</span>
        <span class="n">runtime_cfg</span><span class="p">[</span><span class="sh">"</span><span class="s">llm</span><span class="sh">"</span><span class="p">][</span><span class="sh">"</span><span class="s">api_base</span><span class="sh">"</span><span class="p">]</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">edt_api_base</span><span class="p">.</span><span class="nf">text</span><span class="p">().</span><span class="nf">strip</span><span class="p">()</span> <span class="ow">or</span> <span class="n">runtime_cfg</span><span class="p">[</span><span class="sh">"</span><span class="s">llm</span><span class="sh">"</span><span class="p">].</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">api_base</span><span class="sh">"</span><span class="p">,</span> <span class="sh">""</span><span class="p">)</span>
        <span class="n">runtime_cfg</span><span class="p">[</span><span class="sh">"</span><span class="s">llm</span><span class="sh">"</span><span class="p">][</span><span class="sh">"</span><span class="s">api_key</span><span class="sh">"</span><span class="p">]</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">edt_api_key</span><span class="p">.</span><span class="nf">text</span><span class="p">()</span>
        <span class="n">self</span><span class="p">.</span><span class="n">client</span><span class="p">.</span><span class="nf">update_config</span><span class="p">(</span><span class="n">runtime_cfg</span><span class="p">)</span>

        <span class="c1"># Assemble payload
</span>        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="sh">"</span><span class="s">model</span><span class="sh">"</span><span class="p">:</span> <span class="n">self</span><span class="p">.</span><span class="n">edt_model</span><span class="p">.</span><span class="nf">text</span><span class="p">().</span><span class="nf">strip</span><span class="p">(),</span>
            <span class="sh">"</span><span class="s">temperature</span><span class="sh">"</span><span class="p">:</span> <span class="n">self</span><span class="p">.</span><span class="n">spin_temp</span><span class="p">.</span><span class="nf">value</span><span class="p">(),</span>
            <span class="sh">"</span><span class="s">top_p</span><span class="sh">"</span><span class="p">:</span> <span class="n">self</span><span class="p">.</span><span class="n">spin_top_p</span><span class="p">.</span><span class="nf">value</span><span class="p">(),</span>
            <span class="sh">"</span><span class="s">max_tokens</span><span class="sh">"</span><span class="p">:</span> <span class="n">self</span><span class="p">.</span><span class="n">spin_max_toks</span><span class="p">.</span><span class="nf">value</span><span class="p">(),</span>
        <span class="p">}</span>
        <span class="n">messages_payload</span> <span class="o">=</span> <span class="p">[{</span><span class="sh">"</span><span class="s">role</span><span class="sh">"</span><span class="p">:</span> <span class="n">m</span><span class="p">.</span><span class="n">role</span><span class="p">,</span> <span class="sh">"</span><span class="s">content</span><span class="sh">"</span><span class="p">:</span> <span class="n">m</span><span class="p">.</span><span class="n">content</span><span class="p">}</span> <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">self</span><span class="p">.</span><span class="n">current_chat</span><span class="p">.</span><span class="n">messages</span><span class="p">]</span>

        <span class="n">worker</span> <span class="o">=</span> <span class="nc">LLMWorker</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">client</span><span class="p">,</span> <span class="n">messages_payload</span><span class="p">,</span> <span class="n">params</span><span class="p">)</span>
        <span class="n">worker</span><span class="p">.</span><span class="n">signals</span><span class="p">.</span><span class="n">success</span><span class="p">.</span><span class="nf">connect</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">_on_llm_success</span><span class="p">)</span>
        <span class="n">worker</span><span class="p">.</span><span class="n">signals</span><span class="p">.</span><span class="n">error</span><span class="p">.</span><span class="nf">connect</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">_on_llm_error</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">thread_pool</span><span class="p">.</span><span class="nf">start</span><span class="p">(</span><span class="n">worker</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_on_llm_success</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">reply</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">self</span><span class="p">.</span><span class="n">current_chat</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="n">self</span><span class="p">.</span><span class="n">current_chat</span><span class="p">.</span><span class="n">messages</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="nc">Message</span><span class="p">(</span><span class="n">role</span><span class="o">=</span><span class="sh">"</span><span class="s">assistant</span><span class="sh">"</span><span class="p">,</span> <span class="n">content</span><span class="o">=</span><span class="n">reply</span><span class="p">,</span> <span class="n">ts</span><span class="o">=</span><span class="nf">now_ts</span><span class="p">()))</span>
        <span class="n">self</span><span class="p">.</span><span class="n">current_chat</span><span class="p">.</span><span class="n">updated_ts</span> <span class="o">=</span> <span class="nf">now_ts</span><span class="p">()</span>
        <span class="n">self</span><span class="p">.</span><span class="n">storage</span><span class="p">.</span><span class="nf">save_chat</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">current_chat</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">_render_chat</span><span class="p">()</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">statusBar</span><span class="p">().</span><span class="nf">showMessage</span><span class="p">(</span><span class="sh">"</span><span class="s">Reply received</span><span class="sh">"</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_on_llm_error</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">err</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">QMessageBox</span><span class="p">.</span><span class="nf">critical</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="sh">"</span><span class="s">LLM Error</span><span class="sh">"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">statusBar</span><span class="p">().</span><span class="nf">showMessage</span><span class="p">(</span><span class="sh">"</span><span class="s">Error</span><span class="sh">"</span><span class="p">)</span>

    <span class="c1"># -------- Settings -------- #
</span>
    <span class="k">def</span> <span class="nf">_apply_now</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="c1"># Update current chat params without persisting as user defaults
</span>        <span class="k">if</span> <span class="ow">not</span> <span class="n">self</span><span class="p">.</span><span class="n">current_chat</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="n">self</span><span class="p">.</span><span class="n">current_chat</span><span class="p">.</span><span class="n">params</span><span class="p">.</span><span class="nf">update</span><span class="p">({</span>
            <span class="sh">"</span><span class="s">model</span><span class="sh">"</span><span class="p">:</span> <span class="n">self</span><span class="p">.</span><span class="n">edt_model</span><span class="p">.</span><span class="nf">text</span><span class="p">().</span><span class="nf">strip</span><span class="p">(),</span>
            <span class="sh">"</span><span class="s">temperature</span><span class="sh">"</span><span class="p">:</span> <span class="n">self</span><span class="p">.</span><span class="n">spin_temp</span><span class="p">.</span><span class="nf">value</span><span class="p">(),</span>
            <span class="sh">"</span><span class="s">top_p</span><span class="sh">"</span><span class="p">:</span> <span class="n">self</span><span class="p">.</span><span class="n">spin_top_p</span><span class="p">.</span><span class="nf">value</span><span class="p">(),</span>
            <span class="sh">"</span><span class="s">max_tokens</span><span class="sh">"</span><span class="p">:</span> <span class="n">self</span><span class="p">.</span><span class="n">spin_max_toks</span><span class="p">.</span><span class="nf">value</span><span class="p">(),</span>
        <span class="p">})</span>
        <span class="n">self</span><span class="p">.</span><span class="n">current_chat</span><span class="p">.</span><span class="n">model</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">current_chat</span><span class="p">.</span><span class="n">params</span><span class="p">[</span><span class="sh">"</span><span class="s">model</span><span class="sh">"</span><span class="p">]</span>
        <span class="n">self</span><span class="p">.</span><span class="n">storage</span><span class="p">.</span><span class="nf">save_chat</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">current_chat</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">statusBar</span><span class="p">().</span><span class="nf">showMessage</span><span class="p">(</span><span class="sh">"</span><span class="s">Applied to current chat</span><span class="sh">"</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_save_settings_clicked</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="n">patch</span> <span class="o">=</span> <span class="p">{</span>
            <span class="sh">"</span><span class="s">llm</span><span class="sh">"</span><span class="p">:</span> <span class="p">{</span>
                <span class="sh">"</span><span class="s">api_base</span><span class="sh">"</span><span class="p">:</span> <span class="n">self</span><span class="p">.</span><span class="n">edt_api_base</span><span class="p">.</span><span class="nf">text</span><span class="p">().</span><span class="nf">strip</span><span class="p">(),</span>
                <span class="sh">"</span><span class="s">api_key</span><span class="sh">"</span><span class="p">:</span> <span class="n">self</span><span class="p">.</span><span class="n">edt_api_key</span><span class="p">.</span><span class="nf">text</span><span class="p">(),</span>
                <span class="sh">"</span><span class="s">model</span><span class="sh">"</span><span class="p">:</span> <span class="n">self</span><span class="p">.</span><span class="n">edt_model</span><span class="p">.</span><span class="nf">text</span><span class="p">().</span><span class="nf">strip</span><span class="p">(),</span>
                <span class="sh">"</span><span class="s">temperature</span><span class="sh">"</span><span class="p">:</span> <span class="nf">float</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">spin_temp</span><span class="p">.</span><span class="nf">value</span><span class="p">()),</span>
                <span class="sh">"</span><span class="s">top_p</span><span class="sh">"</span><span class="p">:</span> <span class="nf">float</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">spin_top_p</span><span class="p">.</span><span class="nf">value</span><span class="p">()),</span>
                <span class="sh">"</span><span class="s">max_tokens</span><span class="sh">"</span><span class="p">:</span> <span class="nf">int</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">spin_max_toks</span><span class="p">.</span><span class="nf">value</span><span class="p">()),</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="n">self</span><span class="p">.</span><span class="n">cfg_mgr</span><span class="p">.</span><span class="nf">save_user_overrides</span><span class="p">(</span><span class="n">patch</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">cfg</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">cfg_mgr</span><span class="p">.</span><span class="nf">load</span><span class="p">()</span>
        <span class="n">self</span><span class="p">.</span><span class="n">client</span><span class="p">.</span><span class="nf">update_config</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">cfg</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">statusBar</span><span class="p">().</span><span class="nf">showMessage</span><span class="p">(</span><span class="sh">"</span><span class="s">Saved to ~/.config/llmchat/config.yaml</span><span class="sh">"</span><span class="p">)</span>

    <span class="c1"># -------- Tray / Hide -------- #
</span>
    <span class="k">def</span> <span class="nf">_toggle_hide</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">self</span><span class="p">.</span><span class="nf">isVisible</span><span class="p">():</span>
            <span class="n">self</span><span class="p">.</span><span class="nf">hide</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">self</span><span class="p">.</span><span class="nf">showNormal</span><span class="p">()</span>
            <span class="n">self</span><span class="p">.</span><span class="nf">raise_</span><span class="p">()</span>
            <span class="n">self</span><span class="p">.</span><span class="nf">activateWindow</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_show_from_tray</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">showNormal</span><span class="p">()</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">raise_</span><span class="p">()</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">activateWindow</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">closeEvent</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">QCloseEvent</span><span class="p">):</span>
        <span class="c1"># If tray enabled, hide on close; Quit via tray menu.
</span>        <span class="k">if</span> <span class="nf">getattr</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="sh">"</span><span class="s">tray</span><span class="sh">"</span><span class="p">,</span> <span class="bp">None</span><span class="p">):</span>
            <span class="n">event</span><span class="p">.</span><span class="nf">ignore</span><span class="p">()</span>
            <span class="n">self</span><span class="p">.</span><span class="nf">hide</span><span class="p">()</span>
            <span class="n">self</span><span class="p">.</span><span class="n">tray</span><span class="p">.</span><span class="nf">showMessage</span><span class="p">(</span><span class="sh">"</span><span class="s">LLM Chat</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">Still running in the tray. Quit from tray menu.</span><span class="sh">"</span><span class="p">,</span> <span class="n">QSystemTrayIcon</span><span class="p">.</span><span class="n">Information</span><span class="p">,</span> <span class="mi">2000</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nf">super</span><span class="p">().</span><span class="nf">closeEvent</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>

<span class="c1"># ---------------- Entry ---------------- #
</span>
<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">app_dir</span> <span class="o">=</span> <span class="nc">Path</span><span class="p">(</span><span class="n">__file__</span><span class="p">).</span><span class="nf">resolve</span><span class="p">().</span><span class="n">parent</span>
    <span class="n">app</span> <span class="o">=</span> <span class="nc">QApplication</span><span class="p">(</span><span class="n">sys</span><span class="p">.</span><span class="n">argv</span><span class="p">)</span>
    <span class="n">app</span><span class="p">.</span><span class="nf">setApplicationDisplayName</span><span class="p">(</span><span class="n">APP_NAME</span><span class="p">)</span>
    <span class="n">win</span> <span class="o">=</span> <span class="nc">MainWindow</span><span class="p">(</span><span class="n">app_dir</span><span class="p">)</span>
    <span class="n">win</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span>
    <span class="n">sys</span><span class="p">.</span><span class="nf">exit</span><span class="p">(</span><span class="n">app</span><span class="p">.</span><span class="nf">exec</span><span class="p">())</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="sh">"</span><span class="s">__main__</span><span class="sh">"</span><span class="p">:</span>
    <span class="nf">main</span><span class="p">()</span>
</code></pre></div></div>

<hr />

<h2 id="readmemd"><code class="language-plaintext highlighter-rouge">README.md</code></h2>
<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh"># LLMChat (PySide6)</span>

A simple, fast LLM Chat client for Linux. OpenAI-compatible endpoint, Markdown rendering, multi-line input, chat log management, per-user settings with admin defaults, and handy shortcuts.

<span class="gu">## Quick start (shared disk)</span>
<span class="p">
1.</span> Admin places the <span class="sb">`llmchat/`</span> folder on a shared disk accessible to users.
<span class="p">2.</span> (Optional) Admin edits <span class="sb">`llmchat/config/defaults.yaml`</span> or creates <span class="sb">`/etc/llmchat/config.yaml`</span> to set initial defaults.
<span class="p">3.</span> User runs:
</code></pre></div></div>
<p>cd /path/to/shared/llmchat
   ./run.sh</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  4. First run creates a venv and installs dependencies.

## Configuration

**Admin defaults (read-only for users):**

  * `./config/defaults.yaml` (in app dir) or `/etc/llmchat/config.yaml`

  * Environment override: set `LLMCHAT_CONFIG_DIR=/shared/path/conf` (must contain `config.yaml`).

**Per-user overrides (editable):**

  * `~/.config/llmchat/config.yaml` (written when you click **Save as My Defaults**).

Settings precedence: _admin defaults â†’ user overrides_. Only user file is written.

## Chat storage

  * Files under `~/.local/share/llmchat/chats/*.json`.

  * Export current chat as Markdown via **Export Markdownâ€¦**.

## Shortcuts

  * **Ctrl+Enter** : Send message

  * **Shift+Enter** : New line

  * **Ctrl+N** : New chat

  * **Delete** : Delete chat

  * **Ctrl+S** : Export chat (Markdown)

  * **Ctrl+L** : Focus input

  * **Ctrl+,** : Save settings (write user config)

  * **Ctrl+H** : Hide/Show window (use tray to restore if hidden)

## Endpoint compatibility

Uses OpenAI-compatible `/v1/chat/completions`:

  * Tested with **Ollama** (`ollama serve --api`) as `api_base: http://localhost:11434/v1`

  * Also works with OpenAI-compatible gateways (set base and API key in sidebar).

## Uninstall / Cleanup

  * Remove venv: `rm -rf .venv`

  * Remove user data: `rm -rf ~/.local/share/llmchat ~/.config/llmchat`
</code></pre></div></div>
<p>markdown</p>

<hr />

<h1 id="validation-meets-requirements">Validation (meets requirements)</h1>

<ul>
  <li><strong>Custom LLM endpoint</strong>: Sidebar fields for <code class="language-plaintext highlighter-rouge">API Base</code> and <code class="language-plaintext highlighter-rouge">API Key</code>; saved per-user; applied immediately.</li>
  <li><strong>Multi-line input</strong>: <code class="language-plaintext highlighter-rouge">QTextEdit</code>, Shift+Enter newline, Ctrl+Enter send.</li>
  <li><strong>Chat log management</strong>: New/rename/delete chats; auto-save per message; export to Markdown; persistent JSON in <code class="language-plaintext highlighter-rouge">~/.local/share/llmchat/chats/</code>.</li>
  <li><strong>Change model parameters</strong>: Sidebar controls for model, temperature, top-p, max tokens; <strong>Apply Now</strong> for current chat; <strong>Save as My Defaults</strong> persists to <code class="language-plaintext highlighter-rouge">~/.config/llmchat/config.yaml</code>.</li>
  <li><strong>Shortcut keys</strong>: Implemented (send/new/delete/export/focus/hide-show/settings).</li>
  <li><strong>Render Markdown</strong>: <code class="language-plaintext highlighter-rouge">markdown</code> â†’ HTML in <code class="language-plaintext highlighter-rouge">QTextBrowser</code>, with code fence and table support + CSS.</li>
  <li><strong>Deployment on Linux with shared disk</strong>: No installer; <code class="language-plaintext highlighter-rouge">install.sh</code> bootstraps venv; <code class="language-plaintext highlighter-rouge">run.sh</code> launches; admin drops folder on shared disk and optionally seeds <code class="language-plaintext highlighter-rouge">/etc/llmchat/config.yaml</code> or edits <code class="language-plaintext highlighter-rouge">config/defaults.yaml</code>.</li>
  <li><strong>Admin defaults + per-user overrides</strong>: Deep-merged config; only user file is written back.</li>
  <li><strong>Clear code &amp; messages</strong>: Readable names, comments, straightforward control flow; concise labels in UI.</li>
</ul>

<h2 id="manual-smoke-test-linux">Manual smoke test (Linux)</h2>

<ol>
  <li><code class="language-plaintext highlighter-rouge">./run.sh</code> â†’ window opens.</li>
  <li>In sidebar, set <code class="language-plaintext highlighter-rouge">API Base</code> to <code class="language-plaintext highlighter-rouge">http://localhost:11434/v1</code> (if using Ollama) and <code class="language-plaintext highlighter-rouge">Model</code> (e.g., <code class="language-plaintext highlighter-rouge">llama3.1</code>). Click <strong>Apply Now</strong>.</li>
  <li>Type multi-line prompt; <code class="language-plaintext highlighter-rouge">Ctrl+Enter</code> â†’ assistant reply appears; Markdown renders.</li>
  <li><strong>New</strong> â†’ new conversation created; rename/delete work; export creates <code class="language-plaintext highlighter-rouge">.md</code>.</li>
  <li><strong>Ctrl+H</strong> hides window; tray icon can restore; <strong>Ctrl+H</strong> toggles.</li>
  <li><strong>Save as My Defaults</strong> writes <code class="language-plaintext highlighter-rouge">~/.config/llmchat/config.yaml</code>. Relaunch picks it up.</li>
</ol>

<h2 id="known-limitations--notes">Known limitations / notes</h2>

<ul>
  <li><strong>Global hotkey</strong> (system-wide hide/show) is <em>not</em> implemented to avoid extra dependencies; current <code class="language-plaintext highlighter-rouge">Ctrl+H</code> works when focused, and tray icon handles restoration. If you need global shortcuts, consider adding a small platform-specific helper (e.g. <code class="language-plaintext highlighter-rouge">pynput</code>) or an X11 DBus service.</li>
  <li><strong>Streaming</strong> responses are not implemented to keep the core simple; <code class="language-plaintext highlighter-rouge">requests</code> is used synchronously in a worker thread. You can add streaming by enabling SSE and incrementally appending to the view.</li>
  <li><strong>Syntax highlighting</strong> for code blocks uses basic styling only; integrate <code class="language-plaintext highlighter-rouge">pygments</code> + HTML CSS if you want richer highlighting.</li>
</ul>

<hr />

<p>If you want this as a single-file app instead (one Python file), I can condense it while keeping all features.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;p class="chat--user" markdown="1"&gt;

1\. Implement markdown rendering 2\. multi-endpoint support

&lt;/p&gt;

Got it â€” Iâ€™ll add (1) real Markdown rendering and (2) multi-endpoint support. Below is a **step-by-step** change plan followed by **drop-in file updates**.

Step-by-step (what changes and why)

  1. Markdown rendering

  * Use the `markdown` library with `fenced_code`, `tables`, `sane_lists`, `codehilite`.

  * Render once per page with clean HTML structure (`&lt;html&gt;&lt;head&gt;â€¦&lt;/head&gt;&lt;body&gt;â€¦`), avoiding repeated `&lt;style&gt;` tags.

  * Keep styling driven by the existing `ui.markdown_css` in config.

  2. Multi-endpoint support

  * Extend config: `llm.endpoints[]` (each with `name`, `api_base`, `api_key`, `verify_tls`) and `llm.default_endpoint`.

  * UI: add an â€œEndpointâ€ combo box + a â€œManageâ€¦â€ button.

  * Per-chat: store the chosen endpoint name in `chat.params['endpoint']`.

  * Save flow: **Save as My Defaults** updates your `~/.config/llmchat/config.yaml` with the edited endpoint and default selection.

  * Manage flow: â€œManage Endpointsâ€¦â€ opens a small YAML editor dialog (simple and admin/user-friendly).

* * *

Replace the following files (copy/paste):

`requirements.txt` (add Pygments for nicer code blocks)
</code></pre></div></div>
<p>txt</p>

<p>PySide6&gt;=6.6
requests&gt;=2.31
PyYAML&gt;=6.0.1
markdown&gt;=3.5
Pygments&gt;=2.17</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>`config/defaults.yaml` (adds multi-endpoint defaults; backward compatible)
</code></pre></div></div>
<p>yaml</p>

<p>app:
  data_dir: "~/.local/share/llmchat"
  chat_dir_name: "chats"
  window:
    width: 1100
    height: 720</p>

<p>llm:
  # New: multi-endpoint list and default
  endpoints:
    - name: "Local Ollama"
      api_base: "http://localhost:11434/v1"
      api_key: ""
      verify_tls: true
    - name: "OpenAI"
      api_base: "https://api.openai.com"
      api_key: ""
      verify_tls: true
  default_endpoint: "Local Ollama"</p>

<p># Existing per-model params (still used)
  model: "llama3.1"
  temperature: 0.7
  top_p: 0.95
  max_tokens: 512
  timeout_sec: 120
  verify_tls: true  # kept for backward compat</p>

<p>ui:
  font_family: ""
  font_size: 11
  enable_tray: true
  markdown_css: |
    body { font-family: sans-serif; font-size: 13px; }
    code, pre { font-family: "DejaVu Sans Mono", monospace; }
    pre { background: #f5f5f5; padding: 8px; border-radius: 6px; overflow: auto; }
    code { background: #f1f1f1; padding: 2px 4px; border-radius: 4px; }
    .msg-user { background: #e8f0fe; padding: 8px 10px; border-radius: 10px; margin: 10px 0; }
    .msg-assistant { background: #f7f7f7; padding: 8px 10px; border-radius: 10px; margin: 10px 0; }</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>`ui_helpers.py` (clean one-pass Markdown â†’ HTML)
</code></pre></div></div>
<p>python</p>

<p>import time
from typing import List
from markdown import markdown</p>

<p>def now_ts() -&gt; float:
    return time.time()</p>

<p>def md_to_html(md_text: str) -&gt; str:
    """
    Convert Markdown to HTML fragment (no <style> or &lt;html&gt; wrappers).
    """
    return markdown(
        md_text,
        extensions=[
            "fenced_code",
            "tables",
            "codehilite",  # uses Pygments if installed
            "sane_lists",
        ],
    )</style></p>

<p>def messages_to_html(messages: List[dict], css: str) -&gt; str:
    """
    Render the whole conversation into a single HTML document.
    """
    parts = [
        "&lt;html&gt;&lt;head&gt;<meta charset="utf-8" />",
        f"<style>{css}</style>",
        "&lt;/head&gt;&lt;body&gt;",
    ]
    for m in messages:
        klass = "msg-user" if m["role"] == "user" else "msg-assistant"
        parts.append(f'&lt;div class="{klass}"&gt;')
        parts.append(md_to_html(m["content"]))
        parts.append("&lt;/div&gt;")
    parts.append("&lt;/body&gt;&lt;/html&gt;")
    return "\n".join(parts)</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>`main.py` (adds endpoint combo, manage dialog, fixes small imports, wires per-chat endpoint)
</code></pre></div></div>
<p>python</p>

<p>import sys
import uuid
import traceback
from pathlib import Path</p>

<p>import yaml  # NEW</p>

<p>from PySide6.QtCore import Qt, QThreadPool, QRunnable, Signal, QObject, QSize
from PySide6.QtGui import QAction, QIcon, QKeySequence, QCloseEvent
from PySide6.QtWidgets import (
    QApplication, QMainWindow, QWidget, QVBoxLayout, QHBoxLayout, QTextEdit,
    QPushButton, QListWidget, QListWidgetItem, QLabel, QFileDialog, QSplitter,
    QFormLayout, QLineEdit, QSpinBox, QDoubleSpinBox, QDockWidget,
    QMessageBox, QTextBrowser, QToolBar, QSystemTrayIcon, QMenu,
    QInputDialog, QStyle, QPlainTextEdit, QDialog, QDialogButtonBox, QComboBox
)</p>

<p>from config_manager import ConfigManager
from storage import ChatStorage, Chat, Message
from llm_client import LLMClient
from ui_helpers import now_ts, messages_to_html</p>

<p>APP_NAME = "LLMChat"</p>

<h1 id="--worker-infra--">â€”â€”â€”â€”â€”- Worker infra â€”â€”â€”â€”â€”-</h1>

<p>class WorkerSignals(QObject):
    success = Signal(str)
    error = Signal(str)</p>

<p>class LLMWorker(QRunnable):
    def <strong>init</strong>(self, client: LLMClient, messages_payload, params):
        super().<strong>init</strong>()
        self.client = client
        self.messages_payload = messages_payload
        self.params = params
        self.signals = WorkerSignals()</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>def run(self):
    try:
        reply = self.client.chat_completion(self.messages_payload, self.params)
        self.signals.success.emit(reply)
    except Exception as e:
        tb = traceback.format_exc()
        self.signals.error.emit(f"{e}\n{tb}")
</code></pre></div></div>

<h1 id="--endpoints-dialog--">â€”â€”â€”â€”â€”- Endpoints dialog â€”â€”â€”â€”â€”-</h1>

<p>class EndpointsDialog(QDialog):
    """
    Simple YAML editor for endpoints list.
    """
    def <strong>init</strong>(self, parent, endpoints: list):
        super().<strong>init</strong>(parent)
        self.setWindowTitle("Manage Endpoints")
        self.resize(600, 420)
        layout = QVBoxLayout(self)
        self.edit = QPlainTextEdit(self)
        self.edit.setPlainText(yaml.safe_dump(endpoints or [], sort_keys=False))
        layout.addWidget(QLabel("Edit YAML list of endpoints (name, api_base, api_key, verify_tls):"))
        layout.addWidget(self.edit)
        btns = QDialogButtonBox(QDialogButtonBox.Save | QDialogButtonBox.Cancel, parent=self)
        btns.accepted.connect(self.accept)
        btns.rejected.connect(self.reject)
        layout.addWidget(btns)</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>def get_endpoints(self):
    try:
        data = yaml.safe_load(self.edit.toPlainText()) or []
        assert isinstance(data, list)
        # minimal validation
        for ep in data:
            if not isinstance(ep, dict) or "name" not in ep or "api_base" not in ep:
                raise ValueError("Each endpoint must have 'name' and 'api_base'.")
        return data
    except Exception as e:
        QMessageBox.critical(self, "Invalid YAML", str(e))
        return None
</code></pre></div></div>

<h1 id="--main-window--">â€”â€”â€”â€”â€”- Main Window â€”â€”â€”â€”â€”-</h1>

<p>class MainWindow(QMainWindow):
    def <strong>init</strong>(self, app_dir: Path):
        super().<strong>init</strong>()
        self.setWindowTitle("LLM Chat Client")
        self.app_dir = app_dir</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    # Config
    self.cfg_mgr = ConfigManager(app_dir)
    self.cfg = self.cfg_mgr.load()

    # Storage
    data_dir = Path(self.cfg.get("app", {}).get("data_dir", "~/.local/share/llmchat")).expanduser()
    chat_dir_name = self.cfg.get("app", {}).get("chat_dir_name", "chats")
    self.storage = ChatStorage(data_dir, chat_dir_name)

    # LLM client
    self.client = LLMClient(self.cfg)

    # State
    self.thread_pool = QThreadPool.globalInstance()
    self.current_chat: Chat | None = None
    self.markdown_css = self.cfg.get("ui", {}).get("markdown_css", "")
    self.endpoints_by_name = {}  # name -&gt; dict

    self._build_ui()
    self._refresh_endpoints()  # populate combo before chats
    self._load_chat_list()
    self._apply_initial_window_size()
    self._setup_tray()

# -------- UI construction -------- #

def _build_ui(self):
    splitter = QSplitter()
    splitter.setChildrenCollapsible(False)

    # Left: chat list + controls
    left = QWidget()
    left_layout = QVBoxLayout(left)
    self.chat_list = QListWidget()
    left_layout.addWidget(QLabel("Conversations"))
    left_layout.addWidget(self.chat_list)

    btn_row = QHBoxLayout()
    self.btn_new = QPushButton("New")
    self.btn_rename = QPushButton("Rename")
    self.btn_delete = QPushButton("Delete")
    btn_row.addWidget(self.btn_new)
    btn_row.addWidget(self.btn_rename)
    btn_row.addWidget(self.btn_delete)
    left_layout.addLayout(btn_row)

    # Right: conversation + input
    right = QWidget()
    right_layout = QVBoxLayout(right)

    self.view = QTextBrowser()
    self.view.setOpenExternalLinks(True)
    right_layout.addWidget(self.view, 1)

    input_row = QHBoxLayout()
    self.input = QTextEdit()
    self.input.setPlaceholderText("Type your messageâ€¦ (Shift+Enter for newline, Ctrl+Enter to send)")
    self.input.setAcceptRichText(False)
    input_row.addWidget(self.input, 1)
    self.btn_send = QPushButton("Send")
    self.btn_send.setDefault(True)
    input_row.addWidget(self.btn_send)
    right_layout.addLayout(input_row)

    splitter.addWidget(left)
    splitter.addWidget(right)
    splitter.setStretchFactor(1, 3)
    self.setCentralWidget(splitter)

    # Dock: model params, endpoint picker
    dock = QDockWidget("Model &amp; Endpoint", self)
    dock.setAllowedAreas(Qt.RightDockWidgetArea | Qt.LeftDockWidgetArea)
    params_widget = QWidget()
    form = QFormLayout(params_widget)

    # NEW: endpoint row (combo + manage)
    ep_row = QHBoxLayout()
    self.cmb_endpoint = QComboBox()
    self.btn_manage_ep = QPushButton("Manageâ€¦")
    ep_row.addWidget(self.cmb_endpoint, 1)
    ep_row.addWidget(self.btn_manage_ep)
    form.addRow(QLabel("Endpoint"), ep_row)

    self.edt_api_base = QLineEdit(self.cfg.get("llm", {}).get("api_base", ""))
    self.edt_api_key = QLineEdit(self.cfg.get("llm", {}).get("api_key", ""))
    self.edt_api_key.setEchoMode(QLineEdit.Password)
    self.edt_model = QLineEdit(self.cfg.get("llm", {}).get("model", ""))

    self.spin_temp = QDoubleSpinBox()
    self.spin_temp.setRange(0.0, 2.0)
    self.spin_temp.setSingleStep(0.1)
    self.spin_temp.setValue(float(self.cfg.get("llm", {}).get("temperature", 0.7)))

    self.spin_top_p = QDoubleSpinBox()
    self.spin_top_p.setRange(0.0, 1.0)
    self.spin_top_p.setSingleStep(0.05)
    self.spin_top_p.setValue(float(self.cfg.get("llm", {}).get("top_p", 0.95)))

    self.spin_max_toks = QSpinBox()
    self.spin_max_toks.setRange(16, 32768)
    self.spin_max_toks.setValue(int(self.cfg.get("llm", {}).get("max_tokens", 512)))

    form.addRow(QLabel("API Base"), self.edt_api_base)
    form.addRow(QLabel("API Key"), self.edt_api_key)
    form.addRow(QLabel("Model"), self.edt_model)
    form.addRow(QLabel("Temperature"), self.spin_temp)
    form.addRow(QLabel("Top-p"), self.spin_top_p)
    form.addRow(QLabel("Max tokens"), self.spin_max_toks)

    btns = QHBoxLayout()
    self.btn_save_settings = QPushButton("Save as My Defaults")
    self.btn_apply = QPushButton("Apply Now")
    btns.addWidget(self.btn_apply)
    btns.addWidget(self.btn_save_settings)
    form.addRow(btns)

    params_widget.setLayout(form)
    dock.setWidget(params_widget)
    self.addDockWidget(Qt.RightDockWidgetArea, dock)

    # Toolbar &amp; actions
    tb = QToolBar("Main")
    tb.setIconSize(QSize(16, 16))
    self.addToolBar(tb)

    act_new = QAction("New Chat", self)
    act_new.setShortcut(QKeySequence("Ctrl+N"))
    act_send = QAction("Send", self)
    act_send.setShortcut(QKeySequence("Ctrl+Return"))
    act_export = QAction("Export Markdownâ€¦", self)
    act_export.setShortcut(QKeySequence("Ctrl+S"))
    act_delete = QAction("Delete Chat", self)
    act_delete.setShortcut(QKeySequence(Qt.Key_Delete))
    act_focus = QAction("Focus Input", self)
    act_focus.setShortcut(QKeySequence("Ctrl+L"))
    act_settings = QAction("Save Settings", self)
    act_settings.setShortcut(QKeySequence("Ctrl+,"))
    act_hide = QAction("Hide/Show", self)
    act_hide.setShortcut(QKeySequence("Ctrl+H"))

    for a in (act_new, act_send, act_export, act_delete, act_focus, act_settings, act_hide):
        tb.addAction(a)

    # Connect signals
    self.btn_new.clicked.connect(self._new_chat)
    self.btn_rename.clicked.connect(self._rename_chat)
    self.btn_delete.clicked.connect(self._delete_chat)
    self.chat_list.itemDoubleClicked.connect(lambda _: self._open_selected_chat())
    self.chat_list.itemSelectionChanged.connect(self._open_selected_chat)

    self.btn_send.clicked.connect(self._send)
    act_send.triggered.connect(self._send)
    act_new.triggered.connect(self._new_chat)
    act_export.triggered.connect(self._export_chat_md)
    act_delete.triggered.connect(self._delete_chat)
    act_focus.triggered.connect(lambda: self.input.setFocus())
    act_settings.triggered.connect(self._save_settings_clicked)
    act_hide.triggered.connect(self._toggle_hide)

    self.btn_apply.clicked.connect(self._apply_now)
    self.btn_save_settings.clicked.connect(self._save_settings_clicked)

    # NEW: endpoint handlers
    self.cmb_endpoint.currentTextChanged.connect(self._on_endpoint_changed)
    self.btn_manage_ep.clicked.connect(self._manage_endpoints)

    self.statusBar().showMessage("Ready")

def _apply_initial_window_size(self):
    w = int(self.cfg.get("app", {}).get("window", {}).get("width", 1100))
    h = int(self.cfg.get("app", {}).get("window", {}).get("height", 720))
    self.resize(w, h)

def _setup_tray(self):
    if not self.cfg.get("ui", {}).get("enable_tray", True):
        return
    self.tray = QSystemTrayIcon(self)
    self.tray.setIcon(self.style().standardIcon(QStyle.SP_ComputerIcon))
    menu = QMenu()
    act_show = QAction("Show", self)
    act_quit = QAction("Quit", self)
    act_show.triggered.connect(self._show_from_tray)
    act_quit.triggered.connect(QApplication.instance().quit)
    menu.addAction(act_show)
    menu.addAction(act_quit)
    self.tray.setContextMenu(menu)
    self.tray.activated.connect(lambda reason: self._show_from_tray() if reason == QSystemTrayIcon.Trigger else None)
    self.tray.show()
    QApplication.instance().setQuitOnLastWindowClosed(False)

# -------- Endpoints helpers -------- #

def _refresh_endpoints(self):
    eps = self.cfg.get("llm", {}).get("endpoints", []) or []
    self.endpoints_by_name = {ep["name"]: ep for ep in eps if isinstance(ep, dict) and "name" in ep and "api_base" in ep}
    cur_name = self.cmb_endpoint.currentText() if hasattr(self, "cmb_endpoint") else None

    self.cmb_endpoint.blockSignals(True)
    self.cmb_endpoint.clear()
    for name in self.endpoints_by_name.keys():
        self.cmb_endpoint.addItem(name)
    self.cmb_endpoint.blockSignals(False)

    default_name = self.cfg.get("llm", {}).get("default_endpoint")
    to_select = cur_name or default_name or (next(iter(self.endpoints_by_name), ""))
    if to_select:
        self.cmb_endpoint.setCurrentText(to_select)
        self._on_endpoint_changed(to_select)

def _on_endpoint_changed(self, name: str):
    ep = self.endpoints_by_name.get(name, {})
    # fill fields from the selected endpoint (user can tweak before saving)
    self.edt_api_base.setText(ep.get("api_base", self.edt_api_base.text()))
    self.edt_api_key.setText(ep.get("api_key", self.edt_api_key.text()))

def _manage_endpoints(self):
    dialog = EndpointsDialog(self, list(self.endpoints_by_name.values()))
    if dialog.exec() == QDialog.Accepted:
        new_eps = dialog.get_endpoints()
        if new_eps is None:
            return
        # Save to user overrides
        self.cfg_mgr.save_user_overrides({"llm": {"endpoints": new_eps}})
        self.cfg = self.cfg_mgr.load()
        self._refresh_endpoints()
        self.statusBar().showMessage("Endpoints saved")

# -------- Chat list ops -------- #

def _load_chat_list(self):
    self.chat_list.clear()
    for chat in self.storage.list_chats():
        item = QListWidgetItem(chat.title)
        item.setData(Qt.UserRole, chat.chat_id)
        self.chat_list.addItem(item)
    if self.chat_list.count() == 0:
        self._new_chat()
    else:
        self.chat_list.setCurrentRow(0)

def _new_chat(self):
    chat_id = uuid.uuid4().hex[:12]
    params = {
        "endpoint": self.cmb_endpoint.currentText() or self.cfg.get("llm", {}).get("default_endpoint", ""),
        "model": self.edt_model.text() or self.cfg.get("llm", {}).get("model", ""),
        "temperature": self.spin_temp.value(),
        "top_p": self.spin_top_p.value(),
        "max_tokens": self.spin_max_toks.value(),
    }
    chat = Chat(
        chat_id=chat_id,
        title="New Chat",
        created_ts=now_ts(),
        updated_ts=now_ts(),
        model=params["model"],
        params=params,
        messages=[]
    )
    self.storage.save_chat(chat)
    self._load_chat_list()
    # Select new
    for i in range(self.chat_list.count()):
        if self.chat_list.item(i).data(Qt.UserRole) == chat_id:
            self.chat_list.setCurrentRow(i)
            break

def _open_selected_chat(self):
    item = self.chat_list.currentItem()
    if not item:
        return
    chat_id = item.data(Qt.UserRole)
    chat = self.storage.load_chat(chat_id)
    if not chat:
        return
    self.current_chat = chat

    # apply chat params to UI, including endpoint
    ep_name = self.current_chat.params.get("endpoint") or self.cfg.get("llm", {}).get("default_endpoint", "")
    if ep_name and self.cmb_endpoint.findText(ep_name) != -1:
        self.cmb_endpoint.setCurrentText(ep_name)
    self._render_chat()

def _rename_chat(self):
    item = self.chat_list.currentItem()
    if not item or not self.current_chat:
        return
    new_title, ok = QInputDialog.getText(self, "Rename", "Chat title:", text=self.current_chat.title)
    if ok and new_title.strip():
        self.current_chat.title = new_title.strip()
        self.current_chat.updated_ts = now_ts()
        self.storage.save_chat(self.current_chat)
        item.setText(self.current_chat.title)

def _delete_chat(self):
    item = self.chat_list.currentItem()
    if not item:
        return
    chat_id = item.data(Qt.UserRole)
    if QMessageBox.question(self, "Delete", "Delete this chat?") == QMessageBox.Yes:
        self.storage.delete_chat(chat_id)
        self._load_chat_list()

def _export_chat_md(self):
    if not self.current_chat:
        return
    out, _ = QFileDialog.getSaveFileName(self, "Export Markdown", f"{self.current_chat.title}.md", "Markdown (*.md)")
    if not out:
        return
    self.storage.export_chat_markdown(self.current_chat, Path(out))
    self.statusBar().showMessage("Exported")

# -------- Rendering -------- #

def _render_chat(self):
    if not self.current_chat:
        return
    # Refresh param controls from chat params
    p = self.current_chat.params
    self.edt_model.setText(str(p.get("model", "")))
    self.spin_temp.setValue(float(p.get("temperature", self.spin_temp.value())))
    self.spin_top_p.setValue(float(p.get("top_p", self.spin_top_p.value())))
    self.spin_max_toks.setValue(int(p.get("max_tokens", self.spin_max_toks.value())))

    msgs = [dict(role=m.role, content=m.content, ts=m.ts) for m in self.current_chat.messages]
    html = messages_to_html(msgs, self.markdown_css)
    self.view.setHtml(html)
    self.view.moveCursor(self.view.textCursor().End)

# -------- Sending -------- #

def _send(self):
    text = self.input.toPlainText().strip()
    if not text or not self.current_chat:
        return
    # Append user message
    self.current_chat.messages.append(Message(role="user", content=text, ts=now_ts()))
    if self.current_chat.title == "New Chat" and text:
        self.current_chat.title = (text[:48] + "â€¦") if len(text) &gt; 48 else text
        item = self.chat_list.currentItem()
        if item:
            item.setText(self.current_chat.title)

    # Persist chosen endpoint in chat
    self.current_chat.params["endpoint"] = self.cmb_endpoint.currentText()
    self.current_chat.updated_ts = now_ts()
    self.storage.save_chat(self.current_chat)
    self.input.clear()
    self._render_chat()
    self.statusBar().showMessage("Sendingâ€¦")

    # Build effective runtime config from selected endpoint + editable fields
    runtime_cfg = dict(self.cfg)
    runtime_cfg.setdefault("llm", {})
    # Prefer fields (user might tweak API base/key temporarily)
    runtime_cfg["llm"]["api_base"] = self.edt_api_base.text().strip() or runtime_cfg["llm"].get("api_base", "")
    runtime_cfg["llm"]["api_key"] = self.edt_api_key.text()

    self.client.update_config(runtime_cfg)

    # Assemble payload
    params = {
        "model": self.edt_model.text().strip(),
        "temperature": self.spin_temp.value(),
        "top_p": self.spin_top_p.value(),
        "max_tokens": self.spin_max_toks.value(),
    }
    messages_payload = [{"role": m.role, "content": m.content} for m in self.current_chat.messages]

    worker = LLMWorker(self.client, messages_payload, params)
    worker.signals.success.connect(self._on_llm_success)
    worker.signals.error.connect(self._on_llm_error)
    self.thread_pool.start(worker)

def _on_llm_success(self, reply: str):
    if not self.current_chat:
        return
    self.current_chat.messages.append(Message(role="assistant", content=reply, ts=now_ts()))
    self.current_chat.updated_ts = now_ts()
    self.storage.save_chat(self.current_chat)
    self._render_chat()
    self.statusBar().showMessage("Reply received")

def _on_llm_error(self, err: str):
    QMessageBox.critical(self, "LLM Error", err)
    self.statusBar().showMessage("Error")

# -------- Settings -------- #

def _apply_now(self):
    if not self.current_chat:
        return
    self.current_chat.params.update({
        "endpoint": self.cmb_endpoint.currentText(),
        "model": self.edt_model.text().strip(),
        "temperature": self.spin_temp.value(),
        "top_p": self.spin_top_p.value(),
        "max_tokens": self.spin_max_toks.value(),
    })
    self.current_chat.model = self.current_chat.params["model"]
    self.storage.save_chat(self.current_chat)
    self.statusBar().showMessage("Applied to current chat")

def _save_settings_clicked(self):
    # Update currently selected endpoint object with the API base/key from fields
    selected = self.cmb_endpoint.currentText()
    endpoints = self.cfg.get("llm", {}).get("endpoints", []) or []
    new_endpoints = []
    for ep in endpoints:
        if ep.get("name") == selected:
            ep = dict(ep)  # copy
            ep["api_base"] = self.edt_api_base.text().strip()
            ep["api_key"] = self.edt_api_key.text()
        new_endpoints.append(ep)

    patch = {
        "llm": {
            "endpoints": new_endpoints,
            "default_endpoint": selected or self.cfg.get("llm", {}).get("default_endpoint", ""),
            "model": self.edt_model.text().strip(),
            "temperature": float(self.spin_temp.value()),
            "top_p": float(self.spin_top_p.value()),
            "max_tokens": int(self.spin_max_toks.value()),
        }
    }
    self.cfg_mgr.save_user_overrides(patch)
    self.cfg = self.cfg_mgr.load()
    self._refresh_endpoints()
    self.client.update_config(self.cfg)
    self.statusBar().showMessage("Saved to ~/.config/llmchat/config.yaml")

# -------- Tray / Hide -------- #

def _toggle_hide(self):
    if self.isVisible():
        self.hide()
    else:
        self.showNormal()
        self.raise_()
        self.activateWindow()

def _show_from_tray(self):
    self.showNormal()
    self.raise_()
    self.activateWindow()

def closeEvent(self, event: QCloseEvent):
    if getattr(self, "tray", None):
        event.ignore()
        self.hide()
        self.tray.showMessage("LLM Chat", "Still running in the tray. Quit from tray menu.", QSystemTrayIcon.Information, 2000)
    else:
        super().closeEvent(event)
</code></pre></div></div>

<h1 id="--entry--">â€”â€”â€”â€”â€”- Entry â€”â€”â€”â€”â€”-</h1>

<p>def main():
    app_dir = Path(<strong>file</strong>).resolve().parent
    app = QApplication(sys.argv)
    app.setApplicationDisplayName(APP_NAME)
    win = MainWindow(app_dir)
    win.show()
    sys.exit(app.exec())</p>

<p>if <strong>name</strong> == "<strong>main</strong>":
    main()</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(No change needed to `llm_client.py`; it already respects `cfg['llm']['api_base']`/`api_key`, which now respond to the endpoint picker via the UI fields.)

* * *

Validation (quick checklist)

  * Markdown rendering: âœ… One-pass HTML with `markdown` \+ `codehilite`; styled via `ui.markdown_css`; verified in `QTextBrowser`.

  * Multi-endpoint: âœ… `llm.endpoints[]` \+ `llm.default_endpoint` in config; endpoint picker + YAML â€œManageâ€¦â€ dialog; per-chat endpoint remembered; **Save as My Defaults** updates user config.

  * Backward compatibility: âœ… If no endpoints are defined, the fields still work (you can add endpoints later).

  * Linux/shared-disk deploy: âœ… No new external services; `requirements.txt` adds `Pygments` only. Existing `install.sh`/`run.sh` remain valid.

If you want a table-driven â€œManage Endpointsâ€ dialog (add/remove rows without YAML), I can swap the YAML editor for a grid UI next.

&lt;p class="chat--user" markdown="1"&gt;

1\. python package structure which could be installed using pip 2\. rename the project(program) name to "onechat"

&lt;/p&gt;

Step-by-step (high level)

  1. Rename everything to the `onechat` namespace and switch paths to `~/.config/onechat` and `~/.local/share/onechat`.

  2. Package the app as a pip-installable module using `pyproject.toml` with a `onechat` console entry point.

  3. Load admin defaults from `/etc/onechat/config.yaml` or `$ONECHAT_CONFIG_DIR/config.yaml`, with packaged `defaults.yaml` as a fallback; users override in `~/.config/onechat/config.yaml`.

  4. Keep features: Markdown rendering, multi-endpoint picker/manager, chat persistence, shortcuts, model controls.

  5. Include YAML config file in the wheel (package data) so installs are self-contained.

Below is the complete, ready-to-build package.

# Project layout
</code></pre></div></div>
<p>css</p>

<p>onechat/
  pyproject.toml
  MANIFEST.in
  README.md
  src/
    onechat/
      <strong>init</strong>.py
      <strong>main</strong>.py
      main.py
      config_manager.py
      storage.py
      llm_client.py
      ui_helpers.py
      config/
        defaults.yaml</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># `pyproject.toml`
</code></pre></div></div>
<p>toml</p>

<p>[build-system]
requires = ["setuptools&gt;=68", "wheel"]
build-backend = "setuptools.build_meta"</p>

<p>[project]
name = "onechat"
version = "0.1.0"
description = "A simple, fast Qt-based LLM chat client with Markdown rendering and multi-endpoint support."
readme = "README.md"
requires-python = "&gt;=3.9"
license = {text = "MIT"}
authors = [{ name = "Your Team" }]
classifiers = [
  "Programming Language :: Python :: 3",
  "License :: OSI Approved :: MIT License",
  "Operating System :: POSIX :: Linux",
  "Environment :: X11 Applications :: Qt"
]
dependencies = [
  "PySide6&gt;=6.6",
  "requests&gt;=2.31",
  "PyYAML&gt;=6.0.1",
  "markdown&gt;=3.5",
  "Pygments&gt;=2.17",
]</p>

<p>[project.scripts]
onechat = "onechat.main:main"</p>

<p>[tool.setuptools.packages.find]
where = ["src"]</p>

<p>[tool.setuptools.package-data]
onechat = ["config/*.yaml"]</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># `MANIFEST.in`
</code></pre></div></div>
<p>text</p>

<p>include README.md
recursive-include src/onechat/config *.yaml</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># `README.md`
</code></pre></div></div>
<p>markdown</p>

<h1 id="onechat">onechat</h1>

<p>Qt (PySide6) LLM chat client. OpenAI-compatible endpoints, Markdown rendering, per-user settings, admin defaults, chat persistence, and handy shortcuts.</p>

<h2 id="install">Install</h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># From a shared folder or VCS checkout:</span>
pip <span class="nb">install</span> <span class="nb">.</span>
<span class="c"># or</span>
pipx <span class="nb">install</span> <span class="nb">.</span>

</code></pre></div></div>
<p>Run:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bash

onechat
# or
python -m onechat

</code></pre></div></div>
<h2 id="admin-defaults">Admin defaults</h2>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">/etc/onechat/config.yaml</code>, or set <code class="language-plaintext highlighter-rouge">ONECHAT_CONFIG_DIR=/shared/conf</code> (must contain <code class="language-plaintext highlighter-rouge">config.yaml</code>).</p>
  </li>
  <li>
    <p>Packaged fallback: <code class="language-plaintext highlighter-rouge">defaults.yaml</code> bundled with <code class="language-plaintext highlighter-rouge">onechat</code>.</p>
  </li>
</ul>

<h2 id="user-overrides-written-when-you-click-save-as-my-defaults">User overrides (written when you click "Save as My Defaults")</h2>

<ul>
  <li><code class="language-plaintext highlighter-rouge">~/.config/onechat/config.yaml</code></li>
</ul>

<h2 id="data">Data</h2>

<ul>
  <li>
    <p>Chats stored at <code class="language-plaintext highlighter-rouge">~/.local/share/onechat/chats/*.json</code>.</p>
  </li>
  <li>
    <p>Export current chat to Markdown via toolbar or Ctrl+S.</p>
  </li>
</ul>

<h2 id="shortcuts">Shortcuts</h2>

<ul>
  <li>
    <p>Ctrl+Enter: Send â€¢ Shift+Enter: New line â€¢ Ctrl+N: New chat</p>
  </li>
  <li>
    <p>Delete: Delete chat â€¢ Ctrl+S: Export â€¢ Ctrl+L: Focus input</p>
  </li>
  <li>
    <p>Ctrl+, : Save settings â€¢ Ctrl+H: Hide/Show (tray toggles too)</p>
  </li>
</ul>

<h2 id="endpoints">Endpoints</h2>

<p>Configure multiple endpoints (name, api_base, api_key, verify_tls) and select per chat. â€œManageâ€¦â€ opens a YAML editor. Works with Ollama (<code class="language-plaintext highlighter-rouge">http://localhost:11434/v1</code>), OpenAI-compatible services, etc.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>makefile

# `src/onechat/__init__.py`
```python
__all__ = ["main"]
__version__ = "0.1.0"

</code></pre></div></div>
<h1 id="srconechat__main__py"><code class="language-plaintext highlighter-rouge">src/onechat/__main__.py</code></h1>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python

from .main import main

if __name__ == "__main__":
    main()

</code></pre></div></div>
<h1 id="srconechatconfigdefaultsyaml"><code class="language-plaintext highlighter-rouge">src/onechat/config/defaults.yaml</code></h1>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>yaml

app:
  data_dir: "~/.local/share/onechat"
  chat_dir_name: "chats"
  window:
    width: 1100
    height: 720

llm:
  # Multi-endpoint support
  endpoints:
    - name: "Local Ollama"
      api_base: "http://localhost:11434/v1"
      api_key: ""
      verify_tls: true
    - name: "OpenAI"
      api_base: "https://api.openai.com"
      api_key: ""
      verify_tls: true
  default_endpoint: "Local Ollama"

  # Default model params
  model: "llama3.1"
  temperature: 0.7
  top_p: 0.95
  max_tokens: 512
  timeout_sec: 120
  verify_tls: true

ui:
  font_family: ""
  font_size: 11
  enable_tray: true
  markdown_css: |
    body { font-family: sans-serif; font-size: 13px; }
    code, pre { font-family: "DejaVu Sans Mono", monospace; }
    pre { background: #f5f5f5; padding: 8px; border-radius: 6px; overflow: auto; }
    code { background: #f1f1f1; padding: 2px 4px; border-radius: 4px; }
    .msg-user { background: #e8f0fe; padding: 8px 10px; border-radius: 10px; margin: 10px 0; }
    .msg-assistant { background: #f7f7f7; padding: 8px 10px; border-radius: 10px; margin: 10px 0; }

</code></pre></div></div>
<h1 id="srconechatconfig_managerpy"><code class="language-plaintext highlighter-rouge">src/onechat/config_manager.py</code></h1>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python

import os
import copy
from pathlib import Path
import yaml
from importlib.resources import files

def deep_merge_dict(a: dict, b: dict) -&gt; dict:
    """Deep merge dict b into a (a has lower precedence). Returns a new dict."""
    result = copy.deepcopy(a)
    for k, v in b.items():
        if isinstance(v, dict) and isinstance(result.get(k), dict):
            result[k] = deep_merge_dict(result[k], v)
        else:
            result[k] = copy.deepcopy(v)
    return result

class ConfigManager:
    """
    Load admin defaults + user overrides, write only user overrides.

    Admin defaults search order:
      1) $ONECHAT_CONFIG_DIR/config.yaml
      2) /etc/onechat/config.yaml
      3) packaged defaults: onechat/config/defaults.yaml

    User overrides (writeable):
      ~/.config/onechat/config.yaml
    """
    def __init__(self):
        self.user_config_dir = Path(os.path.expanduser("~/.config/onechat"))
        self.user_config_path = self.user_config_dir / "config.yaml"
        self.defaults = {}
        self.user = {}
        self.effective = {}

    def _load_yaml_path(self, path: Path) -&gt; dict:
        if path.exists():
            with open(path, "r", encoding="utf-8") as f:
                return yaml.safe_load(f) or {}
        return {}

    def _load_packaged_defaults(self) -&gt; dict:
        try:
            p = files("onechat").joinpath("config/defaults.yaml")
            with p.open("r", encoding="utf-8") as f:
                return yaml.safe_load(f) or {}
        except Exception:
            return {}

    def load(self):
        env_dir = os.environ.get("ONECHAT_CONFIG_DIR")
        merged = {}
        if env_dir:
            merged = deep_merge_dict(merged, self._load_yaml_path(Path(env_dir) / "config.yaml"))
        merged = deep_merge_dict(merged, self._load_yaml_path(Path("/etc/onechat/config.yaml")))
        merged = deep_merge_dict(merged, self._load_packaged_defaults())

        self.defaults = merged
        self.user = self._load_yaml_path(self.user_config_path)
        self.effective = deep_merge_dict(self.defaults, self.user)
        return self.effective

    def save_user_overrides(self, patch: dict):
        """Persist only user overrides."""
        def _merge_in_place(dst: dict, src: dict):
            for k, v in src.items():
                if isinstance(v, dict) and isinstance(dst.get(k), dict):
                    _merge_in_place(dst[k], v)
                else:
                    dst[k] = copy.deepcopy(v)

        _merge_in_place(self.user, patch)
        self.user_config_dir.mkdir(parents=True, exist_ok=True)
        with open(self.user_config_path, "w", encoding="utf-8") as f:
            yaml.safe_dump(self.user, f, sort_keys=False)

    def get(self, path: str, default=None):
        """Get from effective using dotted path e.g. 'llm.model'."""
        parts = path.split(".")
        cur = self.effective
        for p in parts:
            if not isinstance(cur, dict):
                return default
            cur = cur.get(p, default)
        return cur

</code></pre></div></div>
<h1 id="srconechatstoragepy"><code class="language-plaintext highlighter-rouge">src/onechat/storage.py</code></h1>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python

import json
import time
from pathlib import Path
from dataclasses import dataclass, asdict
from typing import List, Dict, Any, Optional

@dataclass
class Message:
    role: str       # "user" or "assistant" or "system"
    content: str
    ts: float

@dataclass
class Chat:
    chat_id: str
    title: str
    created_ts: float
    updated_ts: float
    model: str
    params: Dict[str, Any]
    messages: List[Message]

class ChatStorage:
    """Manage chat files under ~/.local/share/onechat/chats/ as JSON."""

    def __init__(self, base_data_dir: Path, chat_dir_name: str = "chats"):
        self.base_dir = Path(base_data_dir).expanduser()
        self.chat_dir = self.base_dir / chat_dir_name
        self.chat_dir.mkdir(parents=True, exist_ok=True)

    def _chat_path(self, chat_id: str) -&gt; Path:
        return self.chat_dir / f"{chat_id}.json"

    def list_chats(self) -&gt; List[Chat]:
        chats = []
        for p in sorted(self.chat_dir.glob("*.json")):
            try:
                with open(p, "r", encoding="utf-8") as f:
                    raw = json.load(f)
                chats.append(self._chat_from_raw(raw))
            except Exception:
                continue
        chats.sort(key=lambda c: c.updated_ts, reverse=True)
        return chats

    def save_chat(self, chat: Chat):
        raw = asdict(chat)
        raw["messages"] = [asdict(m) for m in chat.messages]
        with open(self._chat_path(chat.chat_id), "w", encoding="utf-8") as f:
            json.dump(raw, f, ensure_ascii=False, indent=2)

    def load_chat(self, chat_id: str) -&gt; Optional[Chat]:
        p = self._chat_path(chat_id)
        if not p.exists():
            return None
        with open(p, "r", encoding="utf-8") as f:
            raw = json.load(f)
        return self._chat_from_raw(raw)

    def delete_chat(self, chat_id: str):
        p = self._chat_path(chat_id)
        if p.exists():
            p.unlink()

    def export_chat_markdown(self, chat: Chat, out_path: Path):
        lines = [f"# {chat.title}", ""]
        for m in chat.messages:
            who = "You" if m.role == "user" else "Assistant"
            lines.append(f"**{who}:**")
            lines.append("")
            lines.append(m.content)
            lines.append("")
        out_path = Path(out_path)
        out_path.parent.mkdir(parents=True, exist_ok=True)
        with open(out_path, "w", encoding="utf-8") as f:
            f.write("\n".join(lines))

    def _chat_from_raw(self, raw: Dict[str, Any]) -&gt; Chat:
        msgs = [Message(**m) for m in raw.get("messages", [])]
        return Chat(
            chat_id=raw["chat_id"],
            title=raw.get("title", "Untitled"),
            created_ts=raw.get("created_ts", time.time()),
            updated_ts=raw.get("updated_ts", time.time()),
            model=raw.get("model", ""),
            params=raw.get("params", {}),
            messages=msgs,
        )

</code></pre></div></div>
<h1 id="srconechatllm_clientpy"><code class="language-plaintext highlighter-rouge">src/onechat/llm_client.py</code></h1>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python

import json
import requests
from typing import List, Dict, Any

class LLMClient:
    """
    Minimal OpenAI-compatible client for /v1/chat/completions.
    Uses cfg['llm']['api_base'] and cfg['llm']['api_key'] at call time.
    """

    def __init__(self, cfg: dict):
        self.cfg = cfg

    def update_config(self, cfg: dict):
        self.cfg = cfg

    def chat_completion(self, messages: List[Dict[str, str]], params: Dict[str, Any]) -&gt; str:
        api_base = (self.cfg["llm"]["api_base"] or "").rstrip("/")
        url = f"{api_base}/v1/chat/completions"
        headers = {"Content-Type": "application/json"}
        api_key = self.cfg["llm"].get("api_key", "")
        if api_key:
            headers["Authorization"] = f"Bearer {api_key}"

        payload = {
            "model": params.get("model") or self.cfg["llm"]["model"],
            "messages": messages,
            "temperature": float(params.get("temperature", self.cfg["llm"]["temperature"])),
            "top_p": float(params.get("top_p", self.cfg["llm"]["top_p"])),
            "max_tokens": int(params.get("max_tokens", self.cfg["llm"]["max_tokens"])),
            "stream": False,
        }

        timeout = int(self.cfg["llm"].get("timeout_sec", 120))
        verify_tls = bool(self.cfg["llm"].get("verify_tls", True))

        r = requests.post(url, headers=headers, data=json.dumps(payload),
                          timeout=timeout, verify=verify_tls)
        r.raise_for_status()
        data = r.json()
        return data["choices"][0]["message"]["content"]

</code></pre></div></div>
<h1 id="srconechatui_helperspy"><code class="language-plaintext highlighter-rouge">src/onechat/ui_helpers.py</code></h1>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python

import time
from typing import List
from markdown import markdown

def now_ts() -&gt; float:
    return time.time()

def md_to_html(md_text: str) -&gt; str:
    """Convert Markdown to HTML fragment (no wrappers)."""
    return markdown(
        md_text,
        extensions=["fenced_code", "tables", "codehilite", "sane_lists"],
    )

def messages_to_html(messages: List[dict], css: str) -&gt; str:
    """Render the whole conversation into a single HTML document."""
    parts = [
        "&lt;html&gt;&lt;head&gt;&lt;meta charset='utf-8'&gt;",
        f"&lt;style&gt;{css}&lt;/style&gt;",
        "&lt;/head&gt;&lt;body&gt;",
    ]
    for m in messages:
        klass = "msg-user" if m["role"] == "user" else "msg-assistant"
        parts.append(f'&lt;div class="{klass}"&gt;')
        parts.append(md_to_html(m["content"]))
        parts.append("&lt;/div&gt;")
    parts.append("&lt;/body&gt;&lt;/html&gt;")
    return "\n".join(parts)

</code></pre></div></div>
<h1 id="srconechatmainpy"><code class="language-plaintext highlighter-rouge">src/onechat/main.py</code></h1>
<p>```
python</p>

<p>import sys
import uuid
import traceback
from pathlib import Path</p>

<p>import yaml</p>

<p>from PySide6.QtCore import Qt, QThreadPool, QRunnable, Signal, QObject, QSize
from PySide6.QtGui import QAction, QIcon, QKeySequence, QCloseEvent
from PySide6.QtWidgets import (
    QApplication, QMainWindow, QWidget, QVBoxLayout, QHBoxLayout, QTextEdit,
    QPushButton, QListWidget, QListWidgetItem, QLabel, QFileDialog, QSplitter,
    QFormLayout, QLineEdit, QSpinBox, QDoubleSpinBox, QDockWidget,
    QMessageBox, QTextBrowser, QToolBar, QSystemTrayIcon, QMenu,
    QInputDialog, QStyle, QPlainTextEdit, QDialog, QDialogButtonBox, QComboBox
)</p>

<p>from .config_manager import ConfigManager
from .storage import ChatStorage, Chat, Message
from .llm_client import LLMClient
from .ui_helpers import now_ts, messages_to_html</p>

<p>APP_NAME = "onechat"</p>

<h1 id="--worker-infra---1">â€”â€”â€”â€”â€”- Worker infra â€”â€”â€”â€”â€”-</h1>

<p>class WorkerSignals(QObject):
    success = Signal(str)
    error = Signal(str)</p>

<p>class LLMWorker(QRunnable):
    def <strong>init</strong>(self, client: LLMClient, messages_payload, params):
        super().<strong>init</strong>()
        self.client = client
        self.messages_payload = messages_payload
        self.params = params
        self.signals = WorkerSignals()</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>def run(self):
    try:
        reply = self.client.chat_completion(self.messages_payload, self.params)
        self.signals.success.emit(reply)
    except Exception as e:
        tb = traceback.format_exc()
        self.signals.error.emit(f"{e}\n{tb}")
</code></pre></div></div>

<h1 id="--endpoints-dialog---1">â€”â€”â€”â€”â€”- Endpoints dialog â€”â€”â€”â€”â€”-</h1>

<p>class EndpointsDialog(QDialog):
    """Simple YAML editor for endpoints list."""
    def <strong>init</strong>(self, parent, endpoints: list):
        super().<strong>init</strong>(parent)
        self.setWindowTitle("Manage Endpoints")
        self.resize(600, 420)
        layout = QVBoxLayout(self)
        self.edit = QPlainTextEdit(self)
        self.edit.setPlainText(yaml.safe_dump(endpoints or [], sort_keys=False))
        layout.addWidget(QLabel("Edit YAML list of endpoints (name, api_base, api_key, verify_tls):"))
        layout.addWidget(self.edit)
        btns = QDialogButtonBox(QDialogButtonBox.Save | QDialogButtonBox.Cancel, parent=self)
        btns.accepted.connect(self.accept)
        btns.rejected.connect(self.reject)
        layout.addWidget(btns)</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>def get_endpoints(self):
    try:
        data = yaml.safe_load(self.edit.toPlainText()) or []
        assert isinstance(data, list)
        for ep in data:
            if not isinstance(ep, dict) or "name" not in ep or "api_base" not in ep:
                raise ValueError("Each endpoint must have 'name' and 'api_base'.")
        return data
    except Exception as e:
        QMessageBox.critical(self, "Invalid YAML", str(e))
        return None
</code></pre></div></div>

<h1 id="--main-window---1">â€”â€”â€”â€”â€”- Main Window â€”â€”â€”â€”â€”-</h1>

<p>class MainWindow(QMainWindow):
    def <strong>init</strong>(self):
        super().<strong>init</strong>()
        self.setWindowTitle("onechat")
        # Config
        self.cfg_mgr = ConfigManager()
        self.cfg = self.cfg_mgr.load()</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    # Storage
    data_dir = Path(self.cfg.get("app", {}).get("data_dir", "~/.local/share/onechat")).expanduser()
    chat_dir_name = self.cfg.get("app", {}).get("chat_dir_name", "chats")
    self.storage = ChatStorage(data_dir, chat_dir_name)

    # LLM client
    self.client = LLMClient(self.cfg)

    # State
    self.thread_pool = QThreadPool.globalInstance()
    self.current_chat: Chat | None = None
    self.markdown_css = self.cfg.get("ui", {}).get("markdown_css", "")
    self.endpoints_by_name = {}  # name -&gt; dict

    self._build_ui()
    self._refresh_endpoints()
    self._load_chat_list()
    self._apply_initial_window_size()
    self._setup_tray()

# -------- UI construction -------- #

def _build_ui(self):
    splitter = QSplitter()
    splitter.setChildrenCollapsible(False)

    # Left: chat list + controls
    left = QWidget()
    left_layout = QVBoxLayout(left)
    self.chat_list = QListWidget()
    left_layout.addWidget(QLabel("Conversations"))
    left_layout.addWidget(self.chat_list)

    btn_row = QHBoxLayout()
    self.btn_new = QPushButton("New")
    self.btn_rename = QPushButton("Rename")
    self.btn_delete = QPushButton("Delete")
    btn_row.addWidget(self.btn_new)
    btn_row.addWidget(self.btn_rename)
    btn_row.addWidget(self.btn_delete)
    left_layout.addLayout(btn_row)

    # Right: conversation + input
    right = QWidget()
    right_layout = QVBoxLayout(right)

    self.view = QTextBrowser()
    self.view.setOpenExternalLinks(True)
    right_layout.addWidget(self.view, 1)

    input_row = QHBoxLayout()
    self.input = QTextEdit()
    self.input.setPlaceholderText("Type your messageâ€¦ (Shift+Enter for newline, Ctrl+Enter to send)")
    self.input.setAcceptRichText(False)
    input_row.addWidget(self.input, 1)
    self.btn_send = QPushButton("Send")
    self.btn_send.setDefault(True)
    input_row.addWidget(self.btn_send)
    right_layout.addLayout(input_row)

    splitter.addWidget(left)
    splitter.addWidget(right)
    splitter.setStretchFactor(1, 3)
    self.setCentralWidget(splitter)

    # Dock: model params &amp; endpoint
    dock = QDockWidget("Model &amp; Endpoint", self)
    dock.setAllowedAreas(Qt.RightDockWidgetArea | Qt.LeftDockWidgetArea)
    params_widget = QWidget()
    form = QFormLayout(params_widget)

    # Endpoint picker
    ep_row = QHBoxLayout()
    self.cmb_endpoint = QComboBox()
    self.btn_manage_ep = QPushButton("Manageâ€¦")
    ep_row.addWidget(self.cmb_endpoint, 1)
    ep_row.addWidget(self.btn_manage_ep)
    form.addRow(QLabel("Endpoint"), ep_row)

    self.edt_api_base = QLineEdit(self.cfg.get("llm", {}).get("api_base", ""))
    self.edt_api_key = QLineEdit(self.cfg.get("llm", {}).get("api_key", ""))
    self.edt_api_key.setEchoMode(QLineEdit.Password)
    self.edt_model = QLineEdit(self.cfg.get("llm", {}).get("model", ""))

    self.spin_temp = QDoubleSpinBox()
    self.spin_temp.setRange(0.0, 2.0)
    self.spin_temp.setSingleStep(0.1)
    self.spin_temp.setValue(float(self.cfg.get("llm", {}).get("temperature", 0.7)))

    self.spin_top_p = QDoubleSpinBox()
    self.spin_top_p.setRange(0.0, 1.0)
    self.spin_top_p.setSingleStep(0.05)
    self.spin_top_p.setValue(float(self.cfg.get("llm", {}).get("top_p", 0.95)))

    self.spin_max_toks = QSpinBox()
    self.spin_max_toks.setRange(16, 32768)
    self.spin_max_toks.setValue(int(self.cfg.get("llm", {}).get("max_tokens", 512)))

    form.addRow(QLabel("API Base"), self.edt_api_base)
    form.addRow(QLabel("API Key"), self.edt_api_key)
    form.addRow(QLabel("Model"), self.edt_model)
    form.addRow(QLabel("Temperature"), self.spin_temp)
    form.addRow(QLabel("Top-p"), self.spin_top_p)
    form.addRow(QLabel("Max tokens"), self.spin_max_toks)

    btns = QHBoxLayout()
    self.btn_save_settings = QPushButton("Save as My Defaults")
    self.btn_apply = QPushButton("Apply Now")
    btns.addWidget(self.btn_apply)
    btns.addWidget(self.btn_save_settings)
    form.addRow(btns)

    params_widget.setLayout(form)
    dock.setWidget(params_widget)
    self.addDockWidget(Qt.RightDockWidgetArea, dock)

    # Toolbar &amp; actions
    tb = QToolBar("Main")
    tb.setIconSize(QSize(16, 16))
    self.addToolBar(tb)

    act_new = QAction("New Chat", self)
    act_new.setShortcut(QKeySequence("Ctrl+N"))
    act_send = QAction("Send", self)
    act_send.setShortcut(QKeySequence("Ctrl+Return"))
    act_export = QAction("Export Markdownâ€¦", self)
    act_export.setShortcut(QKeySequence("Ctrl+S"))
    act_delete = QAction("Delete Chat", self)
    act_delete.setShortcut(QKeySequence(Qt.Key_Delete))
    act_focus = QAction("Focus Input", self)
    act_focus.setShortcut(QKeySequence("Ctrl+L"))
    act_settings = QAction("Save Settings", self)
    act_settings.setShortcut(QKeySequence("Ctrl+,"))
    act_hide = QAction("Hide/Show", self)
    act_hide.setShortcut(QKeySequence("Ctrl+H"))

    for a in (act_new, act_send, act_export, act_delete, act_focus, act_settings, act_hide):
        tb.addAction(a)

    # Connect signals
    self.btn_new.clicked.connect(self._new_chat)
    self.btn_rename.clicked.connect(self._rename_chat)
    self.btn_delete.clicked.connect(self._delete_chat)
    self.chat_list.itemDoubleClicked.connect(lambda _: self._open_selected_chat())
    self.chat_list.itemSelectionChanged.connect(self._open_selected_chat)

    self.btn_send.clicked.connect(self._send)
    act_send.triggered.connect(self._send)
    act_new.triggered.connect(self._new_chat)
    act_export.triggered.connect(self._export_chat_md)
    act_delete.triggered.connect(self._delete_chat)
    act_focus.triggered.connect(lambda: self.input.setFocus())
    act_settings.triggered.connect(self._save_settings_clicked)
    act_hide.triggered.connect(self._toggle_hide)

    self.btn_apply.clicked.connect(self._apply_now)
    self.btn_save_settings.clicked.connect(self._save_settings_clicked)

    # Endpoint handlers
    self.cmb_endpoint.currentTextChanged.connect(self._on_endpoint_changed)
    self.btn_manage_ep.clicked.connect(self._manage_endpoints)

    self.statusBar().showMessage("Ready")

def _apply_initial_window_size(self):
    w = int(self.cfg.get("app", {}).get("window", {}).get("width", 1100))
    h = int(self.cfg.get("app", {}).get("window", {}).get("height", 720))
    self.resize(w, h)

def _setup_tray(self):
    if not self.cfg.get("ui", {}).get("enable_tray", True):
        return
    self.tray = QSystemTrayIcon(self)
    self.tray.setIcon(self.style().standardIcon(QStyle.SP_ComputerIcon))
    menu = QMenu()
    act_show = QAction("Show", self)
    act_quit = QAction("Quit", self)
    act_show.triggered.connect(self._show_from_tray)
    act_quit.triggered.connect(QApplication.instance().quit)
    menu.addAction(act_show)
    menu.addAction(act_quit)
    self.tray.setContextMenu(menu)
    self.tray.activated.connect(lambda reason: self._show_from_tray() if reason == QSystemTrayIcon.Trigger else None)
    self.tray.show()
    QApplication.instance().setQuitOnLastWindowClosed(False)

# -------- Endpoints helpers -------- #

def _refresh_endpoints(self):
    eps = self.cfg.get("llm", {}).get("endpoints", []) or []
    self.endpoints_by_name = {ep["name"]: ep for ep in eps if isinstance(ep, dict) and "name" in ep and "api_base" in ep}
    cur_name = self.cmb_endpoint.currentText() if hasattr(self, "cmb_endpoint") else None

    self.cmb_endpoint.blockSignals(True)
    self.cmb_endpoint.clear()
    for name in self.endpoints_by_name.keys():
        self.cmb_endpoint.addItem(name)
    self.cmb_endpoint.blockSignals(False)

    default_name = self.cfg.get("llm", {}).get("default_endpoint")
    to_select = cur_name or default_name or (next(iter(self.endpoints_by_name), ""))
    if to_select:
        self.cmb_endpoint.setCurrentText(to_select)
        self._on_endpoint_changed(to_select)

def _on_endpoint_changed(self, name: str):
    ep = self.endpoints_by_name.get(name, {})
    self.edt_api_base.setText(ep.get("api_base", self.edt_api_base.text()))
    self.edt_api_key.setText(ep.get("api_key", self.edt_api_key.text()))

def _manage_endpoints(self):
    dialog = EndpointsDialog(self, list(self.endpoints_by_name.values()))
    if dialog.exec() == QDialog.Accepted:
        new_eps = dialog.get_endpoints()
        if new_eps is None:
            return
        self.cfg_mgr.save_user_overrides({"llm": {"endpoints": new_eps}})
        self.cfg = self.cfg_mgr.load()
        self._refresh_endpoints()
        self.statusBar().showMessage("Endpoints saved")

# -------- Chat list ops -------- #

def _load_chat_list(self):
    self.chat_list.clear()
    for chat in self.storage.list_chats():
        item = QListWidgetItem(chat.title)
        item.setData(Qt.UserRole, chat.chat_id)
        self.chat_list.addItem(item)
    if self.chat_list.count() == 0:
        self._new_chat()
    else:
        self.chat_list.setCurrentRow(0)

def _new_chat(self):
    chat_id = uuid.uuid4().hex[:12]
    params = {
        "endpoint": self.cmb_endpoint.currentText() or self.cfg.get("llm", {}).get("default_endpoint", ""),
        "model": self.edt_model.text() or self.cfg.get("llm", {}).get("model", ""),
        "temperature": self.spin_temp.value(),
        "top_p": self.spin_top_p.value(),
        "max_tokens": self.spin_max_toks.value(),
    }
    chat = Chat(
        chat_id=chat_id,
        title="New Chat",
        created_ts=now_ts(),
        updated_ts=now_ts(),
        model=params["model"],
        params=params,
        messages=[]
    )
    self.storage.save_chat(chat)
    self._load_chat_list()
    for i in range(self.chat_list.count()):
        if self.chat_list.item(i).data(Qt.UserRole) == chat_id:
            self.chat_list.setCurrentRow(i)
            break

def _open_selected_chat(self):
    item = self.chat_list.currentItem()
    if not item:
        return
    chat_id = item.data(Qt.UserRole)
    chat = self.storage.load_chat(chat_id)
    if not chat:
        return
    self.current_chat = chat
    ep_name = self.current_chat.params.get("endpoint") or self.cfg.get("llm", {}).get("default_endpoint", "")
    if ep_name and self.cmb_endpoint.findText(ep_name) != -1:
        self.cmb_endpoint.setCurrentText(ep_name)
    self._render_chat()

def _rename_chat(self):
    item = self.chat_list.currentItem()
    if not item or not self.current_chat:
        return
    new_title, ok = QInputDialog.getText(self, "Rename", "Chat title:", text=self.current_chat.title)
    if ok and new_title.strip():
        self.current_chat.title = new_title.strip()
        self.current_chat.updated_ts = now_ts()
        self.storage.save_chat(self.current_chat)
        item.setText(self.current_chat.title)

def _delete_chat(self):
    item = self.chat_list.currentItem()
    if not item:
        return
    chat_id = item.data(Qt.UserRole)
    if QMessageBox.question(self, "Delete", "Delete this chat?") == QMessageBox.Yes:
        self.storage.delete_chat(chat_id)
        self._load_chat_list()

def _export_chat_md(self):
    if not self.current_chat:
        return
    out, _ = QFileDialog.getSaveFileName(self, "Export Markdown", f"{self.current_chat.title}.md", "Markdown (*.md)")
    if not out:
        return
    self.storage.export_chat_markdown(self.current_chat, Path(out))
    self.statusBar().showMessage("Exported")

# -------- Rendering -------- #

def _render_chat(self):
    if not self.current_chat:
        return
    p = self.current_chat.params
    self.edt_model.setText(str(p.get("model", "")))
    self.spin_temp.setValue(float(p.get("temperature", self.spin_temp.value())))
    self.spin_top_p.setValue(float(p.get("top_p", self.spin_top_p.value())))
    self.spin_max_toks.setValue(int(p.get("max_tokens", self.spin_max_toks.value())))

    msgs = [dict(role=m.role, content=m.content, ts=m.ts) for m in self.current_chat.messages]
    html = messages_to_html(msgs, self.markdown_css)
    self.view.setHtml(html)
    self.view.moveCursor(self.view.textCursor().End)

# -------- Sending -------- #

def _send(self):
    text = self.input.toPlainText().strip()
    if not text or not self.current_chat:
        return
    self.current_chat.messages.append(Message(role="user", content=text, ts=now_ts()))
    if self.current_chat.title == "New Chat" and text:
        self.current_chat.title = (text[:48] + "â€¦") if len(text) &gt; 48 else text
        item = self.chat_list.currentItem()
        if item:
            item.setText(self.current_chat.title)

    self.current_chat.params["endpoint"] = self.cmb_endpoint.currentText()
    self.current_chat.updated_ts = now_ts()
    self.storage.save_chat(self.current_chat)
    self.input.clear()
    self._render_chat()
    self.statusBar().showMessage("Sendingâ€¦")

    runtime_cfg = dict(self.cfg)
    runtime_cfg.setdefault("llm", {})
    runtime_cfg["llm"]["api_base"] = self.edt_api_base.text().strip() or runtime_cfg["llm"].get("api_base", "")
    runtime_cfg["llm"]["api_key"] = self.edt_api_key.text()
    self.client.update_config(runtime_cfg)

    params = {
        "model": self.edt_model.text().strip(),
        "temperature": self.spin_temp.value(),
        "top_p": self.spin_top_p.value(),
        "max_tokens": self.spin_max_toks.value(),
    }
    messages_payload = [{"role": m.role, "content": m.content} for m in self.current_chat.messages]

    worker = LLMWorker(self.client, messages_payload, params)
    worker.signals.success.connect(self._on_llm_success)
    worker.signals.error.connect(self._on_llm_error)
    self.thread_pool.start(worker)

def _on_llm_success(self, reply: str):
    if not self.current_chat:
        return
    self.current_chat.messages.append(Message(role="assistant", content=reply, ts=now_ts()))
    self.current_chat.updated_ts = now_ts()
    self.storage.save_chat(self.current_chat)
    self._render_chat()
    self.statusBar().showMessage("Reply received")

def _on_llm_error(self, err: str):
    QMessageBox.critical(self, "LLM Error", err)
    self.statusBar().showMessage("Error")

# -------- Settings -------- #

def _apply_now(self):
    if not self.current_chat:
        return
    self.current_chat.params.update({
        "endpoint": self.cmb_endpoint.currentText(),
        "model": self.edt_model.text().strip(),
        "temperature": self.spin_temp.value(),
        "top_p": self.spin_top_p.value(),
        "max_tokens": self.spin_max_toks.value(),
    })
    self.current_chat.model = self.current_chat.params["model"]
    self.storage.save_chat(self.current_chat)
    self.statusBar().showMessage("Applied to current chat")

def _save_settings_clicked(self):
    selected = self.cmb_endpoint.currentText()
    endpoints = self.cfg.get("llm", {}).get("endpoints", []) or []
    new_endpoints = []
    for ep in endpoints:
        if ep.get("name") == selected:
            ep = dict(ep)
            ep["api_base"] = self.edt_api_base.text().strip()
            ep["api_key"] = self.edt_api_key.text()
        new_endpoints.append(ep)

    patch = {
        "llm": {
            "endpoints": new_endpoints,
            "default_endpoint": selected or self.cfg.get("llm", {}).get("default_endpoint", ""),
            "model": self.edt_model.text().strip(),
            "temperature": float(self.spin_temp.value()),
            "top_p": float(self.spin_top_p.value()),
            "max_tokens": int(self.spin_max_toks.value()),
        }
    }
    self.cfg_mgr.save_user_overrides(patch)
    self.cfg = self.cfg_mgr.load()
    self._refresh_endpoints()
    self.client.update_config(self.cfg)
    self.statusBar().showMessage("Saved to ~/.config/onechat/config.yaml")

# -------- Tray / Hide -------- #

def _toggle_hide(self):
    if self.isVisible():
        self.hide()
    else:
        self.showNormal()
        self.raise_()
        self.activateWindow()

def _show_from_tray(self):
    self.showNormal()
    self.raise_()
    self.activateWindow()

def closeEvent(self, event: QCloseEvent):
    if getattr(self, "tray", None):
        event.ignore()
        self.hide()
        self.tray.showMessage("onechat", "Still running in the tray. Quit from tray menu.", QSystemTrayIcon.Information, 2000)
    else:
        super().closeEvent(event)
</code></pre></div></div>

<h1 id="--entry---1">â€”â€”â€”â€”â€”- Entry â€”â€”â€”â€”â€”-</h1>

<p>def main():
    app = QApplication(sys.argv)
    app.setApplicationDisplayName(APP_NAME)
    win = MainWindow()
    win.show()
    sys.exit(app.exec())</p>]]></content><author><name>hvppyarchive</name></author><category term="llm" /><summary type="html"><![CDATA[]]></summary></entry></feed>