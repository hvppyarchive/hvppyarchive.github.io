<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.27.1 by Michael Rose
  Copyright 2013-2025 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->

<html lang="en-US" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>파이썬 CLI 패키지 개발 - ARCHIVE</title>
<meta name="description" content="">


  <meta name="author" content="hvppyarchive">
  
  <meta property="article:author" content="hvppyarchive">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="ARCHIVE">
<meta property="og:title" content="파이썬 CLI 패키지 개발">
<meta property="og:url" content="https://hvppyarchive.github.io/python/python-cli-tool-dev/">


  <meta property="og:description" content="">







  <meta property="article:published_time" content="2025-08-04T00:17:29+09:00">





  

  


<link rel="canonical" href="https://hvppyarchive.github.io/python/python-cli-tool-dev/">












<!-- end _includes/seo.html -->


<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
  
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css"></noscript>



    <!-- start custom head snippets -->
<!-- hvppyarchive: add fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@200..900&display=swap" rel="stylesheet">

<!-- insert favicons. use https://realfavicongenerator.net/ -->
 <!-- hvppyarchive: add favicons -->
<link rel="icon" type="image/png" href="/assets/favicon/favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/svg+xml" href="/assets/favicon/favicon.svg" />
<link rel="shortcut icon" href="/assets/favicon/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="/assets/favicon/apple-touch-icon.png" />
<link rel="manifest" href="/assets/favicon/site.webmanifest" />

<!-- end custom head snippets -->

  </head>

  <body class="layout--single" dir="ltr">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          ARCHIVE
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a
                href="/year-archive/"
                
                
              >Posts</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      





<div id="main" role="main">
  


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="파이썬 CLI 패키지 개발">
    <meta itemprop="description" content="">
    <meta itemprop="datePublished" content="2025-08-04T00:17:29+09:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">
            <a href="https://hvppyarchive.github.io/python/python-cli-tool-dev/" itemprop="url">파이썬 CLI 패키지 개발
</a>
          </h1>
          

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <!-- hvppyarchive: remove date icon
        <i class="far fa-calendar-alt" aria-hidden="true"></i> 
        -->
        
        <time datetime="2025-08-04T00:17:29+09:00">2025-08-04</time>
      </span>
    

    

    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
        <p class="chat--user">

기능 개발 + 여러 CLI entry point들이 있는 파이썬 패키지를 개발 중이야.

</p>

<p>좋아, 여러 CLI entry point가 있는 파이썬 패키지를 개발 중이군요. 아래에 해당 구조를 잘 설계하고 구현하는 방법을 단계적으로 정리해 드릴게요.</p>

<hr />

<h2 id="1-프로젝트-구조-설계">1. <strong>프로젝트 구조 설계</strong></h2>

<p>여러 CLI entry point를 지원하려면, <code class="language-plaintext highlighter-rouge">setuptools</code> 또는 <code class="language-plaintext highlighter-rouge">hatch</code>, <code class="language-plaintext highlighter-rouge">poetry</code> 같은 빌드 툴을 사용하고 <code class="language-plaintext highlighter-rouge">console_scripts</code> 엔트리 포인트를 잘 정의해야 해요.</p>

<p><strong>예시 디렉터리 구조:</strong></p>
<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code>my_package/
├── my_package/
│   ├── __init__.py
│   ├── cli_a.py
│   ├── cli_b.py
│   └── utils.py
├── tests/
│   ├── test_cli_a.py
│   └── test_cli_b.py
├── pyproject.toml
└── README.md
</code></pre></div></div>

<hr />

<h2 id="2-각-cli-스크립트-정의">2. <strong>각 CLI 스크립트 정의</strong></h2>

<p>각 CLI는 <code class="language-plaintext highlighter-rouge">argparse</code>, <code class="language-plaintext highlighter-rouge">click</code>, <code class="language-plaintext highlighter-rouge">typer</code> 같은 CLI 프레임워크 중 하나를 사용해서 작성하는 게 일반적이에요.</p>

<p>예: <code class="language-plaintext highlighter-rouge">cli_a.py</code></p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">argparse</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="p">.</span><span class="nc">ArgumentParser</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="sh">"</span><span class="s">CLI A</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span><span class="sh">"</span><span class="s">--hello</span><span class="sh">"</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="sh">"</span><span class="s">world</span><span class="sh">"</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="sh">"</span><span class="s">Say hello</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">args</span> <span class="o">=</span> <span class="n">parser</span><span class="p">.</span><span class="nf">parse_args</span><span class="p">()</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Hello </span><span class="si">{</span><span class="n">args</span><span class="p">.</span><span class="n">hello</span><span class="si">}</span><span class="s">!</span><span class="sh">"</span><span class="p">)</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="sh">"</span><span class="s">__main__</span><span class="sh">"</span><span class="p">:</span>
    <span class="nf">main</span><span class="p">()</span>
</code></pre></div></div>

<hr />

<h2 id="3-pyprojecttoml-또는-setuppy에-entry-point-등록">3. <strong><code class="language-plaintext highlighter-rouge">pyproject.toml</code> 또는 <code class="language-plaintext highlighter-rouge">setup.py</code>에 entry point 등록</strong></h2>

<h3 id="pyprojecttoml-예시-poetry-hatch-setuptools-호환-가능"><code class="language-plaintext highlighter-rouge">pyproject.toml</code> 예시 (<code class="language-plaintext highlighter-rouge">poetry</code>, <code class="language-plaintext highlighter-rouge">hatch</code>, <code class="language-plaintext highlighter-rouge">setuptools</code> 호환 가능):</h3>
<div class="language-toml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">[project]</span>
<span class="py">name</span> <span class="p">=</span> <span class="s">"my_package"</span>
<span class="py">version</span> <span class="p">=</span> <span class="s">"0.1.0"</span>
<span class="py">description</span> <span class="p">=</span> <span class="s">"Multiple CLI entry points example"</span>
<span class="err">...</span>

<span class="nn">[project.scripts]</span>
<span class="py">cli-a</span> <span class="p">=</span> <span class="s">"my_package.cli_a:main"</span>
<span class="py">cli-b</span> <span class="p">=</span> <span class="s">"my_package.cli_b:main"</span>
</code></pre></div></div>

<p>이렇게 설정하면 설치 후 다음과 같이 사용 가능해요:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>cli-a <span class="nt">--hello</span> GPT
<span class="nv">$ </span>cli-b <span class="nt">--flag</span>
</code></pre></div></div>

<hr />

<h2 id="4-설치-및-실행-테스트">4. <strong>설치 및 실행 테스트</strong></h2>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 개발 모드로 설치</span>
pip <span class="nb">install</span> <span class="nt">-e</span> <span class="nb">.</span>

<span class="c"># CLI 실행 테스트</span>
cli-a <span class="nt">--hello</span> World
cli-b <span class="nt">--some-option</span>
</code></pre></div></div>

<hr />

<h2 id="5-테스트와-cicd-구성">5. <strong>테스트와 CI/CD 구성</strong></h2>

<p>각 CLI에 대해 <code class="language-plaintext highlighter-rouge">pytest</code> 기반 테스트 작성:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># tests/test_cli_a.py
</span><span class="kn">import</span> <span class="n">subprocess</span>

<span class="k">def</span> <span class="nf">test_cli_a</span><span class="p">():</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">subprocess</span><span class="p">.</span><span class="nf">run</span><span class="p">([</span><span class="sh">"</span><span class="s">cli-a</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">--hello</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">test</span><span class="sh">"</span><span class="p">],</span> <span class="n">capture_output</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="k">assert</span> <span class="sh">"</span><span class="s">Hello test!</span><span class="sh">"</span> <span class="ow">in</span> <span class="n">result</span><span class="p">.</span><span class="n">stdout</span>
</code></pre></div></div>

<hr />

<h2 id="추가-팁">추가 팁</h2>

<ul>
  <li>
    <p>CLI 도구가 많아질 경우, <code class="language-plaintext highlighter-rouge">my_package/cli/__init__.py</code> 안에 여러 명령을 서브커맨드로 묶는 것도 고려해볼 수 있어요. 이 경우 <code class="language-plaintext highlighter-rouge">click.Group</code>이나 <code class="language-plaintext highlighter-rouge">typer.Typer</code>를 사용하면 CLI 관리가 쉬워져요.</p>
  </li>
  <li>
    <p>독립적 CLI가 필요하다면 지금 방식처럼 entry point를 여러 개 두는 게 적절합니다.</p>
  </li>
</ul>

<hr />

<p>필요하다면 <code class="language-plaintext highlighter-rouge">click</code>, <code class="language-plaintext highlighter-rouge">typer</code> 등을 활용한 고급 구조나 자동 문서화, autocompletion 설정까지 도와드릴 수 있어요. 어떤 방식으로 CLI를 구성하고 싶은지 조금 더 알려주시면 구체적으로 도와드릴게요!</p>

<p class="chat--user">

entry point 가 있는 스크립트들을 분리하는게 좋을까? 지금은 해당 기능을 담당하는 모듈 내부에 def main()을 만들어서 하고 있었어

</p>

<p>좋은 질문이에요. 결론부터 말하면 <strong>“규모가 작거나 단일 CLI인 경우는 모듈 내부에 <code class="language-plaintext highlighter-rouge">main()</code>을 두는 방식도 괜찮지만, CLI 엔트리 포인트가 여러 개이거나 프로젝트가 커질수록 스크립트를 분리하는 것이 유지보수, 테스트, 재사용성 면에서 더 좋다”</strong>고 할 수 있습니다.</p>

<p>아래에서 단계별로 생각해볼게요.</p>

<hr />

<h2 id="-현재-방식-모듈-내부에-def-main">✅ 현재 방식: 모듈 내부에 <code class="language-plaintext highlighter-rouge">def main()</code></h2>

<p>예: <code class="language-plaintext highlighter-rouge">my_package/foo.py</code></p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="bp">...</span>
</code></pre></div></div>

<p><strong>장점:</strong></p>

<ul>
  <li>
    <p>간단하다.</p>
  </li>
  <li>
    <p>CLI와 기능 코드가 가까이 있어 이해하기 쉽다.</p>
  </li>
  <li>
    <p>소규모 프로젝트에서는 적절한 선택.</p>
  </li>
</ul>

<p><strong>단점:</strong></p>

<ul>
  <li>
    <p>CLI 관련 코드(예: <code class="language-plaintext highlighter-rouge">argparse</code>, <code class="language-plaintext highlighter-rouge">click</code>)가 기능 코드와 섞여 <strong>관심사 분리가 어려움</strong>.</p>
  </li>
  <li>
    <p>테스트가 어려워짐: <code class="language-plaintext highlighter-rouge">main()</code>에서 CLI 파싱과 실행을 같이 하면 mocking/subprocess로만 테스트 가능.</p>
  </li>
  <li>
    <p>CLI 이외의 용도로 해당 모듈을 import할 경우, <code class="language-plaintext highlighter-rouge">__name__ == "__main__"</code> 체크 실수 시 <strong>의도치 않게 실행될 위험</strong> 이 있음.</p>
  </li>
</ul>

<hr />

<h2 id="-추천-방식-cli-진입점을-별도-모듈로-분리">✅ 추천 방식: <strong>CLI 진입점을 별도 모듈로 분리</strong></h2>

<p>예: <code class="language-plaintext highlighter-rouge">cli/foo_cli.py</code></p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">my_package.foo</span> <span class="kn">import</span> <span class="n">run_logic</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="kn">import</span> <span class="n">argparse</span>
    <span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="p">.</span><span class="nc">ArgumentParser</span><span class="p">()</span>
    <span class="bp">...</span>
    <span class="n">args</span> <span class="o">=</span> <span class="n">parser</span><span class="p">.</span><span class="nf">parse_args</span><span class="p">()</span>
    <span class="nf">run_logic</span><span class="p">(</span><span class="n">args</span><span class="p">.</span><span class="n">something</span><span class="p">)</span>
</code></pre></div></div>

<p>예: <code class="language-plaintext highlighter-rouge">my_package/foo.py</code></p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">run_logic</span><span class="p">(</span><span class="n">arg1</span><span class="p">):</span>
    <span class="c1"># 순수 로직 (테스트 가능)
</span>    <span class="bp">...</span>
</code></pre></div></div>

<h3 id="장점"><strong>장점:</strong></h3>

<ul>
  <li>
    <p><strong>기능과 CLI 로직이 분리</strong> 됨.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">run_logic()</code>만 단위 테스트 가능하고, <code class="language-plaintext highlighter-rouge">main()</code>은 E2E/subprocess로 테스트 가능 → <strong>테스트 전략 분화 가능</strong>.</p>
  </li>
  <li>
    <p>CLI 외에서도 로직을 재사용하기 쉬움.</p>
  </li>
  <li>
    <p>여러 entry point를 일관성 있게 관리할 수 있음 (예: <code class="language-plaintext highlighter-rouge">cli/foo_cli.py</code>, <code class="language-plaintext highlighter-rouge">cli/bar_cli.py</code> 등).</p>
  </li>
  <li>
    <p>CLI 스크립트는 추후 shell entry point 외에도 web이나 API로 확장하기 쉬운 구조임.</p>
  </li>
</ul>

<h3 id="단점"><strong>단점:</strong></h3>

<ul>
  <li>
    <p>구조가 약간 복잡해진다.</p>
  </li>
  <li>
    <p>모듈 import path를 잘 관리해야 한다 (특히 상대 경로, PYTHONPATH 문제 등).</p>
  </li>
</ul>

<hr />

<h2 id="-중간-해법">✨ 중간 해법</h2>

<p>만약 CLI 진입점과 로직이 아주 밀접하게 연관돼 있고, 기능이 단순하다면 다음과 같은 패턴도 괜찮아요:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># my_package/foo.py
</span><span class="k">def</span> <span class="nf">_main</span><span class="p">():</span>
    <span class="kn">import</span> <span class="n">argparse</span>
    <span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="p">.</span><span class="nc">ArgumentParser</span><span class="p">()</span>
    <span class="bp">...</span>
    <span class="n">args</span> <span class="o">=</span> <span class="n">parser</span><span class="p">.</span><span class="nf">parse_args</span><span class="p">()</span>
    <span class="nf">run</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="bp">...</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="sh">"</span><span class="s">__main__</span><span class="sh">"</span><span class="p">:</span>
    <span class="nf">_main</span><span class="p">()</span>
</code></pre></div></div>

<ul>
  <li>이 방식은 분리는 안 했지만, 최소한 로직은 <code class="language-plaintext highlighter-rouge">run()</code>으로 나눠 <strong>테스트 가능성</strong> 을 확보해요.</li>
</ul>

<hr />

<h2 id="-결론-요약">🔚 결론 요약</h2>

<table>
  <thead>
    <tr>
      <th>상황</th>
      <th>추천 방안</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>CLI 하나, 기능 단순</td>
      <td><code class="language-plaintext highlighter-rouge">main()</code>을 모듈 안에 둬도 OK</td>
    </tr>
    <tr>
      <td>여러 CLI, 기능 로직 복잡</td>
      <td>CLI 전용 모듈 (<code class="language-plaintext highlighter-rouge">cli/</code>)로 분리 추천</td>
    </tr>
    <tr>
      <td>테스트 자동화 / 재사용성 중요</td>
      <td>반드시 분리할 것</td>
    </tr>
  </tbody>
</table>

<hr />

<p>원한다면, 현재 구조를 보여주시면 어떤 식으로 분리하는 게 가장 적절할지 함께 리팩토링 예시도 제공할 수 있어요.</p>

<p class="chat--user">

현재 구조: mytool - analyzer - treeanalyzer.py - hierarchyanalyzer.py - editor - replacer.py - utility - utils.py

</p>

<p>좋아요. 현재 구조를 보면 기능 모듈 (<code class="language-plaintext highlighter-rouge">analyzer</code>, <code class="language-plaintext highlighter-rouge">editor</code>, <code class="language-plaintext highlighter-rouge">utility</code>) 중심으로 잘 나뉘어 있어요. 각 모듈은 기능별 책임을 갖고 있는 걸로 보이니, 이제 여기에 CLI entry point를 어떻게 구성하면 좋을지 단계적으로 제안드릴게요.</p>

<hr />

<h2 id="-1-현재-구조-정리">✅ 1. 현재 구조 정리</h2>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mytool/
├── analyzer/
│   ├── treeanalyzer.py       <span class="c"># (예: 트리 구조 분석 기능)</span>
│   └── hierarchyanalyzer.py  <span class="c"># (예: 계층 분석 기능)</span>
├── editor/
│   └── replacer.py           <span class="c"># (예: 코드 치환 기능)</span>
├── utility/
│   └── utils.py              <span class="c"># (공용 유틸 함수)</span>
</code></pre></div></div>

<p>그리고 아마 현재는 각 파일 안에 <code class="language-plaintext highlighter-rouge">def main(): ...</code> 형식으로 CLI entry point가 내장돼 있을 가능성이 높아요.</p>

<hr />

<h2 id="-2-추천-구조-cli-분리">✅ 2. 추천 구조: CLI 분리</h2>

<p>기능은 유지하면서 <strong>CLI 진입점만 따로 모아두는 폴더를 추가</strong> 하면 깔끔하게 관리할 수 있어요.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pgsql

mytool/
├── cli/
│   ├── analyze_tree.py        # → entry point: `analyze-tree`
│   ├── analyze_hierarchy.py   # → entry point: `analyze-hierarchy`
│   └── replace_code.py        # → entry point: `replace-code`
├── analyzer/
│   ├── treeanalyzer.py
│   └── hierarchyanalyzer.py
├── editor/
│   └── replacer.py
├── utility/
│   └── utils.py
</code></pre></div></div>

<hr />

<h2 id="-3-각-cli-파일-구조-예시">✅ 3. 각 CLI 파일 구조 예시</h2>

<h3 id="예-clianalyze_treepy">예: <code class="language-plaintext highlighter-rouge">cli/analyze_tree.py</code></h3>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">mytool.analyzer.treeanalyzer</span> <span class="kn">import</span> <span class="n">analyze_tree</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="kn">import</span> <span class="n">argparse</span>
    <span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="p">.</span><span class="nc">ArgumentParser</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="sh">"</span><span class="s">Analyze tree structure</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span><span class="sh">"</span><span class="s">path</span><span class="sh">"</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="sh">"</span><span class="s">Target file path</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">args</span> <span class="o">=</span> <span class="n">parser</span><span class="p">.</span><span class="nf">parse_args</span><span class="p">()</span>

    <span class="nf">analyze_tree</span><span class="p">(</span><span class="n">args</span><span class="p">.</span><span class="n">path</span><span class="p">)</span>
</code></pre></div></div>

<hr />

<h2 id="-4-pyprojecttoml-설정-예시-setuptoolspoetry">✅ 4. pyproject.toml 설정 예시 (setuptools/poetry)</h2>
<div class="language-toml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">[project.scripts]</span>
<span class="py">analyze-tree</span> <span class="p">=</span> <span class="s">"mytool.cli.analyze_tree:main"</span>
<span class="py">analyze-hierarchy</span> <span class="p">=</span> <span class="s">"mytool.cli.analyze_hierarchy:main"</span>
<span class="py">replace-code</span> <span class="p">=</span> <span class="s">"mytool.cli.replace_code:main"</span>
</code></pre></div></div>

<p>이렇게 하면 설치 후 다음처럼 CLI 명령어를 쓸 수 있어요:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>analyze-tree ./sample.py
<span class="nv">$ </span>analyze-hierarchy ./dir/
<span class="nv">$ </span>replace-code <span class="nt">--pattern</span> ... <span class="nt">--replacement</span> ...
</code></pre></div></div>

<hr />

<h2 id="-5-각-기능-모듈-정리-팁">✅ 5. 각 기능 모듈 정리 팁</h2>

<p><code class="language-plaintext highlighter-rouge">treeanalyzer.py</code>처럼 분석 로직을 담당하는 모듈은 다음처럼 CLI와 분리하세요:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># mytool/analyzer/treeanalyzer.py
</span>
<span class="k">def</span> <span class="nf">analyze_tree</span><span class="p">(</span><span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">실제 로직 - CLI와 무관한 테스트 가능한 함수</span><span class="sh">"""</span>
    <span class="bp">...</span>
</code></pre></div></div>

<hr />

<h2 id="-6-cli-전용-모듈을-분리할-이점">✅ 6. CLI 전용 모듈을 분리할 이점</h2>

<ul>
  <li>
    <p>CLI에 필요한 파싱, 출력 포맷, stderr handling 등을 한곳에서 관리 가능</p>
  </li>
  <li>
    <p>기능 로직을 다른 CLI, 테스트, API 등에서 재사용하기 쉬움</p>
  </li>
  <li>
    <p>CLI 관련 의존성을 격리할 수 있음 (예: <code class="language-plaintext highlighter-rouge">click</code>, <code class="language-plaintext highlighter-rouge">argparse</code> 등)</p>
  </li>
</ul>

<hr />

<h2 id="-7-예외-간단한-도구만-있는-경우">✅ 7. 예외: 간단한 도구만 있는 경우</h2>

<p>CLI 스크립트가 단 1~2개고, 로직이 단순하다면 분리하지 않고 각 기능 모듈에 <code class="language-plaintext highlighter-rouge">main()</code>을 둔 채로 <code class="language-plaintext highlighter-rouge">pyproject.toml</code>에서 직접 entry point 지정도 가능합니다. 하지만 지금처럼 여러 CLI가 있는 경우라면 <strong>분리하는 게 확실히 유지보수에 유리</strong> 합니다.</p>

<hr />

<p>원하시면 제가 <code class="language-plaintext highlighter-rouge">treeanalyzer.py</code>를 기준으로 리팩토링 예시 전체를 만들어드릴 수 있어요. 계속 도와드릴까요?</p>

<p class="chat--user">

이런 류의 파이썬 패키지 라이브러리 깃헙 같은거 찾아봐줄 수 있어? 참고할만한

</p>

<p>다음은 <strong>여러 CLI entry-point를 갖고 있는 Python 프로젝트</strong> 의 실제 예시를 찾을 수 있는 GitHub 리포지토리들입니다. 구조와 구현 방식을 참고하기 좋습니다:</p>

<hr />

<h2 id="-추천-github-예시들">🧰 추천 GitHub 예시들</h2>

<h3 id="1-python-cli-examples">1. <strong><code class="language-plaintext highlighter-rouge">python-cli-examples</code></strong></h3>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">cdeil/python-cli-examples</code>:</p>

    <ul>
      <li>
        <p><code class="language-plaintext highlighter-rouge">argparse</code>, <code class="language-plaintext highlighter-rouge">click</code>, <code class="language-plaintext highlighter-rouge">cliff</code> 등 다양한 CLI 프레임워크를 이용한 예시 CLI 코드들을 포함합니다.</p>
      </li>
      <li>
        <p>특히 단일 명령 아래 다중 서브커맨드를 구현한 구조를 잘 보여주며, 서브커맨드별 독립 모듈 분리, lazy load, 테스트 방식도 설명되어 있어요.<a href="https://blog.claude.nl/posts/how-to-structure-a-python-project-with-multiple-entry-points/?utm_source=chatgpt.com">blog.claude.nl+7</a><a href="https://github.com/cdeil/python-cli-examples?utm_source=chatgpt.com">GitHub+1</a></p>
      </li>
    </ul>
  </li>
</ul>

<h3 id="2-byoc-블로그--github-예제">2. <strong>BYOC 블로그 + GitHub 예제</strong></h3>

<ul>
  <li>
    <p>"How to structure a python project with multiple entry points" 블로그 (2024년 작성)에서는</p>

    <ul>
      <li>
        <p>다수 CLI entry-point를 제공하는 구조를 예시 코드와 함께 소개해요.</p>
      </li>
      <li>
        <p><code class="language-plaintext highlighter-rouge">pyproject.toml</code>과 <code class="language-plaintext highlighter-rouge">console_scripts</code>를 활용해 entry-point를 명시하고, CLI 파일을 패키지 내부 서브 모듈로 분리하는 방식입니다.<a href="https://blog.claude.nl/posts/how-to-structure-a-python-project-with-multiple-entry-points/?utm_source=chatgpt.com">blog.claude.nl+2</a></p>
      </li>
    </ul>
  </li>
</ul>

<hr />

<h2 id="-추가-참고-자료">📌 추가 참고 자료</h2>

<ul>
  <li>
    <p><strong>Stack Overflow Q &amp;A</strong></p>

    <ul>
      <li>
        <p>여러 <code class="language-plaintext highlighter-rouge">console_scripts</code> entry-point를 하나의 모듈 함수로 연결하는 방법에 대한 질문과 답이 있습니다.</p>
      </li>
      <li>
        <p>예를 들어 동일 로직을 <code class="language-plaintext highlighter-rouge">script1</code>, <code class="language-plaintext highlighter-rouge">script2</code> 등 서로 다른 명령어로 등록하는 방법 등 실용적인 팁이 있어요.<a href="https://stackoverflow.com/questions/58905700/can-i-have-multiple-console-script-names-point-to-the-same-script-in-setup-py-fo?utm_source=chatgpt.com">Stack Overflow+5</a></p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>Python Packaging User Guide</strong></p>

    <ul>
      <li>공식 문서로 entry-point의 작동 방식, <code class="language-plaintext highlighter-rouge">console_scripts</code> 정의 방식, <code class="language-plaintext highlighter-rouge">pyproject.toml</code> 예제 등을 이해하는 데 유용해요.<a href="https://packaging.python.org/specifications/entry-points/?utm_source=chatgpt.com">packaging.python.org+13</a></li>
    </ul>
  </li>
</ul>

<hr />

<h2 id="-한눈에-비교-정리">📋 한눈에 비교 정리</h2>

<table>
  <thead>
    <tr>
      <th>프로젝트 / 자료명</th>
      <th>주요 내용</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>python-cli-examples</strong></td>
      <td><code class="language-plaintext highlighter-rouge">argparse</code>, <code class="language-plaintext highlighter-rouge">click</code>, <code class="language-plaintext highlighter-rouge">cliff</code> 기반 CLI 예시, 구조별 테스트 방식 포함</td>
    </tr>
    <tr>
      <td><strong>BYOC 블로그 → GitHub</strong></td>
      <td>여러 CLI entry‑point 구조, <code class="language-plaintext highlighter-rouge">pyproject.toml</code> 활용, 모듈 분리 방식 사례</td>
    </tr>
    <tr>
      <td><strong>Stack Overflow 답변</strong></td>
      <td>여러 명령어를 동일 함수에 매핑하는 <code class="language-plaintext highlighter-rouge">console_scripts</code> 정의 팁</td>
    </tr>
    <tr>
      <td><strong>Python Packaging Guide</strong></td>
      <td>공식 entry‑point 사양 및 예시, <code class="language-plaintext highlighter-rouge">console_scripts</code> 그룹 이해</td>
    </tr>
  </tbody>
</table>

<hr />

<h2 id="️-적용-예시-구조">🏗️ 적용 예시 구조</h2>
<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mytool/
├── cli/
│   ├── analyze_tree.py
│   ├── analyze_hierarchy.py
│   └── replace_code.py
└── analyzer/
    ├── treeanalyzer.py
    └── hierarchyanalyzer.py
...
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">cli/analyze_tree.py</code> 안의 <code class="language-plaintext highlighter-rouge">main()</code> 함수는 <code class="language-plaintext highlighter-rouge">analyzer.treeanalyzer.analyze_tree()</code> 같은 순수 기능 함수를 호출하는 방식으로 설계합니다. 그 후 <code class="language-plaintext highlighter-rouge">pyproject.toml</code>의 <code class="language-plaintext highlighter-rouge">[project.scripts]</code> 또는 <code class="language-plaintext highlighter-rouge">[tool.poetry.scripts]</code> 섹션에 entry‑point를:</p>
<div class="language-toml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">[project.scripts]</span>
<span class="py">analyze-tree</span> <span class="p">=</span> <span class="s">"mytool.cli.analyze_tree:main"</span>
<span class="py">analyze-hierarchy</span> <span class="p">=</span> <span class="s">"mytool.cli.analyze_hierarchy:main"</span>
<span class="py">replace-code</span>    <span class="p">=</span> <span class="s">"mytool.cli.replace_code:main"</span>
</code></pre></div></div>

<p>이 방식은 위 리포지토리들이 사용하는 구조와 일치합니다.</p>

<hr />

<p>이 중에서 특히 보고 싶은 방식이 있다면 예시 코드를 가져와 분석드릴게요.<br />
어떤 구현 스타일(예: <code class="language-plaintext highlighter-rouge">argparse</code>, <code class="language-plaintext highlighter-rouge">click</code>, subcommand 패턴 등)에 관심 있으신가요?<br />
원하시는 방향 알려주시면 더 세부적으로 도와드릴게요!</p>

<p class="chat--user">

예시 토이 프로젝트들 말고 실제 cli가 많은 오픈소스 같은데서 어떻게 하는지 궁금해

</p>

<p>실제 운영 중인 <strong>대규모 오픈소스 Python CLI 프로젝트</strong> 들이 어떻게 CLI entry-point를 구성하고 설계했는지 구체적으로 예시를 들어 정리해드릴게요.</p>

<hr />

<h2 id="-1-aws-cli-프로젝트-awsaws-cli">✅ 1. AWS CLI 프로젝트 (aws/aws-cli)</h2>

<ul>
  <li>
    <p>AWS CLI는 하나의 대형 패키지로, 다양한 서비스별 <strong>서브커맨드 구조</strong> 를 가진 CLI 구성 방식입니다.</p>
  </li>
  <li>
    <p>GitHub <code class="language-plaintext highlighter-rouge">aws/aws-cli</code> 리포지토리를 보면 <code class="language-plaintext highlighter-rouge">pyproject.toml</code>, <code class="language-plaintext highlighter-rouge">setup.cfg</code>, <code class="language-plaintext highlighter-rouge">setup.py</code> 파일에서 <code class="language-plaintext highlighter-rouge">console_scripts</code>로 다음을 정의해둡니다:</p>
    <div class="language-toml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">[project.scripts]</span>
<span class="py">aws</span> <span class="p">=</span> <span class="s">"awscli.clidriver:main"</span>
</code></pre></div>    </div>
  </li>
</ul>

<p>이 한 엔트리포인트가 전체 CLI 처리를 담당하는 메인 진입점 역할을 해요 <a href="https://github.com/aws/aws-cli/issues/9212/linked_closing_reference?reference_location=REPO_ISSUES_INDEX&amp;utm_source=chatgpt.com">GitHub+6</a><a href="https://github.com/aws/aws-cli?utm_source=chatgpt.com">GitHub+2</a>.</p>

<ul>
  <li>
    <p>내부적으로 <code class="language-plaintext highlighter-rouge">awscli</code> 패키지 아래에서 <code class="language-plaintext highlighter-rouge">clidriver.py</code>가 최상위 진입점이고, 이후 <code class="language-plaintext highlighter-rouge">aws s3</code>, <code class="language-plaintext highlighter-rouge">aws ec2</code> 같은 서브 커맨드를 <code class="language-plaintext highlighter-rouge">importlib.metadata</code>와 entry-points로 동적으로 연결합니다.</p>
  </li>
  <li>
    <p>서브패키지(<code class="language-plaintext highlighter-rouge">awscli/cli/commands/…</code>)들이 각 기능 커맨드를 담당하는 구조로 <strong>기능 모듈과 CLI 코드가 명확히 분리</strong> 되어 있어요 <a href="https://github.com/aws/aws-cli?utm_source=chatgpt.com">GitHub</a>.</p>
  </li>
</ul>

<hr />

<h2 id="-2-clickplugins-click-확장-방식-cli">✅ 2. click‑plugins (click 확장 방식 CLI)</h2>

<ul>
  <li>
    <p>이 프로젝트는 <strong><code class="language-plaintext highlighter-rouge">click</code> 기반 CLI</strong>에 external plugins을 연결하는 방식으로 설계돼 있어요. <code class="language-plaintext highlighter-rouge">setuptools entry-points</code>를 활용해서 플러그인 모듈이 커맨드에 동적으로 추가됩니다.</p>
  </li>
  <li>
    <p>예를 들어 하나의 host 프로젝트 CLI가 있으며, 다른 패키지들이 entry-point를 통해 서브커맨드를 등록하게끔 설계된 구조입니다 <a href="https://stackoverflow.com/questions/61535670/how-to-use-setup-py-console-script-with-native-namespace-packages?utm_source=chatgpt.com">Stack Overflow</a>.</p>
  </li>
</ul>

<hr />

<h2 id="-3-cli-구조-설계-팁blog-및-qa-정리">✅ 3. CLI 구조 설계 팁—Blog 및 Q&amp;A 정리</h2>

<ul>
  <li><code class="language-plaintext highlighter-rouge">BYOC</code> 블로그의 “multiple entry points” 글에서는 다음과 같은 구조를 제안합니다:
    <div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">/</span><span class="nt">project</span><span class="o">/</span>
  <span class="nt">cli-tool1</span><span class="o">/</span>
    <span class="nt">__init__</span><span class="nc">.py</span>
    <span class="nt">main</span><span class="nc">.py</span>
  <span class="nt">cli-tool2</span><span class="o">/</span>
    <span class="nt">__init__</span><span class="nc">.py</span>
    <span class="nt">main</span><span class="nc">.py</span>
  <span class="nt">lib</span><span class="o">/</span>
    <span class="nt">shared_logic</span><span class="nc">.py</span>
</code></pre></div>    </div>
  </li>
</ul>

<p>각 CLI 도구는 <code class="language-plaintext highlighter-rouge">console_scripts</code>로 연결하며, <code class="language-plaintext highlighter-rouge">lib/</code> 코드를 공유해서 중복을 줄이는 방식을 추천해요 <a href="https://stackoverflow.com/questions/61535670/how-to-use-setup-py-console-script-with-native-namespace-packages?utm_source=chatgpt.com">Stack Overflow+1</a>.</p>

<ul>
  <li>Stack Overflow의 Q&amp;A에서도 유사한 구조가 나오며 <code class="language-plaintext highlighter-rouge">.console_scripts</code>에 서로 다른 CLI 진입점을 동일 로직에 연결할 수 있음도 다루고 있습니다 <a href="https://stackoverflow.com/questions/61535670/how-to-use-setup-py-console-script-with-native-namespace-packages?utm_source=chatgpt.com">Stack Overflow+3</a>.</li>
</ul>

<hr />

<h2 id="-요약-비교-표">🔍 요약 비교 표</h2>

<table>
  <thead>
    <tr>
      <th>프로젝트 예시</th>
      <th>구조 특징</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>AWS CLI (aws/aws-cli)</strong></td>
      <td>단일 console_script, 서브커맨드 구조로 확장하며 기능 코드와 CLI 분리</td>
    </tr>
    <tr>
      <td><strong>click-plugins 프로젝트</strong></td>
      <td>click 기반, plugin 시스템으로 외부 패키지가 subcommand로 연결 가능</td>
    </tr>
    <tr>
      <td><strong>BYOC / SO 구조 예시</strong></td>
      <td>여러 entry-point 폴더로 분리 / 공유 라이브러리 활용 / 경로 문제 고려 설계</td>
    </tr>
  </tbody>
</table>

<hr />

<h2 id="-적용-방향-제안">🧭 적용 방향 제안</h2>

<ol>
  <li>
    <p><strong>독립적 CLI마다 별도 스크립트 파일 (<code class="language-plaintext highlighter-rouge">cli/cli_tool1.py</code>)을 두고 console_scripts에 연결</strong>하는 방식</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">cli/</code> 내부에서 <code class="language-plaintext highlighter-rouge">click</code> 또는 <code class="language-plaintext highlighter-rouge">argparse</code>를 사용해 서브커맨드를 lazy-load하거나 plugin 형태로 연결</p>
  </li>
  <li>
    <p>기능 로직은 <code class="language-plaintext highlighter-rouge">analyzer/</code>, <code class="language-plaintext highlighter-rouge">editor/</code> 같은 모듈에 <code class="language-plaintext highlighter-rouge">pure function</code>으로 분리하여 CLI와 재사용성을 분리</p>
  </li>
</ol>

<p>예를 들어 AWS CLI처럼 하나의 진입점에 서브커맨드를 많이 정의할 수도 있고, 아니면 Click을 써서 <code class="language-plaintext highlighter-rouge">@click.group()</code> 기반으로 다양한 툴을 붙일 수도 있어요.</p>

<hr />

<h2 id="️-다음-도움을-드릴-수-있는-방법">▶️ 다음 도움을 드릴 수 있는 방법</h2>

<ul>
  <li>
    <p>click 기반 서브커맨드 구조 예시 (<code class="language-plaintext highlighter-rouge">@click.group()</code>, plugin 패턴 등)를 보여드릴까요?</p>
  </li>
  <li>
    <p>AWS CLI처럼 단일 진입점에서 기능별 하위 CLI를 분리하는 코드를 함께 예시로 작성해드릴까요?</p>
  </li>
</ul>

<p>관심 있는 스타일을 알려주시면, 현재 구조(<code class="language-plaintext highlighter-rouge">mytool/...</code>)에 맞춰 맞춤 예시로 도와드릴게요!</p>

<p class="chat--user">

근데 또 어떻게 보면 해당 기능을 하는 모듈에 붙어있는게 비슷한 것끼리 모아있는 입장에선 더 좋아보이기도하고

</p>

<p>맞아요, 아주 정확한 고민이에요.<br />
<strong>CLI 진입점을 기능 모듈에 두는 방식</strong> 은 _“비슷한 것끼리 모은다”_는 <strong>높은 응집도(cohesion)</strong> 측면에서 상당히 합리적인 설계입니다.<br />
그렇기 때문에 이건 단순한 맞고 틀림의 문제가 아니라 <strong>프로젝트 성격, 팀 스타일, 유지보수 방식</strong> 에 따라 달라지는 <strong>트레이드오프</strong> 라고 할 수 있어요.</p>

<hr />

<h2 id="-기능-모듈에-cli-진입점을-두는-설계">✅ 기능 모듈에 CLI 진입점을 두는 설계</h2>

<p>예: <code class="language-plaintext highlighter-rouge">analyzer/treeanalyzer.py</code> 안에 <code class="language-plaintext highlighter-rouge">def main():</code> 포함</p>

<h3 id="장점-1">장점</h3>

<ul>
  <li>
    <p>기능과 CLI가 함께 있어, <strong>논리적 응집도가 높음</strong></p>
  </li>
  <li>
    <p>기능을 찾으면 곧바로 해당 CLI도 확인 가능 → 개발자 입장에서 직관적</p>
  </li>
  <li>
    <p>구조가 단순하고 폴더가 덜 분산됨</p>
  </li>
</ul>

<h3 id="단점-1">단점</h3>

<ul>
  <li>
    <p>CLI와 로직이 <strong>섞여 있어서 재사용성이 떨어짐</strong></p>
  </li>
  <li>
    <p>CLI용 의존성(<code class="language-plaintext highlighter-rouge">argparse</code>, <code class="language-plaintext highlighter-rouge">click</code>)이 모듈에 끼어들어옴</p>
  </li>
  <li>
    <p>유닛 테스트가 어려움 → <code class="language-plaintext highlighter-rouge">subprocess</code> 테스트 중심이 됨</p>
  </li>
  <li>
    <p>CLI 도구가 늘어나면 패키지 전반에 퍼져 있어서 <strong>정리 어려움</strong></p>
  </li>
</ul>

<hr />

<h2 id="-cli를-별도-모듈예-cli로-분리하는-설계">✅ CLI를 별도 모듈(예: <code class="language-plaintext highlighter-rouge">cli/</code>)로 분리하는 설계</h2>

<p>예: <code class="language-plaintext highlighter-rouge">cli/analyze_tree.py</code>에서 <code class="language-plaintext highlighter-rouge">analyzer.treeanalyzer.analyze()</code> 호출</p>

<h3 id="장점-2">장점</h3>

<ul>
  <li>
    <p>기능 모듈은 <strong>순수한 재사용 가능한 코드</strong> 로 유지</p>
  </li>
  <li>
    <p>CLI가 많아도 한 폴더(<code class="language-plaintext highlighter-rouge">cli/</code>)에서 일괄 관리 가능</p>
  </li>
  <li>
    <p>CLI와 테스트 분리가 쉬움 → CLI는 통합 테스트, 로직은 유닛 테스트</p>
  </li>
  <li>
    <p>entry-point, 플러그인 방식 확장 시 유리함</p>
  </li>
</ul>

<h3 id="단점-2">단점</h3>

<ul>
  <li>
    <p><strong>논리적으로 가까운 코드가 멀리 있음</strong></p>
  </li>
  <li>
    <p>기능 찾고 나서 해당 CLI가 어디 있는지 한 번 더 찾아야 함</p>
  </li>
  <li>
    <p>작은 프로젝트에는 과한 설계일 수 있음</p>
  </li>
</ul>

<hr />

<h2 id="-권장-전략-혼합-전략--진화형-구조">🧭 권장 전략: <strong>혼합 전략 + 진화형 구조</strong></h2>

<p>처음엔 기능 모듈 안에 CLI 진입점을 넣고,<br />
나중에 CLI 수가 많아지면 분리하는 <strong>점진적 리팩토링</strong> 도 좋은 접근입니다.</p>

<h3 id="-이렇게-구성해-보세요">👉 이렇게 구성해 보세요:</h3>

<ol>
  <li>
    <p><strong>기능 모듈에는 항상<code class="language-plaintext highlighter-rouge">main()</code>과는 별도로 <code class="language-plaintext highlighter-rouge">run()</code> 함수 정의</strong></p>
  </li>
  <li>
    <p>CLI 진입점을 <code class="language-plaintext highlighter-rouge">if __name__ == "__main__":</code> 아래에만 한정</p>
  </li>
  <li>
    <p>진입점 등록은 외부에서 관리 (<code class="language-plaintext highlighter-rouge">pyproject.toml</code> 또는 <code class="language-plaintext highlighter-rouge">cli/</code>)</p>
  </li>
</ol>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># treeanalyzer.py
</span>
<span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
    <span class="p">...</span>  <span class="c1"># 재사용 가능한 로직
</span>
<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="kn">import</span> <span class="n">argparse</span>
    <span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="p">.</span><span class="nc">ArgumentParser</span><span class="p">()</span>
    <span class="bp">...</span>
    <span class="nf">run</span><span class="p">(</span><span class="n">args</span><span class="p">.</span><span class="n">path</span><span class="p">)</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="sh">"</span><span class="s">__main__</span><span class="sh">"</span><span class="p">:</span>
    <span class="nf">main</span><span class="p">()</span>
</code></pre></div></div>

<p>그리고 entry-point에서는 이렇게 연결:</p>
<div class="language-toml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">[project.scripts]</span>
<span class="py">analyze-tree</span> <span class="p">=</span> <span class="s">"mytool.analyzer.treeanalyzer:main"</span>
</code></pre></div></div>

<p>➡ <strong>즉, CLI entry-point는 분리 안 하되, CLI 로직은 내부에서 격리</strong> 하는 방식이에요.<br />
이렇게 하면:</p>

<ul>
  <li>
    <p>모듈 cohesion 유지</p>
  </li>
  <li>
    <p>CLI 구조가 너무 퍼지지 않음</p>
  </li>
  <li>
    <p>나중에 <code class="language-plaintext highlighter-rouge">cli/</code> 폴더로 뽑아내기도 쉬움</p>
  </li>
</ul>

<hr />

<h2 id="-최종-정리">✨ 최종 정리</h2>

<table>
  <thead>
    <tr>
      <th>상황</th>
      <th>추천 방식</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>CLI 수가 적고, 응집도 중시</td>
      <td>기능 모듈 안에 <code class="language-plaintext highlighter-rouge">main()</code> 포함, <code class="language-plaintext highlighter-rouge">run()</code> 함수로 로직 분리</td>
    </tr>
    <tr>
      <td>CLI가 많거나 재사용/테스트 중심 설계</td>
      <td>CLI를 <code class="language-plaintext highlighter-rouge">cli/</code>로 분리하고, 기능 모듈은 순수 로직만</td>
    </tr>
    <tr>
      <td>미래에 확장 가능성 있음</td>
      <td>처음엔 모듈에 두고, CLI 수 늘어나면 <code class="language-plaintext highlighter-rouge">cli/</code>로 옮기는 <strong>진화적 리팩토링</strong> 설계</td>
    </tr>
  </tbody>
</table>

<hr />

<p>원하신다면 이 두 구조를 실제 코드로 비교해 보여드릴 수 있어요.<br />
CLI 수나 복잡도가 어느 정도 될 것 같으세요? 그에 따라 더 구체적인 예를 들어드릴게요.</p>

<p class="chat--user">

지금 한 5개 정도 돼

</p>

<p>5개의 CLI entry-point가 있다면 <strong>규모가 애매하게 커지기 시작하는 시점</strong> 이에요.<br />
그래서 지금이야말로 구조를 정리해서 <em>“유지보수 잘 되는 CLI 구조”</em> 로 갈지,<br />
아니면 <em>“기능 모듈 안에 CLI를 그대로 둘지”</em> 판단하기 딱 좋은 시점이에요.</p>

<hr />

<h2 id="-선택지-요약">✅ 선택지 요약</h2>

<table>
  <thead>
    <tr>
      <th>기준</th>
      <th>기능 모듈 안에 CLI 유지</th>
      <th>CLI 별도 디렉토리로 분리</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>CLI 수</td>
      <td>3개 이하일 때 적당</td>
      <td>5개 이상이면 분리 권장</td>
    </tr>
    <tr>
      <td>CLI 간 관계</td>
      <td>거의 독립적이면 OK</td>
      <td>관련 CLI끼리 묶을 수 있으면 분리 추천</td>
    </tr>
    <tr>
      <td>유지보수 팀 규모</td>
      <td>혼자 or 1~2명</td>
      <td>여러 명이 분담 작업 시 분리 추천</td>
    </tr>
    <tr>
      <td>로직 재사용</td>
      <td>CLI 전용이라면 OK</td>
      <td>다른 데서 재사용하면 분리 필수</td>
    </tr>
    <tr>
      <td>테스트</td>
      <td>CLI 직접 실행만 하면 됨</td>
      <td>유닛테스트와 분리 원하면 분리해야</td>
    </tr>
  </tbody>
</table>

<p>지금 5개면 <strong>분리 쪽으로 가는 걸 권장</strong> 해요.</p>

<hr />

<h2 id="️-중간-단계-전략-지금-추천">✳️ 중간 단계 전략 (지금 추천)</h2>

<blockquote>
  <p>🎯 “CLI 진입점은 모듈에 두되, <code class="language-plaintext highlighter-rouge">cli/</code> 폴더를 만들어 옮기기 쉬운 구조로 준비한다.”</p>
</blockquote>

<p>즉, 다음처럼 하면 돼요:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>arduino

mytool/
├── analyzer/
│   └── treeanalyzer.py     # def run()
├── editor/
│   └── replacer.py         # def run()
├── cli/
│   ├── analyze_tree.py     # def main() → run() 호출
│   ├── replace_code.py     # def main() → run() 호출
├── pyproject.toml
</code></pre></div></div>

<h3 id="예-analyzertreeanalyzerpy">예: <code class="language-plaintext highlighter-rouge">analyzer/treeanalyzer.py</code></h3>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Analyzing tree at </span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="예-clianalyze_treepy-1">예: <code class="language-plaintext highlighter-rouge">cli/analyze_tree.py</code></h3>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">mytool.analyzer.treeanalyzer</span> <span class="kn">import</span> <span class="n">run</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="kn">import</span> <span class="n">argparse</span>
    <span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="p">.</span><span class="nc">ArgumentParser</span><span class="p">()</span>
    <span class="n">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span><span class="sh">"</span><span class="s">path</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">args</span> <span class="o">=</span> <span class="n">parser</span><span class="p">.</span><span class="nf">parse_args</span><span class="p">()</span>
    <span class="nf">run</span><span class="p">(</span><span class="n">args</span><span class="p">.</span><span class="n">path</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="pyprojecttoml">pyproject.toml</h3>
<div class="language-toml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">[project.scripts]</span>
<span class="py">analyze-tree</span> <span class="p">=</span> <span class="s">"mytool.cli.analyze_tree:main"</span>
<span class="py">replace-code</span> <span class="p">=</span> <span class="s">"mytool.cli.replace_code:main"</span>
</code></pre></div></div>

<p>➡ 이렇게 하면:</p>

<ul>
  <li>
    <p><strong>기능 모듈은 순수하게 유지</strong></p>
  </li>
  <li>
    <p><strong>CLI entry-point는 하나의 디렉토리에서 관리</strong></p>
  </li>
  <li>
    <p>CLI가 10개든 20개든 구조가 <strong>절대 무너지지 않음</strong></p>
  </li>
</ul>

<hr />

<h2 id="-추가-팁">🧩 추가 팁</h2>

<ul>
  <li>CLI가 많아지면 <code class="language-plaintext highlighter-rouge">click.group()</code>으로 묶어서 <code class="language-plaintext highlighter-rouge">mytool</code>이라는 메인 CLI도 만들 수 있어요:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>mytool analyze-tree ...
<span class="nv">$ </span>mytool replace-code ...
</code></pre></div>    </div>
  </li>
  <li>이때는 <code class="language-plaintext highlighter-rouge">mytool/cli/__main__.py</code>를 만들고 entry-point를 <code class="language-plaintext highlighter-rouge">mytool=...</code>으로 지정하면 됩니다.</li>
</ul>

<hr />

<h2 id="-결론">🧭 결론</h2>

<p>지금 시점이라면 <strong>CLI를<code class="language-plaintext highlighter-rouge">cli/</code> 폴더로 분리해서 관리</strong>하는 걸 추천합니다.<br />
추후 확장/테스트/문서화 모두 쉬워지고, 구조가 흐트러지지 않아요.</p>

<p>필요하면 위 구조를 바로 쓸 수 있도록 cookiecutter 템플릿으로 만들어드릴 수도 있어요. 원할까요?</p>

<p class="chat--user">

어차피 def run()은 각 모듈 안에 유지할거라서 유닛테스팅은 가능할듯하고 def cli()에서는 argument parsing을 담당하고 run을 적절히 호출하는 형식이라서

</p>

<p>그렇다면 정말 이상적인 방향으로 잘 설계하고 계신 거예요.<br />
이미 <strong>기능 함수는<code class="language-plaintext highlighter-rouge">run()</code>으로 분리</strong>,<br />
<strong><code class="language-plaintext highlighter-rouge">cli()</code> (또는 <code class="language-plaintext highlighter-rouge">main()</code> 등)에서는 parsing만 담당</strong>하고 있다면,<br />
그 구조는 아래 세 가지 모두를 만족하는 훌륭한 구성입니다:</p>

<hr />

<h3 id="-1-단일-책임-원칙-srp-유지">✅ 1. <strong>단일 책임 원칙 (SRP) 유지</strong></h3>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">run()</code>은 <strong>순수 로직</strong> 이므로 테스트, 재사용, 추론 용이</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">cli()</code>는 <strong>입력 해석과 실행 연결</strong> 만 담당 → 관심사 명확 분리</p>
  </li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># analyzer/treeanalyzer.py
</span>
<span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
    <span class="p">...</span>  <span class="c1"># 유닛 테스트 대상
</span>
<span class="k">def</span> <span class="nf">cli</span><span class="p">():</span>
    <span class="kn">import</span> <span class="n">argparse</span>
    <span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="p">.</span><span class="nc">ArgumentParser</span><span class="p">()</span>
    <span class="bp">...</span>
    <span class="n">args</span> <span class="o">=</span> <span class="n">parser</span><span class="p">.</span><span class="nf">parse_args</span><span class="p">()</span>
    <span class="nf">run</span><span class="p">(</span><span class="n">args</span><span class="p">.</span><span class="n">path</span><span class="p">)</span>
</code></pre></div></div>

<hr />

<h3 id="-2-점진적-확장에-유리">✅ 2. <strong>점진적 확장에 유리</strong></h3>

<p>지금은 CLI가 모듈에 있지만:</p>

<ul>
  <li>
    <p>CLI가 많아지면 <code class="language-plaintext highlighter-rouge">cli/</code>로 옮겨도 기존 구조 손상 없이 <code class="language-plaintext highlighter-rouge">cli/analyze_tree.py</code>에서 <code class="language-plaintext highlighter-rouge">run()</code> 불러오기만 하면 됨.</p>
  </li>
  <li>
    <p>CLI 전용 테스트도 <code class="language-plaintext highlighter-rouge">subprocess.run(...)</code> 또는 <code class="language-plaintext highlighter-rouge">CliRunner</code> (Click 쓸 경우)로 병행 가능.</p>
  </li>
</ul>

<hr />

<h3 id="-3-유닛--통합-테스트-이원화-가능">✅ 3. <strong>유닛 + 통합 테스트 이원화 가능</strong></h3>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">tests/test_treeanalyzer.py</code>: <code class="language-plaintext highlighter-rouge">run()</code> 함수만 테스트 → 빠르고 세밀함</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">tests/test_cli_treeanalyzer.py</code>: <code class="language-plaintext highlighter-rouge">subprocess.run(["analyze-tree", "file.py"])</code> 식으로 전체 흐름 테스트</p>
  </li>
</ul>

<hr />

<h2 id="-이-구조에서-다음-단계">📌 이 구조에서 다음 단계</h2>

<p>지금 구조를 유지하면서도 확장성/일관성까지 챙기려면 아래 두 가지 추가 개선이 유용합니다:</p>

<hr />

<h3 id="️-개선-1-pyprojecttoml에서-바로-연결">✳️ 개선 1. <code class="language-plaintext highlighter-rouge">pyproject.toml</code>에서 바로 연결</h3>
<div class="language-toml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">[project.scripts]</span>
<span class="py">analyze-tree</span> <span class="p">=</span> <span class="s">"mytool.analyzer.treeanalyzer:cli"</span>
</code></pre></div></div>

<p>➡ CLI 개수 많아도 여기서 전부 <strong>명시적 연결</strong> 가능<br />
➡ CLI entry-point가 어디에 있는지 파악 쉬움</p>

<hr />

<h3 id="️-개선-2-cli만-따로-테스트-폴더-구성">✳️ 개선 2. CLI만 따로 테스트 폴더 구성</h3>
<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tests/
├── unit/
│   └── test_treeanalyzer.py
├── cli/
│   └── test_analyze_tree_cli.py
</code></pre></div></div>

<p>➡ CLI가 늘어나도 테스트 구조가 흐트러지지 않음<br />
➡ 각 CLI가 어떤 기능을 호출하는지도 추적 쉬움</p>

<hr />

<h2 id="-결론-1">🔚 결론</h2>

<p>지금 같은 구조(기능은 <code class="language-plaintext highlighter-rouge">run()</code>, CLI는 <code class="language-plaintext highlighter-rouge">cli()</code>로 분리)는:</p>

<p>✅ <strong>간결하고 테스트 가능한 설계</strong> 이며,<br />
✅ <strong>확장성(→ <code class="language-plaintext highlighter-rouge">cli/</code> 폴더 분리)</strong>에도 잘 대비되어 있고,<br />
✅ <strong>지금도 충분히 유지 가능</strong> , 향후 리팩터링도 용이한 전략입니다.</p>

<hr />

<h3 id="-참고로">💡 참고로…</h3>

<p>Click이나 Typer을 도입하면 argument parsing 자체도 더 깔끔해지고, CLI 자동완성/도움말도 쉬워지는데 — 지금은 <strong>argparse 기반 구조를 잘 유지하면서 확장 가능성까지 확보된 안정된 방식</strong> 으로 진행하고 계신 거예요.</p>

<p>추가적으로, 현재 CLI 구조를 하나 예시로 보여주시면 코드 개선 포인트도 구체적으로 짚어드릴 수 있어요!</p>

<p class="chat--user">

응 근데 파일을 분리하는게 고민중인거지

</p>

<p>아하, 정리하면 이런 상황이네요:</p>

<hr />

<h2 id="-현재-상태">🔍 현재 상태</h2>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">run()</code>은 각 기능 모듈 내부에 있음 → <strong>좋음</strong></p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">cli()</code>도 기능 모듈 내부에 있음 → <strong>현재는 괜찮음</strong></p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">pyproject.toml</code>에서 각 모듈의 <code class="language-plaintext highlighter-rouge">cli()</code>를 entry-point로 연결 중</p>
  </li>
  <li>
    <p>CLI는 약 5개 → <strong>앞으로 더 늘 가능성 있음</strong></p>
  </li>
  <li>
    <p>현재 고민:<br />
➤ <em><strong>CLI entry-point (<code class="language-plaintext highlighter-rouge">cli()</code>)를 모듈 밖으로 분리할지 말지?</strong></em></p>
  </li>
</ul>

<hr />

<h2 id="️-고민의-핵심-파일을-분리할지-말지">⚖️ 고민의 핵심: "파일을 분리할지 말지"</h2>

<p>이건 결국 <strong>"기능 모듈과 CLI 코드를 한 파일에 둘 것이냐, 분리할 것이냐"</strong>는 문제이고,<br />
이걸 결정하려면 다음 3가지 관점에서 점검해보는 게 좋아요:</p>

<hr />

<h3 id="-1-가시성과-탐색-편의성">✅ 1. <strong>가시성과 탐색 편의성</strong></h3>

<ul>
  <li>
    <p><strong>함께 있을 때 장점</strong> : 기능 수정하다가 바로 아래서 CLI 코드 확인 가능</p>
  </li>
  <li>
    <p><strong>분리했을 때 장점</strong> : CLI entry-point들이 한곳(<code class="language-plaintext highlighter-rouge">cli/</code>)에 모여 있어서 <strong>전체 CLI 맥락 파악이 쉬움</strong></p>
  </li>
</ul>

<p>→ 지금 CLI가 5개고 서로 다른 영역이라면, 오히려 <strong>기능과 CLI가 함께 있는 게 낫다</strong> 는 판단도 가능해요.</p>

<hr />

<h3 id="-2-코드-변경과-영향-범위">✅ 2. <strong>코드 변경과 영향 범위</strong></h3>

<ul>
  <li>
    <p>CLI 파싱 옵션을 자주 바꾸는지?</p>
  </li>
  <li>
    <p>CLI를 제외한 로직은 다른 곳에서도 재사용되는지?</p>
  </li>
</ul>

<p>→ CLI가 자주 바뀌고, 로직이 다른 곳에서도 쓰이면 <strong>분리</strong><br />
→ CLI는 거의 고정이고, 그 기능 전용이라면 <strong>한 파일에 유지</strong> 도 실용적</p>

<hr />

<h3 id="-3-향후-확장-계획">✅ 3. <strong>향후 확장 계획</strong></h3>

<ul>
  <li>
    <p>CLI가 5개에서 10개, 20개로 늘 가능성 있다면 지금 분리하는 게 좋음</p>
  </li>
  <li>
    <p>“그 정도까진 아닐 것 같다”면 현재 구조로 유지하고, <strong>CLI가 8개쯤 되는 시점에 리팩토링</strong> 해도 충분</p>
  </li>
</ul>

<hr />

<h2 id="️-전략적-제안-권장">✳️ 전략적 제안 (권장)</h2>

<blockquote>
  <p>📌 <strong>파일은 일단 그대로 두되</strong> ,<br />
 📌 <strong>CLI용 함수만 항상<code class="language-plaintext highlighter-rouge">cli()</code> 또는 <code class="language-plaintext highlighter-rouge">main()</code> 이름으로 명확하게 구분</strong><br />
 📌 CLI 전용 테스트는 별도로 관리 (예: <code class="language-plaintext highlighter-rouge">tests/cli/test_&lt;name&gt;.py</code>)
```python</p>
  <h1 id="analyzertreeanalyzerpy">analyzer/treeanalyzer.py</h1>
</blockquote>

<p>def run(…):
    …</p>

<p>def cli():  # 여기가 entry-point
    …</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
그리고 다음 기준 도달 시 분리 검토:

조건| 리팩토링 고려 타이밍  
---|---  
CLI 7~10개 이상| CLI 디렉토리 분리  
공통 CLI 유틸 생김| CLI 구조화 필요  
기능 모듈 내 코드가 300줄 이상| CLI/로직 분리 권장  
  
* * *

## ✅ 결론

  * **지금은 CLI를 기능 모듈 안에 두는 구조로 충분히 안정적**

  * 구조적 문제는 없고, 정리만 잘 해두면 나중에 쉽게 분리 가능

  * _“CLI가 많아지면 그때 `cli/`로 빼자”_는 **진화형 설계** 가 지금 가장 합리적인 선택이에요

* * *

👉 원하시면 지금 구조로 유지하면서도 나중에 쉽게 분리할 수 있도록 만드는 **템플릿 형태 코드 구조** 를 예시로 짜드릴게요. 원해요?

&lt;p class="chat--user" markdown="1"&gt;

cli를 폴더 말고 하나의 모듈만 쓰는건 어때 cli.py로 하고 그 안에서 함수만 5개 만드는거지

&lt;/p&gt;

좋아요, **`cli.py` 하나에 5개 CLI entry-point 함수 (`def cli_x(): ...`)를 두는 구조**,  
즉 **“하나의 CLI 모듈에서 여러 진입점을 관리하는 방식”**은  
지금 규모(5개)에서는 아주 합리적인 중간지점이에요.

아래에 장단점, 구조 예시, 주의점까지 단계적으로 정리해드릴게요.

* * *

## ✅ 구조 예시
</code></pre></div></div>
<p>objectivec</p>

<p>mytool/
├── analyzer/
│   ├── treeanalyzer.py
│   └── hierarchyanalyzer.py
├── editor/
│   └── replacer.py
├── cli.py               ← 이 파일 하나에서 5개 CLI 진입점 담당
├── pyproject.toml</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>```python
# mytool/cli.py

from mytool.analyzer.treeanalyzer import run as run_tree
from mytool.editor.replacer import run as run_replace
...

def analyze_tree_cli():
    import argparse
    parser = argparse.ArgumentParser()
    ...
    args = parser.parse_args()
    run_tree(args.path)

def replace_code_cli():
    import argparse
    parser = argparse.ArgumentParser()
    ...
    args = parser.parse_args()
    run_replace(args.pattern, args.replacement)
...
</code></pre></div></div>

<h3 id="-pyprojecttoml">🔧 pyproject.toml</h3>
<div class="language-toml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">[project.scripts]</span>
<span class="py">analyze-tree</span> <span class="p">=</span> <span class="s">"mytool.cli:analyze_tree_cli"</span>
<span class="py">replace-code</span> <span class="p">=</span> <span class="s">"mytool.cli:replace_code_cli"</span>
<span class="err">...</span>
</code></pre></div></div>

<hr />

<h2 id="-장점">✅ 장점</h2>

<table>
  <thead>
    <tr>
      <th>항목</th>
      <th>설명</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>👀 <strong>가시성</strong></td>
      <td>모든 CLI entry-point가 한 파일에 있으니 관리 편함</td>
    </tr>
    <tr>
      <td>🧩 <strong>단순성 유지</strong></td>
      <td>폴더 나누지 않고, 구조가 단순함</td>
    </tr>
    <tr>
      <td>🔁 <strong>코드 공유 용이</strong></td>
      <td>공통 argparse 옵션도 재사용 가능 (<code class="language-plaintext highlighter-rouge">_make_parser()</code> 등)</td>
    </tr>
    <tr>
      <td>🪛 <strong>리팩토링 쉬움</strong></td>
      <td>나중에 <code class="language-plaintext highlighter-rouge">cli/</code> 폴더로 분리할 때 함수 단위로 옮기면 끝</td>
    </tr>
    <tr>
      <td>🧪 <strong>테스트 명확</strong></td>
      <td>CLI 관련 테스트가 하나의 진입점에서 관리됨</td>
    </tr>
  </tbody>
</table>

<hr />

<h2 id="️-단점주의할-점">⚠️ 단점/주의할 점</h2>

<table>
  <thead>
    <tr>
      <th>항목</th>
      <th>설명</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>📏 <strong>파일 길어질 수 있음</strong></td>
      <td>CLI 수가 10개 넘으면 <code class="language-plaintext highlighter-rouge">cli.py</code>가 300줄 넘어감</td>
    </tr>
    <tr>
      <td>👥 <strong>협업 시 충돌 가능성</strong></td>
      <td>여러 명이 CLI 코드 건드릴 경우 머지 충돌 ↑</td>
    </tr>
    <tr>
      <td>🔎 <strong>서브 CLI 찾기 어려움</strong></td>
      <td><code class="language-plaintext highlighter-rouge">cli.py</code>에서 함수명을 명확히 써줘야 (<code class="language-plaintext highlighter-rouge">cli_x</code>) CLI 역할이 잘 드러남</td>
    </tr>
  </tbody>
</table>

<p>➡ CLI 개수가 많아지면 <code class="language-plaintext highlighter-rouge">cli_tree.py</code>, <code class="language-plaintext highlighter-rouge">cli_replace.py</code> 등으로 <strong>쪼개거나<code class="language-plaintext highlighter-rouge">cli/</code> 디렉토리화</strong>하면 돼요.</p>

<hr />

<h2 id="️-개선-팁">✳️ 개선 팁</h2>

<h3 id="1-공통-파서-유틸-함수-만들기">1. 공통 파서 유틸 함수 만들기</h3>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">make_common_parser</span><span class="p">():</span>
    <span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="p">.</span><span class="nc">ArgumentParser</span><span class="p">()</span>
    <span class="n">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span><span class="sh">"</span><span class="s">--verbose</span><span class="sh">"</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="sh">"</span><span class="s">store_true</span><span class="sh">"</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">parser</span>
</code></pre></div></div>

<h3 id="2-cli-함수명-네이밍-일관화">2. CLI 함수명 네이밍 일관화</h3>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">cli_analyze_tree</span><span class="p">():</span> <span class="bp">...</span>
<span class="k">def</span> <span class="nf">cli_replace_code</span><span class="p">():</span> <span class="bp">...</span>
</code></pre></div></div>

<h3 id="3-cli-맵핑-딕셔너리-추가적으로">3. CLI 맵핑 딕셔너리 (추가적으로)</h3>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">cli_registry</span> <span class="o">=</span> <span class="p">{</span>
    <span class="sh">"</span><span class="s">analyze-tree</span><span class="sh">"</span><span class="p">:</span> <span class="n">cli_analyze_tree</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">replace-code</span><span class="sh">"</span><span class="p">:</span> <span class="n">cli_replace_code</span><span class="p">,</span>
<span class="p">}</span>
</code></pre></div></div>

<p>➡ 이런 식으로 구조 잡아두면 CLI 개수가 늘어나도 <strong>분리·확장·리팩터링이 매우 쉬워집니다.</strong></p>

<hr />

<h2 id="-결론-2">✅ 결론</h2>

<ul>
  <li>
    <p>지금처럼 5개 정도의 CLI entry-point가 있을 때는 <strong><code class="language-plaintext highlighter-rouge">cli.py</code> 하나로 관리하는 방식이 매우 실용적</strong>입니다.</p>
  </li>
  <li>
    <p>추후 CLI가 많아지면 → <code class="language-plaintext highlighter-rouge">cli/</code> 폴더로 분리도 용이</p>
  </li>
  <li>
    <p>대신 함수명, argparse 재사용 등 <strong>구조화만 잘 해두면</strong> 매우 효율적인 방법입니다.</p>
  </li>
</ul>

<hr />

<p>원하시면 <code class="language-plaintext highlighter-rouge">cli.py</code> 전체 예시 스캐폴드(5개 CLI 포함)도 구성해드릴 수 있어요.<br />
그럼 확장 방향까지 예측 가능하게 드릴 수 있습니다 — 원해요?</p>

<p class="chat--user">

하나의 커맨드에서 subcommand로 분리하는게 좋을까? 지금은 그냥 각각 5개 커맨드임

</p>

<p>이건 아주 좋은 질문이에요 —<br />
<strong>"하나의 메인 커맨드 아래에 subcommand를 둘 것인가?"</strong><br />
vs<br />
<strong>"각 기능을 독립된 커맨드로 둘 것인가?"</strong></p>

<p>이 선택은 CLI 설계에서 <strong>사용자 경험</strong> , <strong>확장성</strong> , <strong>배포 방식</strong> , <strong>일관성</strong> 에 영향을 줘요.<br />
지금 CLI가 5개라면 이 고민을 진지하게 할 시점이에요.</p>

<hr />

<h2 id="-결론-먼저">🎯 결론 먼저</h2>

<table>
  <thead>
    <tr>
      <th>상황</th>
      <th>추천 구조</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>유저가 한 이름의 커맨드만 기억하면 좋음</td>
      <td><code class="language-plaintext highlighter-rouge">mytool [subcommand]</code> (group-based CLI)</td>
    </tr>
    <tr>
      <td>각각의 기능이 명확히 분리돼 있고 독립 실행되어야 함</td>
      <td>독립 CLI 5개 (현재 구조 유지)</td>
    </tr>
  </tbody>
</table>

<p>➡ 즉:</p>

<blockquote>
  <p><strong>“사용자가 CLI를 하나의 도구처럼 느끼길 원하면 → subcommand 구조”</strong><br />
 <strong>“각 도구가 별개로 사용될 일이 많다면 → 지금처럼 각각 커맨드로”</strong></p>
</blockquote>

<hr />

<h2 id="-예시로-비교해볼게요">🧱 예시로 비교해볼게요</h2>

<h3 id="현재-방식-5개-커맨드">현재 방식 (5개 커맨드)</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>analyze-tree ...
analyze-hierarchy ...
replace-code ...
<span class="k">do</span><span class="nt">-x</span> ...
<span class="k">do</span><span class="nt">-y</span> ...
</code></pre></div></div>

<h3 id="subcommand-방식">subcommand 방식</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mytool analyze-tree ...
mytool analyze-hierarchy ...
mytool replace-code ...
</code></pre></div></div>

<hr />

<h2 id="-각각의-커맨드로-둘-때-장점">✅ 각각의 커맨드로 둘 때 장점</h2>

<ul>
  <li>
    <p><strong>쉘 자동완성 / alias 등록이 간편</strong></p>
  </li>
  <li>
    <p>기능별 binary처럼 쓸 수 있음 (<code class="language-plaintext highlighter-rouge">replace-code</code> 하나만 따로 배포도 가능)</p>
  </li>
  <li>
    <p>진입점 단순 → <code class="language-plaintext highlighter-rouge">pyproject.toml</code>에 각각 등록하기만 하면 됨</p>
  </li>
  <li>
    <p>도구 간 <strong>의존성 분리</strong> 가 쉬움</p>
  </li>
</ul>

<hr />

<h2 id="-하나의-커맨드--서브커맨드로-묶을-때-장점">✅ 하나의 커맨드 + 서브커맨드로 묶을 때 장점</h2>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">mytool</code> 하나만 기억하면 됨 → <strong>UX 일관성 향상</strong></p>
  </li>
  <li>
    <p>CLI 도움말이 하나로 통합됨 (<code class="language-plaintext highlighter-rouge">mytool --help</code>)</p>
  </li>
  <li>
    <p>추후 <strong>공통 옵션</strong> 공유 가능 (<code class="language-plaintext highlighter-rouge">--config</code>, <code class="language-plaintext highlighter-rouge">--verbose</code> 등)</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">click</code>, <code class="language-plaintext highlighter-rouge">typer</code> 등의 CLI 프레임워크 사용 시 확장성과 표현력이 훨씬 좋아짐</p>
  </li>
</ul>

<hr />

<h2 id="️-현실적인-중간-접근-둘-다-지원">✳️ 현실적인 중간 접근: 둘 다 지원</h2>

<p>사실 <code class="language-plaintext highlighter-rouge">click</code>, <code class="language-plaintext highlighter-rouge">argparse</code>, <code class="language-plaintext highlighter-rouge">typer</code> 모두 다음이 가능해요:</p>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">mytool</code>이라는 메인 명령</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">analyze-tree</code>, <code class="language-plaintext highlighter-rouge">replace-code</code> 등은 <strong>subcommand로 등록</strong></p>
  </li>
  <li>
    <p>동시에 각각도 <code class="language-plaintext highlighter-rouge">pyproject.toml</code>에 독립 CLI로 등록 가능</p>
  </li>
</ul>

<div class="language-toml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">[project.scripts]</span>
<span class="py">mytool</span> <span class="p">=</span> <span class="s">"mytool.cli:main"</span>
<span class="py">replace-code</span> <span class="p">=</span> <span class="s">"mytool.cli_replace:main"</span>     <span class="c"># 서브셋으로 분리해도 가능</span>
</code></pre></div></div>

<p>➡ 이러면 <strong>하나의 unified CLI (<code class="language-plaintext highlighter-rouge">mytool</code>)</strong>도 있고,<br />
필요시 빠르게 쓰는 독립 커맨드도 있어요.</p>

<hr />

<h2 id="-전략-제안">🧭 전략 제안</h2>

<p>현재 구조가 다음에 해당하면 subcommand 구조로 <strong>전환할 가치가 높습니다</strong> :</p>

<ul>
  <li>
    <p>기능들이 하나의 도메인 아래에 묶이는 느낌이 강하다<br />
(예: 모두 코드 분석 도구라면 <code class="language-plaintext highlighter-rouge">mytool analyze</code>, <code class="language-plaintext highlighter-rouge">mytool replace</code>, …)</p>
  </li>
  <li>
    <p>사용자 입장에서 <code class="language-plaintext highlighter-rouge">mytool</code>만 치고 <code class="language-plaintext highlighter-rouge">--help</code>로 전체 파악이 되면 좋다</p>
  </li>
  <li>
    <p>공통 설정(<code class="language-plaintext highlighter-rouge">--config</code>, <code class="language-plaintext highlighter-rouge">--verbose</code>)이 필요하다</p>
  </li>
  <li>
    <p>CLI 수가 5개 이상으로 확장될 가능성이 있다</p>
  </li>
</ul>

<p>그렇지 않고 각 커맨드가 독립적이라면 지금 구조로도 충분히 좋습니다.</p>

<hr />

<h2 id="-tip-click--groupcommand로-구현하기-매우-쉬움">💡 Tip: <code class="language-plaintext highlighter-rouge">click</code> + <code class="language-plaintext highlighter-rouge">@group.command()</code>로 구현하기 매우 쉬움</h2>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">click</span>

<span class="nd">@click.group</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="bp">...</span>

<span class="nd">@main.command</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">analyze_tree</span><span class="p">():</span>
    <span class="bp">...</span>

<span class="nd">@main.command</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">replace_code</span><span class="p">():</span>
    <span class="bp">...</span>
</code></pre></div></div>

<p>➡ 이걸 <code class="language-plaintext highlighter-rouge">mytool.cli:main</code>에 연결하면 <code class="language-plaintext highlighter-rouge">mytool replace-code</code>, <code class="language-plaintext highlighter-rouge">mytool analyze-tree</code> 등으로 서브커맨드 사용 가능</p>

<hr />

<p>필요하시면 지금 CLI 5개를 subcommand 형태로 바꾼 예시 코드도 만들어 드릴게요.<br />
전환 실습 원하시나요?</p>

<p class="chat--user">

하나의 커맨드로 바꾸고 싶은데 도와줘

</p>

<p>좋아요! 현재 5개의 CLI를 <strong>하나의 커맨드 (<code class="language-plaintext highlighter-rouge">mytool</code>)로 통합하고, 서브커맨드로 분리하는 구조</strong>로 바꾸고 싶으신 거죠?<br />
그럼 아래 단계대로 따라오시면 됩니다:</p>

<hr />

<h1 id="-목표-구조-예시">✅ 목표 구조 예시</h1>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mytool analyze-tree ...
mytool analyze-hierarchy ...
mytool replace-code ...
mytool <span class="k">do</span><span class="nt">-x</span> ...
mytool <span class="k">do</span><span class="nt">-y</span> ...
</code></pre></div></div>

<hr />

<h2 id="1️⃣-어떤-프레임워크로-할까">1️⃣ 어떤 프레임워크로 할까?</h2>

<p>가장 쉬운 방법은 <code class="language-plaintext highlighter-rouge">click</code>을 사용하는 거예요.<br />
표현력도 좋고 구조화도 쉽고, 파이썬 기본 배포에도 잘 녹아듭니다.</p>

<blockquote>
  <p>💡 <code class="language-plaintext highlighter-rouge">argparse</code>도 가능하지만 subcommand 구조 구현이 번거로워요.<br />
 <code class="language-plaintext highlighter-rouge">click</code>을 권장합니다.</p>
</blockquote>

<hr />

<h2 id="2️⃣-구조-예시">2️⃣ 구조 예시</h2>

<h3 id="-폴더-구조">📁 폴더 구조</h3>
<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">mytool</span><span class="p">/</span>
<span class="err">├──</span> <span class="n">cli</span><span class="p">.</span><span class="n">py</span>          <span class="err">←</span> <span class="err">메인</span> <span class="n">entry</span> <span class="nf">point</span> <span class="p">(</span><span class="k">group</span><span class="p">)</span>
<span class="err">├──</span> <span class="n">commands</span><span class="p">/</span>
<span class="err">│</span>   <span class="err">├──</span> <span class="n">analyze_tree</span><span class="p">.</span><span class="n">py</span>
<span class="err">│</span>   <span class="err">├──</span> <span class="n">analyze_hierarchy</span><span class="p">.</span><span class="n">py</span>
<span class="err">│</span>   <span class="err">├──</span> <span class="n">replace_code</span><span class="p">.</span><span class="n">py</span>
<span class="err">│</span>   <span class="err">└──</span> <span class="p">...</span>
</code></pre></div></div>

<hr />

<h2 id="3️⃣-코드-예시">3️⃣ 코드 예시</h2>

<h3 id="mytoolclipy"><code class="language-plaintext highlighter-rouge">mytool/cli.py</code></h3>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">click</span>
<span class="kn">from</span> <span class="n">mytool.commands</span> <span class="kn">import</span> <span class="n">analyze_tree</span><span class="p">,</span> <span class="n">analyze_hierarchy</span><span class="p">,</span> <span class="n">replace_code</span>

<span class="nd">@click.group</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="sh">"""</span><span class="s">MyTool - Unified CLI entry point</span><span class="sh">"""</span>
    <span class="k">pass</span>

<span class="c1"># 각각 서브 커맨드 등록
</span><span class="n">main</span><span class="p">.</span><span class="nf">add_command</span><span class="p">(</span><span class="n">analyze_tree</span><span class="p">.</span><span class="n">cli</span><span class="p">)</span>
<span class="n">main</span><span class="p">.</span><span class="nf">add_command</span><span class="p">(</span><span class="n">analyze_hierarchy</span><span class="p">.</span><span class="n">cli</span><span class="p">)</span>
<span class="n">main</span><span class="p">.</span><span class="nf">add_command</span><span class="p">(</span><span class="n">replace_code</span><span class="p">.</span><span class="n">cli</span><span class="p">)</span>
</code></pre></div></div>

<hr />

<h3 id="mytoolcommandsanalyze_treepy"><code class="language-plaintext highlighter-rouge">mytool/commands/analyze_tree.py</code></h3>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">click</span>
<span class="kn">from</span> <span class="n">mytool.analyzer.treeanalyzer</span> <span class="kn">import</span> <span class="n">run</span>

<span class="nd">@click.command</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="sh">"</span><span class="s">analyze-tree</span><span class="sh">"</span><span class="p">)</span>
<span class="nd">@click.argument</span><span class="p">(</span><span class="sh">"</span><span class="s">path</span><span class="sh">"</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">cli</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">Analyze tree structure in a file.</span><span class="sh">"""</span>
    <span class="nf">run</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
</code></pre></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">replace_code.py</code>도 동일한 방식으로 구성합니다.</li>
</ul>

<hr />

<h3 id="pyprojecttoml-poetry-또는-setuptools-기준"><code class="language-plaintext highlighter-rouge">pyproject.toml</code> (poetry 또는 setuptools 기준)</h3>
<div class="language-toml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">[project.scripts]</span>
<span class="py">mytool</span> <span class="p">=</span> <span class="s">"mytool.cli:main"</span>
</code></pre></div></div>

<p>➡ 설치 후에는 다음처럼 사용 가능:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>mytool <span class="nt">--help</span>
<span class="nv">$ </span>mytool analyze-tree path/to/file.py
<span class="nv">$ </span>mytool replace-code <span class="nt">--pattern</span> ... <span class="nt">--replacement</span> ...
</code></pre></div></div>

<hr />

<h2 id="-장점-1">✅ 장점</h2>

<ul>
  <li>
    <p><strong>하나의 CLI만 기억하면 됨 (<code class="language-plaintext highlighter-rouge">mytool</code>)</strong></p>
  </li>
  <li>
    <p><strong>서브커맨드로 명확하게 구분</strong></p>
  </li>
  <li>
    <p><strong>추가 기능은<code class="language-plaintext highlighter-rouge">commands/</code> 폴더에 파일 하나 추가하면 끝</strong></p>
  </li>
  <li>
    <p><strong>공통 옵션도 main에 붙일 수 있음 (<code class="language-plaintext highlighter-rouge">--verbose</code>, <code class="language-plaintext highlighter-rouge">--config</code>)</strong></p>
  </li>
</ul>

<hr />

<h2 id="️-다음-단계">⏭️ 다음 단계</h2>

<p>원하시면 제가 지금 사용 중인 5개의 CLI 중 일부를 예로 들어 <strong>전체 구조 코드를 템플릿 형태로 구성해 드릴 수 있어요.</strong></p>

<blockquote>
  <p>혹시 현재 CLI 명령어 이름들과 기능 예시 간단히 적어주실 수 있나요?</p>
</blockquote>

<p>그럼 완전히 반영해서 <code class="language-plaintext highlighter-rouge">mytool/cli.py</code>, <code class="language-plaintext highlighter-rouge">commands/*.py</code> 등 전환 코드를 만들어 드릴게요.</p>

<p class="chat--user">

지금 예시도 괜찮아 그런데 옵셔널한 argument들 처리하는 법과 한글/영어 도움말 모두 표기하고 싶은데 그런걸 할 수 있을까

</p>

<p>좋아요! 지금 구조에 기반해서:</p>

<ol>
  <li>
    <p><strong>옵셔널 argument 처리</strong></p>
  </li>
  <li>
    <p><strong>한글/영어 도움말을 함께 보여주기</strong></p>
  </li>
</ol>

<p>를 모두 만족하는 방법을 <code class="language-plaintext highlighter-rouge">click</code>으로 아주 자연스럽게 구현할 수 있어요.<br />
아래에 <strong>구체적인 예시와 팁</strong> 을 드릴게요.</p>

<hr />

<h2 id="-1-옵셔널-argument-처리-방법">✅ 1. 옵셔널 argument 처리 방법</h2>

<p><code class="language-plaintext highlighter-rouge">click</code>에서는 <code class="language-plaintext highlighter-rouge">@click.option</code> 데코레이터를 쓰면 됩니다.<br />
위치 인자와는 달리 옵션은 <code class="language-plaintext highlighter-rouge">--옵션명</code> 형식으로 지정해요.</p>

<h3 id="-예-replace_codepy">📌 예: <code class="language-plaintext highlighter-rouge">replace_code.py</code></h3>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">click</span>
<span class="kn">from</span> <span class="n">mytool.editor.replacer</span> <span class="kn">import</span> <span class="n">run</span>

<span class="nd">@click.command</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="sh">"</span><span class="s">replace-code</span><span class="sh">"</span><span class="p">)</span>
<span class="nd">@click.option</span><span class="p">(</span><span class="sh">"</span><span class="s">--pattern</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">-p</span><span class="sh">"</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="sh">"</span><span class="s">🔍 Pattern to search (검색할 패턴)</span><span class="sh">"</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="nd">@click.option</span><span class="p">(</span><span class="sh">"</span><span class="s">--replacement</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">-r</span><span class="sh">"</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="sh">"</span><span class="s">🔁 Replacement string (바꿀 문자열)</span><span class="sh">"</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="nd">@click.option</span><span class="p">(</span><span class="sh">"</span><span class="s">--inplace</span><span class="sh">"</span><span class="p">,</span> <span class="n">is_flag</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="sh">"</span><span class="s">📦 Replace in place (파일 직접 수정)</span><span class="sh">"</span><span class="p">)</span>
<span class="nd">@click.option</span><span class="p">(</span><span class="sh">"</span><span class="s">--encoding</span><span class="sh">"</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="sh">"</span><span class="s">utf-8</span><span class="sh">"</span><span class="p">,</span> <span class="n">show_default</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="sh">"</span><span class="s">📄 File encoding (파일 인코딩)</span><span class="sh">"</span><span class="p">)</span>
<span class="nd">@click.argument</span><span class="p">(</span><span class="sh">"</span><span class="s">filepath</span><span class="sh">"</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">cli</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">replacement</span><span class="p">,</span> <span class="n">inplace</span><span class="p">,</span> <span class="n">encoding</span><span class="p">,</span> <span class="n">filepath</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">✏️ Replace code pattern in file  
    🔠 지정된 패턴을 파일 내에서 바꿉니다.</span><span class="sh">"""</span>
    <span class="nf">run</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">replacement</span><span class="p">,</span> <span class="n">filepath</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="n">inplace</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="n">encoding</span><span class="p">)</span>
</code></pre></div></div>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">--pattern</code>, <code class="language-plaintext highlighter-rouge">--replacement</code>: 필수 옵션 (<code class="language-plaintext highlighter-rouge">required=True</code>)</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">--inplace</code>: boolean flag (<code class="language-plaintext highlighter-rouge">is_flag=True</code>)</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">--encoding</code>: 기본값이 있는 옵션 (<code class="language-plaintext highlighter-rouge">default=...</code>)</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">filepath</code>: 위치 인자 (<code class="language-plaintext highlighter-rouge">click.argument</code>)</p>
  </li>
</ul>

<hr />

<h2 id="-2-한글영어-도움말을-함께-표기하기">✅ 2. 한글/영어 도움말을 함께 표기하기</h2>

<p>도움말을 <code class="language-plaintext highlighter-rouge">help=</code> 또는 docstring에 <strong>두 언어 병기</strong> 로 적으면 돼요. 예:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@click.command</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="sh">"</span><span class="s">analyze-tree</span><span class="sh">"</span><span class="p">,</span>
    <span class="n">help</span><span class="o">=</span><span class="sh">"</span><span class="s">🌳 Analyze tree structure in code.</span><span class="se">\n</span><span class="s">🔍 코드의 트리 구조를 분석합니다.</span><span class="sh">"</span>
<span class="p">)</span>
</code></pre></div></div>

<p>또는 옵션마다:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@click.option</span><span class="p">(</span>
    <span class="sh">"</span><span class="s">--verbose</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">-v</span><span class="sh">"</span><span class="p">,</span>
    <span class="n">is_flag</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">help</span><span class="o">=</span><span class="sh">"</span><span class="s">🔊 Verbose output (자세한 출력)</span><span class="sh">"</span>
<span class="p">)</span>
</code></pre></div></div>

<p>CLI 전체 도움말은 <code class="language-plaintext highlighter-rouge">main()</code>에 다음처럼:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@click.group</span><span class="p">(</span>
    <span class="n">help</span><span class="o">=</span><span class="sh">"""</span><span class="s">
🧰 MyTool - Unified CLI for Code Utilities

English: Use this tool to analyze and modify code.
한국어: 코드 분석 및 변환을 위한 통합 CLI입니다.
</span><span class="sh">"""</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="k">pass</span>
</code></pre></div></div>

<blockquote>
  <p>✅ 이렇게 하면 <code class="language-plaintext highlighter-rouge">mytool --help</code>, <code class="language-plaintext highlighter-rouge">mytool analyze-tree --help</code> 등에서 <strong>한글/영어 병기된 도움말</strong> 이 자연스럽게 출력됩니다.</p>
</blockquote>

<hr />

<h2 id="-예시-출력">✅ 예시 출력</h2>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>mytool replace-code <span class="nt">--help</span>

Usage: mytool replace-code <span class="o">[</span>OPTIONS] FILEPATH

✏️ Replace code pattern <span class="k">in </span>file
🔠 지정된 패턴을 파일 내에서 바꿉니다.

Options:
  <span class="nt">-p</span>, <span class="nt">--pattern</span> TEXT       🔍 Pattern to search <span class="o">(</span>검색할 패턴<span class="o">)</span>   <span class="o">[</span>required]
  <span class="nt">-r</span>, <span class="nt">--replacement</span> TEXT   🔁 Replacement string <span class="o">(</span>바꿀 문자열<span class="o">)</span>  <span class="o">[</span>required]
  <span class="nt">--inplace</span>                📦 Replace <span class="k">in </span>place <span class="o">(</span>파일 직접 수정<span class="o">)</span>
  <span class="nt">--encoding</span> TEXT          📄 File encoding <span class="o">(</span>파일 인코딩<span class="o">)</span>       <span class="o">[</span>default: utf-8]
  <span class="nt">--help</span>                   Show this message and exit.
</code></pre></div></div>

<hr />

<h2 id="-결론-3">🔚 결론</h2>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">click.option()</code>으로 <strong>옵셔널 인자 처리</strong> 아주 유연하게 가능</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">help=...</code>이나 docstring을 통해 <strong>한글/영어 병기 도움말</strong> 도 쉽게 구현 가능</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">click</code>은 출력 레이아웃도 깔끔하게 정리해줘서 UX 매우 좋음</p>
  </li>
</ul>

<hr />

<p>필요하시면 위 구조 전체를 <code class="language-plaintext highlighter-rouge">mytool</code> 패키지 형태로 스캐폴딩해드릴게요.<br />
또는 현재 CLI 5개 중 하나 골라서 실제 적용 코드를 만들어드릴까요?</p>

<p class="chat--user">

이런 경우 <code class="language-plaintext highlighter-rouge">mytool --help</code> 출력은 뭐야?

</p>

<p>좋은 질문이에요!<br />
<code class="language-plaintext highlighter-rouge">mytool</code>을 <code class="language-plaintext highlighter-rouge">click.group()</code> 기반으로 만들고 그 아래에 여러 subcommand를 등록하면,<br />
<code class="language-plaintext highlighter-rouge">mytool --help</code> 출력은 자동으로 <strong>전체 CLI의 진입점 설명과 하위 커맨드 목록</strong> 을 포함한 도움말을 보여줍니다.</p>

<hr />

<h2 id="-예시-mytool---help-출력">✅ 예시: <code class="language-plaintext highlighter-rouge">mytool --help</code> 출력</h2>

<p>아래와 같이 <code class="language-plaintext highlighter-rouge">mytool/cli.py</code>에 <code class="language-plaintext highlighter-rouge">@click.group()</code>이 있고 서브커맨드가 5개 있다고 가정할게요:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@click.group</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="sh">"""</span><span class="s">
🧰 MyTool - Unified CLI for Code Utilities

English: Use this tool to analyze and modify code.
한국어: 코드 분석 및 변환을 위한 통합 CLI입니다.
</span><span class="sh">"""</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="k">pass</span>

<span class="n">main</span><span class="p">.</span><span class="nf">add_command</span><span class="p">(</span><span class="n">analyze_tree</span><span class="p">.</span><span class="n">cli</span><span class="p">)</span>
<span class="n">main</span><span class="p">.</span><span class="nf">add_command</span><span class="p">(</span><span class="n">analyze_hierarchy</span><span class="p">.</span><span class="n">cli</span><span class="p">)</span>
<span class="n">main</span><span class="p">.</span><span class="nf">add_command</span><span class="p">(</span><span class="n">replace_code</span><span class="p">.</span><span class="n">cli</span><span class="p">)</span>
<span class="n">main</span><span class="p">.</span><span class="nf">add_command</span><span class="p">(</span><span class="n">do_x</span><span class="p">.</span><span class="n">cli</span><span class="p">)</span>
<span class="n">main</span><span class="p">.</span><span class="nf">add_command</span><span class="p">(</span><span class="n">do_y</span><span class="p">.</span><span class="n">cli</span><span class="p">)</span>
</code></pre></div></div>

<p>이 경우 터미널에서 <code class="language-plaintext highlighter-rouge">mytool --help</code>를 입력하면 다음처럼 출력됩니다:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>vbnet

Usage: mytool [COMMAND] [OPTIONS]

🧰 MyTool - Unified CLI for Code Utilities

English: Use this tool to analyze and modify code.
한국어: 코드 분석 및 변환을 위한 통합 CLI입니다.

Options:
  --help  Show this message and exit.

Commands:
  analyze-tree        🌳 Analyze tree structure in code.
  analyze-hierarchy   🧱 Analyze hierarchy layout in directory.
  replace-code        ✏️ Replace code pattern in file.
  do-x                🚀 Perform operation X.
  do-y                🧪 Run experimental Y.
</code></pre></div></div>

<hr />

<h2 id="-각-커맨드의-설명은-어디서-나올까">🔍 각 커맨드의 설명은 어디서 나올까?</h2>

<p>각 subcommand 파일에서 <code class="language-plaintext highlighter-rouge">@click.command(help="...")</code> 또는 docstring으로 설정한 것이 표시됩니다.</p>

<p>예:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@click.command</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="sh">"</span><span class="s">replace-code</span><span class="sh">"</span><span class="p">,</span>
    <span class="n">help</span><span class="o">=</span><span class="sh">"</span><span class="s">✏️ Replace code pattern in file.</span><span class="se">\n</span><span class="s">🔠 지정된 패턴을 파일 내에서 바꿉니다.</span><span class="sh">"</span>
<span class="p">)</span>
</code></pre></div></div>

<p>이렇게 써두면 <code class="language-plaintext highlighter-rouge">mytool --help</code> 뿐만 아니라 <code class="language-plaintext highlighter-rouge">mytool replace-code --help</code>에서도 표시됩니다.</p>

<hr />

<h2 id="-정리">🧠 정리</h2>

<table>
  <thead>
    <tr>
      <th>입력</th>
      <th>출력 내용</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">mytool --help</code></td>
      <td>그룹 전체 설명, 명령어 목록, 각 명령의 짧은 요약</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">mytool [subcommand] --help</code></td>
      <td>해당 서브 명령어에 대한 옵션, 설명, 인자 등 상세 출력</td>
    </tr>
  </tbody>
</table>

<p>➡ <strong>전체 CLI UX 흐름을 한 명령어로 파악할 수 있어서 매우 유용</strong> 합니다.</p>

<hr />

<p>원하시면 <code class="language-plaintext highlighter-rouge">mytool --help</code> 전체 출력이 완성된 상태의 샘플도 만들어드릴 수 있어요!<br />
혹시 보여드릴까요?</p>

<p class="chat--user">

subcommand에서 세 가지 algorithm 중 하나를 선택하게 하고 싶어. 기본값은 A 알고리즘으로하고 B나 C도 선택 가능하게 옵션으로 해줘

</p>

<p>완벽하게 할 수 있어요!<br />
<code class="language-plaintext highlighter-rouge">click</code>에서는 이런 <strong>선택형 옵션</strong> 을 <code class="language-plaintext highlighter-rouge">@click.option(..., type=click.Choice([...]))</code>으로 아주 쉽게 구현할 수 있습니다.<br />
기본값도 지정할 수 있고, 입력 제한도 걸어줄 수 있어요.</p>

<hr />

<h2 id="-목표">✅ 목표</h2>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">--algorithm</code> 또는 <code class="language-plaintext highlighter-rouge">-a</code> 옵션으로 A/B/C 중 하나 선택</p>
  </li>
  <li>
    <p>기본값은 A</p>
  </li>
  <li>
    <p>CLI 도움말에 한글/영어 병기</p>
  </li>
  <li>
    <p>자동완성, 유효성 검사 포함</p>
  </li>
</ul>

<hr />

<h2 id="-예시-코드-mytoolcommandsanalyze_treepy">📌 예시 코드 (<code class="language-plaintext highlighter-rouge">mytool/commands/analyze_tree.py</code>)</h2>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">click</span>
<span class="kn">from</span> <span class="n">mytool.analyzer.treeanalyzer</span> <span class="kn">import</span> <span class="n">run</span>

<span class="nd">@click.command</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="sh">"</span><span class="s">analyze-tree</span><span class="sh">"</span><span class="p">)</span>
<span class="nd">@click.argument</span><span class="p">(</span><span class="sh">"</span><span class="s">path</span><span class="sh">"</span><span class="p">)</span>
<span class="nd">@click.option</span><span class="p">(</span>
    <span class="sh">"</span><span class="s">--algorithm</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">-a</span><span class="sh">"</span><span class="p">,</span>
    <span class="nb">type</span><span class="o">=</span><span class="n">click</span><span class="p">.</span><span class="nc">Choice</span><span class="p">([</span><span class="sh">"</span><span class="s">A</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">B</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">C</span><span class="sh">"</span><span class="p">],</span> <span class="n">case_sensitive</span><span class="o">=</span><span class="bp">False</span><span class="p">),</span>
    <span class="n">default</span><span class="o">=</span><span class="sh">"</span><span class="s">A</span><span class="sh">"</span><span class="p">,</span>
    <span class="n">show_default</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">help</span><span class="o">=</span><span class="sh">"</span><span class="s">🧠 Algorithm to use: A, B, or C (사용할 알고리즘)</span><span class="sh">"</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">cli</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">algorithm</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">🌳 Analyze tree structure in code  
    📂 코드의 트리 구조를 분석합니다</span><span class="sh">"""</span>
    <span class="nf">run</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">algorithm</span><span class="o">=</span><span class="n">algorithm</span><span class="p">)</span>
</code></pre></div></div>

<hr />

<h2 id="-실행-예시">✅ 실행 예시</h2>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>mytool analyze-tree file.py
<span class="c"># → 기본값 A 알고리즘 사용</span>

<span class="nv">$ </span>mytool analyze-tree file.py <span class="nt">--algorithm</span> B
<span class="c"># → B 알고리즘 사용</span>

<span class="nv">$ </span>mytool analyze-tree file.py <span class="nt">-a</span> c
<span class="c"># → C 알고리즘 (대소문자 무시)</span>
</code></pre></div></div>

<hr />

<h2 id="-도움말-출력-mytool-analyze-tree---help">✅ 도움말 출력 (<code class="language-plaintext highlighter-rouge">mytool analyze-tree --help</code>)</h2>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>vbnet

Usage: mytool analyze-tree [OPTIONS] PATH

🌳 Analyze tree structure in code  
📂 코드의 트리 구조를 분석합니다

Options:
  -a, --algorithm [A|B|C]  🧠 Algorithm to use: A, B, or C (사용할 알고리즘)
                           [default: A]
  --help                   Show this message and exit.
</code></pre></div></div>

<hr />

<h2 id="-내부에서-받은-값-사용하기">✅ 내부에서 받은 값 사용하기</h2>

<p><code class="language-plaintext highlighter-rouge">run(path, algorithm=algorithm)</code>처럼 넘기면<br />
기능 모듈에서는 문자열 <code class="language-plaintext highlighter-rouge">"A"</code>, <code class="language-plaintext highlighter-rouge">"B"</code>, <code class="language-plaintext highlighter-rouge">"C"</code>로 처리하면 됩니다.</p>

<hr />

<h2 id="-추가-팁-enum으로-처리하고-싶다면">🧠 추가 팁: enum으로 처리하고 싶다면?</h2>

<p>옵션 타입을 <code class="language-plaintext highlighter-rouge">type=click.Choice([e.name for e in Algo], case_sensitive=False)</code>처럼 enum 기반으로 구성하면<br />
로직 상에서 더 안정적으로 다룰 수 있어요.</p>

<p>원하시면 enum + click 통합 구조도 예시로 보여드릴 수 있어요.</p>

<hr />

<p>필요하신 다른 입력 타입이 있다면 (예: 다중 선택, 디폴트 함수 등) 그에 맞춰 도와드릴게요!</p>

<p class="chat--user">

색깔을 추가할 순 없나 help 메시지 같은데

</p>

<p>좋은 질문이에요!<br />
<code class="language-plaintext highlighter-rouge">click</code>에서는 <strong>터미널 출력에 ANSI 색깔을 넣는 기능</strong> 이 제한적이지만,<br />
몇 가지 트릭을 쓰면 <code class="language-plaintext highlighter-rouge">--help</code> 메시지에서 <strong>색깔 강조</strong> 도 어느 정도 가능해요.</p>

<hr />

<h2 id="-기본-전제-help-메시지는-plain-text">✅ 기본 전제: help 메시지는 “plain text”</h2>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">click</code>은 기본적으로 <code class="language-plaintext highlighter-rouge">help=...</code> 문자열을 터미널에 출력할 때 ANSI 색깔 코드를 자동으로 처리하지 않아요.</p>
  </li>
  <li>
    <p>하지만 <strong>ANSI escape code</strong> 를 직접 넣으면, 대부분의 터미널에서는 색이 적용됩니다.</p>
  </li>
</ul>

<hr />

<h2 id="-방법-1-ansi-코드-수동-삽입">🎨 방법 1: ANSI 코드 수동 삽입</h2>

<p>예:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">RED</span> <span class="o">=</span> <span class="sh">"</span><span class="se">\033</span><span class="s">[91m</span><span class="sh">"</span>
<span class="n">GREEN</span> <span class="o">=</span> <span class="sh">"</span><span class="se">\033</span><span class="s">[92m</span><span class="sh">"</span>
<span class="n">RESET</span> <span class="o">=</span> <span class="sh">"</span><span class="se">\033</span><span class="s">[0m</span><span class="sh">"</span>

<span class="nd">@click.command</span><span class="p">(</span>
    <span class="n">help</span><span class="o">=</span><span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">GREEN</span><span class="si">}</span><span class="s">✨ 분석 도구입니다</span><span class="si">{</span><span class="n">RESET</span><span class="si">}</span><span class="se">\n</span><span class="si">{</span><span class="n">RED</span><span class="si">}</span><span class="s">⚠️ 주의: 큰 파일은 느릴 수 있습니다</span><span class="si">{</span><span class="n">RESET</span><span class="si">}</span><span class="sh">"</span>
<span class="p">)</span>
</code></pre></div></div>

<p>실행하면 <code class="language-plaintext highlighter-rouge">--help</code> 출력에서 이렇게 보입니다 (색 지원 터미널 한정):</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pgsql

Usage: mytool analyze-tree [OPTIONS] PATH

✨ 분석 도구입니다  
⚠️ 주의: 큰 파일은 느릴 수 있습니다
</code></pre></div></div>

<hr />

<h2 id="-방법-2-clickstyle로-수동-출력--help-메시지-외-일반-출력에서만-가능">🧰 방법 2: <code class="language-plaintext highlighter-rouge">click.style()</code>로 수동 출력 (→ help 메시지 외 일반 출력에서만 가능)</h2>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">click</span>

<span class="n">click</span><span class="p">.</span><span class="nf">echo</span><span class="p">(</span><span class="n">click</span><span class="p">.</span><span class="nf">style</span><span class="p">(</span><span class="sh">"</span><span class="s">✨ 분석 완료!</span><span class="sh">"</span><span class="p">,</span> <span class="n">fg</span><span class="o">=</span><span class="sh">"</span><span class="s">green</span><span class="sh">"</span><span class="p">))</span>
<span class="n">click</span><span class="p">.</span><span class="nf">echo</span><span class="p">(</span><span class="n">click</span><span class="p">.</span><span class="nf">style</span><span class="p">(</span><span class="sh">"</span><span class="s">⚠️ 경고: 파일이 너무 큽니다</span><span class="sh">"</span><span class="p">,</span> <span class="n">fg</span><span class="o">=</span><span class="sh">"</span><span class="s">red</span><span class="sh">"</span><span class="p">,</span> <span class="n">bold</span><span class="o">=</span><span class="bp">True</span><span class="p">))</span>
</code></pre></div></div>

<blockquote>
  <p>하지만 이건 <code class="language-plaintext highlighter-rouge">--help</code> 메시지에는 사용할 수 없고,<br />
 <strong>사용자 실행 결과 메시지 출력용</strong> 입니다.</p>
</blockquote>

<hr />

<h2 id="️-주의-색을-넣을-수-없는-경우">⚠️ 주의: 색을 넣을 수 없는 경우</h2>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">click.option(..., help=...)</code> 내부에 <code class="language-plaintext highlighter-rouge">click.style()</code>을 써도 작동하지 않습니다.<br />
(help는 문자열로 고정되기 때문)</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">Rich</code>나 <code class="language-plaintext highlighter-rouge">typer</code>를 써야 진짜 컬러풀한 help 출력이 가능해요 (아래 참고).</p>
  </li>
</ul>

<hr />

<h2 id="-대안-rich-click-사용">✨ 대안: <code class="language-plaintext highlighter-rouge">rich-click</code> 사용</h2>

<p><code class="language-plaintext highlighter-rouge">rich-click</code>은 <code class="language-plaintext highlighter-rouge">click</code>의 help 출력에 <code class="language-plaintext highlighter-rouge">rich</code> 스타일을 입혀주는 라이브러리예요.</p>

<h3 id="설치">설치</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip <span class="nb">install </span>rich-click
</code></pre></div></div>

<h3 id="사용-방법">사용 방법</h3>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">rich_click</span> <span class="k">as</span> <span class="n">click</span>

<span class="n">click</span><span class="p">.</span><span class="n">rich_click</span><span class="p">.</span><span class="n">USE_RICH_MARKUP</span> <span class="o">=</span> <span class="bp">True</span>

<span class="nd">@click.command</span><span class="p">(</span>
    <span class="n">help</span><span class="o">=</span><span class="sh">"</span><span class="s">[bold green]✨ 분석 도구입니다[/bold green]</span><span class="se">\n</span><span class="s">[red]⚠️ 주의: 파일 크기 제한 있음[/red]</span><span class="sh">"</span>
<span class="p">)</span>
</code></pre></div></div>

<p>➡ 이렇게 하면 <code class="language-plaintext highlighter-rouge">--help</code> 출력이 정말로 <strong>컬러풀하게 렌더링</strong> 됩니다!<br />
지원: bold, italic, underline, 색상, 이모지 등</p>

<hr />

<h2 id="-정리-1">✅ 정리</h2>

<table>
  <thead>
    <tr>
      <th>방법</th>
      <th>색깔 가능 여부</th>
      <th>사용 위치</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>ANSI 코드 (<code class="language-plaintext highlighter-rouge">\033[91m</code>)</td>
      <td>✅ 제한적으로 가능</td>
      <td>기본 <code class="language-plaintext highlighter-rouge">click</code> help 출력에서 사용 가능</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">click.style()</code></td>
      <td>❌ help에선 불가, 일반 출력에만 가능</td>
      <td><code class="language-plaintext highlighter-rouge">click.echo(...)</code>에서</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">rich-click</code></td>
      <td>✅ 강력한 컬러 지원</td>
      <td>help 출력까지 색상 적용 가능</td>
    </tr>
  </tbody>
</table>

<hr />

<h2 id="-추천">💡 추천</h2>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">mytool</code>이 사용자 CLI 툴이라면 → <code class="language-plaintext highlighter-rouge">rich-click</code> 적극 추천</p>
  </li>
  <li>
    <p>최소한 강조가 필요하다면 ANSI escape 코드로 색 일부 적용</p>
  </li>
</ul>

<hr />

<p>원하신다면 <code class="language-plaintext highlighter-rouge">rich-click</code> 기반 예시 CLI 스캐폴드 전체도 만들어 드릴 수 있어요.<br />
관심 있으세요?</p>

<p class="chat--user">

별로 안예쁘네

</p>

<p>맞아요. 😅<br />
<code class="language-plaintext highlighter-rouge">click</code>의 기본 <code class="language-plaintext highlighter-rouge">--help</code> 출력은 기능적으로는 충분하지만,<br />
<strong>시각적으로 “예쁘다”거나 직관적이라는 느낌은 부족</strong> 해요.</p>

<p>아래에 “왜 그런지”와 함께, <strong>좀 더 예쁘고 현대적인 CLI 도구를 만들 수 있는 대안</strong> 을 소개할게요.</p>

<hr />

<h2 id="-왜-click-기본---help는-안-예쁠까">😐 왜 <code class="language-plaintext highlighter-rouge">click</code> 기본 <code class="language-plaintext highlighter-rouge">--help</code>는 안 예쁠까?</h2>

<table>
  <thead>
    <tr>
      <th>한계점</th>
      <th>설명</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>🎨 색상 없음</td>
      <td><code class="language-plaintext highlighter-rouge">--help</code>에 ANSI 색상이 비표준적으로만 적용됨 (escape 코드 삽입 필요)</td>
    </tr>
    <tr>
      <td>🧱 출력 구조 고정</td>
      <td>옵션 목록이 일률적인 텍스트 블록 형태</td>
    </tr>
    <tr>
      <td>🌐 이모지/국제어 미지원</td>
      <td>자동 출력 포맷이 단조롭고 유연하지 않음</td>
    </tr>
    <tr>
      <td>📦 디자인 요소 부족</td>
      <td>구분선, 박스, 강조 등 없음</td>
    </tr>
  </tbody>
</table>

<hr />

<h2 id="-대안-1-rich-click">✨ 대안 1: <code class="language-plaintext highlighter-rouge">rich-click</code></h2>

<blockquote>
  <p>📌 <code class="language-plaintext highlighter-rouge">click</code>의 기능은 유지하면서, <code class="language-plaintext highlighter-rouge">Rich</code> 기반으로 예쁜 출력만 입히는 라이브러리</p>
</blockquote>

<h3 id="특징">특징</h3>

<ul>
  <li>
    <p>색상, bold, 구분선, 이모지, 잘 정리된 <code class="language-plaintext highlighter-rouge">--help</code> 출력</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">click</code> 코드를 그대로 재사용 가능</p>
  </li>
</ul>

<h3 id="예시---help-출력">예시 (<code class="language-plaintext highlighter-rouge">--help</code> 출력)</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lua

Usage: mytool analyze-tree [OPTIONS] PATH

🌳 Analyze tree structure in code
📂 코드의 트리 구조를 분석합니다

Options:
  -a, --algorithm [A|B|C]    🧠 사용할 알고리즘 선택
  --verbose                  자세한 출력
  --help                     Show this message and exit
</code></pre></div></div>

<blockquote>
  <p>✅ 이건 정말 "예쁘다"에 가까워져요 — 하지만 완전히 커스터마이징하고 싶다면 아래로 ↓</p>
</blockquote>

<hr />

<h2 id="-대안-2-typer">✨ 대안 2: <code class="language-plaintext highlighter-rouge">typer</code></h2>

<blockquote>
  <p>FastAPI 만든 사람이 만든 <code class="language-plaintext highlighter-rouge">click</code> 기반 <strong>최신 CLI 프레임워크</strong><br />
 자동 <code class="language-plaintext highlighter-rouge">--help</code>, 자동 타입 체크, 예쁜 출력 등 완성도 높음</p>
</blockquote>

<h3 id="예시">예시</h3>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">typer</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">typer</span><span class="p">.</span><span class="nc">Typer</span><span class="p">()</span>

<span class="nd">@app.command</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">analyze_tree</span><span class="p">(</span>
    <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">algorithm</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">typer</span><span class="p">.</span><span class="nc">Option</span><span class="p">(</span><span class="sh">"</span><span class="s">A</span><span class="sh">"</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="sh">"</span><span class="s">Algorithm to use [A, B, C]</span><span class="sh">"</span><span class="p">),</span>
    <span class="n">verbose</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="bp">False</span>
<span class="p">):</span>
    <span class="sh">"""</span><span class="s">🌳 Analyze tree structure in code</span><span class="sh">"""</span>
    <span class="bp">...</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="sh">"</span><span class="s">__main__</span><span class="sh">"</span><span class="p">:</span>
    <span class="nf">app</span><span class="p">()</span>
</code></pre></div></div>

<h3 id="특징-1">특징</h3>

<ul>
  <li>
    <p>출력 깔끔하고 정돈됨</p>
  </li>
  <li>
    <p>type hint 기반 자동 파싱</p>
  </li>
  <li>
    <p>색상 및 포맷 자동 적용</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">--help</code> 출력이 정말로 보기 좋음!</p>
  </li>
</ul>

<hr />

<h2 id="-비교-스냅샷">📸 비교 스냅샷</h2>

<table>
  <thead>
    <tr>
      <th>CLI 도구</th>
      <th>예쁨 정도</th>
      <th>특징</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">click</code> 기본</td>
      <td>😐 보통</td>
      <td>기본적인 기능, 꾸미기 어려움</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">rich-click</code></td>
      <td>🙂 예쁨</td>
      <td>색, bold, 정돈된 레이아웃</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">typer</code></td>
      <td>😍 매우 예쁨</td>
      <td>타입 안전, 자동 문서화, 미려한 출력</td>
    </tr>
  </tbody>
</table>

<hr />

<h2 id="-추천-1">🧭 추천</h2>

<table>
  <thead>
    <tr>
      <th>목적</th>
      <th>추천</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>지금 구조 유지 + 살짝 예쁘게</td>
      <td>✅ <code class="language-plaintext highlighter-rouge">rich-click</code></td>
    </tr>
    <tr>
      <td>새 CLI 구조 설계 시작</td>
      <td>✅ <code class="language-plaintext highlighter-rouge">typer</code></td>
    </tr>
    <tr>
      <td>그냥 꾸미는 건 별로고 기능 중심</td>
      <td>기존 <code class="language-plaintext highlighter-rouge">click</code> 유지 (but 구조만 정리)</td>
    </tr>
  </tbody>
</table>

<hr />

<h2 id="️-도와드릴-수-있는-것">🙋‍♂️ 도와드릴 수 있는 것</h2>

<ul>
  <li>
    <p>지금 코드 기반으로 <code class="language-plaintext highlighter-rouge">typer</code> 구조로 리팩토링 예시 만들어 드릴 수 있어요</p>
  </li>
  <li>
    <p>또는 <code class="language-plaintext highlighter-rouge">rich-click</code> 적용된 CLI 데모도 가능해요</p>
  </li>
</ul>

<p>둘 중 원하시는 방향 있을까요?</p>

<p class="chat--user">

help 메시지에 줄바꿈이 안되네

</p>

<p>맞습니다, 아주 날카로운 지적이에요.<br />
기본 <code class="language-plaintext highlighter-rouge">click</code>에서는 <code class="language-plaintext highlighter-rouge">help=</code> 메시지에 <strong>줄바꿈(<code class="language-plaintext highlighter-rouge">\n</code>)을 써도 실제 출력에 반영되지 않아요.</strong><br />
이는 <code class="language-plaintext highlighter-rouge">click</code>이 help 출력을 내부적으로 포매팅할 때 줄바꿈을 무시하거나 wrap해버리기 때문이에요.</p>

<hr />

<h2 id="-문제-예시">🧪 문제 예시</h2>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@click.command</span><span class="p">(</span>
    <span class="n">help</span><span class="o">=</span><span class="sh">"</span><span class="s">This is line one.</span><span class="se">\n</span><span class="s">This is line two.</span><span class="sh">"</span>
<span class="p">)</span>
</code></pre></div></div>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>mytool cmd <span class="nt">--help</span>

Usage: mytool cmd <span class="o">[</span>OPTIONS]
  This is line one. This is line two.
</code></pre></div></div>

<p>➡ 줄바꿈 무시됨 😤</p>

<hr />

<h2 id="-해결-방법-1-context_settingshelp_option_names---docstring-사용">✅ 해결 방법 1: <code class="language-plaintext highlighter-rouge">context_settings={"help_option_names": ...}</code> + docstring 사용</h2>

<p><code class="language-plaintext highlighter-rouge">click.command()</code>에서 <code class="language-plaintext highlighter-rouge">help=...</code>을 제거하고, 대신 함수 docstring을 사용하면 줄바꿈이 <strong>일부 터미널에서 반영</strong> 됩니다.</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@click.command</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">cli</span><span class="p">():</span>
    <span class="sh">"""</span><span class="s">🌳 Analyze tree structure in code.

    📂 코드의 트리 구조를 분석합니다.
    여러 줄로 설명을 적으면 줄바꿈이 유지됩니다.
    </span><span class="sh">"""</span>
</code></pre></div></div>

<p>➡ 이 방식은 CLI 명령어 자체의 설명에서 줄바꿈이 어느 정도 보존됩니다.<br />
단, 옵션 설명(help=…)에는 여전히 줄바꿈이 거의 안 됩니다.</p>

<hr />

<h2 id="-해결-방법-2-rich-click-사용-추천">✅ 해결 방법 2: <code class="language-plaintext highlighter-rouge">rich-click</code> 사용 (추천)</h2>

<p><code class="language-plaintext highlighter-rouge">rich-click</code>은 내부적으로 <code class="language-plaintext highlighter-rouge">Rich</code> 엔진을 써서 <strong>줄바꿈, bold, 색상, 정렬, 이모지까지 모두 지원</strong> 합니다.</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip <span class="nb">install </span>rich-click
</code></pre></div></div>

<p>설정 예:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">rich_click</span> <span class="k">as</span> <span class="n">click</span>

<span class="n">click</span><span class="p">.</span><span class="n">rich_click</span><span class="p">.</span><span class="n">USE_RICH_MARKUP</span> <span class="o">=</span> <span class="bp">True</span>
<span class="n">click</span><span class="p">.</span><span class="n">rich_click</span><span class="p">.</span><span class="n">SHOW_ARGUMENTS</span> <span class="o">=</span> <span class="bp">True</span>
<span class="n">click</span><span class="p">.</span><span class="n">rich_click</span><span class="p">.</span><span class="n">STYLE_HELPTEXT_FIRST_LINE</span> <span class="o">=</span> <span class="sh">"</span><span class="s">bold green</span><span class="sh">"</span>
<span class="n">click</span><span class="p">.</span><span class="n">rich_click</span><span class="p">.</span><span class="n">STYLE_HELPTEXT</span> <span class="o">=</span> <span class="sh">"</span><span class="s">dim</span><span class="sh">"</span>
</code></pre></div></div>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@click.command</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="sh">"""</span><span class="s">
[bold green]🌳 Analyze tree structure[/bold green]

This command parses the AST tree of a Python file.

[bold red]⚠️ Caution:[/bold red] Large files may take time.
</span><span class="sh">"""</span><span class="p">)</span>
</code></pre></div></div>

<p>➡ 결과: 색상, 줄바꿈, 강조, 정렬 모두 표현 가능</p>

<hr />

<h2 id="-해결-방법-3-formatter_classrawtexthelpformatter-argparse-스타일에서만-가능">✅ 해결 방법 3: <code class="language-plaintext highlighter-rouge">formatter_class=RawTextHelpFormatter</code> (argparse 스타일에서만 가능)</h2>

<p>Click에서는 직접 <code class="language-plaintext highlighter-rouge">formatter_class</code>를 바꾸는 게 지원되지 않지만, <code class="language-plaintext highlighter-rouge">argparse</code>에서는 가능했죠:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">argparse</span>
<span class="kn">from</span> <span class="n">argparse</span> <span class="kn">import</span> <span class="n">RawTextHelpFormatter</span>

<span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="p">.</span><span class="nc">ArgumentParser</span><span class="p">(</span>
    <span class="n">description</span><span class="o">=</span><span class="sh">"</span><span class="s">line1</span><span class="se">\n</span><span class="s">line2</span><span class="sh">"</span><span class="p">,</span>
    <span class="n">formatter_class</span><span class="o">=</span><span class="n">RawTextHelpFormatter</span>
<span class="p">)</span>
</code></pre></div></div>

<p>하지만 <strong>Click에서는 이 방식은 적용되지 않습니다.</strong></p>

<hr />

<h2 id="-최종-정리-1">🧭 최종 정리</h2>

<table>
  <thead>
    <tr>
      <th>목표</th>
      <th>해결책</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>함수 설명만 줄바꿈</td>
      <td><code class="language-plaintext highlighter-rouge">"""Docstring"""</code> 사용</td>
    </tr>
    <tr>
      <td>옵션 설명까지 줄바꿈 + 꾸밈</td>
      <td>✅ <code class="language-plaintext highlighter-rouge">rich-click</code> 사용 (가장 완벽함)</td>
    </tr>
    <tr>
      <td>기본 <code class="language-plaintext highlighter-rouge">click</code>에서 줄바꿈 유지</td>
      <td>❌ 사실상 불가능 (제한적)</td>
    </tr>
  </tbody>
</table>

<hr />

<p>필요하시면 <code class="language-plaintext highlighter-rouge">rich-click</code> 기반으로 예쁘고 줄바꿈 지원되는 CLI 예시를 하나 만들어드릴게요. 원하시나요?</p>

<p class="chat--user">

docstring하니 두번 엔터치면 줄바꿈이 되는데 한번 엔터치면 줄바꿈이 안돼. 그냥 줄바꿈 1번만 하고싶은데

</p>

<p>맞아요. 이건 <strong>파이썬 docstring의 특성과 click의 출력 방식이 겹치는 문제</strong> 인데, 핵심은 이겁니다:</p>

<blockquote>
  <p><strong><code class="language-plaintext highlighter-rouge">click</code>은 <code class="language-plaintext highlighter-rouge">docstring</code>에서 "한 줄 띄움"(<code class="language-plaintext highlighter-rouge">\n</code>)은 무시하고, "두 줄 띄움"은 단락 구분으로 인식</strong>합니다.</p>
</blockquote>

<hr />

<h2 id="-현상-정리">🧪 현상 정리</h2>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@click.command</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">cli</span><span class="p">():</span>
    <span class="sh">"""</span><span class="s">라인 1
    라인 2
    라인 3</span><span class="sh">"""</span>
</code></pre></div></div>

<p>출력 (<code class="language-plaintext highlighter-rouge">mytool cli --help</code>):</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pgsql

Usage: mytool cli [OPTIONS]

  라인 1 라인 2 라인 3
</code></pre></div></div>

<p>➡ 줄바꿈 <strong>무시됨</strong></p>

<hr />

<h2 id="-원인-click이-docstring을-내부적으로-textwrapdedent와-inspectgetdoc으로-처리하며">✅ 원인: click이 docstring을 내부적으로 <code class="language-plaintext highlighter-rouge">textwrap.dedent()</code>와 <code class="language-plaintext highlighter-rouge">inspect.getdoc()</code>으로 처리하며</h2>

<ul>
  <li>
    <p><strong>단일 개행은 띄어쓰기 처리</strong></p>
  </li>
  <li>
    <p><strong>두 줄 개행(빈 줄 삽입)은 단락 나눔 처리</strong> 하기 때문이에요</p>
  </li>
</ul>

<hr />

<h2 id="-해결법-요약">✅ 해결법 요약</h2>

<table>
  <thead>
    <tr>
      <th>목표</th>
      <th>해결책</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>단일 줄바꿈을 표현하고 싶다</td>
      <td>❌ 기본 click에서는 불가능</td>
    </tr>
    <tr>
      <td>원하는 대로 줄바꿈하고 싶다</td>
      <td>✅ rich-click 사용</td>
    </tr>
    <tr>
      <td>억지로라도 표현하고 싶다</td>
      <td>✅ 한 줄짜리를 인위적으로 “단락처럼” 만들기</td>
    </tr>
  </tbody>
</table>

<hr />

<h2 id="️-편법-1-두-줄-개행으로-강제-줄바꿈-흉내내기">🛠️ 편법 1: “두 줄 개행”으로 강제 줄바꿈 흉내내기</h2>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@click.command</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">cli</span><span class="p">():</span>
    <span class="sh">"""</span><span class="s">🔍 라인 1

    🔧 라인 2

    ⚠️ 라인 3</span><span class="sh">"""</span>
</code></pre></div></div>

<p>결과:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pgsql

Usage: mytool cli [OPTIONS]

  🔍 라인 1

  🔧 라인 2

  ⚠️ 라인 3
</code></pre></div></div>

<p>➡ 보기에는 줄바꿈된 것처럼 되지만, <strong>실제로는 단락으로 취급된 것</strong></p>

<hr />

<h2 id="️-편법-2-한-줄-안에-n-넣기-해킹">🛠️ 편법 2: 한 줄 안에 <code class="language-plaintext highlighter-rouge">\n</code> 넣기 (해킹)</h2>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@click.command</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">cli</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">click</span><span class="p">.</span><span class="nf">echo</span><span class="p">(</span><span class="sh">"</span><span class="s">라인 1</span><span class="se">\n</span><span class="s">라인 2</span><span class="se">\n</span><span class="s">라인 3</span><span class="sh">"</span><span class="p">)</span>  <span class="c1"># 명시적으로 출력
</span></code></pre></div></div>

<p>➡ 이건 <code class="language-plaintext highlighter-rouge">--help</code>에는 안 먹히고, 사용 시 출력에서만 효과 있음</p>

<hr />

<h2 id="-완벽한-해결-rich-click-사용">✅ 완벽한 해결: rich-click 사용</h2>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">rich_click</span> <span class="k">as</span> <span class="n">click</span>
<span class="n">click</span><span class="p">.</span><span class="n">rich_click</span><span class="p">.</span><span class="n">USE_RICH_MARKUP</span> <span class="o">=</span> <span class="bp">True</span>

<span class="nd">@click.command</span><span class="p">(</span>
    <span class="n">help</span><span class="o">=</span><span class="sh">"</span><span class="s">라인 1</span><span class="se">\n</span><span class="s">라인 2</span><span class="se">\n</span><span class="s">라인 3</span><span class="sh">"</span>  <span class="c1"># ← 여기는 \n 줄바꿈이 실제로 반영됨
</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">cli</span><span class="p">():</span>
    <span class="bp">...</span>
</code></pre></div></div>

<p>➡ <code class="language-plaintext highlighter-rouge">--help</code>에서 <strong>실제 줄바꿈</strong> 으로 출력됨<br />
→ 그리고 이모지, 색상도 표현 가능</p>

<hr />

<h2 id="-결론-4">🧭 결론</h2>

<table>
  <thead>
    <tr>
      <th>방식</th>
      <th>줄바꿈?</th>
      <th>추천도</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>기본 click + docstring</td>
      <td>❌ (두 줄만 됨)</td>
      <td>😐</td>
    </tr>
    <tr>
      <td>click + <code class="language-plaintext highlighter-rouge">help="..."</code> + <code class="language-plaintext highlighter-rouge">\n</code></td>
      <td>❌</td>
      <td>😐</td>
    </tr>
    <tr>
      <td><strong>rich-click + help="…" + \n</strong></td>
      <td>✅ 진짜 줄바꿈</td>
      <td>✅✅✅</td>
    </tr>
  </tbody>
</table>

<hr />

<p>💡 요약:</p>

<blockquote>
  <p><code class="language-plaintext highlighter-rouge">click</code> 기본 출력은 “줄바꿈 한 번”을 절대 인정하지 않음.<br />
 예쁘고 자유로운 출력이 필요하다면 <strong><code class="language-plaintext highlighter-rouge">rich-click</code>이 유일한 방법</strong>입니다.</p>
</blockquote>

<p>필요하시면 지금 구조에 맞게 rich-click 버전 CLI 예시 하나 작성해드릴까요?</p>

<p class="chat--user">

왜 인정하지 않지

</p>

<p>훌륭한 질문입니다.<br />
왜 <code class="language-plaintext highlighter-rouge">click</code>은 <strong>docstring에서 한 줄 줄바꿈을 무시하고</strong> , 두 줄 줄바꿈만 인정할까요?<br />
그 이유는 다음과 같은 철학적·기술적 이유 때문이에요:</p>

<hr />

<h2 id="-이유-1-docstring은-단락-단위로-요약되는-설명으로-간주됨">✅ 이유 1: <strong>docstring은 “단락 단위로 요약되는 설명”으로 간주됨</strong></h2>

<p><code class="language-plaintext highlighter-rouge">click</code>은 내부적으로 Python의 <code class="language-plaintext highlighter-rouge">inspect.getdoc()</code>을 이용해 docstring을 가져옵니다.<br />
그리고 이 <code class="language-plaintext highlighter-rouge">getdoc()</code>은 다음과 같이 동작해요:</p>

<blockquote>
  <blockquote>
    <p><em>“The docstring is processed to remove leading whitespace and to collapse single newlines into spaces.”</em></p>
  </blockquote>
</blockquote>

<p>즉, Python 표준에서는 <strong>단일 개행은 단락이 아닌 문장 이어쓰기</strong> 로 해석하는 전통이 있습니다.</p>

<p>예:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">foo</span><span class="p">():</span>
    <span class="sh">"""</span><span class="s">This is line one
    This is line two</span><span class="sh">"""</span>
</code></pre></div></div>

<p>위 docstring은 개발자 도구나 IDE에선 <strong>"This is line one This is line two"</strong>처럼 보이죠.<br />
click은 바로 이 관행을 따라가는 거예요.</p>

<hr />

<h2 id="-이유-2-터미널-화면에서의-자동-줄바꿈과-겹치지-않게-하려는-목적">✅ 이유 2: <strong>터미널 화면에서의 자동 줄바꿈과 겹치지 않게 하려는 목적</strong></h2>

<ul>
  <li>
    <p>CLI 출력에서 긴 문장은 터미널 너비에 따라 자동으로 줄바꿈(wrap)됩니다.</p>
  </li>
  <li>
    <p>만약 사용자가 <code class="language-plaintext highlighter-rouge">\n</code>을 중간마다 직접 넣었다면, 화면 크기에 따라 이상한 위치에서 줄이 갈릴 수 있어요.</p>
  </li>
  <li>
    <p>이를 피하려고 click은 “한 줄 개행은 무시하고, 두 줄 개행은 단락으로 처리”하는 안정적인 포맷팅 방식을 취한 거예요.</p>
  </li>
</ul>

<hr />

<h2 id="-이유-3-도움말은-요약-텍스트지-포맷된-문서가-아니다-는-설계-철학">✅ 이유 3: <strong>도움말은 요약 텍스트지 포맷된 문서가 아니다</strong> 는 설계 철학</h2>

<p>Click의 제작자인 Armin Ronacher는 Flask, Jinja2 등도 만든 사람인데,<br />
그의 철학은:</p>

<blockquote>
  <p><em>“CLI 도움말은 문서화가 아니다. 사람이 빠르게 훑어볼 수 있는 요약 정보다.”</em></p>
</blockquote>

<p>그래서 기본 click은 Markdown, ANSI, 줄바꿈 등 복잡한 표현을 <strong>일부러 최소화</strong> 합니다.</p>

<hr />

<h2 id="-그럼-왜-rich-click은-가능할까">✅ 그럼 왜 <code class="language-plaintext highlighter-rouge">rich-click</code>은 가능할까?</h2>

<p><code class="language-plaintext highlighter-rouge">rich-click</code>은 기본 click의 출력을 <strong>Rich 렌더러로 오버라이드</strong> 합니다.<br />
그래서 <code class="language-plaintext highlighter-rouge">--help</code> 메시지를 “문서”처럼 렌더링하는 거예요.</p>

<ul>
  <li>
    <p>줄바꿈은 그대로 유지</p>
  </li>
  <li>
    <p>색상도 인식</p>
  </li>
  <li>
    <p>리스트, 볼드, 코드 블록도 지원</p>
  </li>
</ul>

<hr />

<h2 id="-결론-5">🔚 결론</h2>

<p><code class="language-plaintext highlighter-rouge">click</code>이 한 줄 줄바꿈을 무시하는 이유는 다음과 같습니다:</p>

<ol>
  <li>
    <p>Python의 docstring 처리 방식 (<code class="language-plaintext highlighter-rouge">inspect.getdoc()</code>)</p>
  </li>
  <li>
    <p>터미널 줄바꿈(wrapping)과의 충돌 방지</p>
  </li>
  <li>
    <p>CLI 도움말은 “포맷된 문서”가 아니라 “읽기 쉬운 요약”이라는 철학</p>
  </li>
  <li>
    <p>안정적이고 예측 가능한 출력 레이아웃을 지키기 위함</p>
  </li>
</ol>

<hr />

<p>그렇기 때문에 <strong>문서처럼 포맷된 예쁜 출력</strong> 이 필요할 땐 <code class="language-plaintext highlighter-rouge">rich-click</code>, <code class="language-plaintext highlighter-rouge">typer</code>, <code class="language-plaintext highlighter-rouge">Rich</code> 등을 써야 해요.</p>

<p>필요하면 지금 프로젝트에 적용할 수 있는 <code class="language-plaintext highlighter-rouge">rich-click</code> 마이그레이션 예시도 바로 드릴게요!</p>

<p class="chat--user">

1개 이상의 파일 입력을 받도록 할 수 있어?

</p>

<p>네, 물론입니다!<br />
<code class="language-plaintext highlighter-rouge">click</code>에서는 <strong>여러 개의 파일 입력을 아주 간단하게 처리</strong> 할 수 있습니다.<br />
두 가지 주요 방식이 있어요:</p>

<hr />

<h2 id="-방식-1-위치-인자-positional-argument로-여러-개-파일-받기">✅ 방식 1: <strong>위치 인자 (positional argument)로 여러 개 파일 받기</strong></h2>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">click</span>

<span class="nd">@click.command</span><span class="p">()</span>
<span class="nd">@click.argument</span><span class="p">(</span><span class="sh">"</span><span class="s">files</span><span class="sh">"</span><span class="p">,</span> <span class="n">nargs</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">click</span><span class="p">.</span><span class="nc">Path</span><span class="p">(</span><span class="n">exists</span><span class="o">=</span><span class="bp">True</span><span class="p">))</span>
<span class="k">def</span> <span class="nf">cli</span><span class="p">(</span><span class="n">files</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">여러 파일을 입력받습니다.</span><span class="sh">"""</span>
    <span class="k">for</span> <span class="nb">file</span> <span class="ow">in</span> <span class="n">files</span><span class="p">:</span>
        <span class="n">click</span><span class="p">.</span><span class="nf">echo</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">📄 입력된 파일: </span><span class="si">{</span><span class="nb">file</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="-설명">🔍 설명:</h3>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">nargs=-1</code> → 인자의 개수를 제한 없이 받음 (튜플로 전달됨)</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">type=click.Path(...)</code> → 경로 유효성 체크</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">files</code>는 <code class="language-plaintext highlighter-rouge">tuple[str, ...]</code></p>
  </li>
</ul>

<h3 id="-사용-예시">📦 사용 예시:</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>mytool analyze-tree file1.py file2.py file3.py
</code></pre></div></div>

<hr />

<h2 id="-방식-2-옵션--file으로-여러-개-받기">✅ 방식 2: <strong>옵션(<code class="language-plaintext highlighter-rouge">--file</code>)으로 여러 개 받기</strong></h2>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">click</span>

<span class="nd">@click.command</span><span class="p">()</span>
<span class="nd">@click.option</span><span class="p">(</span>
    <span class="sh">"</span><span class="s">--file</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">-f</span><span class="sh">"</span><span class="p">,</span> 
    <span class="n">multiple</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> 
    <span class="nb">type</span><span class="o">=</span><span class="n">click</span><span class="p">.</span><span class="nc">Path</span><span class="p">(</span><span class="n">exists</span><span class="o">=</span><span class="bp">True</span><span class="p">),</span>
    <span class="n">help</span><span class="o">=</span><span class="sh">"</span><span class="s">분석할 파일 경로 (여러 개 지정 가능)</span><span class="sh">"</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">cli</span><span class="p">(</span><span class="nb">file</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="nb">file</span><span class="p">:</span>
        <span class="n">click</span><span class="p">.</span><span class="nf">echo</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">🔍 분석 대상: </span><span class="si">{</span><span class="n">f</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="-설명-1">🔍 설명:</h3>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">multiple=True</code> → <code class="language-plaintext highlighter-rouge">--file</code>을 여러 번 쓰면 리스트로 모임</p>
  </li>
  <li>
    <p>유연하게 옵션 기반 제어 가능</p>
  </li>
</ul>

<h3 id="-사용-예시-1">📦 사용 예시:</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>mytool analyze-tree <span class="nt">-f</span> file1.py <span class="nt">-f</span> file2.py
</code></pre></div></div>

<hr />

<h2 id="-선택-기준">🧠 선택 기준</h2>

<table>
  <thead>
    <tr>
      <th>기준</th>
      <th>추천 방식</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>명령어 뒤에 파일만 나열</td>
      <td>✅ <code class="language-plaintext highlighter-rouge">@click.argument(..., nargs=-1)</code></td>
    </tr>
    <tr>
      <td>옵션으로 명시적으로 받음</td>
      <td>✅ <code class="language-plaintext highlighter-rouge">@click.option(..., multiple=True)</code></td>
    </tr>
    <tr>
      <td>다른 인자/옵션과 조합 많음</td>
      <td>옵션 방식 추천 (<code class="language-plaintext highlighter-rouge">--file</code>)</td>
    </tr>
  </tbody>
</table>

<hr />

<h2 id="-예쁘게-도움말-출력하려면">💬 예쁘게 도움말 출력하려면?</h2>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@click.argument</span><span class="p">(</span><span class="sh">"</span><span class="s">files</span><span class="sh">"</span><span class="p">,</span> <span class="n">nargs</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">click</span><span class="p">.</span><span class="nc">Path</span><span class="p">(</span><span class="n">exists</span><span class="o">=</span><span class="bp">True</span><span class="p">))</span>
<span class="k">def</span> <span class="nf">cli</span><span class="p">(</span><span class="n">files</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">
    ✨ 여러 파일을 분석합니다.

    예:
        $ mytool analyze-tree file1.py file2.py
    </span><span class="sh">"""</span>
</code></pre></div></div>

<hr />

<p>필요하다면 두 방식 혼용도 가능합니다.<br />
어떤 스타일로 구성하고 싶은지 알려주시면, 정확히 맞는 예시 코드를 드릴게요!</p>

<p class="chat--user">

1개도 없으면 에러가 나야해

</p>

<p>완벽하게 가능합니다!<br />
<code class="language-plaintext highlighter-rouge">click.argument(..., nargs=-1)</code>를 사용하면 <strong>기본적으로 0개 이상의 인자</strong> 를 허용하지만,<br />
우리는 여기에 <strong>"1개 이상이어야 한다"</strong>는 조건을 추가해줄 수 있어요.</p>

<hr />

<h2 id="-해결-방법-nargs-1--수동-체크">✅ 해결 방법: <code class="language-plaintext highlighter-rouge">nargs=-1</code> + 수동 체크</h2>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">click</span>

<span class="nd">@click.command</span><span class="p">()</span>
<span class="nd">@click.argument</span><span class="p">(</span><span class="sh">"</span><span class="s">files</span><span class="sh">"</span><span class="p">,</span> <span class="n">nargs</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">click</span><span class="p">.</span><span class="nc">Path</span><span class="p">(</span><span class="n">exists</span><span class="o">=</span><span class="bp">True</span><span class="p">))</span>
<span class="k">def</span> <span class="nf">cli</span><span class="p">(</span><span class="n">files</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">📂 하나 이상의 파일을 입력받아 처리합니다.</span><span class="sh">"""</span>
    <span class="k">if</span> <span class="nf">len</span><span class="p">(</span><span class="n">files</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">click</span><span class="p">.</span><span class="nc">UsageError</span><span class="p">(</span><span class="sh">"</span><span class="s">❌ 최소 1개 이상의 파일을 입력해야 합니다.</span><span class="sh">"</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">files</span><span class="p">:</span>
        <span class="n">click</span><span class="p">.</span><span class="nf">echo</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">📄 입력된 파일: </span><span class="si">{</span><span class="n">f</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<hr />

<h2 id="-예시-실행">✅ 예시 실행</h2>

<h3 id="-올바른-사용">✅ 올바른 사용</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>mytool analyze-tree file1.py file2.py
📄 입력된 파일: file1.py
📄 입력된 파일: file2.py
</code></pre></div></div>

<h3 id="-파일이-없을-경우">❌ 파일이 없을 경우</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>mytool analyze-tree
Error: ❌ 최소 1개 이상의 파일을 입력해야 합니다.
</code></pre></div></div>

<blockquote>
  <p><code class="language-plaintext highlighter-rouge">click.UsageError</code>를 사용하면 help 메시지도 같이 보여줍니다.<br />
 이건 사용자 입장에서 가장 명확한 방식이에요.</p>
</blockquote>

<hr />

<h2 id="-선택적으로-확장할-수도-있어요">✅ 선택적으로 확장할 수도 있어요</h2>

<p>예: 파일 개수 제한 (<code class="language-plaintext highlighter-rouge">min=1</code>, <code class="language-plaintext highlighter-rouge">max=10</code> 같은)</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="nf">len</span><span class="p">(</span><span class="n">files</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
    <span class="k">raise</span> <span class="n">click</span><span class="p">.</span><span class="nc">UsageError</span><span class="p">(</span><span class="sh">"</span><span class="s">❌ 최소 1개 이상의 파일이 필요합니다.</span><span class="sh">"</span><span class="p">)</span>
<span class="k">elif</span> <span class="nf">len</span><span class="p">(</span><span class="n">files</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="p">:</span>
    <span class="k">raise</span> <span class="n">click</span><span class="p">.</span><span class="nc">UsageError</span><span class="p">(</span><span class="sh">"</span><span class="s">⚠️ 최대 10개 파일까지만 지원합니다.</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<hr />

<h2 id="-결론-6">🧭 결론</h2>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">nargs=-1</code>만으로는 개수 제한을 강제할 수 없고</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">len(files)</code>를 직접 체크해서 <code class="language-plaintext highlighter-rouge">click.UsageError</code>로 오류를 던지는 방식이 <strong>정석적이며 사용자 친화적</strong> 입니다.</p>
  </li>
</ul>

<hr />

<p>필요하시면 이 로직을 기존 CLI 중 하나에 직접 붙인 예시도 만들어 드릴게요!</p>

<p class="chat--user">

한글자 옵션은 안돼? 예를 들어 -f 랑 –file 둘다 사용되게

</p>

<p>네, <strong>가능합니다! 완전히 지원됩니다.</strong><br />
<code class="language-plaintext highlighter-rouge">click</code>에서는 <code class="language-plaintext highlighter-rouge">@click.option()</code>에 <code class="language-plaintext highlighter-rouge">--long</code>과 <code class="language-plaintext highlighter-rouge">-s</code> 형태의 <strong>짧은 옵션(alias)</strong>을 <strong>동시에 지정</strong> 할 수 있어요.</p>

<hr />

<h2 id="-예시--f와---file을-모두-사용-가능하게-만들기">✅ 예시: <code class="language-plaintext highlighter-rouge">-f</code>와 <code class="language-plaintext highlighter-rouge">--file</code>을 모두 사용 가능하게 만들기</h2>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">click</span>

<span class="nd">@click.command</span><span class="p">()</span>
<span class="nd">@click.option</span><span class="p">(</span>
    <span class="sh">"</span><span class="s">-f</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">--file</span><span class="sh">"</span><span class="p">,</span>                      <span class="c1"># ← 두 개 동시에 지정
</span>    <span class="n">multiple</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="nb">type</span><span class="o">=</span><span class="n">click</span><span class="p">.</span><span class="nc">Path</span><span class="p">(</span><span class="n">exists</span><span class="o">=</span><span class="bp">True</span><span class="p">),</span>
    <span class="n">help</span><span class="o">=</span><span class="sh">"</span><span class="s">📄 입력 파일 경로 (여러 개 지정 가능)</span><span class="sh">"</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">cli</span><span class="p">(</span><span class="nb">file</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">file</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">click</span><span class="p">.</span><span class="nc">UsageError</span><span class="p">(</span><span class="sh">"</span><span class="s">❌ 최소 1개 이상의 파일을 입력해야 합니다.</span><span class="sh">"</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="nb">file</span><span class="p">:</span>
        <span class="n">click</span><span class="p">.</span><span class="nf">echo</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">📂 입력된 파일: </span><span class="si">{</span><span class="n">f</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<hr />

<h2 id="-사용-예시-2">✅ 사용 예시</h2>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>mytool analyze-tree <span class="nt">-f</span> file1.py <span class="nt">-f</span> file2.py
<span class="nv">$ </span>mytool analyze-tree <span class="nt">--file</span> file1.py <span class="nt">--file</span> file2.py
</code></pre></div></div>

<p>➡ 두 방식 모두 OK!</p>

<hr />

<h2 id="-정리-2">🔍 정리</h2>

<table>
  <thead>
    <tr>
      <th>표현</th>
      <th>의미</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">-f</code></td>
      <td>short option (한 글자)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">--file</code></td>
      <td>long option (전체 이름)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">("-f", "--file")</code> 같이 쓰면</td>
      <td>두 옵션 모두 동작</td>
    </tr>
  </tbody>
</table>

<p><strong>주의사항:</strong> 짧은 옵션은 보통 한 글자만 가능 (<code class="language-plaintext highlighter-rouge">-f</code>, <code class="language-plaintext highlighter-rouge">-o</code>, <code class="language-plaintext highlighter-rouge">-v</code> 등).<br />
두 글자 이상은 long option으로만 사용해야 해요 (<code class="language-plaintext highlighter-rouge">--foo</code>).</p>

<hr />

<h2 id="-보너스-팁">💡 보너스 팁</h2>

<p>여러 옵션을 짧게 조합할 수도 있습니다:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>mytool <span class="k">do</span><span class="nt">-x</span> <span class="nt">-vf</span> file.py
</code></pre></div></div>

<p>위처럼 하면:</p>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">-v</code> → verbose flag</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">-f file.py</code> → 파일 지정</p>
  </li>
</ul>

<p><code class="language-plaintext highlighter-rouge">click</code>이 자동으로 잘 파싱해줍니다.</p>

<hr />

<p>필요하시면 이 구조를 지금 CLI 하나에 직접 적용한 예시로 만들어드릴게요. 원하시면 말씀 주세요!</p>

<p class="chat--user">

subcommand별 multiline 설명을 쓰고싶은데

</p>

<p>좋아요!<br />
<strong>subcommand별로 여러 줄 설명(multi-line help text)</strong>을 보여주고 싶다면,<br />
<code class="language-plaintext highlighter-rouge">click</code>에서 아래 두 가지 방법 중 하나를 선택하면 됩니다:</p>

<hr />

<h2 id="-방법-1-함수docstring을-이용한-여러-줄-설명-권장">✅ 방법 1: <strong>함수<code class="language-plaintext highlighter-rouge">docstring</code>을 이용한 여러 줄 설명 (권장)</strong></h2>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@click.command</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">cli</span><span class="p">():</span>
    <span class="sh">"""</span><span class="s">
    🧠 분석 기능 - 트리 구조 분석

    이 명령은 파이썬 파일의 AST를 파싱하여 트리 구조를 분석합니다.
    사용자는 파일 경로를 입력해야 하며,
    --algorithm 옵션으로 알고리즘 종류를 지정할 수 있습니다.
    </span><span class="sh">"""</span>
</code></pre></div></div>

<h3 id="결과-mytool-analyze-tree---help">결과: <code class="language-plaintext highlighter-rouge">mytool analyze-tree --help</code></h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pgsql

Usage: mytool analyze-tree [OPTIONS] PATH

🧠 분석 기능 - 트리 구조 분석

이 명령은 파이썬 파일의 AST를 파싱하여 트리 구조를 분석합니다.
사용자는 파일 경로를 입력해야 하며,
--algorithm 옵션으로 알고리즘 종류를 지정할 수 있습니다.
</code></pre></div></div>

<p>✅ 들여쓰기와 줄바꿈이 그대로 유지됩니다.<br />
✅ 이게 가장 자연스럽고 <code class="language-plaintext highlighter-rouge">click</code>에서 의도한 방식입니다.</p>

<hr />

<h2 id="-방법-2-help-파라미터로-직접-작성-주의-줄바꿈-제한">✅ 방법 2: <code class="language-plaintext highlighter-rouge">help=</code> 파라미터로 직접 작성 (주의: 줄바꿈 제한)</h2>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@click.command</span><span class="p">(</span>
    <span class="n">help</span><span class="o">=</span><span class="sh">"</span><span class="s">🧠 분석 기능</span><span class="se">\n</span><span class="s">파일의 트리 구조를 분석합니다.</span><span class="se">\n</span><span class="s">사용법: ...</span><span class="sh">"</span>
<span class="p">)</span>
</code></pre></div></div>

<h3 id="문제점">문제점:</h3>

<ul>
  <li>
    <p>대부분의 터미널에서 <strong>한 줄로 출력되거나</strong> <code class="language-plaintext highlighter-rouge">\n</code>이 무시됩니다.</p>
  </li>
  <li>
    <p>예쁜 출력이 어렵고 줄바꿈이 비정상적일 수 있어요.</p>
  </li>
</ul>

<hr />

<h2 id="-보너스-rich-click-사용-시-문단-스타일-줄바꿈-지원">✅ 보너스: <code class="language-plaintext highlighter-rouge">rich-click</code> 사용 시 문단 스타일 줄바꿈 지원</h2>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">rich_click</span> <span class="k">as</span> <span class="n">click</span>
<span class="n">click</span><span class="p">.</span><span class="n">rich_click</span><span class="p">.</span><span class="n">USE_RICH_MARKUP</span> <span class="o">=</span> <span class="bp">True</span>

<span class="nd">@click.command</span><span class="p">(</span>
    <span class="n">help</span><span class="o">=</span><span class="sh">"""</span><span class="s">
[bold green]🧠 분석 기능 - 트리 구조 분석[/bold green]

이 명령은 파이썬 파일의 AST를 파싱하여 트리 구조를 분석합니다.

[italic]옵션:[/italic]
- [cyan]--algorithm[/cyan]: 알고리즘 종류 선택
- [cyan]--verbose[/cyan]: 자세한 로그 출력
</span><span class="sh">"""</span>
<span class="p">)</span>
</code></pre></div></div>

<p>➡ 예쁘고 줄바꿈도 완벽하게 지원됩니다<br />
(<code class="language-plaintext highlighter-rouge">rich-click</code>은 help 출력만 담당하고, 기존 코드는 그대로 사용)</p>

<hr />

<h2 id="-정리-3">🧭 정리</h2>

<table>
  <thead>
    <tr>
      <th>목적</th>
      <th>방법</th>
      <th>추천도</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>줄바꿈 설명만 필요</td>
      <td>✅ 함수 docstring 사용</td>
      <td>✅✅✅</td>
    </tr>
    <tr>
      <td>한 줄 설명만 필요</td>
      <td><code class="language-plaintext highlighter-rouge">help="..."</code></td>
      <td>✅</td>
    </tr>
    <tr>
      <td>예쁜 스타일 강조까지</td>
      <td><code class="language-plaintext highlighter-rouge">rich-click</code> + 마크업 문법</td>
      <td>✅✅✅</td>
    </tr>
  </tbody>
</table>

<hr />

<p>원하시면 <code class="language-plaintext highlighter-rouge">docstring</code>과 <code class="language-plaintext highlighter-rouge">rich-click</code>을 섞어서 실전 CLI 예시 하나 보여드릴게요.<br />
어떤 스타일이 더 끌리는지도 알려주시면 맞춤으로 도와드릴게요!</p>

<p class="chat--user">

mytool [command] command replace replace function 교체 기능 print print function 출력 기능 이엏게 할수잇나 

</p>

<p>네! 바로 그 스타일,<br />
즉 <code class="language-plaintext highlighter-rouge">mytool [command]</code> 형태에서:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">command
  </span>replace    replace <span class="k">function
             </span>교체 기능
  print      print <span class="k">function
             </span>출력 기능
</code></pre></div></div>

<p>이렇게 <strong>서브커맨드에 대해 영어 + 한글 설명을 “두 줄로 줄바꿈”해서 보여주는 출력 형식</strong> 은<br />
기본 <code class="language-plaintext highlighter-rouge">click</code>에서는 불가능하지만,<br />
✅ <strong><code class="language-plaintext highlighter-rouge">rich-click</code></strong>을 쓰면 <strong>정확히 그 스타일이 가능합니다.</strong></p>

<hr />

<h2 id="-목표-스타일-달성을-위한-설정-요약">✅ 목표 스타일 달성을 위한 설정 요약</h2>

<h3 id="1-rich-click-설치">1. <code class="language-plaintext highlighter-rouge">rich-click</code> 설치</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip <span class="nb">install </span>rich-click
</code></pre></div></div>

<h3 id="2-기본-설정-활성화">2. 기본 설정 활성화</h3>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">rich_click</span> <span class="k">as</span> <span class="n">click</span>

<span class="n">click</span><span class="p">.</span><span class="n">rich_click</span><span class="p">.</span><span class="n">USE_RICH_MARKUP</span> <span class="o">=</span> <span class="bp">True</span>
<span class="n">click</span><span class="p">.</span><span class="n">rich_click</span><span class="p">.</span><span class="n">SHOW_ARGUMENTS</span> <span class="o">=</span> <span class="bp">True</span>
<span class="n">click</span><span class="p">.</span><span class="n">rich_click</span><span class="p">.</span><span class="n">SHOW_SUBCOMMANDS</span> <span class="o">=</span> <span class="bp">True</span>
<span class="n">click</span><span class="p">.</span><span class="n">rich_click</span><span class="p">.</span><span class="n">STYLE_COMMANDS_SECTION</span> <span class="o">=</span> <span class="sh">"</span><span class="s">bold</span><span class="sh">"</span>
<span class="n">click</span><span class="p">.</span><span class="n">rich_click</span><span class="p">.</span><span class="n">MAX_WIDTH</span> <span class="o">=</span> <span class="mi">100</span>  <span class="c1"># 넉넉하게
</span>
<span class="c1"># 선택적으로 스타일 커스터마이징
</span><span class="n">click</span><span class="p">.</span><span class="n">rich_click</span><span class="p">.</span><span class="n">STYLE_COMMANDS_TABLE_HEADER</span> <span class="o">=</span> <span class="sh">"</span><span class="s">bold green</span><span class="sh">"</span>
<span class="n">click</span><span class="p">.</span><span class="n">rich_click</span><span class="p">.</span><span class="n">STYLE_COMMANDS_TABLE_ROW</span> <span class="o">=</span> <span class="sh">""</span>
</code></pre></div></div>

<hr />

<h3 id="3-clipy-main-group-정의">3. <code class="language-plaintext highlighter-rouge">cli.py</code> (main group 정의)</h3>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@click.group</span><span class="p">(</span>
    <span class="n">help</span><span class="o">=</span><span class="sh">"""</span><span class="s">
🧰 mytool - 여러 기능을 포함한 도구

기능을 선택해서 실행하세요.
</span><span class="sh">"""</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="k">pass</span>
</code></pre></div></div>

<hr />

<h3 id="4-각-서브커맨드에서-name과-help-지정">4. 각 서브커맨드에서 name과 help 지정</h3>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># mytool/commands/replace.py
</span><span class="nd">@click.command</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="sh">"</span><span class="s">replace</span><span class="sh">"</span><span class="p">,</span>
    <span class="n">help</span><span class="o">=</span><span class="sh">"</span><span class="s">replace function</span><span class="se">\n</span><span class="s">교체 기능</span><span class="sh">"</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">cli</span><span class="p">():</span>
    <span class="bp">...</span>
</code></pre></div></div>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># mytool/commands/print.py
</span><span class="nd">@click.command</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="sh">"</span><span class="s">print</span><span class="sh">"</span><span class="p">,</span>
    <span class="n">help</span><span class="o">=</span><span class="sh">"</span><span class="s">print function</span><span class="se">\n</span><span class="s">출력 기능</span><span class="sh">"</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">cli</span><span class="p">():</span>
    <span class="bp">...</span>
</code></pre></div></div>

<hr />

<h2 id="️-결과-mytool---help-출력-rich-click-적용-시">🖨️ 결과: <code class="language-plaintext highlighter-rouge">mytool --help</code> 출력 (rich-click 적용 시)</h2>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Usage: mytool <span class="o">[</span>OPTIONS] COMMAND <span class="o">[</span>ARGS]...

🧰 mytool - 여러 기능을 포함한 도구

기능을 선택해서 실행하세요.

Commands:
  replace    replace <span class="k">function
             </span>교체 기능
  print      print <span class="k">function
             </span>출력 기능
</code></pre></div></div>

<blockquote>
  <p>✔️ 원하는 <strong>두 줄 설명 (영문 + 한글)</strong> 이 그대로 표현됩니다<br />
 ✔️ 컬러, 정렬, 스타일도 자동 정돈됨</p>
</blockquote>

<hr />

<h2 id="-결론-7">🔚 결론</h2>

<table>
  <thead>
    <tr>
      <th>스타일</th>
      <th>가능 여부</th>
      <th>방법</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>기본 click에서 <code class="language-plaintext highlighter-rouge">command + 두 줄 설명</code></td>
      <td>❌ 불가능 (줄바꿈 무시됨)</td>
      <td> </td>
    </tr>
    <tr>
      <td>rich-click으로 포맷 지원</td>
      <td>✅ 가능</td>
      <td><code class="language-plaintext highlighter-rouge">help="..."</code>에 줄바꿈 + 스타일 지정</td>
    </tr>
  </tbody>
</table>

<hr />

<p>🛠 원하시면 이 구조를 바탕으로 직접 실행 가능한 <code class="language-plaintext highlighter-rouge">mytool</code> CLI 스캐폴드 예제를 바로 만들어드릴게요.<br />
괜찮으실까요?</p>

<p class="chat--user">

help message에 온점(.)을 쓰나?

</p>

<p>좋은 질문이에요!<br />
CLI에서 <strong>help 메시지에 온점(<code class="language-plaintext highlighter-rouge">.</code>)</strong>을 쓸지 말지는 <strong>정해진 규칙은 없지만</strong> ,<br />
다음과 같은 <strong>일관된 관행(convention)</strong>이 있습니다:</p>

<hr />

<h2 id="-요약-한-줄-설명엔-온점-안-쓰는-게-일반적입니다">✅ 요약: “한 줄 설명엔 온점 안 쓰는 게 일반적입니다.”</h2>

<hr />

<h3 id="-기본-관행-특히-subcommand-목록에서">📌 기본 관행: (특히 subcommand 목록에서)</h3>

<table>
  <thead>
    <tr>
      <th>위치</th>
      <th>관행</th>
      <th>예시</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>한 줄 help</strong> (<code class="language-plaintext highlighter-rouge">help=...</code>)</td>
      <td>❌ <strong>온점 생략</strong></td>
      <td><code class="language-plaintext highlighter-rouge">Replace function</code></td>
    </tr>
    <tr>
      <td><strong>docstring 멀티라인 설명</strong></td>
      <td>✅ <strong>문장 끝에 온점</strong></td>
      <td><code class="language-plaintext highlighter-rouge">This replaces a function.</code></td>
    </tr>
  </tbody>
</table>

<p>➡ CLI 도구들은 <strong>명령어 목록이나 옵션 설명</strong> 에서 짧은 문장에는 온점을 생략하는 것이 더 읽기 편하고 일반적입니다.</p>

<hr />

<h2 id="-유명-도구들-예시">📚 유명 도구들 예시</h2>

<h3 id="-git-git-help">✅ <code class="language-plaintext highlighter-rouge">git</code> (<code class="language-plaintext highlighter-rouge">git help</code>)</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>add        Add file contents to the index
commit     Record changes to the repository
push       Update remote refs along with associated objects
</code></pre></div></div>

<p>➡ <strong>온점 없음</strong></p>

<h3 id="-aws-cli-aws---help">✅ <code class="language-plaintext highlighter-rouge">aws cli</code> (<code class="language-plaintext highlighter-rouge">aws --help</code>)</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>s3         Amazon Simple Storage Service
ec2        Amazon Elastic Compute Cloud
</code></pre></div></div>

<p>➡ <strong>온점 없음</strong></p>

<h3 id="-docker-docker---help">✅ <code class="language-plaintext highlighter-rouge">docker</code> (<code class="language-plaintext highlighter-rouge">docker --help</code>)</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>build      Build an image from a Dockerfile
run        Run a <span class="nb">command </span><span class="k">in </span>a new container
</code></pre></div></div>

<p>➡ <strong>온점 없음</strong></p>

<hr />

<h2 id="-왜-온점을-안-쓰나">🧠 왜 온점을 안 쓰나?</h2>

<ul>
  <li>
    <p>CLI의 <code class="language-plaintext highlighter-rouge">--help</code> 메시지는 <strong>“문장”이 아니라 “명령 요약”</strong> 역할이기 때문</p>
  </li>
  <li>
    <p>짧고 반복적으로 읽히므로, <strong>온점은 시각적으로 잡음</strong></p>
  </li>
  <li>
    <p>여러 커맨드 나열 시 <strong>정렬이 깔끔하게 유지됨</strong></p>
  </li>
</ul>

<hr />

<h2 id="-언제-온점을-써도-괜찮을까">✅ 언제 온점을 써도 괜찮을까?</h2>

<table>
  <thead>
    <tr>
      <th>상황</th>
      <th>온점 사용 여부</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>명령 전체 설명 (docstring)</td>
      <td>✅ 예: “This command prints the function signature.”</td>
    </tr>
    <tr>
      <td>옵션 도움말이 <strong>긴 설명 문장</strong> 일 경우</td>
      <td>✅ 문장처럼 읽히는 경우에는 써도 어색하지 않음</td>
    </tr>
    <tr>
      <td>기술 문서나 튜토리얼</td>
      <td>✅ 자연스러운 문장 구성 필요 시</td>
    </tr>
  </tbody>
</table>

<hr />

<h2 id="-실무-스타일-권장">✅ 실무 스타일 권장</h2>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">@click.command(help="Print function")</code> → ❌ 온점 안 붙임</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">"""Prints the signature of a function."""</code> → ✅ 온점 붙임</p>
  </li>
</ul>

<hr />

<h2 id="-결론-8">🧭 결론</h2>

<blockquote>
  <p><strong>한 줄 요약(help=…)에는 온점을 생략하고,<br />
 전체 설명(docstring 등)에는 온점을 붙이는 게 가장 일반적인 관행입니다.</strong></p>
</blockquote>

<p>✅ 간결<br />
✅ 예측 가능<br />
✅ 사용성 우수</p>

<hr />

<p>필요하시면 스타일 가이드를 문서화해드릴 수도 있어요!<br />
예: <code class="language-plaintext highlighter-rouge">mytool</code> CLI 스타일 가이드 같은 거 원하시나요?</p>

<p class="chat--user">

click main option에 –help만 있는데 이거 없앨 수 없어? 헷갈려

</p>

<p>아주 좋은 질문입니다!<br />
<code class="language-plaintext highlighter-rouge">click</code>에서 <strong>메인 커맨드(main group)</strong>에 <code class="language-plaintext highlighter-rouge">--help</code>가 기본적으로 포함되어 있는 건:</p>

<blockquote>
  <p>❗ 자동으로 도움말을 출력하기 위한 <strong>기본 옵션</strong> 이기 때문이에요.</p>
</blockquote>

<p>그런데 <code class="language-plaintext highlighter-rouge">--help</code>가 헷갈리거나 제거하고 싶다면?</p>

<hr />

<h2 id="-정답---help-옵션은-기본적으로-제거할-수-없습니다">✅ 정답: <code class="language-plaintext highlighter-rouge">--help</code> 옵션은 <strong>기본적으로 제거할 수 없습니다.</strong></h2>

<p><code class="language-plaintext highlighter-rouge">click</code> 내부에서 강제 포함됩니다.</p>

<p>하지만 아래처럼 <strong>대체하거나, 완전히 숨기거나, 이름을 바꾸는 우회 방법</strong> 은 있습니다.</p>

<hr />

<h2 id="-방법-1---help-제거--불가능">❌ 방법 1: <code class="language-plaintext highlighter-rouge">--help</code> 제거 → <strong>불가능</strong></h2>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">@click.group(no_args_is_help=True)</code> 같은 설정으로도 완전히 제거는 못함</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">--help</code>는 내부적으로 <code class="language-plaintext highlighter-rouge">Context.get_help_option_names()</code>로 자동 등록됨</p>
  </li>
</ul>

<hr />

<h2 id="-방법-2---help-표시만-숨기기-표면상-제거처럼-보이게">✅ 방법 2: <code class="language-plaintext highlighter-rouge">--help</code> 표시만 숨기기 (표면상 제거처럼 보이게)</h2>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@click.group</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="k">pass</span>

<span class="n">main</span><span class="p">.</span><span class="n">get_help_option</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">ctx</span><span class="p">:</span> <span class="bp">None</span>
</code></pre></div></div>

<h3 id="-결과">💡 결과:</h3>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">--help</code> 명령어 자체는 여전히 작동하지만</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">mytool --help</code> 출력 시 <strong>옵션 목록에서<code class="language-plaintext highlighter-rouge">--help</code>가 사라짐</strong> → 사용자 혼동 줄임</p>
  </li>
</ul>

<hr />

<h2 id="-방법-3---help-대신-다른-옵션만-보이게-예---version만">✅ 방법 3: <code class="language-plaintext highlighter-rouge">--help</code> 대신 다른 옵션만 보이게 (예: <code class="language-plaintext highlighter-rouge">--version</code>만)</h2>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@click.group</span><span class="p">()</span>
<span class="nd">@click.version_option</span><span class="p">(</span><span class="sh">"</span><span class="s">1.0.0</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">--version</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">-v</span><span class="sh">"</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="sh">"</span><span class="s">버전 출력</span><span class="sh">"</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="k">pass</span>

<span class="c1"># 숨김 처리
</span><span class="n">main</span><span class="p">.</span><span class="n">get_help_option</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">ctx</span><span class="p">:</span> <span class="bp">None</span>
</code></pre></div></div>

<hr />

<h2 id="-방법-4---help는-그대로-두되-설명을-명확히-바꾸기">✅ 방법 4: <code class="language-plaintext highlighter-rouge">--help</code>는 그대로 두되, 설명을 명확히 바꾸기</h2>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">main</span> <span class="o">=</span> <span class="n">click</span><span class="p">.</span><span class="nc">Group</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="sh">"</span><span class="s">MyTool - 다양한 기능 제공 CLI 도구</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<p>그리고 각 subcommand 도움말을 자세히 써주면<br />
사용자가 <code class="language-plaintext highlighter-rouge">--help</code>에 헷갈리지 않게 됩니다.</p>

<hr />

<h2 id="-정리-비교표">🧪 정리 비교표</h2>

<table>
  <thead>
    <tr>
      <th>목적</th>
      <th>가능 여부</th>
      <th>방법</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">--help</code> 자체 제거</td>
      <td>❌ 안 됨</td>
      <td>불가능 (click 내부 고정)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">--help</code> 출력 항목에서 숨기기</td>
      <td>✅ 가능</td>
      <td><code class="language-plaintext highlighter-rouge">get_help_option = lambda ctx: None</code></td>
    </tr>
    <tr>
      <td>대체 옵션만 표시</td>
      <td>✅ 가능</td>
      <td><code class="language-plaintext highlighter-rouge">@click.version_option(...)</code></td>
    </tr>
    <tr>
      <td>헷갈리지 않도록 도움말 개선</td>
      <td>✅ 추천</td>
      <td>명확한 docstring과 스타일 구성</td>
    </tr>
  </tbody>
</table>

<hr />

<h2 id="-추천-전략">✨ 추천 전략</h2>

<blockquote>
  <p><code class="language-plaintext highlighter-rouge">--help</code>는 그대로 두되, <strong><code class="language-plaintext highlighter-rouge">rich-click</code>을 사용하거나 스타일 정리로 의미를 분명히</strong> 해주는 것이 가장 사용자 친화적입니다.</p>
</blockquote>

<hr />

<p>필요하시면 <code class="language-plaintext highlighter-rouge">get_help_option = lambda ctx: None</code>을 적용한 예제도 바로 보여드릴게요.<br />
혹시 실제로 숨기고 싶은 이유가 뭔지도 알려주시면 더 정확히 맞춰드릴 수 있어요!</p>

<p class="chat--user">

Usage에 mytool [OPTION] COMMAND 이렇게 가니까 옵션에 넣을 것도 딱히 없는데 나오는게 맞나 싶어서

</p>

<p>정확한 고민이에요 —<br />
<code class="language-plaintext highlighter-rouge">Usage: mytool [OPTIONS] COMMAND [ARGS]...</code><br />
이런 메시지에서 <strong><code class="language-plaintext highlighter-rouge">[OPTIONS]</code>가 보이는데 실제로 옵션이 없으면 헷갈릴 수 있다</strong>는 점,<br />
이건 많은 CLI 개발자들이 겪는 의문이에요.</p>

<hr />

<h2 id="-왜-click은-항상-options를-출력할까">✅ 왜 <code class="language-plaintext highlighter-rouge">click</code>은 항상 <code class="language-plaintext highlighter-rouge">[OPTIONS]</code>를 출력할까?</h2>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">click</code>은 <strong>기본적으로<code class="language-plaintext highlighter-rouge">--help</code>를 옵션으로 자동 추가</strong>하기 때문에,</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">main()</code> 함수에 옵션이 없더라도 사실상 옵션이 하나 존재합니다 (<code class="language-plaintext highlighter-rouge">--help</code>)</p>
  </li>
  <li>
    <p>그래서 자동으로 <code class="language-plaintext highlighter-rouge">Usage:</code> 라인에 <code class="language-plaintext highlighter-rouge">[OPTIONS]</code>이 출력되는 거예요</p>
  </li>
</ul>

<hr />

<h2 id="-그런데-옵션이-진짜-없다면-이게-거슬리는-건-맞음">🤔 그런데 옵션이 진짜 없다면, 이게 거슬리는 건 맞음</h2>

<p>그렇죠 — 사용자 입장에선 <code class="language-plaintext highlighter-rouge">mytool --help</code> 쳤는데 “옵션 없음”이라면 <code class="language-plaintext highlighter-rouge">[OPTIONS]</code>가 어색하죠.</p>

<hr />

<h2 id="-해결-방법">✅ 해결 방법</h2>

<h3 id="️-방법-1-get_help_option--lambda-ctx-none으로---help-숨기기">✔️ 방법 1: <code class="language-plaintext highlighter-rouge">get_help_option = lambda ctx: None</code>으로 <code class="language-plaintext highlighter-rouge">--help</code> 숨기기</h3>

<p>→ 이렇게 하면 <code class="language-plaintext highlighter-rouge">click</code>이 <code class="language-plaintext highlighter-rouge">[OPTIONS]</code>를 Usage에서 생략해 줍니다.</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">click</span>

<span class="nd">@click.group</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="k">pass</span>

<span class="n">main</span><span class="p">.</span><span class="n">get_help_option</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">ctx</span><span class="p">:</span> <span class="bp">None</span>
</code></pre></div></div>

<h4 id="-결과-usage-라인-깔끔하게-됨">✅ 결과: Usage 라인 깔끔하게 됨</h4>
<div class="language-makefile highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">Usage</span><span class="o">:</span> <span class="nf">mytool COMMAND [ARGS]...</span>
</code></pre></div></div>

<p>하지만 이제 사용자는 <code class="language-plaintext highlighter-rouge">--help</code>를 입력해도 도움말을 못 봐요.<br />
그래서 대안도 필요합니다 ↓</p>

<hr />

<h3 id="️-방법-2-사용자-정의---help-옵션-만들기-선택">✔️ 방법 2: 사용자 정의 <code class="language-plaintext highlighter-rouge">--help</code> 옵션 만들기 (선택)</h3>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@click.group</span><span class="p">()</span>
<span class="nd">@click.option</span><span class="p">(</span><span class="sh">'</span><span class="s">--도움말</span><span class="sh">'</span><span class="p">,</span> <span class="n">is_flag</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">expose_value</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="k">lambda</span> <span class="n">ctx</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="p">(</span>
    <span class="n">click</span><span class="p">.</span><span class="nf">echo</span><span class="p">(</span><span class="n">ctx</span><span class="p">.</span><span class="nf">get_help</span><span class="p">())</span> <span class="ow">or</span> <span class="n">ctx</span><span class="p">.</span><span class="nf">exit</span><span class="p">()</span> <span class="k">if</span> <span class="n">value</span> <span class="k">else</span> <span class="bp">None</span><span class="p">),</span>
    <span class="n">is_eager</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="sh">"</span><span class="s">도움말 보기</span><span class="sh">"</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="k">pass</span>

<span class="n">main</span><span class="p">.</span><span class="n">get_help_option</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">ctx</span><span class="p">:</span> <span class="bp">None</span>  <span class="c1"># 기본 help 제거
</span></code></pre></div></div>

<p>➡ 이렇게 하면 <code class="language-plaintext highlighter-rouge">[OPTIONS]</code>는 사라지고, <code class="language-plaintext highlighter-rouge">--도움말</code>이 명시적 옵션으로 등록돼요.</p>

<hr />

<h3 id="️-방법-3-그냥-options를-유지하고-서브커맨드에만-도움말-충실히-써주기">✔️ 방법 3: 그냥 <code class="language-plaintext highlighter-rouge">[OPTIONS]</code>를 유지하고, 서브커맨드에만 도움말 충실히 써주기</h3>

<p>사실 이게 <strong>click의 기본 방향</strong> 이고,<br />
다른 유명 CLI들도 <code class="language-plaintext highlighter-rouge">OPTIONS</code>가 비어 있어도 일관성을 위해 출력은 합니다:</p>

<p>예:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>less

Usage: docker [OPTIONS] COMMAND [ARGS]...
       aws [OPTIONS] COMMAND [ARGS]...
       git [--version] [--help] COMMAND [...]
</code></pre></div></div>

<p>➡ 그러니 <strong>이걸 너무 이상하게 볼 필요는 없고</strong> , 다만 <strong>헷갈리지 않도록 실제 옵션이 있다는 걸 알려주거나 묵시적 옵션(<code class="language-plaintext highlighter-rouge">--help</code>) 외엔 없다면 설명을 보완</strong>해주면 됩니다.</p>

<hr />

<h2 id="-결론-9">✨ 결론</h2>

<table>
  <thead>
    <tr>
      <th>선택지</th>
      <th>효과</th>
      <th>추천도</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">[OPTIONS]</code> 그냥 유지</td>
      <td>일관성, 예상 가능한 CLI 구조</td>
      <td>✅ (기본 추천)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">--help</code> 제거해서 <code class="language-plaintext highlighter-rouge">[OPTIONS]</code> 감추기</td>
      <td>깔끔한 Usage 표시</td>
      <td>⚠️ 도움말 없어짐</td>
    </tr>
    <tr>
      <td>사용자 정의 도움말 옵션 등록</td>
      <td>완전 제어 가능</td>
      <td>✅ (고급)</td>
    </tr>
  </tbody>
</table>

<hr />

<h2 id="-추천-문구-예시-도움말-보완">👇 추천 문구 예시 (도움말 보완)</h2>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@click.group</span><span class="p">(</span>
    <span class="n">help</span><span class="o">=</span><span class="sh">"""</span><span class="s">🧰 mytool - 다양한 기능을 실행합니다.

This command has no global options.
Use `mytool [COMMAND] --help` for detailed help.
</span><span class="sh">"""</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="bp">...</span>
</code></pre></div></div>

<p>➡ 이렇게 하면 <code class="language-plaintext highlighter-rouge">[OPTIONS]</code>가 보이더라도 <strong>사용자가 혼동하지 않도록 안내</strong> 할 수 있어요.</p>

<hr />

<p>필요하시면 이걸 반영한 <code class="language-plaintext highlighter-rouge">cli.py</code> 템플릿 예제 드릴게요!<br />
옵션 완전히 제거할지, 안내만 개선할지 알려주시면 바로 맞춰드릴게요.</p>

<p class="chat--user">

help를 너가 말한대로 제거해도 [OPTIONS]는 남아있어..

</p>

<p>🧐 아주 날카로운 관찰입니다 —<br />
제가 말씀드린 <code class="language-plaintext highlighter-rouge">main.get_help_option = lambda ctx: None</code> 방식은 <code class="language-plaintext highlighter-rouge">--help</code> <strong>옵션 자체는 제거</strong> 하지만,<br />
사실 <strong><code class="language-plaintext highlighter-rouge">[OPTIONS]</code> 표기는 여전히 남습니다.</strong></p>

<p>왜냐하면:</p>

<blockquote>
  <p>✅ <strong><code class="language-plaintext highlighter-rouge">[OPTIONS]</code>는 실제 옵션 유무가 아니라, click 내부 구조에서 "옵션이 있을 <em>가능성</em> "만으로도 출력됩니다.</strong></p>
</blockquote>

<hr />

<h2 id="-왜-이런-일이-벌어질까">🧠 왜 이런 일이 벌어질까?</h2>

<p><code class="language-plaintext highlighter-rouge">click</code>은 <code class="language-plaintext highlighter-rouge">Usage:</code> 라인 구성을 다음처럼 처리합니다:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">usage_line</span> <span class="o">=</span> <span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">ctx</span><span class="p">.</span><span class="n">command_path</span><span class="si">}</span><span class="s"> [OPTIONS] COMMAND [ARGS]...</span><span class="sh">"</span>
</code></pre></div></div>

<ul>
  <li>
    <p>이 라인은 실제 등록된 옵션의 유무와 무관하게 <strong>“옵션이 가능하면”</strong> <code class="language-plaintext highlighter-rouge">[OPTIONS]</code>를 넣습니다.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">click.group()</code>이나 <code class="language-plaintext highlighter-rouge">click.command()</code>가 생성될 때, 내부적으로는 <code class="language-plaintext highlighter-rouge">params</code>에 <code class="language-plaintext highlighter-rouge">--help</code>와 같은 옵션이 들어가고,</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">get_help_option = lambda ctx: None</code>을 설정해도 내부 <code class="language-plaintext highlighter-rouge">params</code>는 비어 있지 않기 때문에 → <code class="language-plaintext highlighter-rouge">click</code>은 여전히 <code class="language-plaintext highlighter-rouge">[OPTIONS]</code>를 출력해요.</p>
  </li>
</ul>

<p>즉:</p>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">--help</code>는 안 보이지만</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">[OPTIONS]</code>는 <strong>"옵션 있을 수도 있음"</strong> 상태로 간주되어 남아요.</p>
  </li>
</ul>

<hr />

<h2 id="-완전히-없애는-방법은">✅ 완전히 없애는 방법은?</h2>

<h3 id="️-1-context_settingsignore_unknown_options-true--커스텀-usage-강제-지정">✔️ 1. <code class="language-plaintext highlighter-rouge">context_settings={"ignore_unknown_options": True}</code> + 커스텀 <code class="language-plaintext highlighter-rouge">usage=</code> 강제 지정</h3>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@click.group</span><span class="p">(</span>
    <span class="n">context_settings</span><span class="o">=</span><span class="p">{</span><span class="sh">"</span><span class="s">ignore_unknown_options</span><span class="sh">"</span><span class="p">:</span> <span class="bp">True</span><span class="p">},</span>
    <span class="n">invoke_without_command</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">usage</span><span class="o">=</span><span class="sh">"</span><span class="s">mytool COMMAND [ARGS]...</span><span class="sh">"</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="k">pass</span>

<span class="n">main</span><span class="p">.</span><span class="n">get_help_option</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">ctx</span><span class="p">:</span> <span class="bp">None</span>
</code></pre></div></div>

<p>➡ 이러면 <code class="language-plaintext highlighter-rouge">Usage:</code> 라인을 완전히 수동으로 설정하므로<br />
<code class="language-plaintext highlighter-rouge">[OPTIONS]</code>를 <strong>강제로 제거</strong> 할 수 있어요.</p>

<hr />

<h2 id="-예시-출력-수정-후">🧪 예시 출력 (수정 후)</h2>
<div class="language-makefile highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">Usage</span><span class="o">:</span> <span class="nf">mytool COMMAND [ARGS]...</span>

<span class="err">MyTool</span> <span class="err">-</span> <span class="err">다양한</span> <span class="err">기능을</span> <span class="err">실행합니다.</span>
</code></pre></div></div>

<p>✅ 깔끔하게 <code class="language-plaintext highlighter-rouge">[OPTIONS]</code> 제거됨<br />
✅ 옵션도 실제로 없음<br />
✅ 사용자 혼란 최소화</p>

<hr />

<h2 id="-결론-10">✅ 결론</h2>

<table>
  <thead>
    <tr>
      <th>방법</th>
      <th><code class="language-plaintext highlighter-rouge">[OPTIONS]</code> 제거 가능?</th>
      <th>권장 여부</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">get_help_option = lambda ctx: None</code></td>
      <td>❌ 아니요</td>
      <td>❌ (표현만 없어짐, 구조는 남음)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">usage="..."</code> 명시적 지정</td>
      <td>✅ 예</td>
      <td>✅ (명확하고 통제 가능)</td>
    </tr>
  </tbody>
</table>

<hr />

<h2 id="-추천-코드-스니펫">✅ 추천 코드 스니펫</h2>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@click.group</span><span class="p">(</span>
    <span class="n">help</span><span class="o">=</span><span class="sh">"</span><span class="s">🧰 mytool - 다양한 기능 CLI</span><span class="sh">"</span><span class="p">,</span>
    <span class="n">usage</span><span class="o">=</span><span class="sh">"</span><span class="s">mytool COMMAND [ARGS]...</span><span class="sh">"</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="k">pass</span>

<span class="n">main</span><span class="p">.</span><span class="n">get_help_option</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">ctx</span><span class="p">:</span> <span class="bp">None</span>
</code></pre></div></div>

<p>➡ 이제 <code class="language-plaintext highlighter-rouge">--help</code>도 없고, <code class="language-plaintext highlighter-rouge">[OPTIONS]</code>도 없고,<br />
정말 깔끔한 help 메시지 출력 가능해요.</p>

<hr />

<p>필요하시면 이 설정이 반영된 <code class="language-plaintext highlighter-rouge">cli.py</code> 전체 예제 바로 만들어드릴게요!</p>

        
      </section>

      <footer class="page__meta">
        
        


  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      <a href="/categories/#python" class="page__taxonomy-item p-category" rel="tag">python</a>
    
    </span>
  </p>


        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time class="dt-published" datetime="2025-08-04T00:17:29+09:00">2025-08-04</time></p>

      </footer>

      

      
  <nav class="pagination">
    
      <a href="/linux/setting-default-browser/" class="pagination--pager" title="브라우저 설정 방법">Previous</a>
    
    
      <a href="/misc/icons-for-readme/" class="pagination--pager" title="아이콘 사용 리스트">Next</a>
    
  </nav>


    </div>

    
  </article>

  
  
    
<div class="page__related">
  
  <h2 class="page__related-title">You may also enjoy</h2>
  <div class="grid__wrapper">
    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2025-08-19-python-repr-vs-str/" rel="permalink">
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <!-- hvppyarchive: remove date icon
        <i class="far fa-calendar-alt" aria-hidden="true"></i> 
        -->
        
        <time datetime="2025-09-29T10:41:46+09:00">2025-09-29</time>
      </span>
    

    

    
  </p>


    <p class="archive__item-excerpt" itemprop="description">
</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/python/pickle-to-json/" rel="permalink">Pickle to JSON 변환
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <!-- hvppyarchive: remove date icon
        <i class="far fa-calendar-alt" aria-hidden="true"></i> 
        -->
        
        <time datetime="2025-09-29T10:41:41+09:00">2025-09-29</time>
      </span>
    

    

    
  </p>


    <p class="archive__item-excerpt" itemprop="description">

</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/markdown/markdown-multilanguage/" rel="permalink">md 한영 병기 표기 렌더링
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <!-- hvppyarchive: remove date icon
        <i class="far fa-calendar-alt" aria-hidden="true"></i> 
        -->
        
        <time datetime="2025-09-13T11:23:46+09:00">2025-09-13</time>
      </span>
    

    

    
  </p>


    <p class="archive__item-excerpt" itemprop="description">

</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/python/pyside6-browser/" rel="permalink">PySide6 웹 브라우저 만들기
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <!-- hvppyarchive: remove date icon
        <i class="far fa-calendar-alt" aria-hidden="true"></i> 
        -->
        
        <time datetime="2025-09-08T11:39:22+09:00">2025-09-08</time>
      </span>
    

    

    
  </p>


    <p class="archive__item-excerpt" itemprop="description">

</p>
  </article>
</div>

    
  </div>
</div>

  
  
</div>

      
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';" role="search">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        

<div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
      
        
      
        
      
        
      
        
      
        
      
    

    
  </ul>
</div>


<div class="page__footer-copyright">&copy; 2013 - 2025 <a href="https://hvppyarchive.github.io">ARCHIVE</a>. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/jekyll-themes/minimal-mistakes/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>






  </body>
</html>
