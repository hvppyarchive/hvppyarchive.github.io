<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.27.1 by Michael Rose
  Copyright 2013-2025 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->

<html lang="en-US" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Curl로 vLLM 쿼리 보내기 - ARCHIVE</title>
<meta name="description" content="">


  <meta name="author" content="hvppyarchive">
  
  <meta property="article:author" content="hvppyarchive">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="ARCHIVE">
<meta property="og:title" content="Curl로 vLLM 쿼리 보내기">
<meta property="og:url" content="https://hvppyarchive.github.io/llm/vllm-curl/">


  <meta property="og:description" content="">







  <meta property="article:published_time" content="2025-07-30T01:03:41+09:00">





  

  


<link rel="canonical" href="https://hvppyarchive.github.io/llm/vllm-curl/">












<!-- end _includes/seo.html -->


<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
  
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css"></noscript>



    <!-- start custom head snippets -->
<!-- hvppyarchive: add fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@200..900&display=swap" rel="stylesheet">

<!-- insert favicons. use https://realfavicongenerator.net/ -->
 <!-- hvppyarchive: add favicons -->
<link rel="icon" type="image/png" href="/assets/favicon/favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/svg+xml" href="/assets/favicon/favicon.svg" />
<link rel="shortcut icon" href="/assets/favicon/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="/assets/favicon/apple-touch-icon.png" />
<link rel="manifest" href="/assets/favicon/site.webmanifest" />

<!-- end custom head snippets -->

  </head>

  <body class="layout--single" dir="ltr">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          ARCHIVE
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a
                href="/year-archive/"
                
                
              >Posts</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      





<div id="main" role="main">
  


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Curl로 vLLM 쿼리 보내기">
    <meta itemprop="description" content="">
    <meta itemprop="datePublished" content="2025-07-30T01:03:41+09:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">
            <a href="https://hvppyarchive.github.io/llm/vllm-curl/" itemprop="url">Curl로 vLLM 쿼리 보내기
</a>
          </h1>
          

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <!-- hvppyarchive: remove date icon
        <i class="far fa-calendar-alt" aria-hidden="true"></i> 
        -->
        
        <time datetime="2025-07-30T01:03:41+09:00">2025-07-30</time>
      </span>
    

    

    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
        <p class="chat--user">

curl로 vllm gpt 에 쿼리 보내기

</p>

<p><code class="language-plaintext highlighter-rouge">vLLM</code> 기반 GPT 서버에 <code class="language-plaintext highlighter-rouge">curl</code> 명령어로 쿼리를 보내려면 다음과 같은 구조를 따릅니다. vLLM은 일반적으로 OpenAI 호환
API 엔드포인트를 제공합니다. 다음은 <code class="language-plaintext highlighter-rouge">vLLM</code> 서버가 OpenAI API처럼 작동할 경우를 가정한 예시입니다.</p>

<hr />

<h3 id="-전제-조건">✅ 전제 조건</h3>

<ol>
  <li>
    <p><code class="language-plaintext highlighter-rouge">vLLM</code> 서버가 실행 중이며 OpenAI 호환 REST API 엔드포인트를 제공</p>
  </li>
  <li>
    <p>모델이 <code class="language-plaintext highlighter-rouge">chat</code> 유형으로 등록되어 있음 (<code class="language-plaintext highlighter-rouge">chat/completions</code> endpoint 사용)</p>
  </li>
  <li>
    <p>토큰 인증이 설정되어 있다면 <code class="language-plaintext highlighter-rouge">Authorization: Bearer YOUR_API_KEY</code> 헤더 필요</p>
  </li>
</ol>

<hr />

<h3 id="-예시-curl-명령어">🧪 예시 <code class="language-plaintext highlighter-rouge">curl</code> 명령어</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl http://localhost:8000/v1/chat/completions <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{
    "model": "gpt-3.5-turbo",
    "messages": [
      {"role": "system", "content": "You are a helpful assistant."},
      {"role": "user", "content": "서울 날씨 어때?"}
    ],
    "temperature": 0.7
  }'</span>
</code></pre></div></div>

<hr />

<h3 id="-주요-요소-설명">🧩 주요 요소 설명</h3>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">http://localhost:8000/v1/chat/completions</code>:</p>

    <ul>
      <li>vLLM 서버의 엔드포인트 주소입니다. 실제 주소로 바꾸세요.</li>
    </ul>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">model</code>:</p>

    <ul>
      <li>vLLM에서 사용 중인 모델 이름. (예: <code class="language-plaintext highlighter-rouge">gpt-3.5-turbo</code>, <code class="language-plaintext highlighter-rouge">llama-3</code>, <code class="language-plaintext highlighter-rouge">mistral-7b</code>, 등)</li>
    </ul>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">messages</code>:</p>

    <ul>
      <li>Chat 기반 입력 형식으로, 각 메시지의 <code class="language-plaintext highlighter-rouge">role</code>은 <code class="language-plaintext highlighter-rouge">system</code>, <code class="language-plaintext highlighter-rouge">user</code>, <code class="language-plaintext highlighter-rouge">assistant</code> 중 하나입니다.</li>
    </ul>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">temperature</code>:</p>

    <ul>
      <li>응답의 무작위성 (창의성) 조절. 0은 결정적, 1에 가까울수록 창의적입니다.</li>
    </ul>
  </li>
</ul>

<hr />

<h3 id="-인증이-필요한-경우-api-key">🔐 인증이 필요한 경우 (API Key)</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl http://localhost:8000/v1/chat/completions <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Bearer YOUR_API_KEY"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{...}'</span>
</code></pre></div></div>

<hr />

<h3 id="-completion-api를-쓰는-경우-prompt-기반">📦 <code class="language-plaintext highlighter-rouge">completion</code> API를 쓰는 경우 (prompt 기반)</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl http://localhost:8000/v1/completions <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{
    "model": "gpt-3.5-turbo",
    "prompt": "서울 날씨 어때?",
    "max_tokens": 100,
    "temperature": 0.7
  }'</span>
</code></pre></div></div>

<hr />

<p>필요하다면 <code class="language-plaintext highlighter-rouge">stream</code> 옵션이나 <code class="language-plaintext highlighter-rouge">stop</code>, <code class="language-plaintext highlighter-rouge">top_p</code>, <code class="language-plaintext highlighter-rouge">n</code> 등의 고급 파라미터도 사용할 수 있습니다.</p>

<p>원하시는 API 구조에 맞춰 <code class="language-plaintext highlighter-rouge">curl</code> 명령어를 조정해드릴 수도 있습니다. vLLM 서버 설정을 공유해주시면 더 정확하게 도와드릴 수
있어요.</p>

<p class="chat--user">

모델 조회하는 법 있어?

</p>

<p>네, <code class="language-plaintext highlighter-rouge">vLLM</code> 서버에서 <strong>사용 가능한 모델 목록을 조회</strong> 하려면 일반적으로 OpenAI 호환 REST API의 <code class="language-plaintext highlighter-rouge">/v1/models</code>
엔드포인트를 사용할 수 있습니다. 아래에 단계별로 정리해드릴게요.</p>

<hr />

<h2 id="-1-모델-목록-조회-curl-명령어">✅ 1. 모델 목록 조회 curl 명령어</h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl http://localhost:8000/v1/models
</code></pre></div></div>

<blockquote>
  <p>포트 번호 (<code class="language-plaintext highlighter-rouge">8000</code>)나 주소는 <code class="language-plaintext highlighter-rouge">vLLM</code> 서버 실행 환경에 따라 달라질 수 있으니 적절히 수정하세요.</p>
</blockquote>

<hr />

<h2 id="-2-응답-예시-json">🔎 2. 응답 예시 (JSON)</h2>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"list"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"llama-3"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"model"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"owned_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"vllm"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mistral-7b"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"model"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"owned_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"vllm"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>여기서 <code class="language-plaintext highlighter-rouge">"id"</code> 필드가 실제로 쿼리에 사용할 모델 이름입니다. 예를 들어:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">"model"</span><span class="p">:</span><span class="w"> </span><span class="s2">"llama-3"</span><span class="w">
</span></code></pre></div></div>

<hr />

<h2 id="-3-참고-vllm-서버가-openai-스타일-api를-따르지-않는-경우">🧩 3. 참고: <code class="language-plaintext highlighter-rouge">vLLM</code> 서버가 OpenAI 스타일 API를 따르지 않는 경우</h2>

<p>일부 설정에서는 <code class="language-plaintext highlighter-rouge">/v1/models</code> 엔드포인트가 비활성화되어 있을 수 있습니다. 그런 경우에는:</p>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">vllm.entrypoints.openai.api_server</code> 실행 시 콘솔 로그에서 <code class="language-plaintext highlighter-rouge">model_name</code> 확인</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">vllm.engine.args.model</code> 로 <code class="language-plaintext highlighter-rouge">vllm</code> 서버 시작 시 전달된 모델 경로나 HuggingFace 모델명 직접 확인</p>
  </li>
</ul>

<p>예:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python <span class="nt">-m</span> vllm.entrypoints.openai.api_server <span class="se">\</span>
  <span class="nt">--model</span> mistralai/Mistral-7B-Instruct-v0.1 <span class="se">\</span>
  <span class="nt">--host</span> 0.0.0.0 <span class="nt">--port</span> 8000
</code></pre></div></div>

<p>위의 경우 모델 이름은 <code class="language-plaintext highlighter-rouge">"mistralai/Mistral-7B-Instruct-v0.1"</code> 입니다.</p>

<hr />

<h2 id="-요약">✅ 요약</h2>

<table>
  <thead>
    <tr>
      <th>목적</th>
      <th>명령어 예시</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>모델 목록 조회</td>
      <td><code class="language-plaintext highlighter-rouge">curl http://localhost:8000/v1/models</code></td>
    </tr>
    <tr>
      <td>단일 모델 사용</td>
      <td>API 실행할 때 <code class="language-plaintext highlighter-rouge">--model</code> 옵션 확인</td>
    </tr>
  </tbody>
</table>

<hr />

<p>필요하면 <code class="language-plaintext highlighter-rouge">vLLM</code> 실행 로그를 기반으로 모델 이름 파싱하는 방법도 알려드릴 수 있어요. 서버 설정 알려주시면 구체적으로 도와드릴게요.</p>

<p class="chat--user">

openweb ui 환경의 api 주소

</p>

<p><code class="language-plaintext highlighter-rouge">Open WebUI</code> (ex: Open Web UI 또는 oobabooga WebUI 같은 인터페이스)의 경우, 백엔드에 붙어 있는 LLM
서버에 따라 <strong>API 주소</strong> 가 달라질 수 있습니다. 그러나 일반적으로 다음과 같은 구조로 동작합니다.</p>

<hr />

<h2 id="-1-기본-api-주소-구조">✅ 1. 기본 API 주소 구조</h2>

<p>기본적으로 Open WebUI는 내부적으로 <code class="language-plaintext highlighter-rouge">vllm</code>, <code class="language-plaintext highlighter-rouge">text-generation-webui</code>, 또는 <code class="language-plaintext highlighter-rouge">llama.cpp</code> 서버에
REST API 요청을 전달하는 <strong>프록시 역할</strong> 을 합니다.</p>

<h3 id="기본-api-주소-예시">기본 API 주소 예시:</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http://localhost:8080/api/v1/chat/completions
</code></pre></div></div>

<p>또는</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http://localhost:3000/api/v1/chat/completions
</code></pre></div></div>

<p>포트 번호는 Open WebUI를 실행한 구성에 따라 달라집니다.</p>

<hr />

<h2 id="-2-확인-방법">✅ 2. 확인 방법</h2>

<h3 id="방법-1-open-webui-실행-시-로그-확인">방법 1: Open WebUI 실행 시 로그 확인</h3>

<p>Open WebUI를 실행하면 터미널에 다음과 같은 로그가 출력됩니다:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>nginx

API listening at http://0.0.0.0:3000
Forwarding to: http://localhost:8000/v1
</code></pre></div></div>

<p>여기서:</p>

<ul>
  <li>
    <p><strong>사용자 요청</strong> 은 <code class="language-plaintext highlighter-rouge">http://localhost:3000/api/v1/...</code>로 보냅니다.</p>
  </li>
  <li>
    <p><strong>실제 LLM 서버</strong> 는 <code class="language-plaintext highlighter-rouge">http://localhost:8000/v1/...</code>입니다. (예: vLLM)</p>
  </li>
</ul>

<hr />

<h3 id="방법-2-브라우저에서-f12--network-탭-확인">방법 2: 브라우저에서 <code class="language-plaintext highlighter-rouge">F12 &gt; Network</code> 탭 확인</h3>

<p>Open WebUI 브라우저에서 채팅할 때 개발자도구를 열고 <code class="language-plaintext highlighter-rouge">Network</code> 탭에서 실제 API 요청이 보내지는 URL을 확인할 수
있습니다. 보통 다음과 같습니다:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http

POST http://localhost:3000/api/v1/chat/completions
</code></pre></div></div>

<hr />

<h2 id="-3-실제-curl-예시-open-webui-프록시-사용-시">✅ 3. 실제 curl 예시 (Open WebUI 프록시 사용 시)</h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl http://localhost:3000/api/v1/chat/completions <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{
    "model": "mistral-7b",
    "messages": [
      {"role": "user", "content": "안녕 GPT!"}
    ],
    "temperature": 0.7
  }'</span>
</code></pre></div></div>

<hr />

<h2 id="-요약-1">✅ 요약</h2>

<table>
  <thead>
    <tr>
      <th>항목</th>
      <th>예시</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>WebUI 포트</td>
      <td><code class="language-plaintext highlighter-rouge">3000</code>, <code class="language-plaintext highlighter-rouge">8080</code>, 또는 Docker에 따라 다름</td>
    </tr>
    <tr>
      <td>API 엔드포인트 예</td>
      <td><code class="language-plaintext highlighter-rouge">http://localhost:3000/api/v1/chat/completions</code></td>
    </tr>
    <tr>
      <td>백엔드 연결 대상</td>
      <td>보통 <code class="language-plaintext highlighter-rouge">vLLM</code>, <code class="language-plaintext highlighter-rouge">Ollama</code>, <code class="language-plaintext highlighter-rouge">text-generation-webui</code> 등</td>
    </tr>
  </tbody>
</table>

<hr />

<p>필요하시면 Docker 환경 기준으로도 예시를 드릴 수 있습니다. 현재 사용 중인 WebUI 종류 (<code class="language-plaintext highlighter-rouge">OpenWebUI</code>,
<code class="language-plaintext highlighter-rouge">Oobabooga</code>, <code class="language-plaintext highlighter-rouge">LM Studio</code>, 등)나 백엔드 모델 서버(<code class="language-plaintext highlighter-rouge">vllm</code>, <code class="language-plaintext highlighter-rouge">llama.cpp</code>, 등)를 알려주시면 더 정확히
도와드릴 수 있어요.</p>

<p class="chat--user">

model 보는법

</p>

<p><code class="language-plaintext highlighter-rouge">Open WebUI</code> 환경에서 <strong>사용 가능한 모델 목록을 확인하는 방법</strong> 은 사용 중인 백엔드(LM 서버: <code class="language-plaintext highlighter-rouge">vLLM</code>,
<code class="language-plaintext highlighter-rouge">llama.cpp</code>, <code class="language-plaintext highlighter-rouge">Ollama</code>, 등)에 따라 다릅니다. 아래는 대표적인 경우를 나눠서 <strong>step-by-step</strong> 으로 정리한
내용입니다.</p>

<hr />

<h2 id="-1-open-webui에서-모델-확인하는-방법-ui-기준">✅ 1. Open WebUI에서 모델 확인하는 방법 (UI 기준)</h2>

<h3 id="-방법-a-web-ui-내부에서-확인">📍 방법 A: Web UI 내부에서 확인</h3>

<ul>
  <li>
    <p>브라우저에서 Open WebUI에 접속</p>
  </li>
  <li>
    <p>보통 <strong>좌측 사이드바</strong> 또는 <strong>설정(Settings)</strong> 메뉴에서</p>

    <ul>
      <li>
        <p>현재 로드된 모델 이름</p>
      </li>
      <li>
        <p>선택 가능한 모델 목록</p>
      </li>
    </ul>
  </li>
  <li>
    <p>표시 위치 예:</p>

    <ul>
      <li>메뉴: <code class="language-plaintext highlighter-rouge">Models</code>, <code class="language-plaintext highlighter-rouge">Select Model</code>, 또는 <code class="language-plaintext highlighter-rouge">Settings &gt; Model</code></li>
    </ul>
  </li>
</ul>

<hr />

<h2 id="-2-api를-통해-모델-목록-확인-curl-사용">✅ 2. API를 통해 모델 목록 확인 (curl 사용)</h2>

<h3 id="-전제">📍 전제</h3>

<p>Open WebUI가 OpenAI 호환 백엔드를 프록시하고 있어야 합니다. (예: vLLM, text-generation-webui 등)</p>

<h3 id="-api-엔드포인트-openai-스타일">💡 API 엔드포인트 (OpenAI 스타일)</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl http://localhost:3000/api/v1/models
</code></pre></div></div>

<p>또는 백엔드 직접 호출:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl http://localhost:8000/v1/models
</code></pre></div></div>

<h3 id="-응답-예시">✅ 응답 예시:</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"list"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mistral-7b"</span><span class="p">,</span><span class="w"> </span><span class="nl">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"model"</span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"llama-3-8b"</span><span class="p">,</span><span class="w"> </span><span class="nl">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"model"</span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<hr />

<h2 id="-3-사용-중인-백엔드별-모델-확인법">✅ 3. 사용 중인 백엔드별 모델 확인법</h2>

<table>
  <thead>
    <tr>
      <th>백엔드</th>
      <th>확인 방법</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>vLLM</strong></td>
      <td><code class="language-plaintext highlighter-rouge">curl http://localhost:8000/v1/models</code></td>
    </tr>
    <tr>
      <td><strong>Ollama</strong></td>
      <td><code class="language-plaintext highlighter-rouge">ollama list</code> 또는 <code class="language-plaintext highlighter-rouge">curl http://localhost:11434/api/tags</code></td>
    </tr>
    <tr>
      <td><strong>text-generation-webui</strong></td>
      <td>WebUI에서 좌측 모델 목록 확인 or <code class="language-plaintext highlighter-rouge">/api/v1/model</code></td>
    </tr>
    <tr>
      <td><strong>llama.cpp</strong></td>
      <td>모델 수동 로딩이므로 CLI 로그에서 확인</td>
    </tr>
  </tbody>
</table>

<hr />

<h2 id="-예시-open-webui--vllm-연결-시">🧪 예시 (Open WebUI → vLLM 연결 시)</h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl http://localhost:3000/api/v1/models
</code></pre></div></div>

<h3 id="-모델명으로-응답이-오면-이후-요청에서-이렇게-사용">📌 모델명으로 응답이 오면, 이후 요청에서 이렇게 사용:</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl http://localhost:3000/api/v1/chat/completions <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{
    "model": "mistral-7b",
    "messages": [{"role": "user", "content": "Hello!"}]
  }'</span>
</code></pre></div></div>

<hr />

<h2 id="-요약-2">✅ 요약</h2>

<table>
  <thead>
    <tr>
      <th>환경</th>
      <th>모델 확인 방법</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Web UI</td>
      <td>브라우저 UI 내 모델 선택 메뉴</td>
    </tr>
    <tr>
      <td>curl API</td>
      <td><code class="language-plaintext highlighter-rouge">/api/v1/models</code> or <code class="language-plaintext highlighter-rouge">/v1/models</code></td>
    </tr>
    <tr>
      <td>백엔드에 따라 다름</td>
      <td>vLLM: <code class="language-plaintext highlighter-rouge">/v1/models</code>, Ollama: <code class="language-plaintext highlighter-rouge">ollama list</code> 등</td>
    </tr>
  </tbody>
</table>

<hr />

<p>어떤 백엔드를 Open WebUI가 연결하고 있는지 알려주시면, 그에 맞는 정확한 명령어를 드릴 수 있어요. 필요하시면 Docker 기준도
설명드릴게요.</p>

<p class="chat--user">

api key 같이 주는법

</p>

<p><code class="language-plaintext highlighter-rouge">curl</code>로 LLM 서버(Open WebUI 포함)에 <strong>API Key를 포함해서 요청하는 방법</strong> 은 매우 간단합니다. 보통 OpenAI
호환 API를 따르는 경우, <code class="language-plaintext highlighter-rouge">Authorization</code> 헤더에 키를 추가하면 됩니다.</p>

<hr />

<h2 id="-step-by-step-api-key-포함하는-방법">✅ Step-by-step: API Key 포함하는 방법</h2>

<h3 id="-1-api-key가-필요한-구조-예">🔐 1. API Key가 필요한 구조 예</h3>

<p>API 서버가 <code class="language-plaintext highlighter-rouge">Bearer</code> 인증을 요구한다면 다음 형식입니다:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl http://localhost:3000/api/v1/chat/completions <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Bearer YOUR_API_KEY"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{
    "model": "mistral-7b",
    "messages": [
      {"role": "user", "content": "안녕 GPT!"}
    ]
  }'</span>
</code></pre></div></div>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">"Authorization: Bearer ..."</code> → OpenAI-style 인증 방식</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">"YOUR_API_KEY"</code>는 발급받은 키로 교체</p>
  </li>
</ul>

<hr />

<h3 id="-2-환경별-api-key-발급-위치">📌 2. 환경별 API Key 발급 위치</h3>

<table>
  <thead>
    <tr>
      <th>환경</th>
      <th>API Key 설정 위치</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Open WebUI</strong></td>
      <td><code class="language-plaintext highlighter-rouge">Settings &gt; API Authentication</code> (서버 관리자만 설정 가능)</td>
    </tr>
    <tr>
      <td><strong>vLLM</strong></td>
      <td>기본적으로 인증 없음, 프록시 또는 Gateway에서 인증 설정 필요</td>
    </tr>
    <tr>
      <td><strong>Ollama</strong></td>
      <td>인증 필요 없음 (로컬 전용)</td>
    </tr>
    <tr>
      <td><strong>text-generation-webui</strong></td>
      <td>인증 기능 없음 (커스텀 코드 필요)</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p>즉, <strong>Open WebUI가 자체적으로 API Key 인증을 요구하는 경우</strong> , <code class="language-plaintext highlighter-rouge">Bearer</code> 방식으로 보내야 하며, 백엔드가 직접
인증하지는 않는 경우가 많습니다.</p>
</blockquote>

<hr />

<h2 id="-예시-api-key로-llm-호출-open-webui-프록시-사용">🧪 예시: API Key로 LLM 호출 (Open WebUI 프록시 사용)</h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl http://localhost:3000/api/v1/chat/completions <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Bearer sk-1234abcd5678efgh"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{
    "model": "llama-3",
    "messages": [
      {"role": "user", "content": "API 키가 잘 작동하고 있니?"}
    ]
  }'</span>
</code></pre></div></div>

<hr />

<h2 id="-참고-open-webui에서-api-key-요구-설정-예">🔄 참고: Open WebUI에서 API Key 요구 설정 예</h2>

<p>만약 Open WebUI를 운영 중이고, API Key 인증을 요구하도록 설정하려면 <code class="language-plaintext highlighter-rouge">.env</code> 또는 설정 파일에 아래와 같은 옵션이 들어
있을 수 있습니다:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>env

WEBUI_AUTH=true
WEBUI_API_KEY=sk-1234abcd5678efgh
</code></pre></div></div>

<p>이 설정이 활성화된 경우에만 <code class="language-plaintext highlighter-rouge">curl</code>에서 API Key를 줘야 합니다.</p>

<hr />

<h2 id="-요약-3">✅ 요약</h2>

<table>
  <thead>
    <tr>
      <th>항목</th>
      <th>내용</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>헤더 키</td>
      <td><code class="language-plaintext highlighter-rouge">"Authorization: Bearer YOUR_API_KEY"</code></td>
    </tr>
    <tr>
      <td>위치</td>
      <td><code class="language-plaintext highlighter-rouge">-H</code> 옵션으로 <code class="language-plaintext highlighter-rouge">curl</code>에 포함</td>
    </tr>
    <tr>
      <td>적용 대상</td>
      <td>Open WebUI + API 인증 활성화된 경우</td>
    </tr>
    <tr>
      <td>백엔드 단</td>
      <td>일반적으로 인증 없음 (vLLM, Ollama 등)</td>
    </tr>
  </tbody>
</table>

<hr />

<p>🔧 원하시면 <code class="language-plaintext highlighter-rouge">Open WebUI</code>의 API Key 설정을 어떻게 켜고 관리하는지도 설명드릴 수 있어요. 운영 중인 환경이 있으면
알려주세요!</p>

<p class="chat--user">

….net/api 가 base야

</p>

<p>좋습니다! 말씀하신 대로 API의 <strong>Base URL</strong> 이 <code class="language-plaintext highlighter-rouge">http://your-host.net/api</code> 형식이라면, 아래와 같이 쿼리
요청을 보내고 API Key도 포함할 수 있습니다. 단계별로 설명드릴게요.</p>

<hr />

<h2 id="-1-base-url이-httpyour-hostnetapi인-경우-구조">✅ 1. Base URL이 <code class="language-plaintext highlighter-rouge">http://your-host.net/api</code>인 경우 구조</h2>

<p>OpenAI 호환 API 구조를 따르고 있다고 가정하면, 전체 엔드포인트는 다음과 같이 구성됩니다:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>BASE_URL <span class="o">=</span> http://your-host.net/api
           └─────┬────┘ └── endpoint path: /v1/chat/completions, /v1/models 등
</code></pre></div></div>

<hr />

<h2 id="-2-모델-목록-확인-curl">✅ 2. 모델 목록 확인 (curl)</h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl http://your-host.net/api/v1/models <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Bearer YOUR_API_KEY"</span>
</code></pre></div></div>

<hr />

<h2 id="-3-chatcompletions-요청-예시">✅ 3. chat/completions 요청 예시</h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl http://your-host.net/api/v1/chat/completions <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Bearer YOUR_API_KEY"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{
    "model": "llama-3",
    "messages": [
      {"role": "user", "content": "안녕, 오늘 기분 어때?"}
    ],
    "temperature": 0.7
  }'</span>
</code></pre></div></div>

<hr />

<h2 id="-4-응답-예시-정상-작동-시">✅ 4. 응답 예시 (정상 작동 시)</h2>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"chatcmpl-abc123"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"chat.completion"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created"</span><span class="p">:</span><span class="w"> </span><span class="mi">1723450000</span><span class="p">,</span><span class="w">
  </span><span class="nl">"model"</span><span class="p">:</span><span class="w"> </span><span class="s2">"llama-3"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"choices"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"assistant"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"안녕하세요! 저는 잘 작동하고 있어요 😊"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"finish_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"stop"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<hr />

<h2 id="-요약-4">✅ 요약</h2>

<table>
  <thead>
    <tr>
      <th>목적</th>
      <th>예시 curl 명령</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>모델 목록 조회</td>
      <td><code class="language-plaintext highlighter-rouge">curl http://your-host.net/api/v1/models -H "Authorization: Bearer YOUR_API_KEY"</code></td>
    </tr>
    <tr>
      <td>채팅 요청 보내기</td>
      <td><code class="language-plaintext highlighter-rouge">curl http://your-host.net/api/v1/chat/completions ...</code></td>
    </tr>
    <tr>
      <td>인증 추가 방식</td>
      <td><code class="language-plaintext highlighter-rouge">-H "Authorization: Bearer YOUR_API_KEY"</code></td>
    </tr>
  </tbody>
</table>

<hr />

<p>🛠️ 혹시 <code class="language-plaintext highlighter-rouge">"401 Unauthorized"</code> 또는 <code class="language-plaintext highlighter-rouge">"invalid API key"</code> 등의 오류가 나는 경우에는:</p>

<ul>
  <li>
    <p>API 키가 정확한지</p>
  </li>
  <li>
    <p>서버가 정말 OpenAI 호환인지</p>
  </li>
  <li>
    <p>엔드포인트 경로에 오타가 없는지</p>
  </li>
</ul>

<p>이 세 가지를 다시 확인해 보셔야 합니다.</p>

<p>필요하면 오류 메시지 붙여서 말씀 주세요!</p>

<p class="chat--user">

models에서는 있는거 같은데 model not found 뜨는데 뭘까

</p>

<p>좋은 질문입니다. <code class="language-plaintext highlighter-rouge">GET /v1/models</code>에서는 모델이 보이는데, <code class="language-plaintext highlighter-rouge">POST /v1/chat/completions</code>에서 <code class="language-plaintext highlighter-rouge">model
not found</code> 에러가 발생하는 경우는 꽤 자주 있는 문제이며, 주로 다음과 같은 원인 때문입니다.</p>

<hr />

<h2 id="-step-by-step-원인-분석-및-해결">🧭 Step-by-Step 원인 분석 및 해결</h2>

<hr />

<h3 id="-1-models에서-보이는-id-를-정확히-사용하고-있는가">✅ 1. <code class="language-plaintext highlighter-rouge">models</code>에서 보이는 <strong>id</strong> 를 정확히 사용하고 있는가?</h3>

<p><code class="language-plaintext highlighter-rouge">GET /v1/models</code> 응답 예시:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mistral-7b-instruct"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"model"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><strong>→ 여기에 나오는<code class="language-plaintext highlighter-rouge">id</code> 필드를 <code class="language-plaintext highlighter-rouge">chat/completions</code>의 <code class="language-plaintext highlighter-rouge">"model"</code>로 그대로 사용해야 합니다.</strong></p>

<p>예:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"model"</span>: <span class="s2">"mistral-7b-instruct"</span>   ✅ 정확
<span class="s2">"model"</span>: <span class="s2">"mistral"</span>               ❌ 에러 발생 가능
</code></pre></div></div>

<hr />

<h3 id="-2-모델이-chat-기반-모델-인지-확인하기">✅ 2. 모델이 <strong>chat 기반 모델</strong> 인지 확인하기</h3>

<p>OpenAI 호환 API의 <code class="language-plaintext highlighter-rouge">/v1/chat/completions</code>는 <strong>chat 형식 메시지 (<code class="language-plaintext highlighter-rouge">role</code>:
user/assistant/system)</strong>를 지원하는 모델만 사용 가능합니다.</p>

<blockquote>
  <p>일부 모델은 <strong>prompt-only 모델</strong> 이어서 <code class="language-plaintext highlighter-rouge">/v1/completions</code>만 지원합니다.</p>
</blockquote>

<p>🔍 확인 방법:</p>

<ul>
  <li>
    <p>chat 모델이면 보통 <code class="language-plaintext highlighter-rouge">instruct</code>, <code class="language-plaintext highlighter-rouge">chat</code>, <code class="language-plaintext highlighter-rouge">alpaca</code>, <code class="language-plaintext highlighter-rouge">vicuna</code> 등의 이름을 포함합니다.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">messages</code> 대신 <code class="language-plaintext highlighter-rouge">prompt</code>를 쓰면 안 됩니다.</p>
  </li>
</ul>

<hr />

<h3 id="-3-서버-설정상-허용된-모델만-받도록-되어-있는-경우">✅ 3. 서버 설정상 허용된 모델만 받도록 되어 있는 경우</h3>

<p>특히 <strong>Open WebUI</strong> 또는 프록시 서버 (<code class="language-plaintext highlighter-rouge">FastAPI</code>, <code class="language-plaintext highlighter-rouge">vLLM</code>, <code class="language-plaintext highlighter-rouge">LM Gateway</code> 등)는 보안상 일부 모델만
허용하는 설정을 둘 수 있습니다.</p>

<p>예:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>env

# 환경변수나 config.json
ALLOWED_MODELS=mistral-7b-instruct,llama-3
</code></pre></div></div>

<p>→ 이 경우 <code class="language-plaintext highlighter-rouge">models</code> 응답에는 보이지만, 실제 inference에는 제한될 수 있습니다.</p>

<hr />

<h3 id="-4-이름이-길거나-경로-포함된-경우">✅ 4. 이름이 길거나 경로 포함된 경우</h3>

<p><code class="language-plaintext highlighter-rouge">/v1/models</code>에서 다음처럼 보일 수 있습니다:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TheBloke/Mistral-7B-Instruct-v0.1-GGUF"</span><span class="w">
</span></code></pre></div></div>

<p>→ 이 경우 <strong>이 전체 문자열</strong> 을 <code class="language-plaintext highlighter-rouge">"model"</code>로 넣어야 합니다.</p>

<p>예:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"model"</span>: <span class="s2">"TheBloke/Mistral-7B-Instruct-v0.1-GGUF"</span>
</code></pre></div></div>

<hr />

<h3 id="-5-올바른-백엔드인지-확인-ollama-vllm-lm-studio-등-혼동">✅ 5. 올바른 백엔드인지 확인 (Ollama, vLLM, LM Studio 등 혼동)</h3>

<p><code class="language-plaintext highlighter-rouge">Open WebUI</code>가 어떤 백엔드로 프록시되고 있는지 명확히 알아야 합니다.</p>

<table>
  <thead>
    <tr>
      <th>백엔드</th>
      <th>특징</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>vLLM</strong></td>
      <td>모델 이름 설정 시 <code class="language-plaintext highlighter-rouge">--model</code> 파라미터로 고정됨</td>
    </tr>
    <tr>
      <td><strong>Ollama</strong></td>
      <td><code class="language-plaintext highlighter-rouge">ollama list</code> 로 확인 가능, 이름 그대로 사용해야 함</td>
    </tr>
    <tr>
      <td><strong>text-generation-webui</strong></td>
      <td>UI에서 로드된 모델 외에는 작동 안 함</td>
    </tr>
    <tr>
      <td><strong>LM Studio</strong></td>
      <td>보통 <code class="language-plaintext highlighter-rouge">"lmstudio"</code> 같은 프록시 모델 ID 사용</td>
    </tr>
  </tbody>
</table>

<hr />

<h2 id="️-해결-요약">🛠️ 해결 요약</h2>

<table>
  <thead>
    <tr>
      <th>점검 항목</th>
      <th>조치 방법</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">model</code> 이름 정확히 일치?</td>
      <td><code class="language-plaintext highlighter-rouge">/v1/models</code> 응답에서 <code class="language-plaintext highlighter-rouge">id</code> 그대로 사용</td>
    </tr>
    <tr>
      <td>chat 모델 맞나?</td>
      <td>메시지 포맷이 <code class="language-plaintext highlighter-rouge">messages</code>, role 포함되어야 함</td>
    </tr>
    <tr>
      <td>서버 설정에서 차단?</td>
      <td><code class="language-plaintext highlighter-rouge">ALLOWED_MODELS</code>, 정책 확인</td>
    </tr>
    <tr>
      <td>경로 포함된 이름?</td>
      <td><code class="language-plaintext highlighter-rouge">model</code>: <code class="language-plaintext highlighter-rouge">"TheBloke/.../gguf"</code> 등 전체 경로 포함</td>
    </tr>
    <tr>
      <td>프록시 백엔드 확인</td>
      <td>어떤 백엔드가 API 처리 중인지 명확히 파악 필요</td>
    </tr>
  </tbody>
</table>

<hr />

<h2 id="-필요하시면">📌 필요하시면</h2>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">/v1/models</code> 응답 JSON을 붙여 주시면</p>
  </li>
  <li>
    <p>어떤 모델 이름을 넣었는지 보여주시면</p>
  </li>
</ul>

<p>제가 직접 비교해서 정확한 <code class="language-plaintext highlighter-rouge">"model"</code> 값으로 변환해 드릴 수 있어요. 원하시면 확인 도와드릴게요.</p>

<p class="chat--user">

리눅스 망에서 하는데 한 서버에서는 응답이 잘 나오는데 다른 서버에서는 curl: (60) SSL certificate problem 발생해

</p>

<p>좋습니다. <code class="language-plaintext highlighter-rouge">curl: (60) SSL certificate problem</code> 오류는 주로 <strong>서버의 SSL 인증서를 검증할 수 없을 때
발생</strong> 합니다. 이 문제는 특히 내부망(LAN) 리눅스 환경에서 자주 생깁니다. 원인을 단계별로 진단하고 해결 방법을 안내드릴게요.</p>

<hr />

<h2 id="-1-오류-메시지-요약">✅ 1. 오류 메시지 요약</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>vbnet

curl: (60) SSL certificate problem: unable to get local issuer certificate
</code></pre></div></div>

<p>이 오류는 <code class="language-plaintext highlighter-rouge">curl</code>이 HTTPS 인증서 체인을 검증할 수 없다는 뜻입니다.</p>

<hr />

<h2 id="-step-by-step-해결-방법">🧭 Step-by-Step 해결 방법</h2>

<hr />

<h3 id="-1단계---insecure-옵션으로-우회-테스트용">✅ [1단계] <code class="language-plaintext highlighter-rouge">--insecure</code> 옵션으로 우회 (테스트용)</h3>

<p>먼저 빠르게 테스트하려면 <code class="language-plaintext highlighter-rouge">--insecure</code> 플래그를 사용해 인증서 검증을 끄세요.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl <span class="nt">--insecure</span> https://your-host.net/api/v1/models
</code></pre></div></div>

<ul>
  <li>👉 <strong>이 방법은 보안상 안전하지 않기 때문에, 프로덕션에선 쓰지 말고 원인 해결용으로만 사용하세요.</strong></li>
</ul>

<hr />

<h3 id="-2단계-문제가-발생하지-않는-서버와-인증서-체인-비교">✅ [2단계] 문제가 발생하지 않는 서버와 인증서 체인 비교</h3>

<p><code class="language-plaintext highlighter-rouge">curl -v</code>로 디버깅 로그를 비교해보세요:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl <span class="nt">-v</span> https://your-host.net/api/v1/models
</code></pre></div></div>

<ul>
  <li>
    <p>잘 되는 서버에서는 <code class="language-plaintext highlighter-rouge">SSL certificate verify ok</code>가 뜰 것이고,</p>
  </li>
  <li>
    <p>문제 있는 서버는 <code class="language-plaintext highlighter-rouge">certificate verify failed</code> 로그가 뜰 것입니다.</p>
  </li>
</ul>

<hr />

<h3 id="-3단계-ca-certificates-패키지-설치-확인">✅ [3단계] <code class="language-plaintext highlighter-rouge">ca-certificates</code> 패키지 설치 확인</h3>

<p>문제 있는 서버에서 CA 인증서가 빠져있을 수 있습니다.</p>

<p><strong>Debian/Ubuntu</strong> :</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt update
<span class="nb">sudo </span>apt <span class="nb">install </span>ca-certificates
<span class="nb">sudo </span>update-ca-certificates
</code></pre></div></div>

<p><strong>RHEL/CentOS/Fedora</strong> :</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>yum <span class="nb">install </span>ca-certificates
<span class="nb">sudo </span>update-ca-trust force-enable
<span class="nb">sudo </span>update-ca-trust extract
</code></pre></div></div>

<hr />

<h3 id="-4단계-인증서-수동-등록-자체서명-인증서-등">✅ [4단계] 인증서 수동 등록 (자체서명 인증서 등)</h3>

<p>만약 사내망에서 <strong>자체 서명된 인증서</strong>(self-signed cert)를 쓴다면 수동으로 root CA를 등록해야 합니다.</p>

<p>예: <code class="language-plaintext highlighter-rouge">/etc/ssl/certs/my-root-ca.crt</code>로 저장하고 아래 명령 실행</p>

<p><strong>Debian/Ubuntu:</strong></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo cp </span>my-root-ca.crt /usr/local/share/ca-certificates/
<span class="nb">sudo </span>update-ca-certificates
</code></pre></div></div>

<p><strong>RHEL/CentOS:</strong></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo cp </span>my-root-ca.crt /etc/pki/ca-trust/source/anchors/
<span class="nb">sudo </span>update-ca-trust extract
</code></pre></div></div>

<hr />

<h3 id="-5단계-curl에-ca-직접-지정">✅ [5단계] <code class="language-plaintext highlighter-rouge">curl</code>에 CA 직접 지정</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl <span class="nt">--cacert</span> /path/to/my-root-ca.crt https://your-host.net/api
</code></pre></div></div>

<blockquote>
  <p>인증서 신뢰 체인을 명시적으로 지정할 수 있습니다.</p>
</blockquote>

<hr />

<h2 id="-요약-5">✅ 요약</h2>

<table>
  <thead>
    <tr>
      <th>문제 원인</th>
      <th>해결 방법</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>인증서 검증 실패</td>
      <td><code class="language-plaintext highlighter-rouge">--insecure</code> (테스트용)</td>
    </tr>
    <tr>
      <td>루트 CA 없음</td>
      <td><code class="language-plaintext highlighter-rouge">ca-certificates</code> 패키지 설치</td>
    </tr>
    <tr>
      <td>사설 인증서</td>
      <td>수동 등록 또는 <code class="language-plaintext highlighter-rouge">--cacert</code> 지정</td>
    </tr>
    <tr>
      <td>도메인 이름 mismatch</td>
      <td><code class="language-plaintext highlighter-rouge">curl --resolve</code> 또는 hosts 파일 수정으로 대응</td>
    </tr>
  </tbody>
</table>

<hr />

<p>💡 참고: 사내 인증서를 사용하는 경우 인증서 관리팀에 Root CA 인증서 제공 요청할 수도 있어요.</p>

<p>필요하시면 문제 있는 서버의 <code class="language-plaintext highlighter-rouge">curl -v</code> 로그를 붙여 주시면 더 정확히 진단해드릴 수 있습니다!</p>

<p class="chat--user">

--insecure 하면 되네

</p>

<p>좋습니다! <code class="language-plaintext highlighter-rouge">--insecure</code> 옵션으로 동작이 된다는 것은, 해당 서버에서 <strong>SSL 인증서 검증 단계에서만 문제</strong> 가 있다는 것을
확인한 셈입니다. 하지만 몇 가지 주의사항과 보완 방법을 덧붙이자면:</p>

<hr />

<h2 id="️---insecure의-의미와-주의사항">⚠️ <code class="language-plaintext highlighter-rouge">--insecure</code>의 의미와 주의사항</h2>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">--insecure</code>는 <code class="language-plaintext highlighter-rouge">curl</code>이 <strong>서버 인증서를 신뢰하지 않고도 요청을 허용</strong> 하게 만드는 옵션입니다.</p>
  </li>
  <li>
    <p>이는 <strong>중간자 공격(MITM)</strong> 같은 보안 리스크에 노출될 수 있기 때문에 <strong>프로덕션/자동화 스크립트에서는 지양</strong> 하는 게 좋습니다.</p>
  </li>
</ul>

<hr />

<h2 id="️-더-나은-해결-방안-권장">🛠️ 더 나은 해결 방안 (권장)</h2>

<h3 id="-1-root-ca-인증서를-시스템에-추가">✅ 1. Root CA 인증서를 시스템에 추가</h3>

<p>내부망이나 자체 인증서를 사용하는 경우 다음 단계를 권장합니다:</p>

<h4 id="예시">예시:</h4>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo cp </span>your-ca.crt /usr/local/share/ca-certificates/
<span class="nb">sudo </span>update-ca-certificates
</code></pre></div></div>

<p>그 후 <code class="language-plaintext highlighter-rouge">curl</code>은 <code class="language-plaintext highlighter-rouge">--insecure</code> 없이도 동작합니다.</p>

<hr />

<h3 id="-2-curl에-인증서-직접-지정-스크립트에서-안전하게-사용">✅ 2. <code class="language-plaintext highlighter-rouge">curl</code>에 인증서 직접 지정 (스크립트에서 안전하게 사용)</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl <span class="nt">--cacert</span> /path/to/your-ca.crt https://your-host.net/api
</code></pre></div></div>

<p>스크립트에 <code class="language-plaintext highlighter-rouge">--insecure</code> 대신 <code class="language-plaintext highlighter-rouge">--cacert</code>를 사용하는 것이 더 안전합니다.</p>

<hr />

<h3 id="-3-서버-인증서가-lets-encrypt-등-공개-ca-기반이라면">✅ 3. 서버 인증서가 Let's Encrypt 등 공개 CA 기반이라면</h3>

<p>문제가 되는 서버가 최신 루트 인증서 목록을 반영하지 못하고 있을 수 있으므로:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt <span class="nb">install</span> <span class="nt">--reinstall</span> ca-certificates
</code></pre></div></div>

<p>또는</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>update-ca-trust extract  <span class="c"># RHEL 계열</span>
</code></pre></div></div>

<p>을 통해 인증서 체인을 최신화할 수 있습니다.</p>

<hr />

<h2 id="-요약-6">✅ 요약</h2>

<table>
  <thead>
    <tr>
      <th>방법</th>
      <th>설명</th>
      <th>보안성</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">--insecure</code></td>
      <td>인증서 검증을 완전히 비활성화</td>
      <td>❌ 위험 (테스트용)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">--cacert</code></td>
      <td>명시적으로 루트 인증서 지정</td>
      <td>✅ 안전</td>
    </tr>
    <tr>
      <td>시스템 CA 등록</td>
      <td>Root CA를 시스템 신뢰 목록에 등록</td>
      <td>✅ 안전</td>
    </tr>
  </tbody>
</table>

<hr />

<p>필요하시면 <code class="language-plaintext highlighter-rouge">your-ca.crt</code> 만드는 방법이나, 기존 서버에서 인증서 추출해서 다른 서버에 복사하는 법도 알려드릴게요!</p>

<p class="chat--user">

vscode 내의 webengine에서도 이런거 때문에 에러가 발생하는거 같은데 이거 끌 수 없어?

</p>

<p>맞습니다. <code class="language-plaintext highlighter-rouge">VS Code</code> 내부의 <code class="language-plaintext highlighter-rouge">Webview</code>나 <code class="language-plaintext highlighter-rouge">WebEngine</code>이 사용하는 HTTP 요청에서도 <strong>SSL 인증서 검증 실패</strong>
가 발생할 수 있으며, 이는 <code class="language-plaintext highlighter-rouge">curl</code>의 <code class="language-plaintext highlighter-rouge">(60) SSL certificate problem</code>과 유사한 이유로 발생합니다. 특히 사내망,
자체 인증서, 프록시, MITM 방지 장비 등이 있을 경우 자주 발생하죠.</p>

<hr />

<h2 id="-해결-전략-요약">✅ 해결 전략 요약</h2>

<table>
  <thead>
    <tr>
      <th>목적</th>
      <th>방법</th>
      <th>가능 여부</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Webview의 SSL 검증 끄기</td>
      <td><strong>설정 불가</strong> (보안상 제한)</td>
      <td>❌ 기본적으로 차단됨</td>
    </tr>
    <tr>
      <td>전체 Electron/VS Code SSL 우회</td>
      <td>환경변수 사용</td>
      <td>✅ 제한적으로 가능</td>
    </tr>
    <tr>
      <td>CA 인증서 강제로 등록</td>
      <td>시스템 또는 VS Code 신뢰 목록에 추가</td>
      <td>✅ 권장 방식</td>
    </tr>
  </tbody>
</table>

<hr />

<h2 id="-step-by-step-해결법">🧭 Step-by-Step 해결법</h2>

<hr />

<h3 id="-1-vs-code에-ssl-검증-무시-환경변수-추가-임시-우회">✅ 1. VS Code에 SSL 검증 무시 환경변수 추가 (임시 우회)</h3>

<p><strong>Linux/macOS</strong> 에서 VS Code를 실행할 때:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">NODE_TLS_REJECT_UNAUTHORIZED</span><span class="o">=</span>0 code
</code></pre></div></div>

<p>또는 <code class="language-plaintext highlighter-rouge">~/.bashrc</code>, <code class="language-plaintext highlighter-rouge">~/.zshrc</code>에:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">NODE_TLS_REJECT_UNAUTHORIZED</span><span class="o">=</span>0
</code></pre></div></div>

<blockquote>
  <p><strong>주의</strong> : 이는 Electron 기반 앱 전체에서 SSL 검증을 끄는 것이며, 보안상 위험하므로 임시 또는 로컬 테스트 용도로만
쓰세요.</p>
</blockquote>

<hr />

<h3 id="-2-webview-내-요청이-프록시인증서-문제일-경우--시스템에-root-ca-등록">✅ 2. Webview 내 요청이 프록시/인증서 문제일 경우 → 시스템에 Root CA 등록</h3>

<p>위에서 <code class="language-plaintext highlighter-rouge">curl</code> 문제를 해결할 때처럼, VS Code에서 사용하는 시스템 SSL 인증서 스토어에 루트 인증서를 등록해야
WebEngine도 정상 동작합니다.</p>

<p>예:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo cp </span>my-root-ca.crt /usr/local/share/ca-certificates/
<span class="nb">sudo </span>update-ca-certificates
</code></pre></div></div>

<p>VS Code 재시작 후 다시 시도.</p>

<hr />

<h3 id="-3-vs-code에-https-프록시ca-설정-기본-설정으로는-제한적">✅ 3. VS Code에 HTTPS 프록시/CA 설정 (기본 설정으로는 제한적)</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">//</span><span class="w"> </span><span class="err">settings.json</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"http.proxyStrictSSL"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<blockquote>
  <p>단, 이 설정은 <strong>VS Code 자체의 확장 설치, 업데이트</strong> 등에만 적용되고, <strong>Webview 안의 JS 코드</strong> 나
<code class="language-plaintext highlighter-rouge">webengine</code> 내부 요청에는 <strong>영향 없음</strong> 일 수 있습니다.</p>
</blockquote>

<hr />

<h3 id="-4-webview가-내부에서-fetch-또는-xmlhttprequest를-쓴다면">✅ 4. WebView가 내부에서 <code class="language-plaintext highlighter-rouge">fetch</code> 또는 <code class="language-plaintext highlighter-rouge">XMLHttpRequest</code>를 쓴다면?</h3>

<p>그럴 경우 해당 JS 코드에서 <code class="language-plaintext highlighter-rouge">https.Agent({ rejectUnauthorized: false })</code> 같은 설정을 사용하지 않는 한
SSL 오류는 회피 불가능합니다.</p>

<p>→ <strong>결국 CA 인증서를 올바르게 등록하는 게 유일한 안전한 해결책</strong> 입니다.</p>

<hr />

<h2 id="-마무리-요약">✅ 마무리 요약</h2>

<table>
  <thead>
    <tr>
      <th>해결법</th>
      <th>권장 여부</th>
      <th>설명</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">NODE_TLS_REJECT_UNAUTHORIZED=0</code></td>
      <td>⚠️ 비권장</td>
      <td>전체 SSL 검증 우회 (임시 테스트용만)</td>
    </tr>
    <tr>
      <td>시스템에 Root CA 등록</td>
      <td>✅ 적극 권장</td>
      <td>curl, VS Code, WebEngine 모두에 적용 가능</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">http.proxyStrictSSL</code></td>
      <td>☑️ 제한적</td>
      <td>일부 기능만 해당, Webview에는 영향 X</td>
    </tr>
  </tbody>
</table>

<hr />

<p>🔧 원하시면 <code class="language-plaintext highlighter-rouge">Webview</code>에서 호출하는 실제 URL이나 오류 메시지를 알려주시면, 그 기반으로 더 정확하게 조치 방법을 안내해 드릴 수
있어요!</p>

<p class="chat--user">

오 잘 된다. 근데 continue extension보면 chat이랑 자동완성이랑 url이 다른거 같더라?

</p>

<p>맞습니다! <code class="language-plaintext highlighter-rouge">Continue</code> 확장(Extension)에서는 <strong>"Chat 기능"</strong>과 <strong>"코드 자동완성 (autocomplete)"</strong>
기능이 각각 다른 <strong>API 엔드포인트(URL)</strong> 를 사용하는 것이 일반적입니다. 이건 내부적으로 역할이 다르고 처리 방식도 다르기
때문입니다.</p>

<hr />

<h2 id="-핵심-차이-chat-vs-autocomplete-url">✅ 핵심 차이: Chat vs Autocomplete URL</h2>

<table>
  <thead>
    <tr>
      <th>기능</th>
      <th>목적</th>
      <th>보통 URL 예시</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Chat</strong></td>
      <td>사용자가 질문 입력 후 전체 답변</td>
      <td><code class="language-plaintext highlighter-rouge">/v1/chat/completions</code></td>
    </tr>
    <tr>
      <td><strong>Autocomplete</strong></td>
      <td>코드 중간에서 자동 완성 추천</td>
      <td><code class="language-plaintext highlighter-rouge">/v1/completions</code> 또는 <code class="language-plaintext highlighter-rouge">/v1/complete</code></td>
    </tr>
  </tbody>
</table>

<hr />

<h2 id="-step-by-step-자세히-설명">🧭 Step-by-Step 자세히 설명</h2>

<hr />

<h3 id="-1-chat-기능--chatcompletions">✅ 1. <strong>Chat 기능</strong> : <code class="language-plaintext highlighter-rouge">chat/completions</code></h3>

<ul>
  <li>
    <p>사용하는 모델: Chat 기반 모델 (<code class="language-plaintext highlighter-rouge">gpt-3.5-turbo</code>, <code class="language-plaintext highlighter-rouge">llama2-chat</code>, <code class="language-plaintext highlighter-rouge">mistral-instruct</code> 등)</p>
  </li>
  <li>메시지 포맷:
    <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"model"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gpt-3.5-turbo"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"messages"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="nl">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user"</span><span class="p">,</span><span class="w"> </span><span class="nl">"content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"이 함수 설명해줘"</span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>    </div>
  </li>
  <li>URL:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http://your-server.net/api/v1/chat/completions
</code></pre></div>    </div>
  </li>
</ul>

<hr />

<h3 id="-2-autocomplete-기능--completions-또는-complete">✅ 2. <strong>Autocomplete 기능</strong> : <code class="language-plaintext highlighter-rouge">completions</code> 또는 <code class="language-plaintext highlighter-rouge">complete</code></h3>

<ul>
  <li>
    <p>사용하는 모델: 일반 Language Model (prompt-only)</p>
  </li>
  <li>메시지 포맷:
    <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"model"</span><span class="p">:</span><span class="w"> </span><span class="s2">"code-llama"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"prompt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"def fibonacci(n):"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"max_tokens"</span><span class="p">:</span><span class="w"> </span><span class="mi">64</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>    </div>
  </li>
  <li>URL:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http://your-server.net/api/v1/completions
</code></pre></div>    </div>
  </li>
</ul>

<p>또는</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>```bash
http://localhost:11434/api/generate  # (Ollama)
```
</code></pre></div></div>

<ul>
  <li>일부에서는 <code class="language-plaintext highlighter-rouge">streaming</code>에 특화된 <code class="language-plaintext highlighter-rouge">/v1/complete-stream</code>, <code class="language-plaintext highlighter-rouge">/v1/predict</code> 같은 것도 씁니다.</li>
</ul>

<hr />

<h2 id="-왜-url이-다를까">🧠 왜 URL이 다를까?</h2>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">chat/completions</code>는 <strong>역할 기반 메시지 처리</strong> (<code class="language-plaintext highlighter-rouge">role</code>: system/user/assistant)</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">completions</code>는 <strong>단일 프롬프트 → 이어쓰기 결과만 반환</strong></p>
  </li>
</ul>

<p>즉, 구조적으로 API 요구 사항이 다르기 때문에 Continue나 Copilot 같은 확장은 서로 다른 경로를 지정합니다.</p>

<hr />

<h2 id="-continue-설정-예시">✅ Continue 설정 예시</h2>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">//</span><span class="w"> </span><span class="err">continue.config.json</span><span class="w"> </span><span class="err">또는</span><span class="w"> </span><span class="err">Settings</span><span class="w"> </span><span class="err">UI</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"provider"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"chat_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost:8000/v1/chat/completions"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"completion_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost:8000/v1/completions"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"api_key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sk-..."</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<hr />

<h2 id="-요약-정리">✅ 요약 정리</h2>

<table>
  <thead>
    <tr>
      <th>항목</th>
      <th>Chat</th>
      <th>Autocomplete</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Endpoint</td>
      <td><code class="language-plaintext highlighter-rouge">/v1/chat/completions</code></td>
      <td><code class="language-plaintext highlighter-rouge">/v1/completions</code></td>
    </tr>
    <tr>
      <td>입력 형식</td>
      <td><code class="language-plaintext highlighter-rouge">messages[]</code> + roles</td>
      <td><code class="language-plaintext highlighter-rouge">prompt</code></td>
    </tr>
    <tr>
      <td>모델</td>
      <td><code class="language-plaintext highlighter-rouge">-chat</code>, <code class="language-plaintext highlighter-rouge">-instruct</code></td>
      <td>일반 LM (<code class="language-plaintext highlighter-rouge">code-llama</code>, <code class="language-plaintext highlighter-rouge">mistral</code>, 등)</td>
    </tr>
    <tr>
      <td>사용 목적</td>
      <td>질문-답변</td>
      <td>짧은 이어쓰기 예측 (코드 추천 등)</td>
    </tr>
  </tbody>
</table>

<hr />

<p>필요하시면 Continue의 설정 파일을 붙여주시면 거기에 맞춰 경로 설정이나 커스터마이징도 도와드릴 수 있어요!</p>

<p class="chat--user">

이걸 curl로 지원하는지 안하는지 테스트하고 싶어

</p>

<p>좋습니다! 어떤 LLM 서버(예: OpenWebUI, vLLM, Ollama 등)가 <strong>chat API</strong> 와 <strong>completion
API</strong> 를 curl로 지원하는지 테스트하는 방법을 단계별로 안내드릴게요.</p>

<hr />

<h2 id="-1-chat-api-v1chatcompletions-지원-여부-테스트">✅ 1. <strong>chat API (<code class="language-plaintext highlighter-rouge">/v1/chat/completions</code>) 지원 여부 테스트</strong></h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl <span class="nt">-X</span> POST http://your-server.net/api/v1/chat/completions <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{
    "model": "gpt-3.5-turbo", 
    "messages": [
      { "role": "user", "content": "안녕!" }
    ]
  }'</span>
</code></pre></div></div>

<p><strong>응답 예시:</strong></p>

<ul>
  <li>
    <p>정상: <code class="language-plaintext highlighter-rouge">choices[0].message.content</code> 포함된 JSON 반환</p>
  </li>
  <li>
    <p>실패: <code class="language-plaintext highlighter-rouge">404</code>, <code class="language-plaintext highlighter-rouge">"model not found"</code>, <code class="language-plaintext highlighter-rouge">"unknown endpoint"</code> 등</p>
  </li>
</ul>

<hr />

<h2 id="-2-completion-api-v1completions-지원-여부-테스트">✅ 2. <strong>completion API (<code class="language-plaintext highlighter-rouge">/v1/completions</code>) 지원 여부 테스트</strong></h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl <span class="nt">-X</span> POST http://your-server.net/api/v1/completions <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{
    "model": "gpt-3.5-turbo",
    "prompt": "def hello_world():\n",
    "max_tokens": 50,
    "temperature": 0.7
  }'</span>
</code></pre></div></div>

<blockquote>
  <p>사용 중인 모델이 일반 언어 모델 (prompt-only)을 지원해야 합니다. 일부 chat 전용 모델은 여기서 작동안할 수 있습니다.</p>
</blockquote>

<hr />

<h2 id="-3-자동완성-전용-테스트용-짧은-프롬프트-예">✅ 3. 자동완성 전용 테스트용 짧은 프롬프트 예</h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"prompt"</span>: <span class="s2">"def sum(a, b):</span><span class="se">\n</span><span class="s2">    return"</span>
</code></pre></div></div>

<p>→ 기대 응답: <code class="language-plaintext highlighter-rouge">" a + b"</code> 또는 <code class="language-plaintext highlighter-rouge">" a - b"</code> 등</p>

<hr />

<h2 id="-4-curl-결과-해석-팁">✅ 4. curl 결과 해석 팁</h2>

<table>
  <thead>
    <tr>
      <th>결과</th>
      <th>해석</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">200 OK</code> + <code class="language-plaintext highlighter-rouge">choices</code> 있음</td>
      <td>✅ 해당 endpoint 지원됨</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">404 Not Found</code></td>
      <td>❌ 지원 안됨 (엔드포인트 없음)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">model not found</code></td>
      <td>모델 이름이 잘못됐거나 해당 endpoint에서 비호환</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">400 Bad Request</code></td>
      <td>payload 구조가 틀렸거나 model 미지원</td>
    </tr>
  </tbody>
</table>

<hr />

<h2 id="-팁-자동화-테스트-스크립트">🔧 팁: 자동화 테스트 스크립트</h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">echo</span> <span class="s2">"Testing chat/completions..."</span>
curl <span class="nt">-s</span> <span class="nt">-o</span> /dev/null <span class="nt">-w</span> <span class="s2">"%{http_code}</span><span class="se">\n</span><span class="s2">"</span> <span class="se">\</span>
  <span class="nt">-X</span> POST http://your-server.net/api/v1/chat/completions <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{
    "model": "gpt-3.5-turbo", 
    "messages": [{"role": "user", "content": "ping"}]
  }'</span>

<span class="nb">echo</span> <span class="s2">"Testing completions..."</span>
curl <span class="nt">-s</span> <span class="nt">-o</span> /dev/null <span class="nt">-w</span> <span class="s2">"%{http_code}</span><span class="se">\n</span><span class="s2">"</span> <span class="se">\</span>
  <span class="nt">-X</span> POST http://your-server.net/api/v1/completions <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{
    "model": "gpt-3.5-turbo", 
    "prompt": "def add(a, b):\n    return",
    "max_tokens": 10
  }'</span>
</code></pre></div></div>

<hr />

<h2 id="-결론-요약">✅ 결론 요약</h2>

<table>
  <thead>
    <tr>
      <th>테스트</th>
      <th>요청 URL</th>
      <th>판단 기준</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Chat 지원 여부</td>
      <td><code class="language-plaintext highlighter-rouge">/v1/chat/completions</code></td>
      <td><code class="language-plaintext highlighter-rouge">messages[]</code> 넣고 응답 확인</td>
    </tr>
    <tr>
      <td>Completion 지원 여부</td>
      <td><code class="language-plaintext highlighter-rouge">/v1/completions</code></td>
      <td><code class="language-plaintext highlighter-rouge">prompt</code> 넣고 응답 확인</td>
    </tr>
    <tr>
      <td>모델 미지원 vs API 미지원 구분</td>
      <td>응답 메시지로 판단 (<code class="language-plaintext highlighter-rouge">model not found</code>, <code class="language-plaintext highlighter-rouge">404</code>, 등)</td>
      <td> </td>
    </tr>
  </tbody>
</table>

<hr />

<p>📦 테스트 결과 붙여주시면 어떤 API가 활성화되어 있는지 바로 분석해드릴게요!</p>

        
      </section>

      <footer class="page__meta">
        
        


  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      <a href="/categories/#llm" class="page__taxonomy-item p-category" rel="tag">llm</a>
    
    </span>
  </p>


        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time class="dt-published" datetime="2025-07-30T01:03:41+09:00">2025-07-30</time></p>

      </footer>

      

      
  <nav class="pagination">
    
      <a href="/dev/mac-background-server/" class="pagination--pager" title="Mac 백그라운드 서버 실행">Previous</a>
    
    
      <a href="/investing/peg/" class="pagination--pager" title="PEG 비율 설명">Next</a>
    
  </nav>


    </div>

    
  </article>

  
  
    
<div class="page__related">
  
  <h2 class="page__related-title">You may also enjoy</h2>
  <div class="grid__wrapper">
    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2025-08-19-python-repr-vs-str/" rel="permalink">
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <!-- hvppyarchive: remove date icon
        <i class="far fa-calendar-alt" aria-hidden="true"></i> 
        -->
        
        <time datetime="2025-08-21T19:10:49+09:00">2025-08-21</time>
      </span>
    

    

    
  </p>


    <p class="archive__item-excerpt" itemprop="description">
</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/python/python-textbuffer/" rel="permalink">Python TextBuffer 구현
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <!-- hvppyarchive: remove date icon
        <i class="far fa-calendar-alt" aria-hidden="true"></i> 
        -->
        
        <time datetime="2025-08-21T19:10:46+09:00">2025-08-21</time>
      </span>
    

    

    
  </p>


    <p class="archive__item-excerpt" itemprop="description">

</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/llm/simple-chatbot-client/" rel="permalink">Python TextBuffer 구현
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <!-- hvppyarchive: remove date icon
        <i class="far fa-calendar-alt" aria-hidden="true"></i> 
        -->
        
        <time datetime="2025-08-21T19:09:31+09:00">2025-08-21</time>
      </span>
    

    

    
  </p>


    <p class="archive__item-excerpt" itemprop="description">

</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/python/python-dataclass-method/" rel="permalink">untitled
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <!-- hvppyarchive: remove date icon
        <i class="far fa-calendar-alt" aria-hidden="true"></i> 
        -->
        
        <time datetime="2025-08-20T17:53:48+09:00">2025-08-20</time>
      </span>
    

    

    
  </p>


    <p class="archive__item-excerpt" itemprop="description">
</p>
  </article>
</div>

    
  </div>
</div>

  
  
</div>

      
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';" role="search">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        

<div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
      
        
      
        
      
        
      
        
      
        
      
    

    
  </ul>
</div>


<div class="page__footer-copyright">&copy; 2013 - 2025 <a href="https://hvppyarchive.github.io">ARCHIVE</a>. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/jekyll-themes/minimal-mistakes/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>






  </body>
</html>
