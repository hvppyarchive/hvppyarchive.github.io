<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.27.1 by Michael Rose
  Copyright 2013-2025 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->

<html lang="en-US" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>텍스트 분할 복사 - ARCHIVE</title>
<meta name="description" content="">


  <meta name="author" content="hvppyarchive">
  
  <meta property="article:author" content="hvppyarchive">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="ARCHIVE">
<meta property="og:title" content="텍스트 분할 복사">
<meta property="og:url" content="https://hvppyarchive.github.io/misc/text-split-copy/">


  <meta property="og:description" content="">







  <meta property="article:published_time" content="2025-08-20T13:38:16+09:00">





  

  


<link rel="canonical" href="https://hvppyarchive.github.io/misc/text-split-copy/">












<!-- end _includes/seo.html -->


<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
  
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css"></noscript>



    <!-- start custom head snippets -->
<!-- hvppyarchive: add fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@200..900&display=swap" rel="stylesheet">

<!-- insert favicons. use https://realfavicongenerator.net/ -->
 <!-- hvppyarchive: add favicons -->
<link rel="icon" type="image/png" href="/assets/favicon/favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/svg+xml" href="/assets/favicon/favicon.svg" />
<link rel="shortcut icon" href="/assets/favicon/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="/assets/favicon/apple-touch-icon.png" />
<link rel="manifest" href="/assets/favicon/site.webmanifest" />

<!-- end custom head snippets -->

  </head>

  <body class="layout--single" dir="ltr">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          ARCHIVE
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a
                href="/year-archive/"
                
                
              >Posts</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      





<div id="main" role="main">
  


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="텍스트 분할 복사">
    <meta itemprop="description" content="">
    <meta itemprop="datePublished" content="2025-08-20T13:38:16+09:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">
            <a href="https://hvppyarchive.github.io/misc/text-split-copy/" itemprop="url">텍스트 분할 복사
</a>
          </h1>
          

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <!-- hvppyarchive: remove date icon
        <i class="far fa-calendar-alt" aria-hidden="true"></i> 
        -->
        
        <time datetime="2025-08-20T13:38:16+09:00">2025-08-20</time>
      </span>
    

    

    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
        <p class="chat--user">

어떤 긴 텍스트가 입력되었을 때 그걸 특정 character 수 단위로 쪼개서 복사할 수 있게 해줄 수 있어?

</p>

<p>좋죠! “원하는 글자 수로 잘라서 복사”할 수 있는 초간단 웹페이지를 바로 드릴게요. 아래 코드를 <code class="language-plaintext highlighter-rouge">splitter.html</code>로 저장해서 브라우저로 열면 됩니다.</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;!doctype html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"ko"</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
<span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"utf-8"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">"viewport"</span> <span class="na">content=</span><span class="s">"width=device-width, initial-scale=1"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;title&gt;</span>텍스트 분할 <span class="err">&amp;</span> 복사<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;style&gt;</span>
  <span class="nt">body</span> <span class="p">{</span> <span class="nl">font-family</span><span class="p">:</span> <span class="n">system-ui</span><span class="p">,</span> <span class="o">-</span><span class="n">apple-system</span><span class="p">,</span> <span class="s1">"Segoe UI"</span><span class="p">,</span> <span class="n">Roboto</span><span class="p">,</span> <span class="s1">"Noto Sans KR"</span><span class="p">,</span> <span class="n">Arial</span><span class="p">,</span> <span class="nb">sans-serif</span><span class="p">;</span> <span class="nl">margin</span><span class="p">:</span> <span class="m">24px</span><span class="p">;</span> <span class="p">}</span>
  <span class="nt">h1</span> <span class="p">{</span> <span class="nl">font-size</span><span class="p">:</span> <span class="m">20px</span><span class="p">;</span> <span class="nl">margin</span><span class="p">:</span> <span class="m">0</span> <span class="m">0</span> <span class="m">16px</span><span class="p">;</span> <span class="p">}</span>
  <span class="nt">textarea</span> <span class="p">{</span> <span class="nl">width</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span> <span class="nl">min-height</span><span class="p">:</span> <span class="m">180px</span><span class="p">;</span> <span class="nl">box-sizing</span><span class="p">:</span> <span class="nb">border-box</span><span class="p">;</span> <span class="nl">padding</span><span class="p">:</span> <span class="m">12px</span><span class="p">;</span> <span class="p">}</span>
  <span class="nc">.row</span> <span class="p">{</span> <span class="nl">display</span><span class="p">:</span> <span class="nb">flex</span><span class="p">;</span> <span class="nl">gap</span><span class="p">:</span> <span class="m">12px</span><span class="p">;</span> <span class="nl">align-items</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span> <span class="nl">margin</span><span class="p">:</span> <span class="m">12px</span> <span class="m">0</span><span class="p">;</span> <span class="nl">flex-wrap</span><span class="p">:</span> <span class="nb">wrap</span><span class="p">;</span> <span class="p">}</span>
  <span class="nt">input</span><span class="o">[</span><span class="nt">type</span><span class="o">=</span><span class="s1">"number"</span><span class="o">]</span> <span class="p">{</span> <span class="nl">width</span><span class="p">:</span> <span class="m">120px</span><span class="p">;</span> <span class="nl">padding</span><span class="p">:</span> <span class="m">8px</span><span class="p">;</span> <span class="p">}</span>
  <span class="nt">button</span> <span class="p">{</span> <span class="nl">padding</span><span class="p">:</span> <span class="m">8px</span> <span class="m">12px</span><span class="p">;</span> <span class="nl">cursor</span><span class="p">:</span> <span class="nb">pointer</span><span class="p">;</span> <span class="p">}</span>
  <span class="nc">.stats</span> <span class="p">{</span> <span class="nl">margin</span><span class="p">:</span> <span class="m">8px</span> <span class="m">0</span> <span class="m">16px</span><span class="p">;</span> <span class="nl">color</span><span class="p">:</span> <span class="nx">#333</span><span class="p">;</span> <span class="p">}</span>
  <span class="nc">.chunk</span> <span class="p">{</span> <span class="nl">border</span><span class="p">:</span> <span class="m">1px</span> <span class="nb">solid</span> <span class="nx">#ddd</span><span class="p">;</span> <span class="nl">padding</span><span class="p">:</span> <span class="m">10px</span><span class="p">;</span> <span class="nl">margin</span><span class="p">:</span> <span class="m">12px</span> <span class="m">0</span><span class="p">;</span> <span class="nl">border-radius</span><span class="p">:</span> <span class="m">8px</span><span class="p">;</span> <span class="nl">background</span><span class="p">:</span> <span class="nx">#fafafa</span><span class="p">;</span> <span class="p">}</span>
  <span class="nc">.chunk</span> <span class="nt">header</span> <span class="p">{</span> <span class="nl">display</span><span class="p">:</span> <span class="nb">flex</span><span class="p">;</span> <span class="nl">justify-content</span><span class="p">:</span> <span class="nb">space-between</span><span class="p">;</span> <span class="nl">align-items</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span> <span class="nl">margin-bottom</span><span class="p">:</span> <span class="m">8px</span><span class="p">;</span> <span class="p">}</span>
  <span class="nc">.chunk</span> <span class="nt">pre</span> <span class="p">{</span> <span class="nl">white-space</span><span class="p">:</span> <span class="nb">pre-wrap</span><span class="p">;</span> <span class="nl">word-break</span><span class="p">:</span> <span class="n">break-word</span><span class="p">;</span> <span class="nl">margin</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span> <span class="p">}</span>
  <span class="nc">.muted</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="nx">#666</span><span class="p">;</span> <span class="nl">font-size</span><span class="p">:</span> <span class="m">12px</span><span class="p">;</span> <span class="p">}</span>
<span class="nt">&lt;/style&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
  <span class="nt">&lt;h1&gt;</span>텍스트 분할 <span class="err">&amp;</span> 복사<span class="nt">&lt;/h1&gt;</span>

  <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"input"</span><span class="nt">&gt;</span>원본 텍스트<span class="nt">&lt;/label&gt;</span>
  <span class="nt">&lt;textarea</span> <span class="na">id=</span><span class="s">"input"</span> <span class="na">placeholder=</span><span class="s">"여기에 긴 텍스트를 붙여넣으세요"</span><span class="nt">&gt;&lt;/textarea&gt;</span>

  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"row"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"size"</span><span class="nt">&gt;</span>조각 글자 수<span class="nt">&lt;/label&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">id=</span><span class="s">"size"</span> <span class="na">type=</span><span class="s">"number"</span> <span class="na">min=</span><span class="s">"1"</span> <span class="na">step=</span><span class="s">"1"</span> <span class="na">value=</span><span class="s">"500"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;button</span> <span class="na">id=</span><span class="s">"splitBtn"</span><span class="nt">&gt;</span>분할하기<span class="nt">&lt;/button&gt;</span>
    <span class="nt">&lt;button</span> <span class="na">id=</span><span class="s">"copyAllBtn"</span> <span class="na">title=</span><span class="s">"모든 조각을 이어붙여서 복사"</span><span class="nt">&gt;</span>모두 복사<span class="nt">&lt;/button&gt;</span>
  <span class="nt">&lt;/div&gt;</span>

  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"muted"</span><span class="nt">&gt;</span>
    * 한국어/이모지 등 묶음 문자가 깨지지 않도록 <span class="nt">&lt;code&gt;</span>Intl.Segmenter<span class="nt">&lt;/code&gt;</span>를 이용해 “문자(그래프림)” 단위로 자릅니다.
    (매우 오래된 브라우저에서는 일반 문자 길이로 대체)
  <span class="nt">&lt;/div&gt;</span>

  <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"stats"</span> <span class="na">class=</span><span class="s">"stats"</span><span class="nt">&gt;&lt;/div&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"chunks"</span><span class="nt">&gt;&lt;/div&gt;</span>

<span class="nt">&lt;script&gt;</span>
<span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
  <span class="kd">const</span> <span class="nx">$</span> <span class="o">=</span> <span class="p">(</span><span class="nx">sel</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nb">document</span><span class="p">.</span><span class="nf">querySelector</span><span class="p">(</span><span class="nx">sel</span><span class="p">);</span>
  <span class="kd">const</span> <span class="nx">$$</span> <span class="o">=</span> <span class="p">(</span><span class="nx">sel</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nb">Array</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nf">querySelectorAll</span><span class="p">(</span><span class="nx">sel</span><span class="p">));</span>
  <span class="kd">const</span> <span class="nx">input</span> <span class="o">=</span> <span class="nf">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#input</span><span class="dl">'</span><span class="p">);</span>
  <span class="kd">const</span> <span class="nx">sizeEl</span> <span class="o">=</span> <span class="nf">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#size</span><span class="dl">'</span><span class="p">);</span>
  <span class="kd">const</span> <span class="nx">splitBtn</span> <span class="o">=</span> <span class="nf">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#splitBtn</span><span class="dl">'</span><span class="p">);</span>
  <span class="kd">const</span> <span class="nx">copyAllBtn</span> <span class="o">=</span> <span class="nf">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#copyAllBtn</span><span class="dl">'</span><span class="p">);</span>
  <span class="kd">const</span> <span class="nx">stats</span> <span class="o">=</span> <span class="nf">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#stats</span><span class="dl">'</span><span class="p">);</span>
  <span class="kd">const</span> <span class="nx">container</span> <span class="o">=</span> <span class="nf">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#chunks</span><span class="dl">'</span><span class="p">);</span>

  <span class="c1">// 안전한 "문자(그래프림)" 단위 분할을 위한 세그멘터</span>
  <span class="kd">function</span> <span class="nf">getGraphemes</span><span class="p">(</span><span class="nx">str</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">try</span> <span class="p">{</span>
      <span class="k">if </span><span class="p">(</span><span class="dl">'</span><span class="s1">Segmenter</span><span class="dl">'</span> <span class="k">in</span> <span class="nx">Intl</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">const</span> <span class="nx">seg</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Intl</span><span class="p">.</span><span class="nc">Segmenter</span><span class="p">(</span><span class="dl">'</span><span class="s1">ko</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span> <span class="na">granularity</span><span class="p">:</span> <span class="dl">'</span><span class="s1">grapheme</span><span class="dl">'</span> <span class="p">});</span>
        <span class="k">return</span> <span class="nb">Array</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="nx">seg</span><span class="p">.</span><span class="nf">segment</span><span class="p">(</span><span class="nx">str</span><span class="p">),</span> <span class="nx">s</span> <span class="o">=&gt;</span> <span class="nx">s</span><span class="p">.</span><span class="nx">segment</span><span class="p">);</span>
      <span class="p">}</span>
    <span class="p">}</span> <span class="k">catch </span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span> <span class="cm">/* fallback below */</span> <span class="p">}</span>
    <span class="c1">// Fallback: code unit 기준 (이모지 결합문자에 완벽하진 않지만 동작은 함)</span>
    <span class="k">return</span> <span class="nb">Array</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="nx">str</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="kd">function</span> <span class="nf">chunkArray</span><span class="p">(</span><span class="nx">arr</span><span class="p">,</span> <span class="nx">n</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">out</span> <span class="o">=</span> <span class="p">[];</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">arr</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span> <span class="o">+=</span> <span class="nx">n</span><span class="p">)</span> <span class="nx">out</span><span class="p">.</span><span class="nf">push</span><span class="p">(</span><span class="nx">arr</span><span class="p">.</span><span class="nf">slice</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="nx">i</span> <span class="o">+</span> <span class="nx">n</span><span class="p">).</span><span class="nf">join</span><span class="p">(</span><span class="dl">''</span><span class="p">));</span>
    <span class="k">return</span> <span class="nx">out</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">async</span> <span class="kd">function</span> <span class="nf">copyText</span><span class="p">(</span><span class="nx">text</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">try</span> <span class="p">{</span>
      <span class="k">await</span> <span class="nb">navigator</span><span class="p">.</span><span class="nx">clipboard</span><span class="p">.</span><span class="nf">writeText</span><span class="p">(</span><span class="nx">text</span><span class="p">);</span>
      <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">catch </span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// Fallback: 임시 텍스트영역 이용</span>
      <span class="kd">const</span> <span class="nx">ta</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">textarea</span><span class="dl">'</span><span class="p">);</span>
      <span class="nx">ta</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="nx">text</span><span class="p">;</span>
      <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nf">appendChild</span><span class="p">(</span><span class="nx">ta</span><span class="p">);</span>
      <span class="nx">ta</span><span class="p">.</span><span class="nf">select</span><span class="p">();</span>
      <span class="k">try</span> <span class="p">{</span> <span class="nb">document</span><span class="p">.</span><span class="nf">execCommand</span><span class="p">(</span><span class="dl">'</span><span class="s1">copy</span><span class="dl">'</span><span class="p">);</span> <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nf">removeChild</span><span class="p">(</span><span class="nx">ta</span><span class="p">);</span> <span class="k">return</span> <span class="kc">true</span><span class="p">;</span> <span class="p">}</span>
      <span class="k">catch </span><span class="p">(</span><span class="nx">e2</span><span class="p">)</span> <span class="p">{</span> <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nf">removeChild</span><span class="p">(</span><span class="nx">ta</span><span class="p">);</span> <span class="k">return</span> <span class="kc">false</span><span class="p">;</span> <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="kd">function</span> <span class="nf">renderChunks</span><span class="p">(</span><span class="nx">chunks</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">container</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="dl">''</span><span class="p">;</span>
    <span class="nx">chunks</span><span class="p">.</span><span class="nf">forEach</span><span class="p">((</span><span class="nx">text</span><span class="p">,</span> <span class="nx">idx</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="nx">div</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">div</span><span class="dl">'</span><span class="p">);</span>
      <span class="nx">div</span><span class="p">.</span><span class="nx">className</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">chunk</span><span class="dl">'</span><span class="p">;</span>
      <span class="kd">const</span> <span class="nx">header</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">header</span><span class="dl">'</span><span class="p">);</span>
      <span class="kd">const</span> <span class="nx">title</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">strong</span><span class="dl">'</span><span class="p">);</span>
      <span class="nx">title</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="s2">`조각 </span><span class="p">${</span><span class="nx">idx</span> <span class="o">+</span> <span class="mi">1</span><span class="p">}</span><span class="s2"> / </span><span class="p">${</span><span class="nx">chunks</span><span class="p">.</span><span class="nx">length</span><span class="p">}</span><span class="s2">  (</span><span class="p">${</span><span class="nx">text</span><span class="p">.</span><span class="nx">length</span><span class="p">}</span><span class="s2">자)`</span><span class="p">;</span>
      <span class="kd">const</span> <span class="nx">btn</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">button</span><span class="dl">'</span><span class="p">);</span>
      <span class="nx">btn</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">이 조각 복사</span><span class="dl">'</span><span class="p">;</span>
      <span class="nx">btn</span><span class="p">.</span><span class="nf">addEventListener</span><span class="p">(</span><span class="dl">'</span><span class="s1">click</span><span class="dl">'</span><span class="p">,</span> <span class="k">async </span><span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="kd">const</span> <span class="nx">ok</span> <span class="o">=</span> <span class="k">await</span> <span class="nf">copyText</span><span class="p">(</span><span class="nx">text</span><span class="p">);</span>
        <span class="nx">btn</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="nx">ok</span> <span class="p">?</span> <span class="dl">'</span><span class="s1">복사됨!</span><span class="dl">'</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">복사 실패</span><span class="dl">'</span><span class="p">;</span>
        <span class="nf">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nx">btn</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">이 조각 복사</span><span class="dl">'</span><span class="p">,</span> <span class="mi">1200</span><span class="p">);</span>
      <span class="p">});</span>
      <span class="nx">header</span><span class="p">.</span><span class="nf">appendChild</span><span class="p">(</span><span class="nx">title</span><span class="p">);</span>
      <span class="nx">header</span><span class="p">.</span><span class="nf">appendChild</span><span class="p">(</span><span class="nx">btn</span><span class="p">);</span>
      <span class="kd">const</span> <span class="nx">pre</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">pre</span><span class="dl">'</span><span class="p">);</span>
      <span class="nx">pre</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="nx">text</span><span class="p">;</span>
      <span class="nx">div</span><span class="p">.</span><span class="nf">appendChild</span><span class="p">(</span><span class="nx">header</span><span class="p">);</span>
      <span class="nx">div</span><span class="p">.</span><span class="nf">appendChild</span><span class="p">(</span><span class="nx">pre</span><span class="p">);</span>
      <span class="nx">container</span><span class="p">.</span><span class="nf">appendChild</span><span class="p">(</span><span class="nx">div</span><span class="p">);</span>
    <span class="p">});</span>
  <span class="p">}</span>

  <span class="kd">function</span> <span class="nf">splitNow</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">raw</span> <span class="o">=</span> <span class="nx">input</span><span class="p">.</span><span class="nx">value</span> <span class="o">??</span> <span class="dl">''</span><span class="p">;</span>
    <span class="kd">const</span> <span class="nx">size</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nf">max</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nf">parseInt</span><span class="p">(</span><span class="nx">sizeEl</span><span class="p">.</span><span class="nx">value</span> <span class="o">||</span> <span class="dl">'</span><span class="s1">0</span><span class="dl">'</span><span class="p">,</span> <span class="mi">10</span><span class="p">));</span>
    <span class="kd">const</span> <span class="nx">grams</span> <span class="o">=</span> <span class="nf">getGraphemes</span><span class="p">(</span><span class="nx">raw</span><span class="p">);</span>
    <span class="kd">const</span> <span class="nx">chunks</span> <span class="o">=</span> <span class="nf">chunkArray</span><span class="p">(</span><span class="nx">grams</span><span class="p">,</span> <span class="nx">size</span><span class="p">);</span>
    <span class="nf">renderChunks</span><span class="p">(</span><span class="nx">chunks</span><span class="p">);</span>
    <span class="nx">stats</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="s2">`전체 길이: </span><span class="p">${</span><span class="nx">grams</span><span class="p">.</span><span class="nx">length</span><span class="p">}</span><span class="s2">자 · 조각 개수: </span><span class="p">${</span><span class="nx">chunks</span><span class="p">.</span><span class="nx">length</span><span class="p">}</span><span class="s2"> · 조각당 최대 </span><span class="p">${</span><span class="nx">size</span><span class="p">}</span><span class="s2">자`</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nx">splitBtn</span><span class="p">.</span><span class="nf">addEventListener</span><span class="p">(</span><span class="dl">'</span><span class="s1">click</span><span class="dl">'</span><span class="p">,</span> <span class="nx">splitNow</span><span class="p">);</span>

  <span class="nx">copyAllBtn</span><span class="p">.</span><span class="nf">addEventListener</span><span class="p">(</span><span class="dl">'</span><span class="s1">click</span><span class="dl">'</span><span class="p">,</span> <span class="k">async </span><span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">pieces</span> <span class="o">=</span> <span class="nx">$</span><span class="nf">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">.chunk pre</span><span class="dl">'</span><span class="p">).</span><span class="nf">map</span><span class="p">(</span><span class="nx">p</span> <span class="o">=&gt;</span> <span class="nx">p</span><span class="p">.</span><span class="nx">textContent</span><span class="p">);</span>
    <span class="kd">const</span> <span class="nx">joined</span> <span class="o">=</span> <span class="nx">pieces</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="dl">''</span><span class="p">);</span>
    <span class="kd">const</span> <span class="nx">ok</span> <span class="o">=</span> <span class="k">await</span> <span class="nf">copyText</span><span class="p">(</span><span class="nx">joined</span><span class="p">);</span>
    <span class="nx">copyAllBtn</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="nx">ok</span> <span class="p">?</span> <span class="dl">'</span><span class="s1">모두 복사됨!</span><span class="dl">'</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">복사 실패</span><span class="dl">'</span><span class="p">;</span>
    <span class="nf">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nx">copyAllBtn</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">모두 복사</span><span class="dl">'</span><span class="p">,</span> <span class="mi">1200</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">})();</span>
<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<h3 id="사용-방법-step-by-step">사용 방법 (step-by-step)</h3>

<ol>
  <li>
    <p>위 코드를 <code class="language-plaintext highlighter-rouge">splitter.html</code>로 저장하고 더블클릭해 브라우저에서 엽니다.</p>
  </li>
  <li>
    <p>긴 텍스트를 상단 입력창에 붙여넣습니다.</p>
  </li>
  <li>
    <p>“조각 글자 수”에 원하는 숫자(예: 500)를 입력합니다.</p>
  </li>
  <li>
    <p>“분할하기”를 누르면 아래에 조각들이 생성됩니다.</p>
  </li>
  <li>
    <p>각 조각의 “이 조각 복사” 버튼으로 개별 복사하거나, “모두 복사”로 다시 이어붙인 전체를 복사할 수 있어요.</p>
  </li>
</ol>

<h3 id="참고">참고</h3>

<ul>
  <li>
    <p>기본적으로 한국어, 이모지 등 결합 문자를 안전하게 처리하도록 “문자(그래프림)” 단위로 자릅니다. 아주 오래된 브라우저에선 일반 문자 길이(<code class="language-plaintext highlighter-rouge">.length</code>)로 동작할 수 있습니다.</p>
  </li>
  <li>
    <p>필요하면 “조각당 N자” 외에도 “겹침(오버랩)”, “문단 단위로 자르되 최대 N자” 같은 옵션도 붙여드릴 수 있어요. 원하는 규칙이 있으면 알려주세요!</p>
  </li>
</ul>

<p class="chat--user">

좋아 잘 작동해. 전체적인 구조를 유지하되 두 가지 개선해야할 사항이 있어. 1. 버튼이 “복사됨!”으로 바뀐 뒤 다시 일정 시간 후 “이 조각 복사” 버튼으로 돌아가는데, 내가 어디까지 복사했는지 헷갈려. 내가 1번이라도 누른 것은 버튼 색을 바꾸거나 해서 내가 어디까지 했는지 알 수 있으면 좋겠어. 2. 각 조각을 8000자 정도로 하고 있는데 스크롤 내려야할 게 너무 길어. 각 미리보기 블럭을 접어두고 내가 원할때만 펴도 좋을 거 같아. 두 가지는 내가 생각하는 방향인데 너한테 더 좋은 아이디어가 있다면 반영해줘.

</p>

<p>좋아요! 말씀해주신 두 가지를 기준으로, 구조는 유지하면서 이렇게 개선했어요.</p>

<ul>
  <li>
    <p>#1 “내가 복사한 조각을 한눈에”: 어떤 조각이든 <strong>한 번이라도 복사에 성공하면</strong> 그 카드가 <strong>영구 표시(세션 내)</strong> 됩니다.</p>

    <ul>
      <li>
        <p>상단 요약줄에 ✅ 배지가 붙고, 카드 테두리가 강조됩니다(초록색).</p>
      </li>
      <li>
        <p>버튼 문구는 예전처럼 잠깐 “복사됨!”으로 바뀌지만, <strong>배지는 그대로</strong> 남아 “어디까지 했는지” 헷갈리지 않게 해요.</p>
      </li>
    </ul>
  </li>
  <li>
    <p>#2 “스크롤 지옥 해방”: 각 조각을 <strong>접을 수 있는 미리보기(accordion)</strong> 로 바꿨습니다.</p>

    <ul>
      <li>
        <p>기본은 접힘 상태로 렌더링되고, 요약줄엔 <strong>조각 번호/총개수, 길이, 앞부분 미리보기</strong> 가 보여요.</p>
      </li>
      <li>
        <p>상단에 “<strong>모두 펼치기 / 모두 접기</strong> ” 토글도 추가했습니다.</p>
      </li>
    </ul>
  </li>
</ul>

<p>거기에 제안 하나 더!</p>

<ul>
  <li><strong>“다음 조각 열기”</strong> : 어떤 조각에서 복사 성공하면, <strong>다음 조각을 자동으로 펼쳐</strong> 작업 흐름이 매끄럽습니다(선택 가능 토글).</li>
</ul>

<p>아래 전체 코드만 <code class="language-plaintext highlighter-rouge">splitter.html</code>로 저장해 열면 바로 됩니다.</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;!doctype html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"ko"</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
<span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"utf-8"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">"viewport"</span> <span class="na">content=</span><span class="s">"width=device-width, initial-scale=1"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;title&gt;</span>텍스트 분할 <span class="err">&amp;</span> 복사 (개선판)<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;style&gt;</span>
  <span class="nd">:root</span> <span class="p">{</span>
    <span class="py">--accent</span><span class="p">:</span> <span class="nx">#2e7d32</span><span class="p">;</span> <span class="c">/* 복사 완료 강조색 */</span>
    <span class="py">--muted</span><span class="p">:</span> <span class="nx">#666</span><span class="p">;</span>
    <span class="py">--border</span><span class="p">:</span> <span class="nx">#ddd</span><span class="p">;</span>
    <span class="py">--bg</span><span class="p">:</span> <span class="nx">#fafafa</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nt">body</span> <span class="p">{</span> <span class="nl">font-family</span><span class="p">:</span> <span class="n">system-ui</span><span class="p">,</span> <span class="o">-</span><span class="n">apple-system</span><span class="p">,</span> <span class="s1">"Segoe UI"</span><span class="p">,</span> <span class="n">Roboto</span><span class="p">,</span> <span class="s1">"Noto Sans KR"</span><span class="p">,</span> <span class="n">Arial</span><span class="p">,</span> <span class="nb">sans-serif</span><span class="p">;</span> <span class="nl">margin</span><span class="p">:</span> <span class="m">24px</span><span class="p">;</span> <span class="p">}</span>
  <span class="nt">h1</span> <span class="p">{</span> <span class="nl">font-size</span><span class="p">:</span> <span class="m">20px</span><span class="p">;</span> <span class="nl">margin</span><span class="p">:</span> <span class="m">0</span> <span class="m">0</span> <span class="m">16px</span><span class="p">;</span> <span class="p">}</span>
  <span class="nt">textarea</span> <span class="p">{</span> <span class="nl">width</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span> <span class="nl">min-height</span><span class="p">:</span> <span class="m">180px</span><span class="p">;</span> <span class="nl">box-sizing</span><span class="p">:</span> <span class="nb">border-box</span><span class="p">;</span> <span class="nl">padding</span><span class="p">:</span> <span class="m">12px</span><span class="p">;</span> <span class="p">}</span>
  <span class="nc">.row</span> <span class="p">{</span> <span class="nl">display</span><span class="p">:</span> <span class="nb">flex</span><span class="p">;</span> <span class="nl">gap</span><span class="p">:</span> <span class="m">12px</span><span class="p">;</span> <span class="nl">align-items</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span> <span class="nl">margin</span><span class="p">:</span> <span class="m">12px</span> <span class="m">0</span><span class="p">;</span> <span class="nl">flex-wrap</span><span class="p">:</span> <span class="nb">wrap</span><span class="p">;</span> <span class="p">}</span>
  <span class="nt">input</span><span class="o">[</span><span class="nt">type</span><span class="o">=</span><span class="s1">"number"</span><span class="o">]</span> <span class="p">{</span> <span class="nl">width</span><span class="p">:</span> <span class="m">120px</span><span class="p">;</span> <span class="nl">padding</span><span class="p">:</span> <span class="m">8px</span><span class="p">;</span> <span class="p">}</span>
  <span class="nt">button</span> <span class="p">{</span> <span class="nl">padding</span><span class="p">:</span> <span class="m">8px</span> <span class="m">12px</span><span class="p">;</span> <span class="nl">cursor</span><span class="p">:</span> <span class="nb">pointer</span><span class="p">;</span> <span class="p">}</span>
  <span class="nc">.stats</span> <span class="p">{</span> <span class="nl">margin</span><span class="p">:</span> <span class="m">8px</span> <span class="m">0</span> <span class="m">16px</span><span class="p">;</span> <span class="nl">color</span><span class="p">:</span> <span class="nx">#333</span><span class="p">;</span> <span class="p">}</span>
  <span class="nc">.muted</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="nf">var</span><span class="p">(</span><span class="l">--muted</span><span class="p">);</span> <span class="nl">font-size</span><span class="p">:</span> <span class="m">12px</span><span class="p">;</span> <span class="p">}</span>

  <span class="c">/* 조각(접힘 카드) */</span>
  <span class="nt">details</span><span class="nc">.chunk</span> <span class="p">{</span>
    <span class="nl">border</span><span class="p">:</span> <span class="m">1px</span> <span class="nb">solid</span> <span class="nf">var</span><span class="p">(</span><span class="l">--border</span><span class="p">);</span>
    <span class="nl">border-radius</span><span class="p">:</span> <span class="m">10px</span><span class="p">;</span>
    <span class="nl">background</span><span class="p">:</span> <span class="nf">var</span><span class="p">(</span><span class="l">--bg</span><span class="p">);</span>
    <span class="nl">margin</span><span class="p">:</span> <span class="m">12px</span> <span class="m">0</span><span class="p">;</span>
    <span class="nl">transition</span><span class="p">:</span> <span class="n">border-color</span> <span class="m">.2s</span><span class="p">,</span> <span class="n">box-shadow</span> <span class="m">.2s</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="nt">details</span><span class="nc">.chunk</span><span class="o">[</span><span class="nt">open</span><span class="o">]</span> <span class="p">{</span>
    <span class="nl">box-shadow</span><span class="p">:</span> <span class="m">0</span> <span class="m">1px</span> <span class="m">10px</span> <span class="nf">rgba</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">0</span><span class="p">,</span><span class="m">0</span><span class="p">,</span><span class="m">.04</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="nt">details</span><span class="nc">.chunk.copied-once</span> <span class="p">{</span>
    <span class="nl">border-color</span><span class="p">:</span> <span class="nf">var</span><span class="p">(</span><span class="l">--accent</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="c">/* 요약줄 */</span>
  <span class="nt">summary</span> <span class="p">{</span>
    <span class="nl">list-style</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>
    <span class="nl">display</span><span class="p">:</span> <span class="nb">flex</span><span class="p">;</span>
    <span class="nl">gap</span><span class="p">:</span> <span class="m">8px</span><span class="p">;</span>
    <span class="nl">align-items</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>
    <span class="nl">padding</span><span class="p">:</span> <span class="m">10px</span> <span class="m">12px</span><span class="p">;</span>
    <span class="nl">cursor</span><span class="p">:</span> <span class="nb">pointer</span><span class="p">;</span>
    <span class="py">user-select</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="nt">summary</span><span class="nd">::-webkit-details-marker</span> <span class="p">{</span> <span class="nl">display</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span> <span class="p">}</span>
  <span class="nc">.summary-left</span> <span class="p">{</span> <span class="nl">display</span><span class="p">:</span> <span class="nb">flex</span><span class="p">;</span> <span class="nl">align-items</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span> <span class="nl">gap</span><span class="p">:</span> <span class="m">8px</span><span class="p">;</span> <span class="nl">flex</span><span class="p">:</span> <span class="m">1</span><span class="p">;</span> <span class="p">}</span>
  <span class="nc">.badge</span> <span class="p">{</span>
    <span class="nl">font-size</span><span class="p">:</span> <span class="m">11px</span><span class="p">;</span>
    <span class="nl">padding</span><span class="p">:</span> <span class="m">2px</span> <span class="m">6px</span><span class="p">;</span>
    <span class="nl">border-radius</span><span class="p">:</span> <span class="m">999px</span><span class="p">;</span>
    <span class="nl">border</span><span class="p">:</span> <span class="m">1px</span> <span class="nb">solid</span> <span class="nf">var</span><span class="p">(</span><span class="l">--border</span><span class="p">);</span>
    <span class="nl">color</span><span class="p">:</span> <span class="nx">#333</span><span class="p">;</span>
    <span class="nl">background</span><span class="p">:</span> <span class="nx">#fff</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="nc">.badge.ok</span> <span class="p">{</span>
    <span class="nl">border-color</span><span class="p">:</span> <span class="nf">var</span><span class="p">(</span><span class="l">--accent</span><span class="p">);</span>
    <span class="nl">color</span><span class="p">:</span> <span class="nf">var</span><span class="p">(</span><span class="l">--accent</span><span class="p">);</span>
    <span class="nl">font-weight</span><span class="p">:</span> <span class="m">600</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="nc">.snippet</span> <span class="p">{</span>
    <span class="nl">color</span><span class="p">:</span> <span class="nf">var</span><span class="p">(</span><span class="l">--muted</span><span class="p">);</span>
    <span class="nl">font-size</span><span class="p">:</span> <span class="m">12px</span><span class="p">;</span>
    <span class="nl">overflow</span><span class="p">:</span> <span class="nb">hidden</span><span class="p">;</span>
    <span class="nl">text-overflow</span><span class="p">:</span> <span class="n">ellipsis</span><span class="p">;</span>
    <span class="nl">white-space</span><span class="p">:</span> <span class="nb">nowrap</span><span class="p">;</span>
    <span class="nl">max-width</span><span class="p">:</span> <span class="m">40ch</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="c">/* 본문 */</span>
  <span class="nc">.chunk-body</span> <span class="p">{</span> <span class="nl">padding</span><span class="p">:</span> <span class="m">0</span> <span class="m">12px</span> <span class="m">12px</span> <span class="m">12px</span><span class="p">;</span> <span class="p">}</span>
  <span class="nc">.actions</span> <span class="p">{</span> <span class="nl">display</span><span class="p">:</span> <span class="nb">flex</span><span class="p">;</span> <span class="nl">gap</span><span class="p">:</span> <span class="m">8px</span><span class="p">;</span> <span class="nl">align-items</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span> <span class="nl">margin</span><span class="p">:</span> <span class="m">8px</span> <span class="m">0</span><span class="p">;</span> <span class="nl">flex-wrap</span><span class="p">:</span> <span class="nb">wrap</span><span class="p">;</span> <span class="p">}</span>
  <span class="nc">.chunk</span> <span class="nt">pre</span> <span class="p">{</span> <span class="nl">white-space</span><span class="p">:</span> <span class="nb">pre-wrap</span><span class="p">;</span> <span class="nl">word-break</span><span class="p">:</span> <span class="n">break-word</span><span class="p">;</span> <span class="nl">margin</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span> <span class="nl">padding</span><span class="p">:</span> <span class="m">10px</span><span class="p">;</span> <span class="nl">border</span><span class="p">:</span> <span class="m">1px</span> <span class="nb">solid</span> <span class="nf">var</span><span class="p">(</span><span class="l">--border</span><span class="p">);</span> <span class="nl">border-radius</span><span class="p">:</span> <span class="m">8px</span><span class="p">;</span> <span class="nl">background</span><span class="p">:</span> <span class="nx">#fff</span><span class="p">;</span> <span class="nl">max-height</span><span class="p">:</span> <span class="m">40vh</span><span class="p">;</span> <span class="nl">overflow</span><span class="p">:</span> <span class="nb">auto</span><span class="p">;</span> <span class="p">}</span>

  <span class="c">/* 상단 컨트롤 */</span>
  <span class="nc">.toolbar</span> <span class="p">{</span> <span class="nl">display</span><span class="p">:</span> <span class="nb">flex</span><span class="p">;</span> <span class="nl">gap</span><span class="p">:</span> <span class="m">8px</span><span class="p">;</span> <span class="nl">align-items</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span> <span class="nl">flex-wrap</span><span class="p">:</span> <span class="nb">wrap</span><span class="p">;</span> <span class="nl">margin</span><span class="p">:</span> <span class="m">8px</span> <span class="m">0</span><span class="p">;</span> <span class="p">}</span>
  <span class="nc">.toolbar</span> <span class="nc">.spacer</span> <span class="p">{</span> <span class="nl">flex</span><span class="p">:</span> <span class="m">1</span><span class="p">;</span> <span class="p">}</span>

  <span class="c">/* 작은 토글 스위치 */</span>
  <span class="nc">.toggle</span> <span class="p">{</span>
    <span class="nl">display</span><span class="p">:</span> <span class="nb">inline-flex</span><span class="p">;</span> <span class="nl">align-items</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span> <span class="nl">gap</span><span class="p">:</span> <span class="m">6px</span><span class="p">;</span> <span class="nl">font-size</span><span class="p">:</span> <span class="m">12px</span><span class="p">;</span> <span class="nl">color</span><span class="p">:</span> <span class="nx">#333</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="nc">.toggle</span> <span class="nt">input</span> <span class="p">{</span> <span class="nl">width</span><span class="p">:</span> <span class="m">1.1rem</span><span class="p">;</span> <span class="nl">height</span><span class="p">:</span> <span class="m">1.1rem</span><span class="p">;</span> <span class="p">}</span>
<span class="nt">&lt;/style&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
  <span class="nt">&lt;h1&gt;</span>텍스트 분할 <span class="err">&amp;</span> 복사<span class="nt">&lt;/h1&gt;</span>

  <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"input"</span><span class="nt">&gt;</span>원본 텍스트<span class="nt">&lt;/label&gt;</span>
  <span class="nt">&lt;textarea</span> <span class="na">id=</span><span class="s">"input"</span> <span class="na">placeholder=</span><span class="s">"여기에 긴 텍스트를 붙여넣으세요"</span><span class="nt">&gt;&lt;/textarea&gt;</span>

  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"row"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"size"</span><span class="nt">&gt;</span>조각 글자 수<span class="nt">&lt;/label&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">id=</span><span class="s">"size"</span> <span class="na">type=</span><span class="s">"number"</span> <span class="na">min=</span><span class="s">"1"</span> <span class="na">step=</span><span class="s">"1"</span> <span class="na">value=</span><span class="s">"8000"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;button</span> <span class="na">id=</span><span class="s">"splitBtn"</span><span class="nt">&gt;</span>분할하기<span class="nt">&lt;/button&gt;</span>
    <span class="nt">&lt;button</span> <span class="na">id=</span><span class="s">"copyAllBtn"</span> <span class="na">title=</span><span class="s">"모든 조각을 이어붙여서 복사"</span><span class="nt">&gt;</span>모두 복사<span class="nt">&lt;/button&gt;</span>
  <span class="nt">&lt;/div&gt;</span>

  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"toolbar"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;button</span> <span class="na">id=</span><span class="s">"expandAllBtn"</span><span class="nt">&gt;</span>모두 펼치기<span class="nt">&lt;/button&gt;</span>
    <span class="nt">&lt;button</span> <span class="na">id=</span><span class="s">"collapseAllBtn"</span><span class="nt">&gt;</span>모두 접기<span class="nt">&lt;/button&gt;</span>
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"spacer"</span><span class="nt">&gt;&lt;/span&gt;</span>
    <span class="nt">&lt;label</span> <span class="na">class=</span><span class="s">"toggle"</span> <span class="na">title=</span><span class="s">"복사 성공 시 자동으로 다음 조각을 열어 작업 흐름을 빠르게 합니다."</span><span class="nt">&gt;</span>
      <span class="nt">&lt;input</span> <span class="na">id=</span><span class="s">"autoOpenNext"</span> <span class="na">type=</span><span class="s">"checkbox"</span> <span class="na">checked</span> <span class="nt">/&gt;</span>
      복사 후 다음 조각 자동 열기
    <span class="nt">&lt;/label&gt;</span>
  <span class="nt">&lt;/div&gt;</span>

  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"muted"</span><span class="nt">&gt;</span>
    * 한국어/이모지 등 결합 문자가 깨지지 않도록 <span class="nt">&lt;code&gt;</span>Intl.Segmenter<span class="nt">&lt;/code&gt;</span>로 “문자(그래프림)” 단위로 자릅니다. (오래된 브라우저는 일반 길이로 대체)
  <span class="nt">&lt;/div&gt;</span>

  <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"stats"</span> <span class="na">class=</span><span class="s">"stats"</span><span class="nt">&gt;&lt;/div&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"chunks"</span><span class="nt">&gt;&lt;/div&gt;</span>

<span class="nt">&lt;script&gt;</span>
<span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
  <span class="kd">const</span> <span class="nx">$</span> <span class="o">=</span> <span class="p">(</span><span class="nx">sel</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nb">document</span><span class="p">.</span><span class="nf">querySelector</span><span class="p">(</span><span class="nx">sel</span><span class="p">);</span>
  <span class="kd">const</span> <span class="nx">$$</span> <span class="o">=</span> <span class="p">(</span><span class="nx">sel</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nb">Array</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nf">querySelectorAll</span><span class="p">(</span><span class="nx">sel</span><span class="p">));</span>
  <span class="kd">const</span> <span class="nx">input</span> <span class="o">=</span> <span class="nf">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#input</span><span class="dl">'</span><span class="p">);</span>
  <span class="kd">const</span> <span class="nx">sizeEl</span> <span class="o">=</span> <span class="nf">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#size</span><span class="dl">'</span><span class="p">);</span>
  <span class="kd">const</span> <span class="nx">splitBtn</span> <span class="o">=</span> <span class="nf">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#splitBtn</span><span class="dl">'</span><span class="p">);</span>
  <span class="kd">const</span> <span class="nx">copyAllBtn</span> <span class="o">=</span> <span class="nf">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#copyAllBtn</span><span class="dl">'</span><span class="p">);</span>
  <span class="kd">const</span> <span class="nx">stats</span> <span class="o">=</span> <span class="nf">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#stats</span><span class="dl">'</span><span class="p">);</span>
  <span class="kd">const</span> <span class="nx">container</span> <span class="o">=</span> <span class="nf">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#chunks</span><span class="dl">'</span><span class="p">);</span>
  <span class="kd">const</span> <span class="nx">expandAllBtn</span> <span class="o">=</span> <span class="nf">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#expandAllBtn</span><span class="dl">'</span><span class="p">);</span>
  <span class="kd">const</span> <span class="nx">collapseAllBtn</span> <span class="o">=</span> <span class="nf">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#collapseAllBtn</span><span class="dl">'</span><span class="p">);</span>
  <span class="kd">const</span> <span class="nx">autoOpenNextEl</span> <span class="o">=</span> <span class="nf">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#autoOpenNext</span><span class="dl">'</span><span class="p">);</span>

  <span class="kd">function</span> <span class="nf">getGraphemes</span><span class="p">(</span><span class="nx">str</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">try</span> <span class="p">{</span>
      <span class="k">if </span><span class="p">(</span><span class="dl">'</span><span class="s1">Segmenter</span><span class="dl">'</span> <span class="k">in</span> <span class="nx">Intl</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">const</span> <span class="nx">seg</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Intl</span><span class="p">.</span><span class="nc">Segmenter</span><span class="p">(</span><span class="dl">'</span><span class="s1">ko</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span> <span class="na">granularity</span><span class="p">:</span> <span class="dl">'</span><span class="s1">grapheme</span><span class="dl">'</span> <span class="p">});</span>
        <span class="k">return</span> <span class="nb">Array</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="nx">seg</span><span class="p">.</span><span class="nf">segment</span><span class="p">(</span><span class="nx">str</span><span class="p">),</span> <span class="nx">s</span> <span class="o">=&gt;</span> <span class="nx">s</span><span class="p">.</span><span class="nx">segment</span><span class="p">);</span>
      <span class="p">}</span>
    <span class="p">}</span> <span class="k">catch </span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span> <span class="cm">/* fallback below */</span> <span class="p">}</span>
    <span class="k">return</span> <span class="nb">Array</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="nx">str</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="kd">function</span> <span class="nf">chunkArray</span><span class="p">(</span><span class="nx">arr</span><span class="p">,</span> <span class="nx">n</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">out</span> <span class="o">=</span> <span class="p">[];</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">arr</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span> <span class="o">+=</span> <span class="nx">n</span><span class="p">)</span> <span class="nx">out</span><span class="p">.</span><span class="nf">push</span><span class="p">(</span><span class="nx">arr</span><span class="p">.</span><span class="nf">slice</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="nx">i</span> <span class="o">+</span> <span class="nx">n</span><span class="p">).</span><span class="nf">join</span><span class="p">(</span><span class="dl">''</span><span class="p">));</span>
    <span class="k">return</span> <span class="nx">out</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">async</span> <span class="kd">function</span> <span class="nf">copyText</span><span class="p">(</span><span class="nx">text</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">try</span> <span class="p">{</span>
      <span class="k">await</span> <span class="nb">navigator</span><span class="p">.</span><span class="nx">clipboard</span><span class="p">.</span><span class="nf">writeText</span><span class="p">(</span><span class="nx">text</span><span class="p">);</span>
      <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">catch </span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="nx">ta</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">textarea</span><span class="dl">'</span><span class="p">);</span>
      <span class="nx">ta</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="nx">text</span><span class="p">;</span>
      <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nf">appendChild</span><span class="p">(</span><span class="nx">ta</span><span class="p">);</span>
      <span class="nx">ta</span><span class="p">.</span><span class="nf">select</span><span class="p">();</span>
      <span class="k">try</span> <span class="p">{</span>
        <span class="nb">document</span><span class="p">.</span><span class="nf">execCommand</span><span class="p">(</span><span class="dl">'</span><span class="s1">copy</span><span class="dl">'</span><span class="p">);</span>
        <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nf">removeChild</span><span class="p">(</span><span class="nx">ta</span><span class="p">);</span>
        <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
      <span class="p">}</span> <span class="k">catch </span><span class="p">(</span><span class="nx">e2</span><span class="p">)</span> <span class="p">{</span>
        <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nf">removeChild</span><span class="p">(</span><span class="nx">ta</span><span class="p">);</span>
        <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="kd">function</span> <span class="nf">makeSummaryLine</span><span class="p">(</span><span class="nx">idx</span><span class="p">,</span> <span class="nx">total</span><span class="p">,</span> <span class="nx">text</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">len</span> <span class="o">=</span> <span class="nx">text</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
    <span class="kd">const</span> <span class="nx">snippet</span> <span class="o">=</span> <span class="nx">text</span><span class="p">.</span><span class="nf">replace</span><span class="p">(</span><span class="sr">/</span><span class="se">\s</span><span class="sr">+/g</span><span class="p">,</span> <span class="dl">'</span><span class="s1"> </span><span class="dl">'</span><span class="p">).</span><span class="nf">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">60</span><span class="p">);</span>
    <span class="k">return</span> <span class="p">{</span>
      <span class="na">title</span><span class="p">:</span> <span class="s2">`조각 </span><span class="p">${</span><span class="nx">idx</span> <span class="o">+</span> <span class="mi">1</span><span class="p">}</span><span class="s2"> / </span><span class="p">${</span><span class="nx">total</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span>
      <span class="na">meta</span><span class="p">:</span> <span class="s2">`(</span><span class="p">${</span><span class="nx">len</span><span class="p">}</span><span class="s2">자)`</span><span class="p">,</span>
      <span class="nx">snippet</span>
    <span class="p">};</span>
  <span class="p">}</span>

  <span class="kd">function</span> <span class="nf">renderChunks</span><span class="p">(</span><span class="nx">chunks</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">container</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="dl">''</span><span class="p">;</span>
    <span class="nx">chunks</span><span class="p">.</span><span class="nf">forEach</span><span class="p">((</span><span class="nx">text</span><span class="p">,</span> <span class="nx">idx</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="nx">details</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">details</span><span class="dl">'</span><span class="p">);</span>
      <span class="nx">details</span><span class="p">.</span><span class="nx">className</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">chunk</span><span class="dl">'</span><span class="p">;</span>
      <span class="c1">// 기본: 접힘</span>
      <span class="nx">details</span><span class="p">.</span><span class="nx">open</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>

      <span class="kd">const</span> <span class="nx">summary</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">summary</span><span class="dl">'</span><span class="p">);</span>
      <span class="kd">const</span> <span class="nx">left</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">div</span><span class="dl">'</span><span class="p">);</span>
      <span class="nx">left</span><span class="p">.</span><span class="nx">className</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">summary-left</span><span class="dl">'</span><span class="p">;</span>

      <span class="kd">const</span> <span class="nx">b1</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">span</span><span class="dl">'</span><span class="p">);</span> <span class="nx">b1</span><span class="p">.</span><span class="nx">className</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">badge</span><span class="dl">'</span><span class="p">;</span>
      <span class="kd">const</span> <span class="nx">b2</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">span</span><span class="dl">'</span><span class="p">);</span> <span class="nx">b2</span><span class="p">.</span><span class="nx">className</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">badge</span><span class="dl">'</span><span class="p">;</span>
      <span class="kd">const</span> <span class="nx">snip</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">span</span><span class="dl">'</span><span class="p">);</span> <span class="nx">snip</span><span class="p">.</span><span class="nx">className</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">snippet</span><span class="dl">'</span><span class="p">;</span>

      <span class="kd">const</span> <span class="nx">meta</span> <span class="o">=</span> <span class="nf">makeSummaryLine</span><span class="p">(</span><span class="nx">idx</span><span class="p">,</span> <span class="nx">chunks</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span> <span class="nx">text</span><span class="p">);</span>
      <span class="nx">b1</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="nx">meta</span><span class="p">.</span><span class="nx">title</span><span class="p">;</span>
      <span class="nx">b2</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="nx">meta</span><span class="p">.</span><span class="nx">meta</span><span class="p">;</span>
      <span class="nx">snip</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="nx">meta</span><span class="p">.</span><span class="nx">snippet</span><span class="p">;</span>

      <span class="nx">left</span><span class="p">.</span><span class="nf">appendChild</span><span class="p">(</span><span class="nx">b1</span><span class="p">);</span> <span class="nx">left</span><span class="p">.</span><span class="nf">appendChild</span><span class="p">(</span><span class="nx">b2</span><span class="p">);</span> <span class="nx">left</span><span class="p">.</span><span class="nf">appendChild</span><span class="p">(</span><span class="nx">snip</span><span class="p">);</span>

      <span class="kd">const</span> <span class="nx">copiedBadge</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">span</span><span class="dl">'</span><span class="p">);</span>
      <span class="nx">copiedBadge</span><span class="p">.</span><span class="nx">className</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">badge</span><span class="dl">'</span><span class="p">;</span>
      <span class="nx">copiedBadge</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">미복사</span><span class="dl">'</span><span class="p">;</span>

      <span class="nx">summary</span><span class="p">.</span><span class="nf">appendChild</span><span class="p">(</span><span class="nx">left</span><span class="p">);</span>
      <span class="nx">summary</span><span class="p">.</span><span class="nf">appendChild</span><span class="p">(</span><span class="nx">copiedBadge</span><span class="p">);</span>
      <span class="nx">details</span><span class="p">.</span><span class="nf">appendChild</span><span class="p">(</span><span class="nx">summary</span><span class="p">);</span>

      <span class="kd">const</span> <span class="nx">body</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">div</span><span class="dl">'</span><span class="p">);</span>
      <span class="nx">body</span><span class="p">.</span><span class="nx">className</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">chunk-body</span><span class="dl">'</span><span class="p">;</span>

      <span class="kd">const</span> <span class="nx">actions</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">div</span><span class="dl">'</span><span class="p">);</span>
      <span class="nx">actions</span><span class="p">.</span><span class="nx">className</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">actions</span><span class="dl">'</span><span class="p">;</span>

      <span class="kd">const</span> <span class="nx">copyBtn</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">button</span><span class="dl">'</span><span class="p">);</span>
      <span class="nx">copyBtn</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">이 조각 복사</span><span class="dl">'</span><span class="p">;</span>

      <span class="kd">const</span> <span class="nx">copyAndNextBtn</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">button</span><span class="dl">'</span><span class="p">);</span>
      <span class="nx">copyAndNextBtn</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">복사하고 다음 펼치기</span><span class="dl">'</span><span class="p">;</span>

      <span class="kd">const</span> <span class="nx">markBtn</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">button</span><span class="dl">'</span><span class="p">);</span>
      <span class="nx">markBtn</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">표시 해제</span><span class="dl">'</span><span class="p">;</span>

      <span class="nx">actions</span><span class="p">.</span><span class="nf">appendChild</span><span class="p">(</span><span class="nx">copyBtn</span><span class="p">);</span>
      <span class="nx">actions</span><span class="p">.</span><span class="nf">appendChild</span><span class="p">(</span><span class="nx">copyAndNextBtn</span><span class="p">);</span>
      <span class="nx">actions</span><span class="p">.</span><span class="nf">appendChild</span><span class="p">(</span><span class="nx">markBtn</span><span class="p">);</span>

      <span class="kd">const</span> <span class="nx">pre</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">pre</span><span class="dl">'</span><span class="p">);</span>
      <span class="nx">pre</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="nx">text</span><span class="p">;</span>

      <span class="nx">body</span><span class="p">.</span><span class="nf">appendChild</span><span class="p">(</span><span class="nx">actions</span><span class="p">);</span>
      <span class="nx">body</span><span class="p">.</span><span class="nf">appendChild</span><span class="p">(</span><span class="nx">pre</span><span class="p">);</span>
      <span class="nx">details</span><span class="p">.</span><span class="nf">appendChild</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
      <span class="nx">container</span><span class="p">.</span><span class="nf">appendChild</span><span class="p">(</span><span class="nx">details</span><span class="p">);</span>

      <span class="c1">// 상태 마킹 함수</span>
      <span class="kd">function</span> <span class="nf">markCopiedOnce</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">details</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="dl">'</span><span class="s1">copied-once</span><span class="dl">'</span><span class="p">);</span>
        <span class="nx">copiedBadge</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="dl">'</span><span class="s1">ok</span><span class="dl">'</span><span class="p">);</span>
        <span class="nx">copiedBadge</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">✅ 복사함</span><span class="dl">'</span><span class="p">;</span>
        <span class="nx">markBtn</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">표시 해제</span><span class="dl">'</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="kd">function</span> <span class="nf">unmarkCopied</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">details</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nf">remove</span><span class="p">(</span><span class="dl">'</span><span class="s1">copied-once</span><span class="dl">'</span><span class="p">);</span>
        <span class="nx">copiedBadge</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nf">remove</span><span class="p">(</span><span class="dl">'</span><span class="s1">ok</span><span class="dl">'</span><span class="p">);</span>
        <span class="nx">copiedBadge</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">미복사</span><span class="dl">'</span><span class="p">;</span>
        <span class="nx">markBtn</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">표시하기</span><span class="dl">'</span><span class="p">;</span>
      <span class="p">}</span>

      <span class="c1">// 수동 토글 (원하실 때 직접 표시/해제)</span>
      <span class="nx">markBtn</span><span class="p">.</span><span class="nf">addEventListener</span><span class="p">(</span><span class="dl">'</span><span class="s1">click</span><span class="dl">'</span><span class="p">,</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">e</span><span class="p">.</span><span class="nf">preventDefault</span><span class="p">();</span> <span class="c1">// summary 열림 방지</span>
        <span class="k">if </span><span class="p">(</span><span class="nx">details</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nf">contains</span><span class="p">(</span><span class="dl">'</span><span class="s1">copied-once</span><span class="dl">'</span><span class="p">))</span> <span class="nf">unmarkCopied</span><span class="p">();</span>
        <span class="k">else</span> <span class="nf">markCopiedOnce</span><span class="p">();</span>
      <span class="p">});</span>

      <span class="c1">// 복사 버튼</span>
      <span class="nx">copyBtn</span><span class="p">.</span><span class="nf">addEventListener</span><span class="p">(</span><span class="dl">'</span><span class="s1">click</span><span class="dl">'</span><span class="p">,</span> <span class="k">async </span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">e</span><span class="p">.</span><span class="nf">preventDefault</span><span class="p">();</span> <span class="c1">// summary 토글 방지</span>
        <span class="kd">const</span> <span class="nx">ok</span> <span class="o">=</span> <span class="k">await</span> <span class="nf">copyText</span><span class="p">(</span><span class="nx">text</span><span class="p">);</span>
        <span class="nx">copyBtn</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="nx">ok</span> <span class="p">?</span> <span class="dl">'</span><span class="s1">복사됨!</span><span class="dl">'</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">복사 실패</span><span class="dl">'</span><span class="p">;</span>
        <span class="k">if </span><span class="p">(</span><span class="nx">ok</span><span class="p">)</span> <span class="nf">markCopiedOnce</span><span class="p">();</span>
        <span class="nf">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nx">copyBtn</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">이 조각 복사</span><span class="dl">'</span><span class="p">,</span> <span class="mi">1200</span><span class="p">);</span>
      <span class="p">});</span>

      <span class="c1">// 복사 후 다음 펼치기(옵션)</span>
      <span class="nx">copyAndNextBtn</span><span class="p">.</span><span class="nf">addEventListener</span><span class="p">(</span><span class="dl">'</span><span class="s1">click</span><span class="dl">'</span><span class="p">,</span> <span class="k">async </span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">e</span><span class="p">.</span><span class="nf">preventDefault</span><span class="p">();</span>
        <span class="kd">const</span> <span class="nx">ok</span> <span class="o">=</span> <span class="k">await</span> <span class="nf">copyText</span><span class="p">(</span><span class="nx">text</span><span class="p">);</span>
        <span class="nx">copyAndNextBtn</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="nx">ok</span> <span class="p">?</span> <span class="dl">'</span><span class="s1">복사됨!</span><span class="dl">'</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">복사 실패</span><span class="dl">'</span><span class="p">;</span>
        <span class="k">if </span><span class="p">(</span><span class="nx">ok</span><span class="p">)</span> <span class="p">{</span>
          <span class="nf">markCopiedOnce</span><span class="p">();</span>
          <span class="k">if </span><span class="p">(</span><span class="nx">autoOpenNextEl</span><span class="p">.</span><span class="nx">checked</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">const</span> <span class="nx">next</span> <span class="o">=</span> <span class="nx">details</span><span class="p">.</span><span class="nx">nextElementSibling</span><span class="p">;</span>
            <span class="k">if </span><span class="p">(</span><span class="nx">next</span> <span class="o">&amp;&amp;</span> <span class="nx">next</span><span class="p">.</span><span class="nx">tagName</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">DETAILS</span><span class="dl">'</span><span class="p">)</span> <span class="p">{</span>
              <span class="nx">next</span><span class="p">.</span><span class="nx">open</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
              <span class="nx">next</span><span class="p">.</span><span class="nf">scrollIntoView</span><span class="p">({</span> <span class="na">behavior</span><span class="p">:</span> <span class="dl">'</span><span class="s1">smooth</span><span class="dl">'</span><span class="p">,</span> <span class="na">block</span><span class="p">:</span> <span class="dl">'</span><span class="s1">start</span><span class="dl">'</span> <span class="p">});</span>
            <span class="p">}</span>
          <span class="p">}</span>
        <span class="p">}</span>
        <span class="nf">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nx">copyAndNextBtn</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">복사하고 다음 펼치기</span><span class="dl">'</span><span class="p">,</span> <span class="mi">1200</span><span class="p">);</span>
      <span class="p">});</span>
    <span class="p">});</span>
  <span class="p">}</span>

  <span class="kd">function</span> <span class="nf">splitNow</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">raw</span> <span class="o">=</span> <span class="nx">input</span><span class="p">.</span><span class="nx">value</span> <span class="o">??</span> <span class="dl">''</span><span class="p">;</span>
    <span class="kd">const</span> <span class="nx">size</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nf">max</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nf">parseInt</span><span class="p">(</span><span class="nx">sizeEl</span><span class="p">.</span><span class="nx">value</span> <span class="o">||</span> <span class="dl">'</span><span class="s1">0</span><span class="dl">'</span><span class="p">,</span> <span class="mi">10</span><span class="p">));</span>
    <span class="kd">const</span> <span class="nx">grams</span> <span class="o">=</span> <span class="nf">getGraphemes</span><span class="p">(</span><span class="nx">raw</span><span class="p">);</span>
    <span class="kd">const</span> <span class="nx">chunks</span> <span class="o">=</span> <span class="nf">chunkArray</span><span class="p">(</span><span class="nx">grams</span><span class="p">,</span> <span class="nx">size</span><span class="p">);</span>
    <span class="nf">renderChunks</span><span class="p">(</span><span class="nx">chunks</span><span class="p">);</span>
    <span class="nx">stats</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="s2">`전체 길이: </span><span class="p">${</span><span class="nx">grams</span><span class="p">.</span><span class="nx">length</span><span class="p">}</span><span class="s2">자 · 조각 개수: </span><span class="p">${</span><span class="nx">chunks</span><span class="p">.</span><span class="nx">length</span><span class="p">}</span><span class="s2"> · 조각당 최대 </span><span class="p">${</span><span class="nx">size</span><span class="p">}</span><span class="s2">자`</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nx">splitBtn</span><span class="p">.</span><span class="nf">addEventListener</span><span class="p">(</span><span class="dl">'</span><span class="s1">click</span><span class="dl">'</span><span class="p">,</span> <span class="nx">splitNow</span><span class="p">);</span>

  <span class="nx">copyAllBtn</span><span class="p">.</span><span class="nf">addEventListener</span><span class="p">(</span><span class="dl">'</span><span class="s1">click</span><span class="dl">'</span><span class="p">,</span> <span class="k">async </span><span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">pieces</span> <span class="o">=</span> <span class="nx">$</span><span class="nf">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">.chunk pre</span><span class="dl">'</span><span class="p">).</span><span class="nf">map</span><span class="p">(</span><span class="nx">p</span> <span class="o">=&gt;</span> <span class="nx">p</span><span class="p">.</span><span class="nx">textContent</span><span class="p">);</span>
    <span class="kd">const</span> <span class="nx">joined</span> <span class="o">=</span> <span class="nx">pieces</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="dl">''</span><span class="p">);</span>
    <span class="kd">const</span> <span class="nx">ok</span> <span class="o">=</span> <span class="k">await</span> <span class="nf">copyText</span><span class="p">(</span><span class="nx">joined</span><span class="p">);</span>
    <span class="nx">copyAllBtn</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="nx">ok</span> <span class="p">?</span> <span class="dl">'</span><span class="s1">모두 복사됨!</span><span class="dl">'</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">복사 실패</span><span class="dl">'</span><span class="p">;</span>
    <span class="nf">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nx">copyAllBtn</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">모두 복사</span><span class="dl">'</span><span class="p">,</span> <span class="mi">1200</span><span class="p">);</span>
  <span class="p">});</span>

  <span class="nx">expandAllBtn</span><span class="p">.</span><span class="nf">addEventListener</span><span class="p">(</span><span class="dl">'</span><span class="s1">click</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">$</span><span class="nf">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#chunks details.chunk</span><span class="dl">'</span><span class="p">).</span><span class="nf">forEach</span><span class="p">(</span><span class="nx">d</span> <span class="o">=&gt;</span> <span class="nx">d</span><span class="p">.</span><span class="nx">open</span> <span class="o">=</span> <span class="kc">true</span><span class="p">);</span>
  <span class="p">});</span>
  <span class="nx">collapseAllBtn</span><span class="p">.</span><span class="nf">addEventListener</span><span class="p">(</span><span class="dl">'</span><span class="s1">click</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">$</span><span class="nf">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#chunks details.chunk</span><span class="dl">'</span><span class="p">).</span><span class="nf">forEach</span><span class="p">(</span><span class="nx">d</span> <span class="o">=&gt;</span> <span class="nx">d</span><span class="p">.</span><span class="nx">open</span> <span class="o">=</span> <span class="kc">false</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">})();</span>
<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<h3 id="바뀐-점-요약-step-by-step">바뀐 점 요약 (step-by-step)</h3>

<ol>
  <li>
    <p><strong>복사 진행 상황 표시</strong> : 한 번이라도 복사 성공하면 해당 카드가 초록 테두리 + <code class="language-plaintext highlighter-rouge">✅ 복사함</code> 배지로 <strong>영구 표시(세션 내)</strong> 됩니다.</p>
  </li>
  <li>
    <p><strong>접힘 UI</strong> : 각 조각은 <code class="language-plaintext highlighter-rouge">details/summary</code> 기반 <strong>접힘 카드</strong> 로 렌더링됩니다. 상단의 “모두 펼치기/모두 접기”로 일괄 제어 가능.</p>
  </li>
  <li>
    <p><strong>미리보기</strong> : 요약줄에 앞부분 60자 미리보기와 길이 표기가 들어가 <strong>스크롤 없이 훑어보기</strong> 가 쉬워졌습니다.</p>
  </li>
  <li>
    <p><strong>작업 흐름 가속</strong> : “복사하고 다음 펼치기” + (옵션) “복사 후 다음 조각 자동 열기” 토글로 <strong>연속 작업</strong> 이 부드럽습니다.</p>
  </li>
  <li>
    <p><strong>수동 표시/해제</strong> 버튼: 필요하면 복사 없이도 “표시하기/표시 해제”로 체크리스트처럼 쓸 수 있어요.</p>
  </li>
</ol>

<p>원하시면</p>

<ul>
  <li>
    <p><strong>오버랩 분할(예: 8000자, 오버랩 200자)</strong> ,</p>
  </li>
  <li>
    <p><strong>문단/문장 단위 최대 N자</strong>(자연어 경계 유지),</p>
  </li>
  <li>
    <p><strong>세션 간 진행상황 저장(localStorage)</strong><br />
같은 옵션도 바로 붙여드릴게요.</p>
  </li>
</ul>

        
      </section>

      <footer class="page__meta">
        
        


  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      <a href="/categories/#misc" class="page__taxonomy-item p-category" rel="tag">misc</a>
    
    </span>
  </p>


        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time class="dt-published" datetime="2025-08-20T13:38:16+09:00">2025-08-20</time></p>

      </footer>

      

      
  <nav class="pagination">
    
      <a href="/verilog/pyverilog-ir/" class="pagination--pager" title="PyVerilog AST 변환">Previous</a>
    
    
      <a href="/verilog/pyverilog-ir/" class="pagination--pager" title="PyVerilog AST 변환">Next</a>
    
  </nav>


    </div>

    
  </article>

  
  
    
<div class="page__related">
  
  <h2 class="page__related-title">You may also enjoy</h2>
  <div class="grid__wrapper">
    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2025-08-19-python-repr-vs-str/" rel="permalink">
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <!-- hvppyarchive: remove date icon
        <i class="far fa-calendar-alt" aria-hidden="true"></i> 
        -->
        
        <time datetime="2025-08-29T20:13:20+09:00">2025-08-29</time>
      </span>
    

    

    
  </p>


    <p class="archive__item-excerpt" itemprop="description">
</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/misc/work-directory-structure/" rel="permalink">작업 폴더 구성 추천
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <!-- hvppyarchive: remove date icon
        <i class="far fa-calendar-alt" aria-hidden="true"></i> 
        -->
        
        <time datetime="2025-08-29T20:13:15+09:00">2025-08-29</time>
      </span>
    

    

    
  </p>


    <p class="archive__item-excerpt" itemprop="description">

</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/utils/utils-today/" rel="permalink">Today 업무 보조 툴
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <!-- hvppyarchive: remove date icon
        <i class="far fa-calendar-alt" aria-hidden="true"></i> 
        -->
        
        <time datetime="2025-08-29T16:18:01+09:00">2025-08-29</time>
      </span>
    

    

    
  </p>


    <p class="archive__item-excerpt" itemprop="description">

</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/linux/tcsh-run-check/" rel="permalink">tcsh 스크립트 실행 및 위치 파악
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <!-- hvppyarchive: remove date icon
        <i class="far fa-calendar-alt" aria-hidden="true"></i> 
        -->
        
        <time datetime="2025-08-28T19:09:08+09:00">2025-08-28</time>
      </span>
    

    

    
  </p>


    <p class="archive__item-excerpt" itemprop="description">

</p>
  </article>
</div>

    
  </div>
</div>

  
  
</div>

      
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';" role="search">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        

<div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
      
        
      
        
      
        
      
        
      
        
      
    

    
  </ul>
</div>


<div class="page__footer-copyright">&copy; 2013 - 2025 <a href="https://hvppyarchive.github.io">ARCHIVE</a>. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/jekyll-themes/minimal-mistakes/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>






  </body>
</html>
